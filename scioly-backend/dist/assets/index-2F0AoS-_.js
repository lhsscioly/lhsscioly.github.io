(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function VS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $S(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var Kf={exports:{}},Ks={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function FS(){if(ty)return Ks;ty=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var h in s)h!=="key"&&(l[h]=s[h])}else l=s;return s=l.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:l}}return Ks.Fragment=e,Ks.jsx=n,Ks.jsxs=n,Ks}var ny;function zS(){return ny||(ny=1,Kf.exports=FS()),Kf.exports}var T=zS(),Zf={exports:{}},Zs={},Qf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function GS(){return iy||(iy=1,function(t){function e(Y,se){var j=Y.length;Y.push(se);e:for(;0<j;){var B=j-1>>>1,E=Y[B];if(0<s(E,se))Y[B]=se,Y[j]=E,j=B;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var se=Y[0],j=Y.pop();if(j!==se){Y[0]=j;e:for(var B=0,E=Y.length,O=E>>>1;B<O;){var q=2*(B+1)-1,X=Y[q],ie=q+1,ce=Y[ie];if(0>s(X,j))ie<E&&0>s(ce,X)?(Y[B]=ce,Y[ie]=j,B=ie):(Y[B]=X,Y[q]=j,B=q);else if(ie<E&&0>s(ce,j))Y[B]=ce,Y[ie]=j,B=ie;else break e}}return se}function s(Y,se){var j=Y.sortIndex-se.sortIndex;return j!==0?j:Y.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,_=null,x=3,b=!1,w=!1,R=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function D(Y){for(var se=n(m);se!==null;){if(se.callback===null)i(m);else if(se.startTime<=Y)i(m),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(m)}}function V(Y){if(R=!1,D(Y),!w)if(n(p)!==null)w=!0,Z||(Z=!0,ue());else{var se=n(m);se!==null&&ke(V,se.startTime-Y)}}var Z=!1,Q=-1,ne=5,G=-1;function I(){return A?!0:!(t.unstable_now()-G<ne)}function ae(){if(A=!1,Z){var Y=t.unstable_now();G=Y;var se=!0;try{e:{w=!1,R&&(R=!1,L(Q),Q=-1),b=!0;var j=x;try{t:{for(D(Y),_=n(p);_!==null&&!(_.expirationTime>Y&&I());){var B=_.callback;if(typeof B=="function"){_.callback=null,x=_.priorityLevel;var E=B(_.expirationTime<=Y);if(Y=t.unstable_now(),typeof E=="function"){_.callback=E,D(Y),se=!0;break t}_===n(p)&&i(p),D(Y)}else i(p);_=n(p)}if(_!==null)se=!0;else{var O=n(m);O!==null&&ke(V,O.startTime-Y),se=!1}}break e}finally{_=null,x=j,b=!1}se=void 0}}finally{se?ue():Z=!1}}}var ue;if(typeof U=="function")ue=function(){U(ae)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Je=$e.port2;$e.port1.onmessage=ae,ue=function(){Je.postMessage(null)}}else ue=function(){k(ae,0)};function ke(Y,se){Q=k(function(){Y(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var j=x;x=se;try{return Y()}finally{x=j}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=x;x=Y;try{return se()}finally{x=j}},t.unstable_scheduleCallback=function(Y,se,j){var B=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?B+j:B):j=B,Y){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=j+E,Y={id:y++,callback:se,priorityLevel:Y,startTime:j,expirationTime:E,sortIndex:-1},j>B?(Y.sortIndex=j,e(m,Y),n(p)===null&&Y===n(m)&&(R?(L(Q),Q=-1):R=!0,ke(V,j-B))):(Y.sortIndex=E,e(p,Y),w||b||(w=!0,Z||(Z=!0,ue()))),Y},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(Y){var se=x;return function(){var j=x;x=se;try{return Y.apply(this,arguments)}finally{x=j}}}}(Xf)),Xf}var ry;function HS(){return ry||(ry=1,Qf.exports=GS()),Qf.exports}var Wf={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function jS(){if(oy)return Ne;oy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function A(E,O,q){this.props=E,this.context=O,this.refs=R,this.updater=q||b}A.prototype.isReactComponent={},A.prototype.setState=function(E,O){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,O,"setState")},A.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function k(){}k.prototype=A.prototype;function L(E,O,q){this.props=E,this.context=O,this.refs=R,this.updater=q||b}var U=L.prototype=new k;U.constructor=L,w(U,A.prototype),U.isPureReactComponent=!0;var D=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function Q(E,O,q,X,ie,ce){return q=ce.ref,{$$typeof:t,type:E,key:O,ref:q!==void 0?q:null,props:ce}}function ne(E,O){return Q(E.type,O,void 0,void 0,void 0,E.props)}function G(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function I(E){var O={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(q){return O[q]})}var ae=/\/+/g;function ue(E,O){return typeof E=="object"&&E!==null&&E.key!=null?I(""+E.key):O.toString(36)}function $e(){}function Je(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then($e,$e):(E.status="pending",E.then(function(O){E.status==="pending"&&(E.status="fulfilled",E.value=O)},function(O){E.status==="pending"&&(E.status="rejected",E.reason=O)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function ke(E,O,q,X,ie){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var oe=!1;if(E===null)oe=!0;else switch(ce){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(E.$$typeof){case t:case e:oe=!0;break;case y:return oe=E._init,ke(oe(E._payload),O,q,X,ie)}}if(oe)return ie=ie(E),oe=X===""?"."+ue(E,0):X,D(ie)?(q="",oe!=null&&(q=oe.replace(ae,"$&/")+"/"),ke(ie,O,q,"",function(je){return je})):ie!=null&&(G(ie)&&(ie=ne(ie,q+(ie.key==null||E&&E.key===ie.key?"":(""+ie.key).replace(ae,"$&/")+"/")+oe)),O.push(ie)),1;oe=0;var Ee=X===""?".":X+":";if(D(E))for(var be=0;be<E.length;be++)X=E[be],ce=Ee+ue(X,be),oe+=ke(X,O,q,ce,ie);else if(be=x(E),typeof be=="function")for(E=be.call(E),be=0;!(X=E.next()).done;)X=X.value,ce=Ee+ue(X,be++),oe+=ke(X,O,q,ce,ie);else if(ce==="object"){if(typeof E.then=="function")return ke(Je(E),O,q,X,ie);throw O=String(E),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return oe}function Y(E,O,q){if(E==null)return E;var X=[],ie=0;return ke(E,X,"","",function(ce){return O.call(q,ce,ie++)}),X}function se(E){if(E._status===-1){var O=E._result;O=O(),O.then(function(q){(E._status===0||E._status===-1)&&(E._status=1,E._result=q)},function(q){(E._status===0||E._status===-1)&&(E._status=2,E._result=q)}),E._status===-1&&(E._status=0,E._result=O)}if(E._status===1)return E._result.default;throw E._result}var j=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function B(){}return Ne.Children={map:Y,forEach:function(E,O,q){Y(E,function(){O.apply(this,arguments)},q)},count:function(E){var O=0;return Y(E,function(){O++}),O},toArray:function(E){return Y(E,function(O){return O})||[]},only:function(E){if(!G(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ne.Component=A,Ne.Fragment=n,Ne.Profiler=s,Ne.PureComponent=L,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(E){return V.H.useMemoCache(E)}},Ne.cache=function(E){return function(){return E.apply(null,arguments)}},Ne.cloneElement=function(E,O,q){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var X=w({},E.props),ie=E.key,ce=void 0;if(O!=null)for(oe in O.ref!==void 0&&(ce=void 0),O.key!==void 0&&(ie=""+O.key),O)!Z.call(O,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&O.ref===void 0||(X[oe]=O[oe]);var oe=arguments.length-2;if(oe===1)X.children=q;else if(1<oe){for(var Ee=Array(oe),be=0;be<oe;be++)Ee[be]=arguments[be+2];X.children=Ee}return Q(E.type,ie,void 0,void 0,ce,X)},Ne.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},Ne.createElement=function(E,O,q){var X,ie={},ce=null;if(O!=null)for(X in O.key!==void 0&&(ce=""+O.key),O)Z.call(O,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ie[X]=O[X]);var oe=arguments.length-2;if(oe===1)ie.children=q;else if(1<oe){for(var Ee=Array(oe),be=0;be<oe;be++)Ee[be]=arguments[be+2];ie.children=Ee}if(E&&E.defaultProps)for(X in oe=E.defaultProps,oe)ie[X]===void 0&&(ie[X]=oe[X]);return Q(E,ce,void 0,void 0,null,ie)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(E){return{$$typeof:h,render:E}},Ne.isValidElement=G,Ne.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:se}},Ne.memo=function(E,O){return{$$typeof:m,type:E,compare:O===void 0?null:O}},Ne.startTransition=function(E){var O=V.T,q={};V.T=q;try{var X=E(),ie=V.S;ie!==null&&ie(q,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(B,j)}catch(ce){j(ce)}finally{V.T=O}},Ne.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Ne.use=function(E){return V.H.use(E)},Ne.useActionState=function(E,O,q){return V.H.useActionState(E,O,q)},Ne.useCallback=function(E,O){return V.H.useCallback(E,O)},Ne.useContext=function(E){return V.H.useContext(E)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(E,O){return V.H.useDeferredValue(E,O)},Ne.useEffect=function(E,O,q){var X=V.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(E,O)},Ne.useId=function(){return V.H.useId()},Ne.useImperativeHandle=function(E,O,q){return V.H.useImperativeHandle(E,O,q)},Ne.useInsertionEffect=function(E,O){return V.H.useInsertionEffect(E,O)},Ne.useLayoutEffect=function(E,O){return V.H.useLayoutEffect(E,O)},Ne.useMemo=function(E,O){return V.H.useMemo(E,O)},Ne.useOptimistic=function(E,O){return V.H.useOptimistic(E,O)},Ne.useReducer=function(E,O,q){return V.H.useReducer(E,O,q)},Ne.useRef=function(E){return V.H.useRef(E)},Ne.useState=function(E){return V.H.useState(E)},Ne.useSyncExternalStore=function(E,O,q){return V.H.useSyncExternalStore(E,O,q)},Ne.useTransition=function(){return V.H.useTransition()},Ne.version="19.1.0",Ne}var sy;function Yd(){return sy||(sy=1,Wf.exports=jS()),Wf.exports}var ed={exports:{}},qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function JS(){if(ay)return qt;ay=1;var t=Yd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},qt.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},qt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},qt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},qt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:b}):y==="script"&&i.d.X(p,{crossOrigin:_,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},qt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},qt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},qt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},qt.requestFormReset=function(p){i.d.r(p)},qt.unstable_batchedUpdates=function(p,m){return p(m)},qt.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},qt.useFormStatus=function(){return c.H.useHostTransitionStatus()},qt.version="19.1.0",qt}var ly;function YS(){if(ly)return ed.exports;ly=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ed.exports=JS(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function KS(){if(uy)return Zs;uy=1;var t=HS(),e=Yd(),n=YS();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var o=r,a=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(a=o.return),r=o.return;while(r)}return o.tag===3?a:null}function c(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function p(r){var o=r.alternate;if(!o){if(o=l(r),o===null)throw Error(i(188));return o!==r?null:r}for(var a=r,d=o;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){a=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return h(g),r;if(v===d)return h(g),o;v=v.sibling}throw Error(i(188))}if(a.return!==d.return)a=g,d=v;else{for(var S=!1,C=g.child;C;){if(C===a){S=!0,a=g,d=v;break}if(C===d){S=!0,d=g,a=v;break}C=C.sibling}if(!S){for(C=v.child;C;){if(C===a){S=!0,a=v,d=g;break}if(C===d){S=!0,d=v,a=g;break}C=C.sibling}if(!S)throw Error(i(189))}}if(a.alternate!==d)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ue(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var $e=Symbol.for("react.client.reference");function Je(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===$e?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case A:return"Profiler";case R:return"StrictMode";case V:return"Suspense";case Z:return"SuspenseList";case G:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case U:return(r.displayName||"Context")+".Provider";case L:return(r._context.displayName||"Context")+".Consumer";case D:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Q:return o=r.displayName||null,o!==null?o:Je(r.type)||"Memo";case ne:o=r._payload,r=r._init;try{return Je(r(o))}catch{}}return null}var ke=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},B=[],E=-1;function O(r){return{current:r}}function q(r){0>E||(r.current=B[E],B[E]=null,E--)}function X(r,o){E++,B[E]=r.current,r.current=o}var ie=O(null),ce=O(null),oe=O(null),Ee=O(null);function be(r,o){switch(X(oe,o),X(ce,r),X(ie,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?Ng(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=Ng(o),r=Mg(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}q(ie),X(ie,r)}function je(){q(ie),q(ce),q(oe)}function mt(r){r.memoizedState!==null&&X(Ee,r);var o=ie.current,a=Mg(o,r.type);o!==a&&(X(ce,r),X(ie,a))}function gn(r){ce.current===r&&(q(ie),q(ce)),Ee.current===r&&(q(Ee),Gs._currentValue=j)}var an=Object.prototype.hasOwnProperty,Ft=t.unstable_scheduleCallback,Tt=t.unstable_cancelCallback,Yt=t.unstable_shouldYield,Qe=t.unstable_requestPaint,xt=t.unstable_now,On=t.unstable_getCurrentPriorityLevel,Qn=t.unstable_ImmediatePriority,st=t.unstable_UserBlockingPriority,Ue=t.unstable_NormalPriority,Ge=t.unstable_LowPriority,ft=t.unstable_IdlePriority,zt=t.log,me=t.unstable_setDisableYieldValue,he=null,ye=null;function Ie(r){if(typeof zt=="function"&&me(r),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(he,r)}catch{}}var ut=Math.clz32?Math.clz32:Ra,Ou=Math.log,Aa=Math.LN2;function Ra(r){return r>>>=0,r===0?32:31-(Ou(r)/Aa|0)|0}var Gt=256,yn=4194304;function Ht(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ln(r,o,a){var d=r.pendingLanes;if(d===0)return 0;var g=0,v=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var C=d&134217727;return C!==0?(d=C&~v,d!==0?g=Ht(d):(S&=C,S!==0?g=Ht(S):a||(a=C&~r,a!==0&&(g=Ht(a))))):(C=d&~v,C!==0?g=Ht(C):S!==0?g=Ht(S):a||(a=d&~r,a!==0&&(g=Ht(a)))),g===0?0:o!==0&&o!==g&&(o&v)===0&&(v=g&-g,a=o&-o,v>=a||v===32&&(a&4194048)!==0)?o:g}function Kt(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Si(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(){var r=Gt;return Gt<<=1,(Gt&4194048)===0&&(Gt=256),r}function Zt(){var r=yn;return yn<<=1,(yn&62914560)===0&&(yn=4194304),r}function Pt(r){for(var o=[],a=0;31>a;a++)o.push(r);return o}function Xn(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qu(r,o,a,d,g,v){var S=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var C=r.entanglements,M=r.expirationTimes,z=r.hiddenUpdates;for(a=S&~a;0<a;){var W=31-ut(a),te=1<<W;C[W]=0,M[W]=-1;var H=z[W];if(H!==null)for(z[W]=null,W=0;W<H.length;W++){var J=H[W];J!==null&&(J.lane&=-536870913)}a&=~te}d!==0&&Ir(r,d,0),v!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=v&~(S&~o))}function Ir(r,o,a){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-ut(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|a&4194090}function Wo(r,o){var a=r.entangledLanes|=o;for(r=r.entanglements;a;){var d=31-ut(a),g=1<<d;g&o|r[d]&o&&(r[d]|=o),a&=~g}}function es(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Bu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function gh(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:Kg(r.type))}function NT(r,o){var a=se.p;try{return se.p=r,o()}finally{se.p=a}}var wi=Math.random().toString(36).slice(2),Lt="__reactFiber$"+wi,Qt="__reactProps$"+wi,Pr="__reactContainer$"+wi,Vu="__reactEvents$"+wi,MT="__reactListeners$"+wi,kT="__reactHandles$"+wi,yh="__reactResources$"+wi,ts="__reactMarker$"+wi;function $u(r){delete r[Lt],delete r[Qt],delete r[Vu],delete r[MT],delete r[kT]}function Lr(r){var o=r[Lt];if(o)return o;for(var a=r.parentNode;a;){if(o=a[Pr]||a[Lt]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(r=Ig(r);r!==null;){if(a=r[Lt])return a;r=Ig(r)}return o}r=a,a=r.parentNode}return null}function Or(r){if(r=r[Lt]||r[Pr]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function ns(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function qr(r){var o=r[yh];return o||(o=r[yh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function bt(r){r[ts]=!0}var vh=new Set,_h={};function ir(r,o){Br(r,o),Br(r+"Capture",o)}function Br(r,o){for(_h[r]=o,r=0;r<o.length;r++)vh.add(o[r])}var DT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Th={},xh={};function UT(r){return an.call(xh,r)?!0:an.call(Th,r)?!1:DT.test(r)?xh[r]=!0:(Th[r]=!0,!1)}function Na(r,o,a){if(UT(o))if(a===null)r.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+a)}}function Ma(r,o,a){if(a===null)r.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+a)}}function Wn(r,o,a,d){if(d===null)r.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(o,a,""+d)}}var Fu,Sh;function Vr(r){if(Fu===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);Fu=o&&o[1]||"",Sh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fu+r+Sh}var zu=!1;function Gu(r,o){if(!r||zu)return"";zu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(J){var H=J}Reflect.construct(r,[],te)}else{try{te.call()}catch(J){H=J}r.call(te.prototype)}}else{try{throw Error()}catch(J){H=J}(te=r())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(J){if(J&&H&&typeof J.stack=="string")return[J.stack,H.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),S=v[0],C=v[1];if(S&&C){var M=S.split(`
`),z=C.split(`
`);for(g=d=0;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;for(;g<z.length&&!z[g].includes("DetermineComponentFrameRoot");)g++;if(d===M.length||g===z.length)for(d=M.length-1,g=z.length-1;1<=d&&0<=g&&M[d]!==z[g];)g--;for(;1<=d&&0<=g;d--,g--)if(M[d]!==z[g]){if(d!==1||g!==1)do if(d--,g--,0>g||M[d]!==z[g]){var W=`
`+M[d].replace(" at new "," at ");return r.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",r.displayName)),W}while(1<=d&&0<=g);break}}}finally{zu=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Vr(a):""}function IT(r){switch(r.tag){case 26:case 27:case 5:return Vr(r.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 15:return Gu(r.type,!1);case 11:return Gu(r.type.render,!1);case 1:return Gu(r.type,!0);case 31:return Vr("Activity");default:return""}}function wh(r){try{var o="";do o+=IT(r),r=r.return;while(r);return o}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function bh(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function PT(r){var o=bh(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,v=a.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return g.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(r,o,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function ka(r){r._valueTracker||(r._valueTracker=PT(r))}function Ch(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var a=o.getValue(),d="";return r&&(d=bh(r)?r.checked?"true":"false":r.value),r=d,r!==a?(o.setValue(r),!0):!1}function Da(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var LT=/[\n"\\]/g;function _n(r){return r.replace(LT,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Hu(r,o,a,d,g,v,S,C){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),o!=null?S==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+vn(o)):r.value!==""+vn(o)&&(r.value=""+vn(o)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),o!=null?ju(r,S,vn(o)):a!=null?ju(r,S,vn(a)):d!=null&&r.removeAttribute("value"),g==null&&v!=null&&(r.defaultChecked=!!v),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+vn(C):r.removeAttribute("name")}function Eh(r,o,a,d,g,v,S,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;a=a!=null?""+vn(a):"",o=o!=null?""+vn(o):a,C||o===r.value||(r.value=o),r.defaultValue=o}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=C?r.checked:!!d,r.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function ju(r,o,a){o==="number"&&Da(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function $r(r,o,a,d){if(r=r.options,o){o={};for(var g=0;g<a.length;g++)o["$"+a[g]]=!0;for(a=0;a<r.length;a++)g=o.hasOwnProperty("$"+r[a].value),r[a].selected!==g&&(r[a].selected=g),g&&d&&(r[a].defaultSelected=!0)}else{for(a=""+vn(a),o=null,g=0;g<r.length;g++){if(r[g].value===a){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function Ah(r,o,a){if(o!=null&&(o=""+vn(o),o!==r.value&&(r.value=o),a==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=a!=null?""+vn(a):""}function Rh(r,o,a,d){if(o==null){if(d!=null){if(a!=null)throw Error(i(92));if(ke(d)){if(1<d.length)throw Error(i(93));d=d[0]}a=d}a==null&&(a=""),o=a}a=vn(o),r.defaultValue=a,d=r.textContent,d===a&&d!==""&&d!==null&&(r.value=d)}function Fr(r,o){if(o){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=o;return}}r.textContent=o}var OT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nh(r,o,a){var d=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,a):typeof a!="number"||a===0||OT.has(o)?o==="float"?r.cssFloat=a:r[o]=(""+a).trim():r[o]=a+"px"}function Mh(r,o,a){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,a!=null){for(var d in a)!a.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in o)d=o[g],o.hasOwnProperty(g)&&a[g]!==d&&Nh(r,g,d)}else for(var v in o)o.hasOwnProperty(v)&&Nh(r,v,o[v])}function Ju(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(r){return BT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Yu=null;function Ku(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var zr=null,Gr=null;function kh(r){var o=Or(r);if(o&&(r=o.stateNode)){var a=r[Qt]||null;e:switch(r=o.stateNode,o.type){case"input":if(Hu(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var d=a[o];if(d!==r&&d.form===r.form){var g=d[Qt]||null;if(!g)throw Error(i(90));Hu(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<a.length;o++)d=a[o],d.form===r.form&&Ch(d)}break e;case"textarea":Ah(r,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&$r(r,!!a.multiple,o,!1)}}}var Zu=!1;function Dh(r,o,a){if(Zu)return r(o,a);Zu=!0;try{var d=r(o);return d}finally{if(Zu=!1,(zr!==null||Gr!==null)&&(vl(),zr&&(o=zr,r=Gr,Gr=zr=null,kh(o),r)))for(o=0;o<r.length;o++)kh(r[o])}}function is(r,o){var a=r.stateNode;if(a===null)return null;var d=a[Qt]||null;if(d===null)return null;a=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,o,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qu=!1;if(ei)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{Qu=!1}var bi=null,Xu=null,Ia=null;function Uh(){if(Ia)return Ia;var r,o=Xu,a=o.length,d,g="value"in bi?bi.value:bi.textContent,v=g.length;for(r=0;r<a&&o[r]===g[r];r++);var S=a-r;for(d=1;d<=S&&o[a-d]===g[v-d];d++);return Ia=g.slice(r,1<d?1-d:void 0)}function Pa(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function La(){return!0}function Ih(){return!1}function Xt(r){function o(a,d,g,v,S){this._reactName=a,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?La:Ih,this.isPropagationStopped=Ih,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),o}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Xt(rr),os=y({},rr,{view:0,detail:0}),VT=Xt(os),Wu,ec,ss,qa=y({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ss&&(ss&&r.type==="mousemove"?(Wu=r.screenX-ss.screenX,ec=r.screenY-ss.screenY):ec=Wu=0,ss=r),Wu)},movementY:function(r){return"movementY"in r?r.movementY:ec}}),Ph=Xt(qa),$T=y({},qa,{dataTransfer:0}),FT=Xt($T),zT=y({},os,{relatedTarget:0}),tc=Xt(zT),GT=y({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),HT=Xt(GT),jT=y({},rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),JT=Xt(jT),YT=y({},rr,{data:0}),Lh=Xt(YT),KT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XT(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=QT[r])?!!o[r]:!1}function nc(){return XT}var WT=y({},os,{key:function(r){if(r.key){var o=KT[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Pa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ZT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(r){return r.type==="keypress"?Pa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Pa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ex=Xt(WT),tx=y({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oh=Xt(tx),nx=y({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),ix=Xt(nx),rx=y({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ox=Xt(rx),sx=y({},qa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ax=Xt(sx),lx=y({},rr,{newState:0,oldState:0}),ux=Xt(lx),cx=[9,13,27,32],ic=ei&&"CompositionEvent"in window,as=null;ei&&"documentMode"in document&&(as=document.documentMode);var fx=ei&&"TextEvent"in window&&!as,qh=ei&&(!ic||as&&8<as&&11>=as),Bh=" ",Vh=!1;function $h(r,o){switch(r){case"keyup":return cx.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Hr=!1;function dx(r,o){switch(r){case"compositionend":return Fh(o);case"keypress":return o.which!==32?null:(Vh=!0,Bh);case"textInput":return r=o.data,r===Bh&&Vh?null:r;default:return null}}function hx(r,o){if(Hr)return r==="compositionend"||!ic&&$h(r,o)?(r=Uh(),Ia=Xu=bi=null,Hr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return qh&&o.locale!=="ko"?null:o.data;default:return null}}var mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!mx[r.type]:o==="textarea"}function Gh(r,o,a,d){zr?Gr?Gr.push(d):Gr=[d]:zr=d,o=bl(o,"onChange"),0<o.length&&(a=new Oa("onChange","change",null,a,d),r.push({event:a,listeners:o}))}var ls=null,us=null;function px(r){bg(r,0)}function Ba(r){var o=ns(r);if(Ch(o))return r}function Hh(r,o){if(r==="change")return o}var jh=!1;if(ei){var rc;if(ei){var oc="oninput"in document;if(!oc){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),oc=typeof Jh.oninput=="function"}rc=oc}else rc=!1;jh=rc&&(!document.documentMode||9<document.documentMode)}function Yh(){ls&&(ls.detachEvent("onpropertychange",Kh),us=ls=null)}function Kh(r){if(r.propertyName==="value"&&Ba(us)){var o=[];Gh(o,us,r,Ku(r)),Dh(px,o)}}function gx(r,o,a){r==="focusin"?(Yh(),ls=o,us=a,ls.attachEvent("onpropertychange",Kh)):r==="focusout"&&Yh()}function yx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ba(us)}function vx(r,o){if(r==="click")return Ba(o)}function _x(r,o){if(r==="input"||r==="change")return Ba(o)}function Tx(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var un=typeof Object.is=="function"?Object.is:Tx;function cs(r,o){if(un(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var a=Object.keys(r),d=Object.keys(o);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var g=a[d];if(!an.call(o,g)||!un(r[g],o[g]))return!1}return!0}function Zh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qh(r,o){var a=Zh(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=o&&d>=o)return{node:a,offset:o-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zh(a)}}function Xh(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Xh(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Wh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Da(r.document);o instanceof r.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)r=o.contentWindow;else break;o=Da(r.document)}return o}function sc(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var xx=ei&&"documentMode"in document&&11>=document.documentMode,jr=null,ac=null,fs=null,lc=!1;function em(r,o,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lc||jr==null||jr!==Da(d)||(d=jr,"selectionStart"in d&&sc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fs&&cs(fs,d)||(fs=d,d=bl(ac,"onSelect"),0<d.length&&(o=new Oa("onSelect","select",null,o,a),r.push({event:o,listeners:d}),o.target=jr)))}function or(r,o){var a={};return a[r.toLowerCase()]=o.toLowerCase(),a["Webkit"+r]="webkit"+o,a["Moz"+r]="moz"+o,a}var Jr={animationend:or("Animation","AnimationEnd"),animationiteration:or("Animation","AnimationIteration"),animationstart:or("Animation","AnimationStart"),transitionrun:or("Transition","TransitionRun"),transitionstart:or("Transition","TransitionStart"),transitioncancel:or("Transition","TransitionCancel"),transitionend:or("Transition","TransitionEnd")},uc={},tm={};ei&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function sr(r){if(uc[r])return uc[r];if(!Jr[r])return r;var o=Jr[r],a;for(a in o)if(o.hasOwnProperty(a)&&a in tm)return uc[r]=o[a];return r}var nm=sr("animationend"),im=sr("animationiteration"),rm=sr("animationstart"),Sx=sr("transitionrun"),wx=sr("transitionstart"),bx=sr("transitioncancel"),om=sr("transitionend"),sm=new Map,cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cc.push("scrollEnd");function kn(r,o){sm.set(r,o),ir(o,[r])}var am=new WeakMap;function Tn(r,o){if(typeof r=="object"&&r!==null){var a=am.get(r);return a!==void 0?a:(o={value:r,source:o,stack:wh(o)},am.set(r,o),o)}return{value:r,source:o,stack:wh(o)}}var xn=[],Yr=0,fc=0;function Va(){for(var r=Yr,o=fc=Yr=0;o<r;){var a=xn[o];xn[o++]=null;var d=xn[o];xn[o++]=null;var g=xn[o];xn[o++]=null;var v=xn[o];if(xn[o++]=null,d!==null&&g!==null){var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}v!==0&&lm(a,g,v)}}function $a(r,o,a,d){xn[Yr++]=r,xn[Yr++]=o,xn[Yr++]=a,xn[Yr++]=d,fc|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function dc(r,o,a,d){return $a(r,o,a,d),Fa(r)}function Kr(r,o){return $a(r,null,null,o),Fa(r)}function lm(r,o,a){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a);for(var g=!1,v=r.return;v!==null;)v.childLanes|=a,d=v.alternate,d!==null&&(d.childLanes|=a),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(g=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,g&&o!==null&&(g=31-ut(a),r=v.hiddenUpdates,d=r[g],d===null?r[g]=[o]:d.push(o),o.lane=a|536870912),v):null}function Fa(r){if(50<Ls)throw Ls=0,_f=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Zr={};function Cx(r,o,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(r,o,a,d){return new Cx(r,o,a,d)}function hc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ti(r,o){var a=r.alternate;return a===null?(a=cn(r.tag,o,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=o,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,o=r.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function um(r,o){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,o=a.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function za(r,o,a,d,g,v){var S=0;if(d=r,typeof r=="function")hc(r)&&(S=1);else if(typeof r=="string")S=AS(r,a,ie.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case G:return r=cn(31,a,o,g),r.elementType=G,r.lanes=v,r;case w:return ar(a.children,g,v,o);case R:S=8,g|=24;break;case A:return r=cn(12,a,o,g|2),r.elementType=A,r.lanes=v,r;case V:return r=cn(13,a,o,g),r.elementType=V,r.lanes=v,r;case Z:return r=cn(19,a,o,g),r.elementType=Z,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:case U:S=10;break e;case L:S=9;break e;case D:S=11;break e;case Q:S=14;break e;case ne:S=16,d=null;break e}S=29,a=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=cn(S,a,o,g),o.elementType=r,o.type=d,o.lanes=v,o}function ar(r,o,a,d){return r=cn(7,r,d,o),r.lanes=a,r}function mc(r,o,a){return r=cn(6,r,null,o),r.lanes=a,r}function pc(r,o,a){return o=cn(4,r.children!==null?r.children:[],r.key,o),o.lanes=a,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Qr=[],Xr=0,Ga=null,Ha=0,Sn=[],wn=0,lr=null,ni=1,ii="";function ur(r,o){Qr[Xr++]=Ha,Qr[Xr++]=Ga,Ga=r,Ha=o}function cm(r,o,a){Sn[wn++]=ni,Sn[wn++]=ii,Sn[wn++]=lr,lr=r;var d=ni;r=ii;var g=32-ut(d)-1;d&=~(1<<g),a+=1;var v=32-ut(o)+g;if(30<v){var S=g-g%5;v=(d&(1<<S)-1).toString(32),d>>=S,g-=S,ni=1<<32-ut(o)+g|a<<g|d,ii=v+r}else ni=1<<v|a<<g|d,ii=r}function gc(r){r.return!==null&&(ur(r,1),cm(r,1,0))}function yc(r){for(;r===Ga;)Ga=Qr[--Xr],Qr[Xr]=null,Ha=Qr[--Xr],Qr[Xr]=null;for(;r===lr;)lr=Sn[--wn],Sn[wn]=null,ii=Sn[--wn],Sn[wn]=null,ni=Sn[--wn],Sn[wn]=null}var jt=null,dt=null,He=!1,cr=null,qn=!1,vc=Error(i(519));function fr(r){var o=Error(i(418,""));throw ms(Tn(o,r)),vc}function fm(r){var o=r.stateNode,a=r.type,d=r.memoizedProps;switch(o[Lt]=r,o[Qt]=d,a){case"dialog":Oe("cancel",o),Oe("close",o);break;case"iframe":case"object":case"embed":Oe("load",o);break;case"video":case"audio":for(a=0;a<qs.length;a++)Oe(qs[a],o);break;case"source":Oe("error",o);break;case"img":case"image":case"link":Oe("error",o),Oe("load",o);break;case"details":Oe("toggle",o);break;case"input":Oe("invalid",o),Eh(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ka(o);break;case"select":Oe("invalid",o);break;case"textarea":Oe("invalid",o),Rh(o,d.value,d.defaultValue,d.children),ka(o)}a=d.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||d.suppressHydrationWarning===!0||Rg(o.textContent,a)?(d.popover!=null&&(Oe("beforetoggle",o),Oe("toggle",o)),d.onScroll!=null&&Oe("scroll",o),d.onScrollEnd!=null&&Oe("scrollend",o),d.onClick!=null&&(o.onclick=Cl),o=!0):o=!1,o||fr(r)}function dm(r){for(jt=r.return;jt;)switch(jt.tag){case 5:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:jt=jt.return}}function ds(r){if(r!==jt)return!1;if(!He)return dm(r),He=!0,!1;var o=r.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Pf(r.type,r.memoizedProps)),a=!a),a&&dt&&fr(r),dm(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(o===0){dt=Un(r.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++;r=r.nextSibling}dt=null}}else o===27?(o=dt,Vi(r.type)?(r=Bf,Bf=null,dt=r):dt=o):dt=jt?Un(r.stateNode.nextSibling):null;return!0}function hs(){dt=jt=null,He=!1}function hm(){var r=cr;return r!==null&&(tn===null?tn=r:tn.push.apply(tn,r),cr=null),r}function ms(r){cr===null?cr=[r]:cr.push(r)}var _c=O(null),dr=null,ri=null;function Ci(r,o,a){X(_c,o._currentValue),o._currentValue=a}function oi(r){r._currentValue=_c.current,q(_c)}function Tc(r,o,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===a)break;r=r.return}}function xc(r,o,a,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var v=g.dependencies;if(v!==null){var S=g.child;v=v.firstContext;e:for(;v!==null;){var C=v;v=g;for(var M=0;M<o.length;M++)if(C.context===o[M]){v.lanes|=a,C=v.alternate,C!==null&&(C.lanes|=a),Tc(v.return,a,r),d||(S=null);break e}v=C.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(i(341));S.lanes|=a,v=S.alternate,v!==null&&(v.lanes|=a),Tc(S,a,r),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===r){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function ps(r,o,a,d){r=null;for(var g=o,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=g.type;un(g.pendingProps.value,S.value)||(r!==null?r.push(C):r=[C])}}else if(g===Ee.current){if(S=g.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Gs):r=[Gs])}g=g.return}r!==null&&xc(o,r,a,d),o.flags|=262144}function ja(r){for(r=r.firstContext;r!==null;){if(!un(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function hr(r){dr=r,ri=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ot(r){return mm(dr,r)}function Ja(r,o){return dr===null&&hr(r),mm(r,o)}function mm(r,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},ri===null){if(r===null)throw Error(i(308));ri=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else ri=ri.next=o;return a}var Ex=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(a,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(a){return a()})}},Ax=t.unstable_scheduleCallback,Rx=t.unstable_NormalPriority,St={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new Ex,data:new Map,refCount:0}}function gs(r){r.refCount--,r.refCount===0&&Ax(Rx,function(){r.controller.abort()})}var ys=null,wc=0,Wr=0,eo=null;function Nx(r,o){if(ys===null){var a=ys=[];wc=0,Wr=Ef(),eo={status:"pending",value:void 0,then:function(d){a.push(d)}}}return wc++,o.then(pm,pm),o}function pm(){if(--wc===0&&ys!==null){eo!==null&&(eo.status="fulfilled");var r=ys;ys=null,Wr=0,eo=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function Mx(r,o){var a=[],d={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var g=0;g<a.length;g++)(0,a[g])(o)},function(g){for(d.status="rejected",d.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),d}var gm=Y.S;Y.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Nx(r,o),gm!==null&&gm(r,o)};var mr=O(null);function bc(){var r=mr.current;return r!==null?r:nt.pooledCache}function Ya(r,o){o===null?X(mr,mr.current):X(mr,o.pool)}function ym(){var r=bc();return r===null?null:{parent:St._currentValue,pool:r}}var vs=Error(i(460)),vm=Error(i(474)),Ka=Error(i(542)),Cc={then:function(){}};function _m(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Za(){}function Tm(r,o,a){switch(a=r[a],a===void 0?r.push(o):a!==o&&(o.then(Za,Za),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Sm(r),r;default:if(typeof o.status=="string")o.then(Za,Za);else{if(r=nt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=d}},function(d){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Sm(r),r}throw _s=o,vs}}var _s=null;function xm(){if(_s===null)throw Error(i(459));var r=_s;return _s=null,r}function Sm(r){if(r===vs||r===Ka)throw Error(i(483))}var Ei=!1;function Ec(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ac(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ai(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ri(r,o,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ye&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,o=Fa(r),lm(r,null,a),o}return $a(r,d,o,a),Fa(r)}function Ts(r,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,a|=d,o.lanes=a,Wo(r,a)}}function Rc(r,o){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=S:v=v.next=S,a=a.next}while(a!==null);v===null?g=v=o:v=v.next=o}else g=v=o;a={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=o:r.next=o,a.lastBaseUpdate=o}var Nc=!1;function xs(){if(Nc){var r=eo;if(r!==null)throw r}}function Ss(r,o,a,d){Nc=!1;var g=r.updateQueue;Ei=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var M=C,z=M.next;M.next=null,S===null?v=z:S.next=z,S=M;var W=r.alternate;W!==null&&(W=W.updateQueue,C=W.lastBaseUpdate,C!==S&&(C===null?W.firstBaseUpdate=z:C.next=z,W.lastBaseUpdate=M))}if(v!==null){var te=g.baseState;S=0,W=z=M=null,C=v;do{var H=C.lane&-536870913,J=H!==C.lane;if(J?(Ve&H)===H:(d&H)===H){H!==0&&H===Wr&&(Nc=!0),W!==null&&(W=W.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Se=r,_e=C;H=o;var et=a;switch(_e.tag){case 1:if(Se=_e.payload,typeof Se=="function"){te=Se.call(et,te,H);break e}te=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=_e.payload,H=typeof Se=="function"?Se.call(et,te,H):Se,H==null)break e;te=y({},te,H);break e;case 2:Ei=!0}}H=C.callback,H!==null&&(r.flags|=64,J&&(r.flags|=8192),J=g.callbacks,J===null?g.callbacks=[H]:J.push(H))}else J={lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},W===null?(z=W=J,M=te):W=W.next=J,S|=H;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;J=C,C=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);W===null&&(M=te),g.baseState=M,g.firstBaseUpdate=z,g.lastBaseUpdate=W,v===null&&(g.shared.lanes=0),Li|=S,r.lanes=S,r.memoizedState=te}}function wm(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function bm(r,o){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)wm(a[r],o)}var to=O(null),Qa=O(0);function Cm(r,o){r=di,X(Qa,r),X(to,o),di=r|o.baseLanes}function Mc(){X(Qa,di),X(to,to.current)}function kc(){di=Qa.current,q(to),q(Qa)}var Ni=0,De=null,Xe=null,yt=null,Xa=!1,no=!1,pr=!1,Wa=0,ws=0,io=null,kx=0;function pt(){throw Error(i(321))}function Dc(r,o){if(o===null)return!1;for(var a=0;a<o.length&&a<r.length;a++)if(!un(r[a],o[a]))return!1;return!0}function Uc(r,o,a,d,g,v){return Ni=v,De=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=r===null||r.memoizedState===null?lp:up,pr=!1,v=a(d,g),pr=!1,no&&(v=Am(o,a,d,g)),Em(r),v}function Em(r){Y.H=ol;var o=Xe!==null&&Xe.next!==null;if(Ni=0,yt=Xe=De=null,Xa=!1,ws=0,io=null,o)throw Error(i(300));r===null||Ct||(r=r.dependencies,r!==null&&ja(r)&&(Ct=!0))}function Am(r,o,a,d){De=r;var g=0;do{if(no&&(io=null),ws=0,no=!1,25<=g)throw Error(i(301));if(g+=1,yt=Xe=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Y.H=qx,v=o(a,d)}while(no);return v}function Dx(){var r=Y.H,o=r.useState()[0];return o=typeof o.then=="function"?bs(o):o,r=r.useState()[0],(Xe!==null?Xe.memoizedState:null)!==r&&(De.flags|=1024),o}function Ic(){var r=Wa!==0;return Wa=0,r}function Pc(r,o,a){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~a}function Lc(r){if(Xa){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Xa=!1}Ni=0,yt=Xe=De=null,no=!1,ws=Wa=0,io=null}function Wt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?De.memoizedState=yt=r:yt=yt.next=r,yt}function vt(){if(Xe===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=Xe.next;var o=yt===null?De.memoizedState:yt.next;if(o!==null)yt=o,Xe=r;else{if(r===null)throw De.alternate===null?Error(i(467)):Error(i(310));Xe=r,r={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?De.memoizedState=yt=r:yt=yt.next=r}return yt}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bs(r){var o=ws;return ws+=1,io===null&&(io=[]),r=Tm(io,r,o),o=De,(yt===null?o.memoizedState:yt.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?lp:up),r}function el(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return bs(r);if(r.$$typeof===U)return Ot(r)}throw Error(i(438,String(r)))}function qc(r){var o=null,a=De.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var d=De.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=Oc(),De.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(r),d=0;d<r;d++)a[d]=I;return o.index++,a}function si(r,o){return typeof o=="function"?o(r):o}function tl(r){var o=vt();return Bc(o,Xe,r)}function Bc(r,o,a){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var g=r.baseQueue,v=d.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}o.baseQueue=g=v,d.pending=null}if(v=r.baseState,g===null)r.memoizedState=v;else{o=g.next;var C=S=null,M=null,z=o,W=!1;do{var te=z.lane&-536870913;if(te!==z.lane?(Ve&te)===te:(Ni&te)===te){var H=z.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),te===Wr&&(W=!0);else if((Ni&H)===H){z=z.next,H===Wr&&(W=!0);continue}else te={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(C=M=te,S=v):M=M.next=te,De.lanes|=H,Li|=H;te=z.action,pr&&a(v,te),v=z.hasEagerState?z.eagerState:a(v,te)}else H={lane:te,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(C=M=H,S=v):M=M.next=H,De.lanes|=te,Li|=te;z=z.next}while(z!==null&&z!==o);if(M===null?S=v:M.next=C,!un(v,r.memoizedState)&&(Ct=!0,W&&(a=eo,a!==null)))throw a;r.memoizedState=v,r.baseState=S,r.baseQueue=M,d.lastRenderedState=v}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Vc(r){var o=vt(),a=o.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var d=a.dispatch,g=a.pending,v=o.memoizedState;if(g!==null){a.pending=null;var S=g=g.next;do v=r(v,S.action),S=S.next;while(S!==g);un(v,o.memoizedState)||(Ct=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),a.lastRenderedState=v}return[v,d]}function Rm(r,o,a){var d=De,g=vt(),v=He;if(v){if(a===void 0)throw Error(i(407));a=a()}else a=o();var S=!un((Xe||g).memoizedState,a);S&&(g.memoizedState=a,Ct=!0),g=g.queue;var C=km.bind(null,d,g,r);if(Cs(2048,8,C,[r]),g.getSnapshot!==o||S||yt!==null&&yt.memoizedState.tag&1){if(d.flags|=2048,ro(9,nl(),Mm.bind(null,d,g,a,o),null),nt===null)throw Error(i(349));v||(Ni&124)!==0||Nm(d,o,a)}return a}function Nm(r,o,a){r.flags|=16384,r={getSnapshot:o,value:a},o=De.updateQueue,o===null?(o=Oc(),De.updateQueue=o,o.stores=[r]):(a=o.stores,a===null?o.stores=[r]:a.push(r))}function Mm(r,o,a,d){o.value=a,o.getSnapshot=d,Dm(o)&&Um(r)}function km(r,o,a){return a(function(){Dm(o)&&Um(r)})}function Dm(r){var o=r.getSnapshot;r=r.value;try{var a=o();return!un(r,a)}catch{return!0}}function Um(r){var o=Kr(r,2);o!==null&&pn(o,r,2)}function $c(r){var o=Wt();if(typeof r=="function"){var a=r;if(r=a(),pr){Ie(!0);try{a()}finally{Ie(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:r},o}function Im(r,o,a,d){return r.baseState=a,Bc(r,Xe,typeof d=="function"?d:si)}function Ux(r,o,a,d,g){if(rl(r))throw Error(i(485));if(r=o.action,r!==null){var v={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};Y.T!==null?a(!0):v.isTransition=!1,d(v),a=o.pending,a===null?(v.next=o.pending=v,Pm(o,v)):(v.next=a.next,o.pending=a.next=v)}}function Pm(r,o){var a=o.action,d=o.payload,g=r.state;if(o.isTransition){var v=Y.T,S={};Y.T=S;try{var C=a(g,d),M=Y.S;M!==null&&M(S,C),Lm(r,o,C)}catch(z){Fc(r,o,z)}finally{Y.T=v}}else try{v=a(g,d),Lm(r,o,v)}catch(z){Fc(r,o,z)}}function Lm(r,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(d){Om(r,o,d)},function(d){return Fc(r,o,d)}):Om(r,o,a)}function Om(r,o,a){o.status="fulfilled",o.value=a,qm(o),r.state=a,o=r.pending,o!==null&&(a=o.next,a===o?r.pending=null:(a=a.next,o.next=a,Pm(r,a)))}function Fc(r,o,a){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=a,qm(o),o=o.next;while(o!==d)}r.action=null}function qm(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Bm(r,o){return o}function Vm(r,o){if(He){var a=nt.formState;if(a!==null){e:{var d=De;if(He){if(dt){t:{for(var g=dt,v=qn;g.nodeType!==8;){if(!v){g=null;break t}if(g=Un(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){dt=Un(g.nextSibling),d=g.data==="F!";break e}}fr(d)}d=!1}d&&(o=a[0])}}return a=Wt(),a.memoizedState=a.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:o},a.queue=d,a=op.bind(null,De,d),d.dispatch=a,d=$c(!1),v=Jc.bind(null,De,!1,d.queue),d=Wt(),g={state:o,dispatch:null,action:r,pending:null},d.queue=g,a=Ux.bind(null,De,g,v,a),g.dispatch=a,d.memoizedState=r,[o,a,!1]}function $m(r){var o=vt();return Fm(o,Xe,r)}function Fm(r,o,a){if(o=Bc(r,o,Bm)[0],r=tl(si)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=bs(o)}catch(S){throw S===vs?Ka:S}else d=o;o=vt();var g=o.queue,v=g.dispatch;return a!==o.memoizedState&&(De.flags|=2048,ro(9,nl(),Ix.bind(null,g,a),null)),[d,v,r]}function Ix(r,o){r.action=o}function zm(r){var o=vt(),a=Xe;if(a!==null)return Fm(o,a,r);vt(),o=o.memoizedState,a=vt();var d=a.queue.dispatch;return a.memoizedState=r,[o,d,!1]}function ro(r,o,a,d){return r={tag:r,create:a,deps:d,inst:o,next:null},o=De.updateQueue,o===null&&(o=Oc(),De.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,o.lastEffect=r),r}function nl(){return{destroy:void 0,resource:void 0}}function Gm(){return vt().memoizedState}function il(r,o,a,d){var g=Wt();d=d===void 0?null:d,De.flags|=r,g.memoizedState=ro(1|o,nl(),a,d)}function Cs(r,o,a,d){var g=vt();d=d===void 0?null:d;var v=g.memoizedState.inst;Xe!==null&&d!==null&&Dc(d,Xe.memoizedState.deps)?g.memoizedState=ro(o,v,a,d):(De.flags|=r,g.memoizedState=ro(1|o,v,a,d))}function Hm(r,o){il(8390656,8,r,o)}function jm(r,o){Cs(2048,8,r,o)}function Jm(r,o){return Cs(4,2,r,o)}function Ym(r,o){return Cs(4,4,r,o)}function Km(r,o){if(typeof o=="function"){r=r();var a=o(r);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Zm(r,o,a){a=a!=null?a.concat([r]):null,Cs(4,4,Km.bind(null,o,r),a)}function zc(){}function Qm(r,o){var a=vt();o=o===void 0?null:o;var d=a.memoizedState;return o!==null&&Dc(o,d[1])?d[0]:(a.memoizedState=[r,o],r)}function Xm(r,o){var a=vt();o=o===void 0?null:o;var d=a.memoizedState;if(o!==null&&Dc(o,d[1]))return d[0];if(d=r(),pr){Ie(!0);try{r()}finally{Ie(!1)}}return a.memoizedState=[d,o],d}function Gc(r,o,a){return a===void 0||(Ni&1073741824)!==0?r.memoizedState=o:(r.memoizedState=a,r=tg(),De.lanes|=r,Li|=r,a)}function Wm(r,o,a,d){return un(a,o)?a:to.current!==null?(r=Gc(r,a,d),un(r,o)||(Ct=!0),r):(Ni&42)===0?(Ct=!0,r.memoizedState=a):(r=tg(),De.lanes|=r,Li|=r,o)}function ep(r,o,a,d,g){var v=se.p;se.p=v!==0&&8>v?v:8;var S=Y.T,C={};Y.T=C,Jc(r,!1,o,a);try{var M=g(),z=Y.S;if(z!==null&&z(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=Mx(M,d);Es(r,o,W,mn(r))}else Es(r,o,d,mn(r))}catch(te){Es(r,o,{then:function(){},status:"rejected",reason:te},mn())}finally{se.p=v,Y.T=S}}function Px(){}function Hc(r,o,a,d){if(r.tag!==5)throw Error(i(476));var g=tp(r).queue;ep(r,g,o,j,a===null?Px:function(){return np(r),a(d)})}function tp(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:j},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function np(r){var o=tp(r).next.queue;Es(r,o,{},mn())}function jc(){return Ot(Gs)}function ip(){return vt().memoizedState}function rp(){return vt().memoizedState}function Lx(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var a=mn();r=Ai(a);var d=Ri(o,r,a);d!==null&&(pn(d,o,a),Ts(d,o,a)),o={cache:Sc()},r.payload=o;return}o=o.return}}function Ox(r,o,a){var d=mn();a={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},rl(r)?sp(o,a):(a=dc(r,o,a,d),a!==null&&(pn(a,r,d),ap(a,o,d)))}function op(r,o,a){var d=mn();Es(r,o,a,d)}function Es(r,o,a,d){var g={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(rl(r))sp(o,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,C=v(S,a);if(g.hasEagerState=!0,g.eagerState=C,un(C,S))return $a(r,o,g,0),nt===null&&Va(),!1}catch{}finally{}if(a=dc(r,o,g,d),a!==null)return pn(a,r,d),ap(a,o,d),!0}return!1}function Jc(r,o,a,d){if(d={lane:2,revertLane:Ef(),action:d,hasEagerState:!1,eagerState:null,next:null},rl(r)){if(o)throw Error(i(479))}else o=dc(r,a,d,2),o!==null&&pn(o,r,2)}function rl(r){var o=r.alternate;return r===De||o!==null&&o===De}function sp(r,o){no=Xa=!0;var a=r.pending;a===null?o.next=o:(o.next=a.next,a.next=o),r.pending=o}function ap(r,o,a){if((a&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,a|=d,o.lanes=a,Wo(r,a)}}var ol={readContext:Ot,use:el,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},lp={readContext:Ot,use:el,useCallback:function(r,o){return Wt().memoizedState=[r,o===void 0?null:o],r},useContext:Ot,useEffect:Hm,useImperativeHandle:function(r,o,a){a=a!=null?a.concat([r]):null,il(4194308,4,Km.bind(null,o,r),a)},useLayoutEffect:function(r,o){return il(4194308,4,r,o)},useInsertionEffect:function(r,o){il(4,2,r,o)},useMemo:function(r,o){var a=Wt();o=o===void 0?null:o;var d=r();if(pr){Ie(!0);try{r()}finally{Ie(!1)}}return a.memoizedState=[d,o],d},useReducer:function(r,o,a){var d=Wt();if(a!==void 0){var g=a(o);if(pr){Ie(!0);try{a(o)}finally{Ie(!1)}}}else g=o;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=Ox.bind(null,De,r),[d.memoizedState,r]},useRef:function(r){var o=Wt();return r={current:r},o.memoizedState=r},useState:function(r){r=$c(r);var o=r.queue,a=op.bind(null,De,o);return o.dispatch=a,[r.memoizedState,a]},useDebugValue:zc,useDeferredValue:function(r,o){var a=Wt();return Gc(a,r,o)},useTransition:function(){var r=$c(!1);return r=ep.bind(null,De,r.queue,!0,!1),Wt().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,a){var d=De,g=Wt();if(He){if(a===void 0)throw Error(i(407));a=a()}else{if(a=o(),nt===null)throw Error(i(349));(Ve&124)!==0||Nm(d,o,a)}g.memoizedState=a;var v={value:a,getSnapshot:o};return g.queue=v,Hm(km.bind(null,d,v,r),[r]),d.flags|=2048,ro(9,nl(),Mm.bind(null,d,v,a,o),null),a},useId:function(){var r=Wt(),o=nt.identifierPrefix;if(He){var a=ii,d=ni;a=(d&~(1<<32-ut(d)-1)).toString(32)+a,o="«"+o+"R"+a,a=Wa++,0<a&&(o+="H"+a.toString(32)),o+="»"}else a=kx++,o="«"+o+"r"+a.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:jc,useFormState:Vm,useActionState:Vm,useOptimistic:function(r){var o=Wt();o.memoizedState=o.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=Jc.bind(null,De,!0,a),a.dispatch=o,[r,o]},useMemoCache:qc,useCacheRefresh:function(){return Wt().memoizedState=Lx.bind(null,De)}},up={readContext:Ot,use:el,useCallback:Qm,useContext:Ot,useEffect:jm,useImperativeHandle:Zm,useInsertionEffect:Jm,useLayoutEffect:Ym,useMemo:Xm,useReducer:tl,useRef:Gm,useState:function(){return tl(si)},useDebugValue:zc,useDeferredValue:function(r,o){var a=vt();return Wm(a,Xe.memoizedState,r,o)},useTransition:function(){var r=tl(si)[0],o=vt().memoizedState;return[typeof r=="boolean"?r:bs(r),o]},useSyncExternalStore:Rm,useId:ip,useHostTransitionStatus:jc,useFormState:$m,useActionState:$m,useOptimistic:function(r,o){var a=vt();return Im(a,Xe,r,o)},useMemoCache:qc,useCacheRefresh:rp},qx={readContext:Ot,use:el,useCallback:Qm,useContext:Ot,useEffect:jm,useImperativeHandle:Zm,useInsertionEffect:Jm,useLayoutEffect:Ym,useMemo:Xm,useReducer:Vc,useRef:Gm,useState:function(){return Vc(si)},useDebugValue:zc,useDeferredValue:function(r,o){var a=vt();return Xe===null?Gc(a,r,o):Wm(a,Xe.memoizedState,r,o)},useTransition:function(){var r=Vc(si)[0],o=vt().memoizedState;return[typeof r=="boolean"?r:bs(r),o]},useSyncExternalStore:Rm,useId:ip,useHostTransitionStatus:jc,useFormState:zm,useActionState:zm,useOptimistic:function(r,o){var a=vt();return Xe!==null?Im(a,Xe,r,o):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:qc,useCacheRefresh:rp},oo=null,As=0;function sl(r){var o=As;return As+=1,oo===null&&(oo=[]),Tm(oo,r,o)}function Rs(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function al(r,o){throw o.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function cp(r){var o=r._init;return o(r._payload)}function fp(r){function o($,P){if(r){var F=$.deletions;F===null?($.deletions=[P],$.flags|=16):F.push(P)}}function a($,P){if(!r)return null;for(;P!==null;)o($,P),P=P.sibling;return null}function d($){for(var P=new Map;$!==null;)$.key!==null?P.set($.key,$):P.set($.index,$),$=$.sibling;return P}function g($,P){return $=ti($,P),$.index=0,$.sibling=null,$}function v($,P,F){return $.index=F,r?(F=$.alternate,F!==null?(F=F.index,F<P?($.flags|=67108866,P):F):($.flags|=67108866,P)):($.flags|=1048576,P)}function S($){return r&&$.alternate===null&&($.flags|=67108866),$}function C($,P,F,ee){return P===null||P.tag!==6?(P=mc(F,$.mode,ee),P.return=$,P):(P=g(P,F),P.return=$,P)}function M($,P,F,ee){var fe=F.type;return fe===w?W($,P,F.props.children,ee,F.key):P!==null&&(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ne&&cp(fe)===P.type)?(P=g(P,F.props),Rs(P,F),P.return=$,P):(P=za(F.type,F.key,F.props,null,$.mode,ee),Rs(P,F),P.return=$,P)}function z($,P,F,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=pc(F,$.mode,ee),P.return=$,P):(P=g(P,F.children||[]),P.return=$,P)}function W($,P,F,ee,fe){return P===null||P.tag!==7?(P=ar(F,$.mode,ee,fe),P.return=$,P):(P=g(P,F),P.return=$,P)}function te($,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=mc(""+P,$.mode,F),P.return=$,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return F=za(P.type,P.key,P.props,null,$.mode,F),Rs(F,P),F.return=$,F;case b:return P=pc(P,$.mode,F),P.return=$,P;case ne:var ee=P._init;return P=ee(P._payload),te($,P,F)}if(ke(P)||ue(P))return P=ar(P,$.mode,F,null),P.return=$,P;if(typeof P.then=="function")return te($,sl(P),F);if(P.$$typeof===U)return te($,Ja($,P),F);al($,P)}return null}function H($,P,F,ee){var fe=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return fe!==null?null:C($,P,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return F.key===fe?M($,P,F,ee):null;case b:return F.key===fe?z($,P,F,ee):null;case ne:return fe=F._init,F=fe(F._payload),H($,P,F,ee)}if(ke(F)||ue(F))return fe!==null?null:W($,P,F,ee,null);if(typeof F.then=="function")return H($,P,sl(F),ee);if(F.$$typeof===U)return H($,P,Ja($,F),ee);al($,F)}return null}function J($,P,F,ee,fe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return $=$.get(F)||null,C(P,$,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return $=$.get(ee.key===null?F:ee.key)||null,M(P,$,ee,fe);case b:return $=$.get(ee.key===null?F:ee.key)||null,z(P,$,ee,fe);case ne:var Pe=ee._init;return ee=Pe(ee._payload),J($,P,F,ee,fe)}if(ke(ee)||ue(ee))return $=$.get(F)||null,W(P,$,ee,fe,null);if(typeof ee.then=="function")return J($,P,F,sl(ee),fe);if(ee.$$typeof===U)return J($,P,F,Ja(P,ee),fe);al(P,ee)}return null}function Se($,P,F,ee){for(var fe=null,Pe=null,ge=P,Te=P=0,At=null;ge!==null&&Te<F.length;Te++){ge.index>Te?(At=ge,ge=null):At=ge.sibling;var Fe=H($,ge,F[Te],ee);if(Fe===null){ge===null&&(ge=At);break}r&&ge&&Fe.alternate===null&&o($,ge),P=v(Fe,P,Te),Pe===null?fe=Fe:Pe.sibling=Fe,Pe=Fe,ge=At}if(Te===F.length)return a($,ge),He&&ur($,Te),fe;if(ge===null){for(;Te<F.length;Te++)ge=te($,F[Te],ee),ge!==null&&(P=v(ge,P,Te),Pe===null?fe=ge:Pe.sibling=ge,Pe=ge);return He&&ur($,Te),fe}for(ge=d(ge);Te<F.length;Te++)At=J(ge,$,Te,F[Te],ee),At!==null&&(r&&At.alternate!==null&&ge.delete(At.key===null?Te:At.key),P=v(At,P,Te),Pe===null?fe=At:Pe.sibling=At,Pe=At);return r&&ge.forEach(function(Hi){return o($,Hi)}),He&&ur($,Te),fe}function _e($,P,F,ee){if(F==null)throw Error(i(151));for(var fe=null,Pe=null,ge=P,Te=P=0,At=null,Fe=F.next();ge!==null&&!Fe.done;Te++,Fe=F.next()){ge.index>Te?(At=ge,ge=null):At=ge.sibling;var Hi=H($,ge,Fe.value,ee);if(Hi===null){ge===null&&(ge=At);break}r&&ge&&Hi.alternate===null&&o($,ge),P=v(Hi,P,Te),Pe===null?fe=Hi:Pe.sibling=Hi,Pe=Hi,ge=At}if(Fe.done)return a($,ge),He&&ur($,Te),fe;if(ge===null){for(;!Fe.done;Te++,Fe=F.next())Fe=te($,Fe.value,ee),Fe!==null&&(P=v(Fe,P,Te),Pe===null?fe=Fe:Pe.sibling=Fe,Pe=Fe);return He&&ur($,Te),fe}for(ge=d(ge);!Fe.done;Te++,Fe=F.next())Fe=J(ge,$,Te,Fe.value,ee),Fe!==null&&(r&&Fe.alternate!==null&&ge.delete(Fe.key===null?Te:Fe.key),P=v(Fe,P,Te),Pe===null?fe=Fe:Pe.sibling=Fe,Pe=Fe);return r&&ge.forEach(function(BS){return o($,BS)}),He&&ur($,Te),fe}function et($,P,F,ee){if(typeof F=="object"&&F!==null&&F.type===w&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case x:e:{for(var fe=F.key;P!==null;){if(P.key===fe){if(fe=F.type,fe===w){if(P.tag===7){a($,P.sibling),ee=g(P,F.props.children),ee.return=$,$=ee;break e}}else if(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ne&&cp(fe)===P.type){a($,P.sibling),ee=g(P,F.props),Rs(ee,F),ee.return=$,$=ee;break e}a($,P);break}else o($,P);P=P.sibling}F.type===w?(ee=ar(F.props.children,$.mode,ee,F.key),ee.return=$,$=ee):(ee=za(F.type,F.key,F.props,null,$.mode,ee),Rs(ee,F),ee.return=$,$=ee)}return S($);case b:e:{for(fe=F.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){a($,P.sibling),ee=g(P,F.children||[]),ee.return=$,$=ee;break e}else{a($,P);break}else o($,P);P=P.sibling}ee=pc(F,$.mode,ee),ee.return=$,$=ee}return S($);case ne:return fe=F._init,F=fe(F._payload),et($,P,F,ee)}if(ke(F))return Se($,P,F,ee);if(ue(F)){if(fe=ue(F),typeof fe!="function")throw Error(i(150));return F=fe.call(F),_e($,P,F,ee)}if(typeof F.then=="function")return et($,P,sl(F),ee);if(F.$$typeof===U)return et($,P,Ja($,F),ee);al($,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(a($,P.sibling),ee=g(P,F),ee.return=$,$=ee):(a($,P),ee=mc(F,$.mode,ee),ee.return=$,$=ee),S($)):a($,P)}return function($,P,F,ee){try{As=0;var fe=et($,P,F,ee);return oo=null,fe}catch(ge){if(ge===vs||ge===Ka)throw ge;var Pe=cn(29,ge,null,$.mode);return Pe.lanes=ee,Pe.return=$,Pe}finally{}}}var so=fp(!0),dp=fp(!1),bn=O(null),Bn=null;function Mi(r){var o=r.alternate;X(wt,wt.current&1),X(bn,r),Bn===null&&(o===null||to.current!==null||o.memoizedState!==null)&&(Bn=r)}function hp(r){if(r.tag===22){if(X(wt,wt.current),X(bn,r),Bn===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Bn=r)}}else ki()}function ki(){X(wt,wt.current),X(bn,bn.current)}function ai(r){q(bn),Bn===r&&(Bn=null),q(wt)}var wt=O(0);function ll(r){for(var o=r;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||qf(a)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Yc(r,o,a,d){o=r.memoizedState,a=a(d,o),a=a==null?o:y({},o,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Kc={enqueueSetState:function(r,o,a){r=r._reactInternals;var d=mn(),g=Ai(d);g.payload=o,a!=null&&(g.callback=a),o=Ri(r,g,d),o!==null&&(pn(o,r,d),Ts(o,r,d))},enqueueReplaceState:function(r,o,a){r=r._reactInternals;var d=mn(),g=Ai(d);g.tag=1,g.payload=o,a!=null&&(g.callback=a),o=Ri(r,g,d),o!==null&&(pn(o,r,d),Ts(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var a=mn(),d=Ai(a);d.tag=2,o!=null&&(d.callback=o),o=Ri(r,d,a),o!==null&&(pn(o,r,a),Ts(o,r,a))}};function mp(r,o,a,d,g,v,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,S):o.prototype&&o.prototype.isPureReactComponent?!cs(a,d)||!cs(g,v):!0}function pp(r,o,a,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,d),o.state!==r&&Kc.enqueueReplaceState(o,o.state,null)}function gr(r,o){var a=o;if("ref"in o){a={};for(var d in o)d!=="ref"&&(a[d]=o[d])}if(r=r.defaultProps){a===o&&(a=y({},a));for(var g in r)a[g]===void 0&&(a[g]=r[g])}return a}var ul=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function gp(r){ul(r)}function yp(r){console.error(r)}function vp(r){ul(r)}function cl(r,o){try{var a=r.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function _p(r,o,a){try{var d=r.onCaughtError;d(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Zc(r,o,a){return a=Ai(a),a.tag=3,a.payload={element:null},a.callback=function(){cl(r,o)},a}function Tp(r){return r=Ai(r),r.tag=3,r}function xp(r,o,a,d){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;r.payload=function(){return g(v)},r.callback=function(){_p(o,a,d)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){_p(o,a,d),typeof g!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function Bx(r,o,a,d,g){if(a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=a.alternate,o!==null&&ps(o,a,g,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Bn===null?xf():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=g,d===Cc?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([d]):o.add(d),wf(r,d,g)),!1;case 22:return a.flags|=65536,d===Cc?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([d]):a.add(d)),wf(r,d,g)),!1}throw Error(i(435,a.tag))}return wf(r,d,g),xf(),!1}if(He)return o=bn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,d!==vc&&(r=Error(i(422),{cause:d}),ms(Tn(r,a)))):(d!==vc&&(o=Error(i(423),{cause:d}),ms(Tn(o,a))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=Tn(d,a),g=Zc(r.stateNode,d,g),Rc(r,g),ht!==4&&(ht=2)),!1;var v=Error(i(520),{cause:d});if(v=Tn(v,a),Ps===null?Ps=[v]:Ps.push(v),ht!==4&&(ht=2),o===null)return!0;d=Tn(d,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,r=g&-g,a.lanes|=r,r=Zc(a.stateNode,d,r),Rc(a,r),!1;case 1:if(o=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Oi===null||!Oi.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Tp(g),xp(g,r,a,d),Rc(a,g),!1}a=a.return}while(a!==null);return!1}var Sp=Error(i(461)),Ct=!1;function Mt(r,o,a,d){o.child=r===null?dp(o,null,a,d):so(o,r.child,a,d)}function wp(r,o,a,d,g){a=a.render;var v=o.ref;if("ref"in d){var S={};for(var C in d)C!=="ref"&&(S[C]=d[C])}else S=d;return hr(o),d=Uc(r,o,a,S,v,g),C=Ic(),r!==null&&!Ct?(Pc(r,o,g),li(r,o,g)):(He&&C&&gc(o),o.flags|=1,Mt(r,o,d,g),o.child)}function bp(r,o,a,d,g){if(r===null){var v=a.type;return typeof v=="function"&&!hc(v)&&v.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=v,Cp(r,o,v,d,g)):(r=za(a.type,null,d,o,o.mode,g),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!of(r,g)){var S=v.memoizedProps;if(a=a.compare,a=a!==null?a:cs,a(S,d)&&r.ref===o.ref)return li(r,o,g)}return o.flags|=1,r=ti(v,d),r.ref=o.ref,r.return=o,o.child=r}function Cp(r,o,a,d,g){if(r!==null){var v=r.memoizedProps;if(cs(v,d)&&r.ref===o.ref)if(Ct=!1,o.pendingProps=d=v,of(r,g))(r.flags&131072)!==0&&(Ct=!0);else return o.lanes=r.lanes,li(r,o,g)}return Qc(r,o,a,d,g)}function Ep(r,o,a){var d=o.pendingProps,g=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|a:a,r!==null){for(g=o.child=r.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return Ap(r,o,d,a)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ya(o,v!==null?v.cachePool:null),v!==null?Cm(o,v):Mc(),hp(o);else return o.lanes=o.childLanes=536870912,Ap(r,o,v!==null?v.baseLanes|a:a,a)}else v!==null?(Ya(o,v.cachePool),Cm(o,v),ki(),o.memoizedState=null):(r!==null&&Ya(o,null),Mc(),ki());return Mt(r,o,g,a),o.child}function Ap(r,o,a,d){var g=bc();return g=g===null?null:{parent:St._currentValue,pool:g},o.memoizedState={baseLanes:a,cachePool:g},r!==null&&Ya(o,null),Mc(),hp(o),r!==null&&ps(r,o,d,!0),null}function fl(r,o){var a=o.ref;if(a===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(o.flags|=4194816)}}function Qc(r,o,a,d,g){return hr(o),a=Uc(r,o,a,d,void 0,g),d=Ic(),r!==null&&!Ct?(Pc(r,o,g),li(r,o,g)):(He&&d&&gc(o),o.flags|=1,Mt(r,o,a,g),o.child)}function Rp(r,o,a,d,g,v){return hr(o),o.updateQueue=null,a=Am(o,d,a,g),Em(r),d=Ic(),r!==null&&!Ct?(Pc(r,o,v),li(r,o,v)):(He&&d&&gc(o),o.flags|=1,Mt(r,o,a,v),o.child)}function Np(r,o,a,d,g){if(hr(o),o.stateNode===null){var v=Zr,S=a.contextType;typeof S=="object"&&S!==null&&(v=Ot(S)),v=new a(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Kc,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},Ec(o),S=a.contextType,v.context=typeof S=="object"&&S!==null?Ot(S):Zr,v.state=o.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Yc(o,a,S,d),v.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Kc.enqueueReplaceState(v,v.state,null),Ss(o,d,v,g),xs(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){v=o.stateNode;var C=o.memoizedProps,M=gr(a,C);v.props=M;var z=v.context,W=a.contextType;S=Zr,typeof W=="object"&&W!==null&&(S=Ot(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,W||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||z!==S)&&pp(o,v,d,S),Ei=!1;var H=o.memoizedState;v.state=H,Ss(o,d,v,g),xs(),z=o.memoizedState,C||H!==z||Ei?(typeof te=="function"&&(Yc(o,a,te,d),z=o.memoizedState),(M=Ei||mp(o,a,M,d,H,z,S))?(W||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=z),v.props=d,v.state=z,v.context=S,d=M):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,Ac(r,o),S=o.memoizedProps,W=gr(a,S),v.props=W,te=o.pendingProps,H=v.context,z=a.contextType,M=Zr,typeof z=="object"&&z!==null&&(M=Ot(z)),C=a.getDerivedStateFromProps,(z=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==te||H!==M)&&pp(o,v,d,M),Ei=!1,H=o.memoizedState,v.state=H,Ss(o,d,v,g),xs();var J=o.memoizedState;S!==te||H!==J||Ei||r!==null&&r.dependencies!==null&&ja(r.dependencies)?(typeof C=="function"&&(Yc(o,a,C,d),J=o.memoizedState),(W=Ei||mp(o,a,W,d,H,J,M)||r!==null&&r.dependencies!==null&&ja(r.dependencies))?(z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,J,M),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,J,M)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=J),v.props=d,v.state=J,v.context=M,d=W):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(o.flags|=1024),d=!1)}return v=d,fl(r,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,a=d&&typeof a.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&d?(o.child=so(o,r.child,null,g),o.child=so(o,null,a,g)):Mt(r,o,a,g),o.memoizedState=v.state,r=o.child):r=li(r,o,g),r}function Mp(r,o,a,d){return hs(),o.flags|=256,Mt(r,o,a,d),o.child}var Xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wc(r){return{baseLanes:r,cachePool:ym()}}function ef(r,o,a){return r=r!==null?r.childLanes&~a:0,o&&(r|=Cn),r}function kp(r,o,a){var d=o.pendingProps,g=!1,v=(o.flags&128)!==0,S;if((S=v)||(S=r!==null&&r.memoizedState===null?!1:(wt.current&2)!==0),S&&(g=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,r===null){if(He){if(g?Mi(o):ki(),He){var C=dt,M;if(M=C){e:{for(M=C,C=qn;M.nodeType!==8;){if(!C){C=null;break e}if(M=Un(M.nextSibling),M===null){C=null;break e}}C=M}C!==null?(o.memoizedState={dehydrated:C,treeContext:lr!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},M=cn(18,null,null,0),M.stateNode=C,M.return=o,o.child=M,jt=o,dt=null,M=!0):M=!1}M||fr(o)}if(C=o.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return qf(C)?o.lanes=32:o.lanes=536870912,null;ai(o)}return C=d.children,d=d.fallback,g?(ki(),g=o.mode,C=dl({mode:"hidden",children:C},g),d=ar(d,g,a,null),C.return=o,d.return=o,C.sibling=d,o.child=C,g=o.child,g.memoizedState=Wc(a),g.childLanes=ef(r,S,a),o.memoizedState=Xc,d):(Mi(o),tf(o,C))}if(M=r.memoizedState,M!==null&&(C=M.dehydrated,C!==null)){if(v)o.flags&256?(Mi(o),o.flags&=-257,o=nf(r,o,a)):o.memoizedState!==null?(ki(),o.child=r.child,o.flags|=128,o=null):(ki(),g=d.fallback,C=o.mode,d=dl({mode:"visible",children:d.children},C),g=ar(g,C,a,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,so(o,r.child,null,a),d=o.child,d.memoizedState=Wc(a),d.childLanes=ef(r,S,a),o.memoizedState=Xc,o=g);else if(Mi(o),qf(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var z=S.dgst;S=z,d=Error(i(419)),d.stack="",d.digest=S,ms({value:d,source:null,stack:null}),o=nf(r,o,a)}else if(Ct||ps(r,o,a,!1),S=(a&r.childLanes)!==0,Ct||S){if(S=nt,S!==null&&(d=a&-a,d=(d&42)!==0?1:es(d),d=(d&(S.suspendedLanes|a))!==0?0:d,d!==0&&d!==M.retryLane))throw M.retryLane=d,Kr(r,d),pn(S,r,d),Sp;C.data==="$?"||xf(),o=nf(r,o,a)}else C.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=M.treeContext,dt=Un(C.nextSibling),jt=o,He=!0,cr=null,qn=!1,r!==null&&(Sn[wn++]=ni,Sn[wn++]=ii,Sn[wn++]=lr,ni=r.id,ii=r.overflow,lr=o),o=tf(o,d.children),o.flags|=4096);return o}return g?(ki(),g=d.fallback,C=o.mode,M=r.child,z=M.sibling,d=ti(M,{mode:"hidden",children:d.children}),d.subtreeFlags=M.subtreeFlags&65011712,z!==null?g=ti(z,g):(g=ar(g,C,a,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,C=r.child.memoizedState,C===null?C=Wc(a):(M=C.cachePool,M!==null?(z=St._currentValue,M=M.parent!==z?{parent:z,pool:z}:M):M=ym(),C={baseLanes:C.baseLanes|a,cachePool:M}),g.memoizedState=C,g.childLanes=ef(r,S,a),o.memoizedState=Xc,d):(Mi(o),a=r.child,r=a.sibling,a=ti(a,{mode:"visible",children:d.children}),a.return=o,a.sibling=null,r!==null&&(S=o.deletions,S===null?(o.deletions=[r],o.flags|=16):S.push(r)),o.child=a,o.memoizedState=null,a)}function tf(r,o){return o=dl({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function dl(r,o){return r=cn(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function nf(r,o,a){return so(o,r.child,null,a),r=tf(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Dp(r,o,a){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Tc(r.return,o,a)}function rf(r,o,a,d,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=a,v.tailMode=g)}function Up(r,o,a){var d=o.pendingProps,g=d.revealOrder,v=d.tail;if(Mt(r,o,d.children,a),d=wt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Dp(r,a,o);else if(r.tag===19)Dp(r,a,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(X(wt,d),g){case"forwards":for(a=o.child,g=null;a!==null;)r=a.alternate,r!==null&&ll(r)===null&&(g=a),a=a.sibling;a=g,a===null?(g=o.child,o.child=null):(g=a.sibling,a.sibling=null),rf(o,!1,g,a,v);break;case"backwards":for(a=null,g=o.child,o.child=null;g!==null;){if(r=g.alternate,r!==null&&ll(r)===null){o.child=g;break}r=g.sibling,g.sibling=a,a=g,g=r}rf(o,!0,a,null,v);break;case"together":rf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function li(r,o,a){if(r!==null&&(o.dependencies=r.dependencies),Li|=o.lanes,(a&o.childLanes)===0)if(r!==null){if(ps(r,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,a=ti(r,r.pendingProps),o.child=a,a.return=o;r.sibling!==null;)r=r.sibling,a=a.sibling=ti(r,r.pendingProps),a.return=o;a.sibling=null}return o.child}function of(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&ja(r)))}function Vx(r,o,a){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),Ci(o,St,r.memoizedState.cache),hs();break;case 27:case 5:mt(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:Ci(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Mi(o),o.flags|=128,null):(a&o.child.childLanes)!==0?kp(r,o,a):(Mi(o),r=li(r,o,a),r!==null?r.sibling:null);Mi(o);break;case 19:var g=(r.flags&128)!==0;if(d=(a&o.childLanes)!==0,d||(ps(r,o,a,!1),d=(a&o.childLanes)!==0),g){if(d)return Up(r,o,a);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),X(wt,wt.current),d)break;return null;case 22:case 23:return o.lanes=0,Ep(r,o,a);case 24:Ci(o,St,r.memoizedState.cache)}return li(r,o,a)}function Ip(r,o,a){if(r!==null)if(r.memoizedProps!==o.pendingProps)Ct=!0;else{if(!of(r,a)&&(o.flags&128)===0)return Ct=!1,Vx(r,o,a);Ct=(r.flags&131072)!==0}else Ct=!1,He&&(o.flags&1048576)!==0&&cm(o,Ha,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var d=o.elementType,g=d._init;if(d=g(d._payload),o.type=d,typeof d=="function")hc(d)?(r=gr(d,r),o.tag=1,o=Np(null,o,d,r,a)):(o.tag=0,o=Qc(null,o,d,r,a));else{if(d!=null){if(g=d.$$typeof,g===D){o.tag=11,o=wp(null,o,d,r,a);break e}else if(g===Q){o.tag=14,o=bp(null,o,d,r,a);break e}}throw o=Je(d)||d,Error(i(306,o,""))}}return o;case 0:return Qc(r,o,o.type,o.pendingProps,a);case 1:return d=o.type,g=gr(d,o.pendingProps),Np(r,o,d,g,a);case 3:e:{if(be(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var v=o.memoizedState;g=v.element,Ac(r,o),Ss(o,d,null,a);var S=o.memoizedState;if(d=S.cache,Ci(o,St,d),d!==v.cache&&xc(o,[St],a,!0),xs(),d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=Mp(r,o,d,a);break e}else if(d!==g){g=Tn(Error(i(424)),o),ms(g),o=Mp(r,o,d,a);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(dt=Un(r.firstChild),jt=o,He=!0,cr=null,qn=!0,a=dp(o,null,d,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(hs(),d===g){o=li(r,o,a);break e}Mt(r,o,d,a)}o=o.child}return o;case 26:return fl(r,o),r===null?(a=qg(o.type,null,o.pendingProps,null))?o.memoizedState=a:He||(a=o.type,r=o.pendingProps,d=El(oe.current).createElement(a),d[Lt]=o,d[Qt]=r,Dt(d,a,r),bt(d),o.stateNode=d):o.memoizedState=qg(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return mt(o),r===null&&He&&(d=o.stateNode=Pg(o.type,o.pendingProps,oe.current),jt=o,qn=!0,g=dt,Vi(o.type)?(Bf=g,dt=Un(d.firstChild)):dt=g),Mt(r,o,o.pendingProps.children,a),fl(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&He&&((g=d=dt)&&(d=mS(d,o.type,o.pendingProps,qn),d!==null?(o.stateNode=d,jt=o,dt=Un(d.firstChild),qn=!1,g=!0):g=!1),g||fr(o)),mt(o),g=o.type,v=o.pendingProps,S=r!==null?r.memoizedProps:null,d=v.children,Pf(g,v)?d=null:S!==null&&Pf(g,S)&&(o.flags|=32),o.memoizedState!==null&&(g=Uc(r,o,Dx,null,null,a),Gs._currentValue=g),fl(r,o),Mt(r,o,d,a),o.child;case 6:return r===null&&He&&((r=a=dt)&&(a=pS(a,o.pendingProps,qn),a!==null?(o.stateNode=a,jt=o,dt=null,r=!0):r=!1),r||fr(o)),null;case 13:return kp(r,o,a);case 4:return be(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=so(o,null,d,a):Mt(r,o,d,a),o.child;case 11:return wp(r,o,o.type,o.pendingProps,a);case 7:return Mt(r,o,o.pendingProps,a),o.child;case 8:return Mt(r,o,o.pendingProps.children,a),o.child;case 12:return Mt(r,o,o.pendingProps.children,a),o.child;case 10:return d=o.pendingProps,Ci(o,o.type,d.value),Mt(r,o,d.children,a),o.child;case 9:return g=o.type._context,d=o.pendingProps.children,hr(o),g=Ot(g),d=d(g),o.flags|=1,Mt(r,o,d,a),o.child;case 14:return bp(r,o,o.type,o.pendingProps,a);case 15:return Cp(r,o,o.type,o.pendingProps,a);case 19:return Up(r,o,a);case 31:return d=o.pendingProps,a=o.mode,d={mode:d.mode,children:d.children},r===null?(a=dl(d,a),a.ref=o.ref,o.child=a,a.return=o,o=a):(a=ti(r.child,d),a.ref=o.ref,o.child=a,a.return=o,o=a),o;case 22:return Ep(r,o,a);case 24:return hr(o),d=Ot(St),r===null?(g=bc(),g===null&&(g=nt,v=Sc(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),o.memoizedState={parent:d,cache:g},Ec(o),Ci(o,St,g)):((r.lanes&a)!==0&&(Ac(r,o),Ss(o,null,null,a),xs()),g=r.memoizedState,v=o.memoizedState,g.parent!==d?(g={parent:d,cache:d},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Ci(o,St,d)):(d=v.cache,Ci(o,St,d),d!==g.cache&&xc(o,[St],a,!0))),Mt(r,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function ui(r){r.flags|=4}function Pp(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!zg(o)){if(o=bn.current,o!==null&&((Ve&4194048)===Ve?Bn!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||o!==Bn))throw _s=Cc,vm;r.flags|=8192}}function hl(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Zt():536870912,r.lanes|=o,co|=o)}function Ns(r,o){if(!He)switch(r.tailMode){case"hidden":o=r.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function ct(r){var o=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(o)for(var g=r.child;g!==null;)a|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)a|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=a,o}function $x(r,o,a){var d=o.pendingProps;switch(yc(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(o),null;case 1:return ct(o),null;case 3:return a=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),oi(St),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(ds(o)?ui(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hm())),ct(o),null;case 26:return a=o.memoizedState,r===null?(ui(o),a!==null?(ct(o),Pp(o,a)):(ct(o),o.flags&=-16777217)):a?a!==r.memoizedState?(ui(o),ct(o),Pp(o,a)):(ct(o),o.flags&=-16777217):(r.memoizedProps!==d&&ui(o),ct(o),o.flags&=-16777217),null;case 27:gn(o),a=oe.current;var g=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&ui(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return ct(o),null}r=ie.current,ds(o)?fm(o):(r=Pg(g,d,a),o.stateNode=r,ui(o))}return ct(o),null;case 5:if(gn(o),a=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&ui(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return ct(o),null}if(r=ie.current,ds(o))fm(o);else{switch(g=El(oe.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(a,{is:d.is}):g.createElement(a)}}r[Lt]=o,r[Qt]=d;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=r;e:switch(Dt(r,a,d),a){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ui(o)}}return ct(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&ui(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=oe.current,ds(o)){if(r=o.stateNode,a=o.memoizedProps,d=null,g=jt,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[Lt]=o,r=!!(r.nodeValue===a||d!==null&&d.suppressHydrationWarning===!0||Rg(r.nodeValue,a)),r||fr(o)}else r=El(r).createTextNode(d),r[Lt]=o,o.stateNode=r}return ct(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=ds(o),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Lt]=o}else hs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ct(o),g=!1}else g=hm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(ai(o),o):(ai(o),null)}if(ai(o),(o.flags&128)!==0)return o.lanes=a,o;if(a=d!==null,r=r!==null&&r.memoizedState!==null,a){d=o.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)}return a!==r&&a&&(o.child.flags|=8192),hl(o,o.updateQueue),ct(o),null;case 4:return je(),r===null&&Mf(o.stateNode.containerInfo),ct(o),null;case 10:return oi(o.type),ct(o),null;case 19:if(q(wt),g=o.memoizedState,g===null)return ct(o),null;if(d=(o.flags&128)!==0,v=g.rendering,v===null)if(d)Ns(g,!1);else{if(ht!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=ll(r),v!==null){for(o.flags|=128,Ns(g,!1),r=v.updateQueue,o.updateQueue=r,hl(o,r),o.subtreeFlags=0,r=a,a=o.child;a!==null;)um(a,r),a=a.sibling;return X(wt,wt.current&1|2),o.child}r=r.sibling}g.tail!==null&&xt()>gl&&(o.flags|=128,d=!0,Ns(g,!1),o.lanes=4194304)}else{if(!d)if(r=ll(v),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,hl(o,r),Ns(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!He)return ct(o),null}else 2*xt()-g.renderingStartTime>gl&&a!==536870912&&(o.flags|=128,d=!0,Ns(g,!1),o.lanes=4194304);g.isBackwards?(v.sibling=o.child,o.child=v):(r=g.last,r!==null?r.sibling=v:o.child=v,g.last=v)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=xt(),o.sibling=null,r=wt.current,X(wt,d?r&1|2:r&1),o):(ct(o),null);case 22:case 23:return ai(o),kc(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(a&536870912)!==0&&(o.flags&128)===0&&(ct(o),o.subtreeFlags&6&&(o.flags|=8192)):ct(o),a=o.updateQueue,a!==null&&hl(o,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==a&&(o.flags|=2048),r!==null&&q(mr),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),oi(St),ct(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function Fx(r,o){switch(yc(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return oi(St),je(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return gn(o),null;case 13:if(ai(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));hs()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return q(wt),null;case 4:return je(),null;case 10:return oi(o.type),null;case 22:case 23:return ai(o),kc(),r!==null&&q(mr),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return oi(St),null;case 25:return null;default:return null}}function Lp(r,o){switch(yc(o),o.tag){case 3:oi(St),je();break;case 26:case 27:case 5:gn(o);break;case 4:je();break;case 13:ai(o);break;case 19:q(wt);break;case 10:oi(o.type);break;case 22:case 23:ai(o),kc(),r!==null&&q(mr);break;case 24:oi(St)}}function Ms(r,o){try{var a=o.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var g=d.next;a=g;do{if((a.tag&r)===r){d=void 0;var v=a.create,S=a.inst;d=v(),S.destroy=d}a=a.next}while(a!==g)}}catch(C){tt(o,o.return,C)}}function Di(r,o,a){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&r)===r){var S=d.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,g=o;var M=a,z=C;try{z()}catch(W){tt(g,M,W)}}}d=d.next}while(d!==v)}}catch(W){tt(o,o.return,W)}}function Op(r){var o=r.updateQueue;if(o!==null){var a=r.stateNode;try{bm(o,a)}catch(d){tt(r,r.return,d)}}}function qp(r,o,a){a.props=gr(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(d){tt(r,o,d)}}function ks(r,o){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof a=="function"?r.refCleanup=a(d):a.current=d}}catch(g){tt(r,o,g)}}function Vn(r,o){var a=r.ref,d=r.refCleanup;if(a!==null)if(typeof d=="function")try{d()}catch(g){tt(r,o,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){tt(r,o,g)}else a.current=null}function Bp(r){var o=r.type,a=r.memoizedProps,d=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&d.focus();break e;case"img":a.src?d.src=a.src:a.srcSet&&(d.srcset=a.srcSet)}}catch(g){tt(r,r.return,g)}}function sf(r,o,a){try{var d=r.stateNode;uS(d,r.type,a,o),d[Qt]=o}catch(g){tt(r,r.return,g)}}function Vp(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Vi(r.type)||r.tag===4}function af(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Vp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Vi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function lf(r,o,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(r),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Cl));else if(d!==4&&(d===27&&Vi(r.type)&&(a=r.stateNode,o=null),r=r.child,r!==null))for(lf(r,o,a),r=r.sibling;r!==null;)lf(r,o,a),r=r.sibling}function ml(r,o,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?a.insertBefore(r,o):a.appendChild(r);else if(d!==4&&(d===27&&Vi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(ml(r,o,a),r=r.sibling;r!==null;)ml(r,o,a),r=r.sibling}function $p(r){var o=r.stateNode,a=r.memoizedProps;try{for(var d=r.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Dt(o,d,a),o[Lt]=r,o[Qt]=a}catch(v){tt(r,r.return,v)}}var ci=!1,gt=!1,uf=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,Et=null;function zx(r,o){if(r=r.containerInfo,Uf=Dl,r=Wh(r),sc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var S=0,C=-1,M=-1,z=0,W=0,te=r,H=null;t:for(;;){for(var J;te!==a||g!==0&&te.nodeType!==3||(C=S+g),te!==v||d!==0&&te.nodeType!==3||(M=S+d),te.nodeType===3&&(S+=te.nodeValue.length),(J=te.firstChild)!==null;)H=te,te=J;for(;;){if(te===r)break t;if(H===a&&++z===g&&(C=S),H===v&&++W===d&&(M=S),(J=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=J}a=C===-1||M===-1?null:{start:C,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(If={focusedElem:r,selectionRange:a},Dl=!1,Et=o;Et!==null;)if(o=Et,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,Et=r;else for(;Et!==null;){switch(o=Et,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,a=o,g=v.memoizedProps,v=v.memoizedState,d=a.stateNode;try{var Se=gr(a.type,g,a.elementType===a.type);r=d.getSnapshotBeforeUpdate(Se,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(_e){tt(a,a.return,_e)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,a=r.nodeType,a===9)Of(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Of(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Et=r;break}Et=o.return}}function zp(r,o,a){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(r,a),d&4&&Ms(5,a);break;case 1:if(Ui(r,a),d&4)if(r=a.stateNode,o===null)try{r.componentDidMount()}catch(S){tt(a,a.return,S)}else{var g=gr(a.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(g,o,r.__reactInternalSnapshotBeforeUpdate)}catch(S){tt(a,a.return,S)}}d&64&&Op(a),d&512&&ks(a,a.return);break;case 3:if(Ui(r,a),d&64&&(r=a.updateQueue,r!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{bm(r,o)}catch(S){tt(a,a.return,S)}}break;case 27:o===null&&d&4&&$p(a);case 26:case 5:Ui(r,a),o===null&&d&4&&Bp(a),d&512&&ks(a,a.return);break;case 12:Ui(r,a);break;case 13:Ui(r,a),d&4&&jp(r,a),d&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=Xx.bind(null,a),gS(r,a))));break;case 22:if(d=a.memoizedState!==null||ci,!d){o=o!==null&&o.memoizedState!==null||gt,g=ci;var v=gt;ci=d,(gt=o)&&!v?Ii(r,a,(a.subtreeFlags&8772)!==0):Ui(r,a),ci=g,gt=v}break;case 30:break;default:Ui(r,a)}}function Gp(r){var o=r.alternate;o!==null&&(r.alternate=null,Gp(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&$u(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var at=null,en=!1;function fi(r,o,a){for(a=a.child;a!==null;)Hp(r,o,a),a=a.sibling}function Hp(r,o,a){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(he,a)}catch{}switch(a.tag){case 26:gt||Vn(a,o),fi(r,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||Vn(a,o);var d=at,g=en;Vi(a.type)&&(at=a.stateNode,en=!1),fi(r,o,a),Vs(a.stateNode),at=d,en=g;break;case 5:gt||Vn(a,o);case 6:if(d=at,g=en,at=null,fi(r,o,a),at=d,en=g,at!==null)if(en)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(v){tt(a,o,v)}else try{at.removeChild(a.stateNode)}catch(v){tt(a,o,v)}break;case 18:at!==null&&(en?(r=at,Ug(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),Ys(r)):Ug(at,a.stateNode));break;case 4:d=at,g=en,at=a.stateNode.containerInfo,en=!0,fi(r,o,a),at=d,en=g;break;case 0:case 11:case 14:case 15:gt||Di(2,a,o),gt||Di(4,a,o),fi(r,o,a);break;case 1:gt||(Vn(a,o),d=a.stateNode,typeof d.componentWillUnmount=="function"&&qp(a,o,d)),fi(r,o,a);break;case 21:fi(r,o,a);break;case 22:gt=(d=gt)||a.memoizedState!==null,fi(r,o,a),gt=d;break;default:fi(r,o,a)}}function jp(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ys(r)}catch(a){tt(o,o.return,a)}}function Gx(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Fp),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Fp),o;default:throw Error(i(435,r.tag))}}function cf(r,o){var a=Gx(r);o.forEach(function(d){var g=Wx.bind(null,r,d);a.has(d)||(a.add(d),d.then(g,g))})}function fn(r,o){var a=o.deletions;if(a!==null)for(var d=0;d<a.length;d++){var g=a[d],v=r,S=o,C=S;e:for(;C!==null;){switch(C.tag){case 27:if(Vi(C.type)){at=C.stateNode,en=!1;break e}break;case 5:at=C.stateNode,en=!1;break e;case 3:case 4:at=C.stateNode.containerInfo,en=!0;break e}C=C.return}if(at===null)throw Error(i(160));Hp(v,S,g),at=null,en=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Jp(o,r),o=o.sibling}var Dn=null;function Jp(r,o){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:fn(o,r),dn(r),d&4&&(Di(3,r,r.return),Ms(3,r),Di(5,r,r.return));break;case 1:fn(o,r),dn(r),d&512&&(gt||a===null||Vn(a,a.return)),d&64&&ci&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?d:a.concat(d))));break;case 26:var g=Dn;if(fn(o,r),dn(r),d&512&&(gt||a===null||Vn(a,a.return)),d&4){var v=a!==null?a.memoizedState:null;if(d=r.memoizedState,a===null)if(d===null)if(r.stateNode===null){e:{d=r.type,a=r.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[ts]||v[Lt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),Dt(v,d,a),v[Lt]=r,bt(v),d=v;break e;case"link":var S=$g("link","href",g).get(d+(a.href||""));if(S){for(var C=0;C<S.length;C++)if(v=S[C],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(C,1);break t}}v=g.createElement(d),Dt(v,d,a),g.head.appendChild(v);break;case"meta":if(S=$g("meta","content",g).get(d+(a.content||""))){for(C=0;C<S.length;C++)if(v=S[C],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(C,1);break t}}v=g.createElement(d),Dt(v,d,a),g.head.appendChild(v);break;default:throw Error(i(468,d))}v[Lt]=r,bt(v),d=v}r.stateNode=d}else Fg(g,r.type,r.stateNode);else r.stateNode=Vg(g,d,r.memoizedProps);else v!==d?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,d===null?Fg(g,r.type,r.stateNode):Vg(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&sf(r,r.memoizedProps,a.memoizedProps)}break;case 27:fn(o,r),dn(r),d&512&&(gt||a===null||Vn(a,a.return)),a!==null&&d&4&&sf(r,r.memoizedProps,a.memoizedProps);break;case 5:if(fn(o,r),dn(r),d&512&&(gt||a===null||Vn(a,a.return)),r.flags&32){g=r.stateNode;try{Fr(g,"")}catch(J){tt(r,r.return,J)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,sf(r,g,a!==null?a.memoizedProps:g)),d&1024&&(uf=!0);break;case 6:if(fn(o,r),dn(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,a=r.stateNode;try{a.nodeValue=d}catch(J){tt(r,r.return,J)}}break;case 3:if(Nl=null,g=Dn,Dn=Al(o.containerInfo),fn(o,r),Dn=g,dn(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{Ys(o.containerInfo)}catch(J){tt(r,r.return,J)}uf&&(uf=!1,Yp(r));break;case 4:d=Dn,Dn=Al(r.stateNode.containerInfo),fn(o,r),dn(r),Dn=d;break;case 12:fn(o,r),dn(r);break;case 13:fn(o,r),dn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gf=xt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,cf(r,d)));break;case 22:g=r.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,z=ci,W=gt;if(ci=z||g,gt=W||M,fn(o,r),gt=W,ci=z,dn(r),d&8192)e:for(o=r.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(a===null||M||ci||gt||yr(r)),a=null,o=r;;){if(o.tag===5||o.tag===26){if(a===null){M=a=o;try{if(v=M.stateNode,g)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=M.stateNode;var te=M.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;C.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(J){tt(M,M.return,J)}}}else if(o.tag===6){if(a===null){M=o;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(J){tt(M,M.return,J)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(a=d.retryQueue,a!==null&&(d.retryQueue=null,cf(r,a))));break;case 19:fn(o,r),dn(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,cf(r,d)));break;case 30:break;case 21:break;default:fn(o,r),dn(r)}}function dn(r){var o=r.flags;if(o&2){try{for(var a,d=r.return;d!==null;){if(Vp(d)){a=d;break}d=d.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var g=a.stateNode,v=af(r);ml(r,v,g);break;case 5:var S=a.stateNode;a.flags&32&&(Fr(S,""),a.flags&=-33);var C=af(r);ml(r,C,S);break;case 3:case 4:var M=a.stateNode.containerInfo,z=af(r);lf(r,z,M);break;default:throw Error(i(161))}}catch(W){tt(r,r.return,W)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Yp(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Yp(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Ui(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)zp(r,o.alternate,o),o=o.sibling}function yr(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Di(4,o,o.return),yr(o);break;case 1:Vn(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&qp(o,o.return,a),yr(o);break;case 27:Vs(o.stateNode);case 26:case 5:Vn(o,o.return),yr(o);break;case 22:o.memoizedState===null&&yr(o);break;case 30:yr(o);break;default:yr(o)}r=r.sibling}}function Ii(r,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,g=r,v=o,S=v.flags;switch(v.tag){case 0:case 11:case 15:Ii(g,v,a),Ms(4,v);break;case 1:if(Ii(g,v,a),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(z){tt(d,d.return,z)}if(d=v,g=d.updateQueue,g!==null){var C=d.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)wm(M[g],C)}catch(z){tt(d,d.return,z)}}a&&S&64&&Op(v),ks(v,v.return);break;case 27:$p(v);case 26:case 5:Ii(g,v,a),a&&d===null&&S&4&&Bp(v),ks(v,v.return);break;case 12:Ii(g,v,a);break;case 13:Ii(g,v,a),a&&S&4&&jp(g,v);break;case 22:v.memoizedState===null&&Ii(g,v,a),ks(v,v.return);break;case 30:break;default:Ii(g,v,a)}o=o.sibling}}function ff(r,o){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&gs(a))}function df(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&gs(r))}function $n(r,o,a,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Kp(r,o,a,d),o=o.sibling}function Kp(r,o,a,d){var g=o.flags;switch(o.tag){case 0:case 11:case 15:$n(r,o,a,d),g&2048&&Ms(9,o);break;case 1:$n(r,o,a,d);break;case 3:$n(r,o,a,d),g&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&gs(r)));break;case 12:if(g&2048){$n(r,o,a,d),r=o.stateNode;try{var v=o.memoizedProps,S=v.id,C=v.onPostCommit;typeof C=="function"&&C(S,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){tt(o,o.return,M)}}else $n(r,o,a,d);break;case 13:$n(r,o,a,d);break;case 23:break;case 22:v=o.stateNode,S=o.alternate,o.memoizedState!==null?v._visibility&2?$n(r,o,a,d):Ds(r,o):v._visibility&2?$n(r,o,a,d):(v._visibility|=2,ao(r,o,a,d,(o.subtreeFlags&10256)!==0)),g&2048&&ff(S,o);break;case 24:$n(r,o,a,d),g&2048&&df(o.alternate,o);break;default:$n(r,o,a,d)}}function ao(r,o,a,d,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,S=o,C=a,M=d,z=S.flags;switch(S.tag){case 0:case 11:case 15:ao(v,S,C,M,g),Ms(8,S);break;case 23:break;case 22:var W=S.stateNode;S.memoizedState!==null?W._visibility&2?ao(v,S,C,M,g):Ds(v,S):(W._visibility|=2,ao(v,S,C,M,g)),g&&z&2048&&ff(S.alternate,S);break;case 24:ao(v,S,C,M,g),g&&z&2048&&df(S.alternate,S);break;default:ao(v,S,C,M,g)}o=o.sibling}}function Ds(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=r,d=o,g=d.flags;switch(d.tag){case 22:Ds(a,d),g&2048&&ff(d.alternate,d);break;case 24:Ds(a,d),g&2048&&df(d.alternate,d);break;default:Ds(a,d)}o=o.sibling}}var Us=8192;function lo(r){if(r.subtreeFlags&Us)for(r=r.child;r!==null;)Zp(r),r=r.sibling}function Zp(r){switch(r.tag){case 26:lo(r),r.flags&Us&&r.memoizedState!==null&&NS(Dn,r.memoizedState,r.memoizedProps);break;case 5:lo(r);break;case 3:case 4:var o=Dn;Dn=Al(r.stateNode.containerInfo),lo(r),Dn=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Us,Us=16777216,lo(r),Us=o):lo(r));break;default:lo(r)}}function Qp(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Is(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];Et=d,Wp(d,r)}Qp(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xp(r),r=r.sibling}function Xp(r){switch(r.tag){case 0:case 11:case 15:Is(r),r.flags&2048&&Di(9,r,r.return);break;case 3:Is(r);break;case 12:Is(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,pl(r)):Is(r);break;default:Is(r)}}function pl(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];Et=d,Wp(d,r)}Qp(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Di(8,o,o.return),pl(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,pl(o));break;default:pl(o)}r=r.sibling}}function Wp(r,o){for(;Et!==null;){var a=Et;switch(a.tag){case 0:case 11:case 15:Di(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var d=a.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:gs(a.memoizedState.cache)}if(d=a.child,d!==null)d.return=a,Et=d;else e:for(a=r;Et!==null;){d=Et;var g=d.sibling,v=d.return;if(Gp(d),d===a){Et=null;break e}if(g!==null){g.return=v,Et=g;break e}Et=v}}}var Hx={getCacheForType:function(r){var o=Ot(St),a=o.data.get(r);return a===void 0&&(a=r(),o.data.set(r,a)),a}},jx=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Le=null,Ve=0,Ke=0,hn=null,Pi=!1,uo=!1,hf=!1,di=0,ht=0,Li=0,vr=0,mf=0,Cn=0,co=0,Ps=null,tn=null,pf=!1,gf=0,gl=1/0,yl=null,Oi=null,kt=0,qi=null,fo=null,ho=0,yf=0,vf=null,eg=null,Ls=0,_f=null;function mn(){if((Ye&2)!==0&&Ve!==0)return Ve&-Ve;if(Y.T!==null){var r=Wr;return r!==0?r:Ef()}return gh()}function tg(){Cn===0&&(Cn=(Ve&536870912)===0||He?nr():536870912);var r=bn.current;return r!==null&&(r.flags|=32),Cn}function pn(r,o,a){(r===nt&&(Ke===2||Ke===9)||r.cancelPendingCommit!==null)&&(mo(r,0),Bi(r,Ve,Cn,!1)),Xn(r,a),((Ye&2)===0||r!==nt)&&(r===nt&&((Ye&2)===0&&(vr|=a),ht===4&&Bi(r,Ve,Cn,!1)),Fn(r))}function ng(r,o,a){if((Ye&6)!==0)throw Error(i(327));var d=!a&&(o&124)===0&&(o&r.expiredLanes)===0||Kt(r,o),g=d?Kx(r,o):Sf(r,o,!0),v=d;do{if(g===0){uo&&!d&&Bi(r,o,0,!1);break}else{if(a=r.current.alternate,v&&!Jx(a)){g=Sf(r,o,!1),v=!1;continue}if(g===2){if(v=o,r.errorRecoveryDisabledLanes&v)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var C=r;g=Ps;var M=C.current.memoizedState.isDehydrated;if(M&&(mo(C,S).flags|=256),S=Sf(C,S,!1),S!==2){if(hf&&!M){C.errorRecoveryDisabledLanes|=v,vr|=v,g=4;break e}v=tn,tn=g,v!==null&&(tn===null?tn=v:tn.push.apply(tn,v))}g=S}if(v=!1,g!==2)continue}}if(g===1){mo(r,0),Bi(r,o,0,!0);break}e:{switch(d=r,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Bi(d,o,Cn,!Pi);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=gf+300-xt(),10<g)){if(Bi(d,o,Cn,!Pi),ln(d,0,!0)!==0)break e;d.timeoutHandle=kg(ig.bind(null,d,a,tn,yl,pf,o,Cn,vr,co,Pi,v,2,-0,0),g);break e}ig(d,a,tn,yl,pf,o,Cn,vr,co,Pi,v,0,-0,0)}}break}while(!0);Fn(r)}function ig(r,o,a,d,g,v,S,C,M,z,W,te,H,J){if(r.timeoutHandle=-1,te=o.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(zs={stylesheets:null,count:0,unsuspend:RS},Zp(o),te=MS(),te!==null)){r.cancelPendingCommit=te(cg.bind(null,r,o,v,a,d,g,S,C,M,W,1,H,J)),Bi(r,v,S,!z);return}cg(r,o,v,a,d,g,S,C,M)}function Jx(r){for(var o=r;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var d=0;d<a.length;d++){var g=a[d],v=g.getSnapshot;g=g.value;try{if(!un(v(),g))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Bi(r,o,a,d){o&=~mf,o&=~vr,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var g=o;0<g;){var v=31-ut(g),S=1<<v;d[v]=-1,g&=~S}a!==0&&Ir(r,a,o)}function vl(){return(Ye&6)===0?(Os(0),!1):!0}function Tf(){if(Le!==null){if(Ke===0)var r=Le.return;else r=Le,ri=dr=null,Lc(r),oo=null,As=0,r=Le;for(;r!==null;)Lp(r.alternate,r),r=r.return;Le=null}}function mo(r,o){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,fS(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Tf(),nt=r,Le=a=ti(r.current,null),Ve=o,Ke=0,hn=null,Pi=!1,uo=Kt(r,o),hf=!1,co=Cn=mf=vr=Li=ht=0,tn=Ps=null,pf=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var g=31-ut(d),v=1<<g;o|=r[g],d&=~v}return di=o,Va(),a}function rg(r,o){De=null,Y.H=ol,o===vs||o===Ka?(o=xm(),Ke=3):o===vm?(o=xm(),Ke=4):Ke=o===Sp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,hn=o,Le===null&&(ht=1,cl(r,Tn(o,r.current)))}function og(){var r=Y.H;return Y.H=ol,r===null?ol:r}function sg(){var r=Y.A;return Y.A=Hx,r}function xf(){ht=4,Pi||(Ve&4194048)!==Ve&&bn.current!==null||(uo=!0),(Li&134217727)===0&&(vr&134217727)===0||nt===null||Bi(nt,Ve,Cn,!1)}function Sf(r,o,a){var d=Ye;Ye|=2;var g=og(),v=sg();(nt!==r||Ve!==o)&&(yl=null,mo(r,o)),o=!1;var S=ht;e:do try{if(Ke!==0&&Le!==null){var C=Le,M=hn;switch(Ke){case 8:Tf(),S=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(o=!0);var z=Ke;if(Ke=0,hn=null,po(r,C,M,z),a&&uo){S=0;break e}break;default:z=Ke,Ke=0,hn=null,po(r,C,M,z)}}Yx(),S=ht;break}catch(W){rg(r,W)}while(!0);return o&&r.shellSuspendCounter++,ri=dr=null,Ye=d,Y.H=g,Y.A=v,Le===null&&(nt=null,Ve=0,Va()),S}function Yx(){for(;Le!==null;)ag(Le)}function Kx(r,o){var a=Ye;Ye|=2;var d=og(),g=sg();nt!==r||Ve!==o?(yl=null,gl=xt()+500,mo(r,o)):uo=Kt(r,o);e:do try{if(Ke!==0&&Le!==null){o=Le;var v=hn;t:switch(Ke){case 1:Ke=0,hn=null,po(r,o,v,1);break;case 2:case 9:if(_m(v)){Ke=0,hn=null,lg(o);break}o=function(){Ke!==2&&Ke!==9||nt!==r||(Ke=7),Fn(r)},v.then(o,o);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:_m(v)?(Ke=0,hn=null,lg(o)):(Ke=0,hn=null,po(r,o,v,7));break;case 5:var S=null;switch(Le.tag){case 26:S=Le.memoizedState;case 5:case 27:var C=Le;if(!S||zg(S)){Ke=0,hn=null;var M=C.sibling;if(M!==null)Le=M;else{var z=C.return;z!==null?(Le=z,_l(z)):Le=null}break t}}Ke=0,hn=null,po(r,o,v,5);break;case 6:Ke=0,hn=null,po(r,o,v,6);break;case 8:Tf(),ht=6;break e;default:throw Error(i(462))}}Zx();break}catch(W){rg(r,W)}while(!0);return ri=dr=null,Y.H=d,Y.A=g,Ye=a,Le!==null?0:(nt=null,Ve=0,Va(),ht)}function Zx(){for(;Le!==null&&!Yt();)ag(Le)}function ag(r){var o=Ip(r.alternate,r,di);r.memoizedProps=r.pendingProps,o===null?_l(r):Le=o}function lg(r){var o=r,a=o.alternate;switch(o.tag){case 15:case 0:o=Rp(a,o,o.pendingProps,o.type,void 0,Ve);break;case 11:o=Rp(a,o,o.pendingProps,o.type.render,o.ref,Ve);break;case 5:Lc(o);default:Lp(a,o),o=Le=um(o,di),o=Ip(a,o,di)}r.memoizedProps=r.pendingProps,o===null?_l(r):Le=o}function po(r,o,a,d){ri=dr=null,Lc(o),oo=null,As=0;var g=o.return;try{if(Bx(r,g,o,a,Ve)){ht=1,cl(r,Tn(a,r.current)),Le=null;return}}catch(v){if(g!==null)throw Le=g,v;ht=1,cl(r,Tn(a,r.current)),Le=null;return}o.flags&32768?(He||d===1?r=!0:uo||(Ve&536870912)!==0?r=!1:(Pi=r=!0,(d===2||d===9||d===3||d===6)&&(d=bn.current,d!==null&&d.tag===13&&(d.flags|=16384))),ug(o,r)):_l(o)}function _l(r){var o=r;do{if((o.flags&32768)!==0){ug(o,Pi);return}r=o.return;var a=$x(o.alternate,o,di);if(a!==null){Le=a;return}if(o=o.sibling,o!==null){Le=o;return}Le=o=r}while(o!==null);ht===0&&(ht=5)}function ug(r,o){do{var a=Fx(r.alternate,r);if(a!==null){a.flags&=32767,Le=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(r=r.sibling,r!==null)){Le=r;return}Le=r=a}while(r!==null);ht=6,Le=null}function cg(r,o,a,d,g,v,S,C,M){r.cancelPendingCommit=null;do Tl();while(kt!==0);if((Ye&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=fc,qu(r,a,v,S,C,M),r===nt&&(Le=nt=null,Ve=0),fo=o,qi=r,ho=a,yf=v,vf=g,eg=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,eS(Ue,function(){return pg(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null,g=se.p,se.p=2,S=Ye,Ye|=4;try{zx(r,o,a)}finally{Ye=S,se.p=g,Y.T=d}}kt=1,fg(),dg(),hg()}}function fg(){if(kt===1){kt=0;var r=qi,o=fo,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var d=se.p;se.p=2;var g=Ye;Ye|=4;try{Jp(o,r);var v=If,S=Wh(r.containerInfo),C=v.focusedElem,M=v.selectionRange;if(S!==C&&C&&C.ownerDocument&&Xh(C.ownerDocument.documentElement,C)){if(M!==null&&sc(C)){var z=M.start,W=M.end;if(W===void 0&&(W=z),"selectionStart"in C)C.selectionStart=z,C.selectionEnd=Math.min(W,C.value.length);else{var te=C.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var J=H.getSelection(),Se=C.textContent.length,_e=Math.min(M.start,Se),et=M.end===void 0?_e:Math.min(M.end,Se);!J.extend&&_e>et&&(S=et,et=_e,_e=S);var $=Qh(C,_e),P=Qh(C,et);if($&&P&&(J.rangeCount!==1||J.anchorNode!==$.node||J.anchorOffset!==$.offset||J.focusNode!==P.node||J.focusOffset!==P.offset)){var F=te.createRange();F.setStart($.node,$.offset),J.removeAllRanges(),_e>et?(J.addRange(F),J.extend(P.node,P.offset)):(F.setEnd(P.node,P.offset),J.addRange(F))}}}}for(te=[],J=C;J=J.parentNode;)J.nodeType===1&&te.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<te.length;C++){var ee=te[C];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Dl=!!Uf,If=Uf=null}finally{Ye=g,se.p=d,Y.T=a}}r.current=o,kt=2}}function dg(){if(kt===2){kt=0;var r=qi,o=fo,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var d=se.p;se.p=2;var g=Ye;Ye|=4;try{zp(r,o.alternate,o)}finally{Ye=g,se.p=d,Y.T=a}}kt=3}}function hg(){if(kt===4||kt===3){kt=0,Qe();var r=qi,o=fo,a=ho,d=eg;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?kt=5:(kt=0,fo=qi=null,mg(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(Oi=null),Bu(a),o=o.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(he,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=Y.T,g=se.p,se.p=2,Y.T=null;try{for(var v=r.onRecoverableError,S=0;S<d.length;S++){var C=d[S];v(C.value,{componentStack:C.stack})}}finally{Y.T=o,se.p=g}}(ho&3)!==0&&Tl(),Fn(r),g=r.pendingLanes,(a&4194090)!==0&&(g&42)!==0?r===_f?Ls++:(Ls=0,_f=r):Ls=0,Os(0)}}function mg(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,gs(o)))}function Tl(r){return fg(),dg(),hg(),pg()}function pg(){if(kt!==5)return!1;var r=qi,o=yf;yf=0;var a=Bu(ho),d=Y.T,g=se.p;try{se.p=32>a?32:a,Y.T=null,a=vf,vf=null;var v=qi,S=ho;if(kt=0,fo=qi=null,ho=0,(Ye&6)!==0)throw Error(i(331));var C=Ye;if(Ye|=4,Xp(v.current),Kp(v,v.current,S,a),Ye=C,Os(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(he,v)}catch{}return!0}finally{se.p=g,Y.T=d,mg(r,o)}}function gg(r,o,a){o=Tn(a,o),o=Zc(r.stateNode,o,2),r=Ri(r,o,2),r!==null&&(Xn(r,2),Fn(r))}function tt(r,o,a){if(r.tag===3)gg(r,r,a);else for(;o!==null;){if(o.tag===3){gg(o,r,a);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Oi===null||!Oi.has(d))){r=Tn(a,r),a=Tp(2),d=Ri(o,a,2),d!==null&&(xp(a,d,o,r),Xn(d,2),Fn(d));break}}o=o.return}}function wf(r,o,a){var d=r.pingCache;if(d===null){d=r.pingCache=new jx;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(a)||(hf=!0,g.add(a),r=Qx.bind(null,r,o,a),o.then(r,r))}function Qx(r,o,a){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,nt===r&&(Ve&a)===a&&(ht===4||ht===3&&(Ve&62914560)===Ve&&300>xt()-gf?(Ye&2)===0&&mo(r,0):mf|=a,co===Ve&&(co=0)),Fn(r)}function yg(r,o){o===0&&(o=Zt()),r=Kr(r,o),r!==null&&(Xn(r,o),Fn(r))}function Xx(r){var o=r.memoizedState,a=0;o!==null&&(a=o.retryLane),yg(r,a)}function Wx(r,o){var a=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(a=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),yg(r,a)}function eS(r,o){return Ft(r,o)}var xl=null,go=null,bf=!1,Sl=!1,Cf=!1,_r=0;function Fn(r){r!==go&&r.next===null&&(go===null?xl=go=r:go=go.next=r),Sl=!0,bf||(bf=!0,nS())}function Os(r,o){if(!Cf&&Sl){Cf=!0;do for(var a=!1,d=xl;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var S=d.suspendedLanes,C=d.pingedLanes;v=(1<<31-ut(42|r)+1)-1,v&=g&~(S&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,xg(d,v))}else v=Ve,v=ln(d,d===nt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Kt(d,v)||(a=!0,xg(d,v));d=d.next}while(a);Cf=!1}}function tS(){vg()}function vg(){Sl=bf=!1;var r=0;_r!==0&&(cS()&&(r=_r),_r=0);for(var o=xt(),a=null,d=xl;d!==null;){var g=d.next,v=_g(d,o);v===0?(d.next=null,a===null?xl=g:a.next=g,g===null&&(go=a)):(a=d,(r!==0||(v&3)!==0)&&(Sl=!0)),d=g}Os(r)}function _g(r,o){for(var a=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var S=31-ut(v),C=1<<S,M=g[S];M===-1?((C&a)===0||(C&d)!==0)&&(g[S]=Si(C,o)):M<=o&&(r.expiredLanes|=C),v&=~C}if(o=nt,a=Ve,a=ln(r,r===o?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,a===0||r===o&&(Ke===2||Ke===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Tt(d),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Kt(r,a)){if(o=a&-a,o===r.callbackPriority)return o;switch(d!==null&&Tt(d),Bu(a)){case 2:case 8:a=st;break;case 32:a=Ue;break;case 268435456:a=ft;break;default:a=Ue}return d=Tg.bind(null,r),a=Ft(a,d),r.callbackPriority=o,r.callbackNode=a,o}return d!==null&&d!==null&&Tt(d),r.callbackPriority=2,r.callbackNode=null,2}function Tg(r,o){if(kt!==0&&kt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Tl()&&r.callbackNode!==a)return null;var d=Ve;return d=ln(r,r===nt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(ng(r,d,o),_g(r,xt()),r.callbackNode!=null&&r.callbackNode===a?Tg.bind(null,r):null)}function xg(r,o){if(Tl())return null;ng(r,o,!0)}function nS(){dS(function(){(Ye&6)!==0?Ft(Qn,tS):vg()})}function Ef(){return _r===0&&(_r=nr()),_r}function Sg(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ua(""+r)}function wg(r,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,r.id&&a.setAttribute("form",r.id),o.parentNode.insertBefore(a,o),r=new FormData(r),a.parentNode.removeChild(a),r}function iS(r,o,a,d,g){if(o==="submit"&&a&&a.stateNode===g){var v=Sg((g[Qt]||null).action),S=d.submitter;S&&(o=(o=S[Qt]||null)?Sg(o.formAction):S.getAttribute("formAction"),o!==null&&(v=o,S=null));var C=new Oa("action","action",null,d,g);r.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(_r!==0){var M=S?wg(g,S):new FormData(g);Hc(a,{pending:!0,data:M,method:g.method,action:v},null,M)}}else typeof v=="function"&&(C.preventDefault(),M=S?wg(g,S):new FormData(g),Hc(a,{pending:!0,data:M,method:g.method,action:v},v,M))},currentTarget:g}]})}}for(var Af=0;Af<cc.length;Af++){var Rf=cc[Af],rS=Rf.toLowerCase(),oS=Rf[0].toUpperCase()+Rf.slice(1);kn(rS,"on"+oS)}kn(nm,"onAnimationEnd"),kn(im,"onAnimationIteration"),kn(rm,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Sx,"onTransitionRun"),kn(wx,"onTransitionStart"),kn(bx,"onTransitionCancel"),kn(om,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qs));function bg(r,o){o=(o&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],g=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var S=d.length-1;0<=S;S--){var C=d[S],M=C.instance,z=C.currentTarget;if(C=C.listener,M!==v&&g.isPropagationStopped())break e;v=C,g.currentTarget=z;try{v(g)}catch(W){ul(W)}g.currentTarget=null,v=M}else for(S=0;S<d.length;S++){if(C=d[S],M=C.instance,z=C.currentTarget,C=C.listener,M!==v&&g.isPropagationStopped())break e;v=C,g.currentTarget=z;try{v(g)}catch(W){ul(W)}g.currentTarget=null,v=M}}}}function Oe(r,o){var a=o[Vu];a===void 0&&(a=o[Vu]=new Set);var d=r+"__bubble";a.has(d)||(Cg(o,r,2,!1),a.add(d))}function Nf(r,o,a){var d=0;o&&(d|=4),Cg(a,r,d,o)}var wl="_reactListening"+Math.random().toString(36).slice(2);function Mf(r){if(!r[wl]){r[wl]=!0,vh.forEach(function(a){a!=="selectionchange"&&(sS.has(a)||Nf(a,!1,r),Nf(a,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[wl]||(o[wl]=!0,Nf("selectionchange",!1,o))}}function Cg(r,o,a,d){switch(Kg(o)){case 2:var g=US;break;case 8:g=IS;break;default:g=Gf}a=g.bind(null,o,a,r),g=void 0,!Qu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(o,a,{capture:!0,passive:g}):r.addEventListener(o,a,!0):g!==void 0?r.addEventListener(o,a,{passive:g}):r.addEventListener(o,a,!1)}function kf(r,o,a,d,g){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var C=d.stateNode.containerInfo;if(C===g)break;if(S===4)for(S=d.return;S!==null;){var M=S.tag;if((M===3||M===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;C!==null;){if(S=Lr(C),S===null)return;if(M=S.tag,M===5||M===6||M===26||M===27){d=v=S;continue e}C=C.parentNode}}d=d.return}Dh(function(){var z=v,W=Ku(a),te=[];e:{var H=sm.get(r);if(H!==void 0){var J=Oa,Se=r;switch(r){case"keypress":if(Pa(a)===0)break e;case"keydown":case"keyup":J=ex;break;case"focusin":Se="focus",J=tc;break;case"focusout":Se="blur",J=tc;break;case"beforeblur":case"afterblur":J=tc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=FT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=ix;break;case nm:case im:case rm:J=HT;break;case om:J=ox;break;case"scroll":case"scrollend":J=VT;break;case"wheel":J=ax;break;case"copy":case"cut":case"paste":J=JT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Oh;break;case"toggle":case"beforetoggle":J=ux}var _e=(o&4)!==0,et=!_e&&(r==="scroll"||r==="scrollend"),$=_e?H!==null?H+"Capture":null:H;_e=[];for(var P=z,F;P!==null;){var ee=P;if(F=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||F===null||$===null||(ee=is(P,$),ee!=null&&_e.push(Bs(P,ee,F))),et)break;P=P.return}0<_e.length&&(H=new J(H,Se,null,a,W),te.push({event:H,listeners:_e}))}}if((o&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",H&&a!==Yu&&(Se=a.relatedTarget||a.fromElement)&&(Lr(Se)||Se[Pr]))break e;if((J||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,J?(Se=a.relatedTarget||a.toElement,J=z,Se=Se?Lr(Se):null,Se!==null&&(et=l(Se),_e=Se.tag,Se!==et||_e!==5&&_e!==27&&_e!==6)&&(Se=null)):(J=null,Se=z),J!==Se)){if(_e=Ph,ee="onMouseLeave",$="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(_e=Oh,ee="onPointerLeave",$="onPointerEnter",P="pointer"),et=J==null?H:ns(J),F=Se==null?H:ns(Se),H=new _e(ee,P+"leave",J,a,W),H.target=et,H.relatedTarget=F,ee=null,Lr(W)===z&&(_e=new _e($,P+"enter",Se,a,W),_e.target=F,_e.relatedTarget=et,ee=_e),et=ee,J&&Se)t:{for(_e=J,$=Se,P=0,F=_e;F;F=yo(F))P++;for(F=0,ee=$;ee;ee=yo(ee))F++;for(;0<P-F;)_e=yo(_e),P--;for(;0<F-P;)$=yo($),F--;for(;P--;){if(_e===$||$!==null&&_e===$.alternate)break t;_e=yo(_e),$=yo($)}_e=null}else _e=null;J!==null&&Eg(te,H,J,_e,!1),Se!==null&&et!==null&&Eg(te,et,Se,_e,!0)}}e:{if(H=z?ns(z):window,J=H.nodeName&&H.nodeName.toLowerCase(),J==="select"||J==="input"&&H.type==="file")var fe=Hh;else if(zh(H))if(jh)fe=_x;else{fe=yx;var Pe=gx}else J=H.nodeName,!J||J.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&Ju(z.elementType)&&(fe=Hh):fe=vx;if(fe&&(fe=fe(r,z))){Gh(te,fe,a,W);break e}Pe&&Pe(r,H,z),r==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&ju(H,"number",H.value)}switch(Pe=z?ns(z):window,r){case"focusin":(zh(Pe)||Pe.contentEditable==="true")&&(jr=Pe,ac=z,fs=null);break;case"focusout":fs=ac=jr=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,em(te,a,W);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":em(te,a,W)}var ge;if(ic)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Hr?$h(r,a)&&(Te="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(qh&&a.locale!=="ko"&&(Hr||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Hr&&(ge=Uh()):(bi=W,Xu="value"in bi?bi.value:bi.textContent,Hr=!0)),Pe=bl(z,Te),0<Pe.length&&(Te=new Lh(Te,r,null,a,W),te.push({event:Te,listeners:Pe}),ge?Te.data=ge:(ge=Fh(a),ge!==null&&(Te.data=ge)))),(ge=fx?dx(r,a):hx(r,a))&&(Te=bl(z,"onBeforeInput"),0<Te.length&&(Pe=new Lh("onBeforeInput","beforeinput",null,a,W),te.push({event:Pe,listeners:Te}),Pe.data=ge)),iS(te,r,z,a,W)}bg(te,o)})}function Bs(r,o,a){return{instance:r,listener:o,currentTarget:a}}function bl(r,o){for(var a=o+"Capture",d=[];r!==null;){var g=r,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=is(r,a),g!=null&&d.unshift(Bs(r,g,v)),g=is(r,o),g!=null&&d.push(Bs(r,g,v))),r.tag===3)return d;r=r.return}return[]}function yo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Eg(r,o,a,d,g){for(var v=o._reactName,S=[];a!==null&&a!==d;){var C=a,M=C.alternate,z=C.stateNode;if(C=C.tag,M!==null&&M===d)break;C!==5&&C!==26&&C!==27||z===null||(M=z,g?(z=is(a,v),z!=null&&S.unshift(Bs(a,z,M))):g||(z=is(a,v),z!=null&&S.push(Bs(a,z,M)))),a=a.return}S.length!==0&&r.push({event:o,listeners:S})}var aS=/\r\n?/g,lS=/\u0000|\uFFFD/g;function Ag(r){return(typeof r=="string"?r:""+r).replace(aS,`
`).replace(lS,"")}function Rg(r,o){return o=Ag(o),Ag(r)===o}function Cl(){}function We(r,o,a,d,g,v){switch(a){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Fr(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Fr(r,""+d);break;case"className":Ma(r,"class",d);break;case"tabIndex":Ma(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ma(r,a,d);break;case"style":Mh(r,d,v);break;case"data":if(o!=="object"){Ma(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||a!=="href")){r.removeAttribute(a);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(a);break}d=Ua(""+d),r.setAttribute(a,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(o!=="input"&&We(r,o,"name",g.name,g,null),We(r,o,"formEncType",g.formEncType,g,null),We(r,o,"formMethod",g.formMethod,g,null),We(r,o,"formTarget",g.formTarget,g,null)):(We(r,o,"encType",g.encType,g,null),We(r,o,"method",g.method,g,null),We(r,o,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(a);break}d=Ua(""+d),r.setAttribute(a,d);break;case"onClick":d!=null&&(r.onclick=Cl);break;case"onScroll":d!=null&&Oe("scroll",r);break;case"onScrollEnd":d!=null&&Oe("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}a=Ua(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(a,""+d):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":d===!0?r.setAttribute(a,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(a,d):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(a,d):r.removeAttribute(a);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(a):r.setAttribute(a,d);break;case"popover":Oe("beforetoggle",r),Oe("toggle",r),Na(r,"popover",d);break;case"xlinkActuate":Wn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Wn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Wn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Wn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Wn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Wn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Na(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qT.get(a)||a,Na(r,a,d))}}function Df(r,o,a,d,g,v){switch(a){case"style":Mh(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof d=="string"?Fr(r,d):(typeof d=="number"||typeof d=="bigint")&&Fr(r,""+d);break;case"onScroll":d!=null&&Oe("scroll",r);break;case"onScrollEnd":d!=null&&Oe("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Cl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_h.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),o=a.slice(2,g?a.length-7:void 0),v=r[Qt]||null,v=v!=null?v[a]:null,typeof v=="function"&&r.removeEventListener(o,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(o,d,g);break e}a in r?r[a]=d:d===!0?r.setAttribute(a,""):Na(r,a,d)}}}function Dt(r,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",r),Oe("load",r);var d=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var S=a[v];if(S!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:We(r,o,v,S,a,null)}}g&&We(r,o,"srcSet",a.srcSet,a,null),d&&We(r,o,"src",a.src,a,null);return;case"input":Oe("invalid",r);var C=v=S=g=null,M=null,z=null;for(d in a)if(a.hasOwnProperty(d)){var W=a[d];if(W!=null)switch(d){case"name":g=W;break;case"type":S=W;break;case"checked":M=W;break;case"defaultChecked":z=W;break;case"value":v=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,o));break;default:We(r,o,d,W,a,null)}}Eh(r,v,C,M,z,S,g,!1),ka(r);return;case"select":Oe("invalid",r),d=S=v=null;for(g in a)if(a.hasOwnProperty(g)&&(C=a[g],C!=null))switch(g){case"value":v=C;break;case"defaultValue":S=C;break;case"multiple":d=C;default:We(r,o,g,C,a,null)}o=v,a=S,r.multiple=!!d,o!=null?$r(r,!!d,o,!1):a!=null&&$r(r,!!d,a,!0);return;case"textarea":Oe("invalid",r),v=g=d=null;for(S in a)if(a.hasOwnProperty(S)&&(C=a[S],C!=null))switch(S){case"value":d=C;break;case"defaultValue":g=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:We(r,o,S,C,a,null)}Rh(r,d,g,v),ka(r);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(d=a[M],d!=null))switch(M){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:We(r,o,M,d,a,null)}return;case"dialog":Oe("beforetoggle",r),Oe("toggle",r),Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":Oe("load",r);break;case"video":case"audio":for(d=0;d<qs.length;d++)Oe(qs[d],r);break;case"image":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"embed":case"source":case"link":Oe("error",r),Oe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(d=a[z],d!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:We(r,o,z,d,a,null)}return;default:if(Ju(o)){for(W in a)a.hasOwnProperty(W)&&(d=a[W],d!==void 0&&Df(r,o,W,d,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(d=a[C],d!=null&&We(r,o,C,d,a,null))}function uS(r,o,a,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,S=null,C=null,M=null,z=null,W=null;for(J in a){var te=a[J];if(a.hasOwnProperty(J)&&te!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":M=te;default:d.hasOwnProperty(J)||We(r,o,J,null,d,te)}}for(var H in d){var J=d[H];if(te=a[H],d.hasOwnProperty(H)&&(J!=null||te!=null))switch(H){case"type":v=J;break;case"name":g=J;break;case"checked":z=J;break;case"defaultChecked":W=J;break;case"value":S=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,o));break;default:J!==te&&We(r,o,H,J,d,te)}}Hu(r,S,C,M,z,W,v,g);return;case"select":J=S=C=H=null;for(v in a)if(M=a[v],a.hasOwnProperty(v)&&M!=null)switch(v){case"value":break;case"multiple":J=M;default:d.hasOwnProperty(v)||We(r,o,v,null,d,M)}for(g in d)if(v=d[g],M=a[g],d.hasOwnProperty(g)&&(v!=null||M!=null))switch(g){case"value":H=v;break;case"defaultValue":C=v;break;case"multiple":S=v;default:v!==M&&We(r,o,g,v,d,M)}o=C,a=S,d=J,H!=null?$r(r,!!a,H,!1):!!d!=!!a&&(o!=null?$r(r,!!a,o,!0):$r(r,!!a,a?[]:"",!1));return;case"textarea":J=H=null;for(C in a)if(g=a[C],a.hasOwnProperty(C)&&g!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:We(r,o,C,null,d,g)}for(S in d)if(g=d[S],v=a[S],d.hasOwnProperty(S)&&(g!=null||v!=null))switch(S){case"value":H=g;break;case"defaultValue":J=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&We(r,o,S,g,d,v)}Ah(r,H,J);return;case"option":for(var Se in a)if(H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!d.hasOwnProperty(Se))switch(Se){case"selected":r.selected=!1;break;default:We(r,o,Se,null,d,H)}for(M in d)if(H=d[M],J=a[M],d.hasOwnProperty(M)&&H!==J&&(H!=null||J!=null))switch(M){case"selected":r.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(r,o,M,H,d,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!d.hasOwnProperty(_e)&&We(r,o,_e,null,d,H);for(z in d)if(H=d[z],J=a[z],d.hasOwnProperty(z)&&H!==J&&(H!=null||J!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,o));break;default:We(r,o,z,H,d,J)}return;default:if(Ju(o)){for(var et in a)H=a[et],a.hasOwnProperty(et)&&H!==void 0&&!d.hasOwnProperty(et)&&Df(r,o,et,void 0,d,H);for(W in d)H=d[W],J=a[W],!d.hasOwnProperty(W)||H===J||H===void 0&&J===void 0||Df(r,o,W,H,d,J);return}}for(var $ in a)H=a[$],a.hasOwnProperty($)&&H!=null&&!d.hasOwnProperty($)&&We(r,o,$,null,d,H);for(te in d)H=d[te],J=a[te],!d.hasOwnProperty(te)||H===J||H==null&&J==null||We(r,o,te,H,d,J)}var Uf=null,If=null;function El(r){return r.nodeType===9?r:r.ownerDocument}function Ng(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mg(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Pf(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Lf=null;function cS(){var r=window.event;return r&&r.type==="popstate"?r===Lf?!1:(Lf=r,!0):(Lf=null,!1)}var kg=typeof setTimeout=="function"?setTimeout:void 0,fS=typeof clearTimeout=="function"?clearTimeout:void 0,Dg=typeof Promise=="function"?Promise:void 0,dS=typeof queueMicrotask=="function"?queueMicrotask:typeof Dg<"u"?function(r){return Dg.resolve(null).then(r).catch(hS)}:kg;function hS(r){setTimeout(function(){throw r})}function Vi(r){return r==="head"}function Ug(r,o){var a=o,d=0,g=0;do{var v=a.nextSibling;if(r.removeChild(a),v&&v.nodeType===8)if(a=v.data,a==="/$"){if(0<d&&8>d){a=d;var S=r.ownerDocument;if(a&1&&Vs(S.documentElement),a&2&&Vs(S.body),a&4)for(a=S.head,Vs(a),S=a.firstChild;S;){var C=S.nextSibling,M=S.nodeName;S[ts]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&S.rel.toLowerCase()==="stylesheet"||a.removeChild(S),S=C}}if(g===0){r.removeChild(v),Ys(o);return}g--}else a==="$"||a==="$?"||a==="$!"?g++:d=a.charCodeAt(0)-48;else d=0;a=v}while(a);Ys(o)}function Of(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Of(a),$u(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function mS(r,o,a,d){for(;r.nodeType===1;){var g=a;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[ts])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Un(r.nextSibling),r===null)break}return null}function pS(r,o,a){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Un(r.nextSibling),r===null))return null;return r}function qf(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function gS(r,o){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")o();else{var d=function(){o(),a.removeEventListener("DOMContentLoaded",d)};a.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Un(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Bf=null;function Ig(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return r;o--}else a==="/$"&&o++}r=r.previousSibling}return null}function Pg(r,o,a){switch(o=El(a),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Vs(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);$u(r)}var En=new Map,Lg=new Set;function Al(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var hi=se.d;se.d={f:yS,r:vS,D:_S,C:TS,L:xS,m:SS,X:bS,S:wS,M:CS};function yS(){var r=hi.f(),o=vl();return r||o}function vS(r){var o=Or(r);o!==null&&o.tag===5&&o.type==="form"?np(o):hi.r(r)}var vo=typeof document>"u"?null:document;function Og(r,o,a){var d=vo;if(d&&typeof o=="string"&&o){var g=_n(o);g='link[rel="'+r+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),Lg.has(g)||(Lg.add(g),r={rel:r,crossOrigin:a,href:o},d.querySelector(g)===null&&(o=d.createElement("link"),Dt(o,"link",r),bt(o),d.head.appendChild(o)))}}function _S(r){hi.D(r),Og("dns-prefetch",r,null)}function TS(r,o){hi.C(r,o),Og("preconnect",r,o)}function xS(r,o,a){hi.L(r,o,a);var d=vo;if(d&&r&&o){var g='link[rel="preload"][as="'+_n(o)+'"]';o==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+_n(a.imageSizes)+'"]')):g+='[href="'+_n(r)+'"]';var v=g;switch(o){case"style":v=_o(r);break;case"script":v=To(r)}En.has(v)||(r=y({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:r,as:o},a),En.set(v,r),d.querySelector(g)!==null||o==="style"&&d.querySelector($s(v))||o==="script"&&d.querySelector(Fs(v))||(o=d.createElement("link"),Dt(o,"link",r),bt(o),d.head.appendChild(o)))}}function SS(r,o){hi.m(r,o);var a=vo;if(a&&r){var d=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+_n(d)+'"][href="'+_n(r)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=To(r)}if(!En.has(v)&&(r=y({rel:"modulepreload",href:r},o),En.set(v,r),a.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fs(v)))return}d=a.createElement("link"),Dt(d,"link",r),bt(d),a.head.appendChild(d)}}}function wS(r,o,a){hi.S(r,o,a);var d=vo;if(d&&r){var g=qr(d).hoistableStyles,v=_o(r);o=o||"default";var S=g.get(v);if(!S){var C={loading:0,preload:null};if(S=d.querySelector($s(v)))C.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":o},a),(a=En.get(v))&&Vf(r,a);var M=S=d.createElement("link");bt(M),Dt(M,"link",r),M._p=new Promise(function(z,W){M.onload=z,M.onerror=W}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Rl(S,o,d)}S={type:"stylesheet",instance:S,count:1,state:C},g.set(v,S)}}}function bS(r,o){hi.X(r,o);var a=vo;if(a&&r){var d=qr(a).hoistableScripts,g=To(r),v=d.get(g);v||(v=a.querySelector(Fs(g)),v||(r=y({src:r,async:!0},o),(o=En.get(g))&&$f(r,o),v=a.createElement("script"),bt(v),Dt(v,"link",r),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function CS(r,o){hi.M(r,o);var a=vo;if(a&&r){var d=qr(a).hoistableScripts,g=To(r),v=d.get(g);v||(v=a.querySelector(Fs(g)),v||(r=y({src:r,async:!0,type:"module"},o),(o=En.get(g))&&$f(r,o),v=a.createElement("script"),bt(v),Dt(v,"link",r),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function qg(r,o,a,d){var g=(g=oe.current)?Al(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=_o(a.href),a=qr(g).hoistableStyles,d=a.get(o),d||(d={type:"style",instance:null,count:0,state:null},a.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=_o(a.href);var v=qr(g).hoistableStyles,S=v.get(r);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,S),(v=g.querySelector($s(r)))&&!v._p&&(S.instance=v,S.state.loading=5),En.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},En.set(r,a),v||ES(g,r,a,S.state))),o&&d===null)throw Error(i(528,""));return S}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=To(a),a=qr(g).hoistableScripts,d=a.get(o),d||(d={type:"script",instance:null,count:0,state:null},a.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function _o(r){return'href="'+_n(r)+'"'}function $s(r){return'link[rel="stylesheet"]['+r+"]"}function Bg(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function ES(r,o,a,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Dt(o,"link",a),bt(o),r.head.appendChild(o))}function To(r){return'[src="'+_n(r)+'"]'}function Fs(r){return"script[async]"+r}function Vg(r,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+_n(a.href)+'"]');if(d)return o.instance=d,bt(d),d;var g=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),bt(d),Dt(d,"style",g),Rl(d,a.precedence,r),o.instance=d;case"stylesheet":g=_o(a.href);var v=r.querySelector($s(g));if(v)return o.state.loading|=4,o.instance=v,bt(v),v;d=Bg(a),(g=En.get(g))&&Vf(d,g),v=(r.ownerDocument||r).createElement("link"),bt(v);var S=v;return S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),Dt(v,"link",d),o.state.loading|=4,Rl(v,a.precedence,r),o.instance=v;case"script":return v=To(a.src),(g=r.querySelector(Fs(v)))?(o.instance=g,bt(g),g):(d=a,(g=En.get(v))&&(d=y({},a),$f(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),bt(g),Dt(g,"link",d),r.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Rl(d,a.precedence,r));return o.instance}function Rl(r,o,a){for(var d=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,S=0;S<d.length;S++){var C=d[S];if(C.dataset.precedence===o)v=C;else if(v!==g)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(r,o.firstChild))}function Vf(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function $f(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Nl=null;function $g(r,o,a){if(Nl===null){var d=new Map,g=Nl=new Map;g.set(a,d)}else g=Nl,d=g.get(a),d||(d=new Map,g.set(a,d));if(d.has(r))return d;for(d.set(r,null),a=a.getElementsByTagName(r),g=0;g<a.length;g++){var v=a[g];if(!(v[ts]||v[Lt]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(o)||"";S=r+S;var C=d.get(S);C?C.push(v):d.set(S,[v])}}return d}function Fg(r,o,a){r=r.ownerDocument||r,r.head.insertBefore(a,o==="title"?r.querySelector("head > title"):null)}function AS(r,o,a){if(a===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function zg(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var zs=null;function RS(){}function NS(r,o,a){if(zs===null)throw Error(i(475));var d=zs;if(o.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=_o(a.href),v=r.querySelector($s(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Ml.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=v,bt(v);return}v=r.ownerDocument||r,a=Bg(a),(g=En.get(g))&&Vf(a,g),v=v.createElement("link"),bt(v);var S=v;S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),Dt(v,"link",a),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Ml.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function MS(){if(zs===null)throw Error(i(475));var r=zs;return r.stylesheets&&r.count===0&&Ff(r,r.stylesheets),0<r.count?function(o){var a=setTimeout(function(){if(r.stylesheets&&Ff(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Ml(){if(this.count--,this.count===0){if(this.stylesheets)Ff(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var kl=null;function Ff(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,kl=new Map,o.forEach(kS,r),kl=null,Ml.call(r))}function kS(r,o){if(!(o.state.loading&4)){var a=kl.get(r);if(a)var d=a.get(null);else{a=new Map,kl.set(r,a);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var S=g[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),d=S)}d&&a.set(null,d)}g=o.instance,S=g.getAttribute("data-precedence"),v=a.get(S)||d,v===d&&a.set(null,g),a.set(S,g),this.count++,d=Ml.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),o.state.loading|=4}}var Gs={$$typeof:U,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function DS(r,o,a,d,g,v,S,C){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Gg(r,o,a,d,g,v,S,C,M,z,W,te){return r=new DS(r,o,a,S,C,M,z,te),o=1,v===!0&&(o|=24),v=cn(3,null,null,o),r.current=v,v.stateNode=r,o=Sc(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:a,cache:o},Ec(v),r}function Hg(r){return r?(r=Zr,r):Zr}function jg(r,o,a,d,g,v){g=Hg(g),d.context===null?d.context=g:d.pendingContext=g,d=Ai(o),d.payload={element:a},v=v===void 0?null:v,v!==null&&(d.callback=v),a=Ri(r,d,o),a!==null&&(pn(a,r,o),Ts(a,r,o))}function Jg(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<o?a:o}}function zf(r,o){Jg(r,o),(r=r.alternate)&&Jg(r,o)}function Yg(r){if(r.tag===13){var o=Kr(r,67108864);o!==null&&pn(o,r,67108864),zf(r,67108864)}}var Dl=!0;function US(r,o,a,d){var g=Y.T;Y.T=null;var v=se.p;try{se.p=2,Gf(r,o,a,d)}finally{se.p=v,Y.T=g}}function IS(r,o,a,d){var g=Y.T;Y.T=null;var v=se.p;try{se.p=8,Gf(r,o,a,d)}finally{se.p=v,Y.T=g}}function Gf(r,o,a,d){if(Dl){var g=Hf(d);if(g===null)kf(r,o,d,Ul,a),Zg(r,d);else if(LS(g,r,o,a,d))d.stopPropagation();else if(Zg(r,d),o&4&&-1<PS.indexOf(r)){for(;g!==null;){var v=Or(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Ht(v.pendingLanes);if(S!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var M=1<<31-ut(S);C.entanglements[1]|=M,S&=~M}Fn(v),(Ye&6)===0&&(gl=xt()+500,Os(0))}}break;case 13:C=Kr(v,2),C!==null&&pn(C,v,2),vl(),zf(v,2)}if(v=Hf(d),v===null&&kf(r,o,d,Ul,a),v===g)break;g=v}g!==null&&d.stopPropagation()}else kf(r,o,d,null,a)}}function Hf(r){return r=Ku(r),jf(r)}var Ul=null;function jf(r){if(Ul=null,r=Lr(r),r!==null){var o=l(r);if(o===null)r=null;else{var a=o.tag;if(a===13){if(r=c(o),r!==null)return r;r=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Ul=r,null}function Kg(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(On()){case Qn:return 2;case st:return 8;case Ue:case Ge:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Jf=!1,$i=null,Fi=null,zi=null,Hs=new Map,js=new Map,Gi=[],PS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zg(r,o){switch(r){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Hs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(o.pointerId)}}function Js(r,o,a,d,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:a,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},o!==null&&(o=Or(o),o!==null&&Yg(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function LS(r,o,a,d,g){switch(o){case"focusin":return $i=Js($i,r,o,a,d,g),!0;case"dragenter":return Fi=Js(Fi,r,o,a,d,g),!0;case"mouseover":return zi=Js(zi,r,o,a,d,g),!0;case"pointerover":var v=g.pointerId;return Hs.set(v,Js(Hs.get(v)||null,r,o,a,d,g)),!0;case"gotpointercapture":return v=g.pointerId,js.set(v,Js(js.get(v)||null,r,o,a,d,g)),!0}return!1}function Qg(r){var o=Lr(r.target);if(o!==null){var a=l(o);if(a!==null){if(o=a.tag,o===13){if(o=c(a),o!==null){r.blockedOn=o,NT(r.priority,function(){if(a.tag===13){var d=mn();d=es(d);var g=Kr(a,d);g!==null&&pn(g,a,d),zf(a,d)}});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Il(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var a=Hf(r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);Yu=d,a.target.dispatchEvent(d),Yu=null}else return o=Or(a),o!==null&&Yg(o),r.blockedOn=a,!1;o.shift()}return!0}function Xg(r,o,a){Il(r)&&a.delete(o)}function OS(){Jf=!1,$i!==null&&Il($i)&&($i=null),Fi!==null&&Il(Fi)&&(Fi=null),zi!==null&&Il(zi)&&(zi=null),Hs.forEach(Xg),js.forEach(Xg)}function Pl(r,o){r.blockedOn===o&&(r.blockedOn=null,Jf||(Jf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OS)))}var Ll=null;function Wg(r){Ll!==r&&(Ll=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ll===r&&(Ll=null);for(var o=0;o<r.length;o+=3){var a=r[o],d=r[o+1],g=r[o+2];if(typeof d!="function"){if(jf(d||a)===null)continue;break}var v=Or(a);v!==null&&(r.splice(o,3),o-=3,Hc(v,{pending:!0,data:g,method:a.method,action:d},d,g))}}))}function Ys(r){function o(M){return Pl(M,r)}$i!==null&&Pl($i,r),Fi!==null&&Pl(Fi,r),zi!==null&&Pl(zi,r),Hs.forEach(o),js.forEach(o);for(var a=0;a<Gi.length;a++){var d=Gi[a];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Gi.length&&(a=Gi[0],a.blockedOn===null);)Qg(a),a.blockedOn===null&&Gi.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(d=0;d<a.length;d+=3){var g=a[d],v=a[d+1],S=g[Qt]||null;if(typeof v=="function")S||Wg(a);else if(S){var C=null;if(v&&v.hasAttribute("formAction")){if(g=v,S=v[Qt]||null)C=S.formAction;else if(jf(g)!==null)continue}else C=S.action;typeof C=="function"?a[d+1]=C:(a.splice(d,3),d-=3),Wg(a)}}}function Yf(r){this._internalRoot=r}Ol.prototype.render=Yf.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var a=o.current,d=mn();jg(a,d,r,o,null,null)},Ol.prototype.unmount=Yf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;jg(r.current,2,null,r,null,null),vl(),o[Pr]=null}};function Ol(r){this._internalRoot=r}Ol.prototype.unstable_scheduleHydration=function(r){if(r){var o=gh();r={blockedOn:null,target:r,priority:o};for(var a=0;a<Gi.length&&o!==0&&o<Gi[a].priority;a++);Gi.splice(a,0,r),a===0&&Qg(r)}};var ey=e.version;if(ey!=="19.1.0")throw Error(i(527,ey,"19.1.0"));se.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var qS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{he=ql.inject(qS),ye=ql}catch{}}return Zs.createRoot=function(r,o){if(!s(r))throw Error(i(299));var a=!1,d="",g=gp,v=yp,S=vp,C=null;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks)),o=Gg(r,1,!1,null,null,a,d,g,v,S,C,null),r[Pr]=o.current,Mf(r),new Yf(o)},Zs.hydrateRoot=function(r,o,a){if(!s(r))throw Error(i(299));var d=!1,g="",v=gp,S=yp,C=vp,M=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),o=Gg(r,1,!0,o,a??null,d,g,v,S,C,M,z),o.context=Hg(null),a=o.current,d=mn(),d=es(d),g=Ai(d),g.callback=null,Ri(a,g,d),a=d,o.current.lanes=a,Xn(o,a),Fn(o),r[Pr]=o.current,Mf(r),new Ol(o)},Zs.version="19.1.0",Zs}var cy;function ZS(){if(cy)return Zf.exports;cy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zf.exports=KS(),Zf.exports}var QS=ZS(),N=Yd(),Qs={},fy;function XS(){if(fy)return Qs;fy=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.parse=c,Qs.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,b){const w=new l,R=x.length;if(R<2)return w;const A=(b==null?void 0:b.decode)||y;let k=0;do{const L=x.indexOf("=",k);if(L===-1)break;const U=x.indexOf(";",k),D=U===-1?R:U;if(L>D){k=x.lastIndexOf(";",L-1)+1;continue}const V=h(x,k,L),Z=p(x,L,V),Q=x.slice(V,Z);if(w[Q]===void 0){let ne=h(x,L+1,D),G=p(x,D,ne);const I=A(x.slice(ne,G));w[Q]=I}k=D+1}while(k<R);return w}function h(x,b,w){do{const R=x.charCodeAt(b);if(R!==32&&R!==9)return b}while(++b<w);return w}function p(x,b,w){for(;b>w;){const R=x.charCodeAt(--b);if(R!==32&&R!==9)return b+1}return w}function m(x,b,w){const R=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const A=R(b);if(!e.test(A))throw new TypeError(`argument val is invalid: ${b}`);let k=x+"="+A;if(!w)return k;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);k+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);k+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);k+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);k+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(k+="; HttpOnly"),w.secure&&(k+="; Secure"),w.partitioned&&(k+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return k}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function _(x){return s.call(x)==="[object Date]"}return Qs}XS();var dy="popstate";function WS(t={}){function e(i,s){let{pathname:l,search:c,hash:h}=i.location;return md("",{pathname:l,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:fa(s)}return tw(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ew(){return Math.random().toString(36).substring(2,10)}function hy(t,e){return{usr:t.state,key:t.key,idx:e}}function md(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:n,key:e&&e.key||i||ew()}}function fa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function tw(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let A=y(),k=A==null?null:A-m;m=A,p&&p({action:h,location:R.location,delta:k})}function x(A,k){h="PUSH";let L=md(R.location,A,k);m=y()+1;let U=hy(L,m),D=R.createHref(L);try{c.pushState(U,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(D)}l&&p&&p({action:h,location:R.location,delta:1})}function b(A,k){h="REPLACE";let L=md(R.location,A,k);m=y();let U=hy(L,m),D=R.createHref(L);c.replaceState(U,"",D),l&&p&&p({action:h,location:R.location,delta:0})}function w(A){return nw(A)}let R={get action(){return h},get location(){return t(s,c)},listen(A){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(dy,_),p=A,()=>{s.removeEventListener(dy,_),p=null}},createHref(A){return e(s,A)},createURL:w,encodeLocation(A){let k=w(A);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:b,go(A){return c.go(A)}};return R}function nw(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:fa(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function q0(t,e,n="/"){return iw(t,e,n,!1)}function iw(t,e,n,i){let s=typeof e=="string"?zo(e):e,l=yi(s.pathname||"/",n);if(l==null)return null;let c=B0(t);rw(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=$0(l);h=hw(c[p],m,i)}return h}function B0(t,e=[],n=[],i=""){let s=(l,c,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=gi([i,p.relativePath]),y=n.concat(p);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),B0(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:fw(m,l.index),routesMeta:y})};return t.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))s(l,c);else for(let p of V0(l.path))s(l,c,p)}),e}function V0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=V0(i.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function rw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dw(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var ow=/^:[\w-]+$/,sw=3,aw=2,lw=1,uw=10,cw=-2,my=t=>t==="*";function fw(t,e){let n=t.split("/"),i=n.length;return n.some(my)&&(i+=cw),e&&(i+=aw),n.filter(s=>!my(s)).reduce((s,l)=>s+(ow.test(l)?sw:l===""?lw:uw),i)}function dw(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function hw(t,e,n=!1){let{routesMeta:i}=t,s={},l="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],m=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=da({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),x=p.route;if(!_&&m&&n&&!i[i.length-1].route.index&&(_=da({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:gi([l,_.pathname]),pathnameBase:vw(gi([l,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(l=gi([l,_.pathnameBase]))}return c}function da(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=mw(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},x)=>{if(y==="*"){let w=h[x]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=h[x];return _&&!b?m[y]=void 0:m[y]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function mw(t,e=!1,n=!0){Yn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function $0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function pw(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?zo(t):t;return{pathname:n?n.startsWith("/")?n:gw(n,e):e,search:_w(i),hash:Tw(s)}}function gw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function td(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function F0(t){let e=yw(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function z0(t,e,n,i=!1){let s;typeof t=="string"?s=zo(t):(s={...t},lt(!s.pathname||!s.pathname.includes("?"),td("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),td("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),td("#","search","hash",s)));let l=t===""||s.pathname==="",c=l?"/":s.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),_-=1;s.pathname=x.join("/")}h=_>=0?e[_]:"/"}let p=pw(s,h),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var gi=t=>t.join("/").replace(/\/\/+/g,"/"),vw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_w=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var G0=["POST","PUT","PATCH","DELETE"];new Set(G0);var Sw=["GET",...G0];new Set(Sw);var Go=N.createContext(null);Go.displayName="DataRouter";var gu=N.createContext(null);gu.displayName="DataRouterState";var H0=N.createContext({isTransitioning:!1});H0.displayName="ViewTransition";var ww=N.createContext(new Map);ww.displayName="Fetchers";var bw=N.createContext(null);bw.displayName="Await";var Zn=N.createContext(null);Zn.displayName="Navigation";var ya=N.createContext(null);ya.displayName="Location";var _i=N.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var Kd=N.createContext(null);Kd.displayName="RouteError";function Cw(t,{relative:e}={}){lt(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(Zn),{hash:s,pathname:l,search:c}=va(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:gi([n,l])),i.createHref({pathname:h,search:c,hash:s})}function Ho(){return N.useContext(ya)!=null}function Wi(){return lt(Ho(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(ya).location}function j0(t){lt(Ho(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=Wi();return N.useMemo(()=>da(t,$0(e)),[e,t])}var J0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y0(t){N.useContext(Zn).static||N.useLayoutEffect(t)}function er(){let{isDataRoute:t}=N.useContext(_i);return t?qw():Ew()}function Ew(){lt(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Go),{basename:e,navigator:n}=N.useContext(Zn),{matches:i}=N.useContext(_i),{pathname:s}=Wi(),l=JSON.stringify(F0(i)),c=N.useRef(!1);return Y0(()=>{c.current=!0}),N.useCallback((p,m={})=>{if(Yn(c.current,J0),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=z0(p,JSON.parse(l),s,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:gi([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,s,t])}N.createContext(null);function va(t,{relative:e}={}){let{matches:n}=N.useContext(_i),{pathname:i}=Wi(),s=JSON.stringify(F0(n));return N.useMemo(()=>z0(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function Aw(t,e){return K0(t,e)}function K0(t,e,n,i){var k;lt(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(Zn),{matches:l}=N.useContext(_i),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let L=y&&y.path||"";Z0(p,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Wi(),x;if(e){let L=typeof e=="string"?zo(e):e;lt(m==="/"||((k=L.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${L.pathname}" was given in the \`location\` prop.`),x=L}else x=_;let b=x.pathname||"/",w=b;if(m!=="/"){let L=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(L.length).join("/")}let R=q0(t,{pathname:w});Yn(y||R!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Yn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Dw(R&&R.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:gi([m,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:gi([m,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,n,i);return e&&A?N.createElement(ya.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},A):A}function Rw(){let t=Ow(),e=xw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,c)}var Nw=N.createElement(Rw,null),Mw=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(_i.Provider,{value:this.props.routeContext},N.createElement(Kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kw({routeContext:t,match:e,children:n}){let i=N.useContext(Go);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(_i.Provider,{value:t},n)}function Dw(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n==null?void 0:n.errors;if(l!=null){let p=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,h=-1;if(n)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:_}=n,x=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||x){c=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((p,m,y)=>{let _,x=!1,b=null,w=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||Nw,c&&(h<0&&y===0?(Z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):h===y&&(x=!0,w=m.route.hydrateFallbackElement||null)));let R=e.concat(s.slice(0,y+1)),A=()=>{let k;return _?k=b:x?k=w:m.route.Component?k=N.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=p,N.createElement(kw,{match:m,routeContext:{outlet:p,matches:R,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?N.createElement(Mw,{location:n.location,revalidation:n.revalidation,component:b,error:_,children:A(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):A()},null)}function Zd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uw(t){let e=N.useContext(Go);return lt(e,Zd(t)),e}function Iw(t){let e=N.useContext(gu);return lt(e,Zd(t)),e}function Pw(t){let e=N.useContext(_i);return lt(e,Zd(t)),e}function Qd(t){let e=Pw(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Lw(){return Qd("useRouteId")}function Ow(){var i;let t=N.useContext(Kd),e=Iw("useRouteError"),n=Qd("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function qw(){let{router:t}=Uw("useNavigate"),e=Qd("useNavigate"),n=N.useRef(!1);return Y0(()=>{n.current=!0}),N.useCallback(async(s,l={})=>{Yn(n.current,J0),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...l}))},[t,e])}var py={};function Z0(t,e,n){!e&&!py[t]&&(py[t]=!0,Yn(!1,n))}N.memo(Bw);function Bw({routes:t,future:e,state:n}){return K0(t,void 0,n,e)}function Ut(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vw({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:l=!1}){lt(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=zo(n));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:x="default"}=n,b=N.useMemo(()=>{let w=yi(p,c);return w==null?null:{location:{pathname:w,search:m,hash:y,state:_,key:x},navigationType:i}},[c,p,m,y,_,x,i]);return Yn(b!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:N.createElement(Zn.Provider,{value:h},N.createElement(ya.Provider,{children:e,value:b}))}function $w({children:t,location:e}){return Aw(pd(t),e)}function pd(t,e=[]){let n=[];return N.Children.forEach(t,(i,s)=>{if(!N.isValidElement(i))return;let l=[...e,s];if(i.type===N.Fragment){n.push.apply(n,pd(i.props.children,l));return}lt(i.type===Ut,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=pd(i.props.children,l)),n.push(c)}),n}var Kl="get",Zl="application/x-www-form-urlencoded";function yu(t){return t!=null&&typeof t.tagName=="string"}function Fw(t){return yu(t)&&t.tagName.toLowerCase()==="button"}function zw(t){return yu(t)&&t.tagName.toLowerCase()==="form"}function Gw(t){return yu(t)&&t.tagName.toLowerCase()==="input"}function Hw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jw(t,e){return t.button===0&&(!e||e==="_self")&&!Hw(t)}var Bl=null;function Jw(){if(Bl===null)try{new FormData(document.createElement("form"),0),Bl=!1}catch{Bl=!0}return Bl}var Yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nd(t){return t!=null&&!Yw.has(t)?(Yn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zl}"`),null):t}function Kw(t,e){let n,i,s,l,c;if(zw(t)){let h=t.getAttribute("action");i=h?yi(h,e):null,n=t.getAttribute("method")||Kl,s=nd(t.getAttribute("enctype"))||Zl,l=new FormData(t)}else if(Fw(t)||Gw(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(i=p?yi(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Kl,s=nd(t.getAttribute("formenctype"))||nd(h.getAttribute("enctype"))||Zl,l=new FormData(h,t),!Jw()){let{name:m,type:y,value:_}=t;if(y==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,_)}}else{if(yu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kl,i=null,s=Zl,c=t}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:l,body:c}}function Xd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Zw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Xw(t,e,n){let i=await Promise.all(t.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await Zw(l,n);return c.links?c.links():[]}return[]}));return nb(i.flat(1).filter(Qw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function gy(t,e,n,i,s,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):l==="data"?e.filter((p,m)=>{var _;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Ww(t,e,{includeHydrateFallback:n}={}){return eb(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function eb(t){return[...new Set(t)]}function tb(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function nb(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let l=JSON.stringify(tb(s));return n.has(l)||(n.add(l),i.push({key:l,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ib=new Set([100,101,204,205]);function rb(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&yi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Q0(){let t=N.useContext(Go);return Xd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ob(){let t=N.useContext(gu);return Xd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wd=N.createContext(void 0);Wd.displayName="FrameworkContext";function X0(){let t=N.useContext(Wd);return Xd(t,"You must render this element inside a <HydratedRouter> element"),t}function sb(t,e){let n=N.useContext(Wd),[i,s]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=k=>{k.forEach(L=>{c(L.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return x.current&&A.observe(x.current),()=>{A.disconnect()}}},[t]),N.useEffect(()=>{if(i){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[i]);let b=()=>{s(!0)},w=()=>{s(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Xs(h,b),onBlur:Xs(p,w),onMouseEnter:Xs(m,b),onMouseLeave:Xs(y,w),onTouchStart:Xs(_,b)}]:[!1,x,{}]}function Xs(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ab({page:t,...e}){let{router:n}=Q0(),i=N.useMemo(()=>q0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(ub,{page:t,matches:i,...e}):null}function lb(t){let{manifest:e,routeModules:n}=X0(),[i,s]=N.useState([]);return N.useEffect(()=>{let l=!1;return Xw(t,e,n).then(c=>{l||s(c)}),()=>{l=!0}},[t,e,n]),i}function ub({page:t,matches:e,...n}){let i=Wi(),{manifest:s,routeModules:l}=X0(),{basename:c}=Q0(),{loaderData:h,matches:p}=ob(),m=N.useMemo(()=>gy(t,e,p,s,i,"data"),[t,e,p,s,i]),y=N.useMemo(()=>gy(t,e,p,s,i,"assets"),[t,e,p,s,i]),_=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let w=new Set,R=!1;if(e.forEach(k=>{var U;let L=s.routes[k.route.id];!L||!L.hasLoader||(!m.some(D=>D.route.id===k.route.id)&&k.route.id in h&&((U=l[k.route.id])!=null&&U.shouldRevalidate)||L.hasClientLoader?R=!0:w.add(k.route.id))}),w.size===0)return[];let A=rb(t,c);return R&&w.size>0&&A.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[A.pathname+A.search]},[c,h,i,s,m,e,t,l]),x=N.useMemo(()=>Ww(y,s),[y,s]),b=lb(y);return N.createElement(N.Fragment,null,_.map(w=>N.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>N.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:R})=>N.createElement("link",{key:w,...R})))}function cb(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var W0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W0&&(window.__reactRouterVersion="7.6.3")}catch{}function fb({basename:t,children:e,window:n}){let i=N.useRef();i.current==null&&(i.current=WS({window:n,v5Compat:!0}));let s=i.current,[l,c]=N.useState({action:s.action,location:s.location}),h=N.useCallback(p=>{N.startTransition(()=>c(p))},[c]);return N.useLayoutEffect(()=>s.listen(h),[s,h]),N.createElement(Vw,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s})}var e_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:_,...x},b){let{basename:w}=N.useContext(Zn),R=typeof m=="string"&&e_.test(m),A,k=!1;if(typeof m=="string"&&R&&(A=m,W0))try{let G=new URL(window.location.href),I=m.startsWith("//")?new URL(G.protocol+m):new URL(m),ae=yi(I.pathname,w);I.origin===G.origin&&ae!=null?m=ae+I.search+I.hash:k=!0}catch{Yn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=Cw(m,{relative:s}),[U,D,V]=sb(i,x),Z=pb(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:s,viewTransition:_});function Q(G){e&&e(G),G.defaultPrevented||Z(G)}let ne=N.createElement("a",{...x,...V,href:A||L,onClick:k||l?e:Q,ref:cb(b,D),target:p,"data-discover":!R&&n==="render"?"true":void 0});return U&&!R?N.createElement(N.Fragment,null,ne,N.createElement(ab,{page:L})):ne});ot.displayName="Link";var db=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:h,children:p,...m},y){let _=va(c,{relative:m.relative}),x=Wi(),b=N.useContext(gu),{navigator:w,basename:R}=N.useContext(Zn),A=b!=null&&Tb(_)&&h===!0,k=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,L=x.pathname,U=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(L=L.toLowerCase(),U=U?U.toLowerCase():null,k=k.toLowerCase()),U&&R&&(U=yi(U,R)||U);const D=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let V=L===k||!s&&L.startsWith(k)&&L.charAt(D)==="/",Z=U!=null&&(U===k||!s&&U.startsWith(k)&&U.charAt(k.length)==="/"),Q={isActive:V,isPending:Z,isTransitioning:A},ne=V?e:void 0,G;typeof i=="function"?G=i(Q):G=[i,V?"active":null,Z?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(Q):l;return N.createElement(ot,{...m,"aria-current":ne,className:G,ref:y,style:I,to:c,viewTransition:h},typeof p=="function"?p(Q):p)});db.displayName="NavLink";var hb=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:l,method:c=Kl,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...x},b)=>{let w=vb(),R=_b(h,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&e_.test(h),L=U=>{if(p&&p(U),U.defaultPrevented)return;U.preventDefault();let D=U.nativeEvent.submitter,V=(D==null?void 0:D.getAttribute("formmethod"))||c;w(D||U.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:s,state:l,relative:m,preventScrollReset:y,viewTransition:_})};return N.createElement("form",{ref:b,method:A,action:R,onSubmit:i?p:L,...x,"data-discover":!k&&t==="render"?"true":void 0})});hb.displayName="Form";function mb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t_(t){let e=N.useContext(Go);return lt(e,mb(t)),e}function pb(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let h=er(),p=Wi(),m=va(t,{relative:l});return N.useCallback(y=>{if(jw(y,e)){y.preventDefault();let _=n!==void 0?n:fa(p)===fa(m);h(t,{replace:_,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[p,h,m,n,i,e,t,s,l,c])}var gb=0,yb=()=>`__${String(++gb)}__`;function vb(){let{router:t}=t_("useSubmit"),{basename:e}=N.useContext(Zn),n=Lw();return N.useCallback(async(i,s={})=>{let{action:l,method:c,encType:h,formData:p,body:m}=Kw(i,e);if(s.navigate===!1){let y=s.fetcherKey||yb();await t.fetch(y,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function _b(t,{relative:e}={}){let{basename:n}=N.useContext(Zn),i=N.useContext(_i);lt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...va(t||".",{relative:e})},c=Wi();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:gi([n,l.pathname])),fa(l)}function Tb(t,e={}){let n=N.useContext(H0);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=t_("useViewTransitionState"),s=va(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=yi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=yi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return da(s.pathname,c)!=null||da(s.pathname,l)!=null}[...ib];const xb=({user:t})=>T.jsxs("div",{className:"min-h-screen flex flex-col items-center px-6 py-24 text-center overflow-hidden",children:[T.jsxs("div",{className:"max-w-4xl animate-fade-in-up",children:[T.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white leading-tight mb-6 drop-shadow-md",children:"Welcome to Libertyville High School Science Olympiad"}),T.jsx("p",{className:"text-lg sm:text-xl bg-white/20 text-orange-50 font-medium rounded-xl shadow-lg p-5 max-w-4xl mx-auto mb-15 backdrop-blur-md",children:"Join the community, access events, practice tests, and excel in Science Olympiad!"}),T.jsx("div",{className:"mb-16 animate-fade-in-up animation-delay-200",children:t?T.jsx(ot,{to:"/events",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Events & Resources"}):T.jsx(ot,{to:"/signup",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Get Started"})})]}),T.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 w-full max-w-4xl animate-fade-in-up animation-delay-400",children:[T.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[T.jsx("div",{className:"text-5xl mb-4",children:"🎯"}),T.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Track Your Progress"}),T.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Monitor your performance and improve with feedback."})]}),T.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[T.jsx("div",{className:"text-5xl mb-4",children:"📚"}),T.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Practice Tests"}),T.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Access curated practice tests tailored for Science Olympiad events."})]})]})]}),Sb=t=>{const[e,n]=N.useState(""),[i,s]=N.useState(""),l=async c=>{c.preventDefault(),await t.handleSignIn({email:e,password:i})&&(n(""),s(""))};return T.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign in to LHS Scioly"}),T.jsxs("form",{onSubmit:l,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),T.jsx("input",{value:e,onChange:({target:c})=>n(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),T.jsx("input",{type:"password",value:i,onChange:({target:c})=>s(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign In"}),T.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline mt-2",children:T.jsx(ot,{to:"/signup",children:"Don't have an account? Sign Up"})}),T.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:T.jsx(ot,{to:"/forgot",children:"Forgot password?"})})]})]})},wb=t=>{const[e,n]=N.useState(""),[i,s]=N.useState(""),[l,c]=N.useState(""),[h,p]=N.useState(""),[m,y]=N.useState(""),[_,x]=N.useState(""),[b,w]=N.useState(!1);er();const R=async A=>{if(A.preventDefault(),h!==m){t.setError("passwords do not match"),setTimeout(()=>{t.setError(null)},3e3);return}await t.handleSignUp({email:e,firstName:i,lastName:l,password:h,adminKey:_})&&(n(""),s(""),c(""),p(""),y(""),x(""))};return T.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign up for LHS Scioly"}),T.jsxs("form",{onSubmit:R,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),T.jsx("input",{value:e,onChange:({target:A})=>n(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"First Name"}),T.jsx("input",{value:i,onChange:({target:A})=>s(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Last Name"}),T.jsx("input",{value:l,onChange:({target:A})=>c(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),T.jsx("input",{type:"password",value:h,onChange:({target:A})=>p(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Confirm Password"}),T.jsx("input",{type:"password",value:m,onChange:({target:A})=>y(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),b?T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Admin Key"}),T.jsx("input",{type:"password",value:_,onChange:({target:A})=>x(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"}),T.jsx("button",{type:"button",onClick:()=>w(!1),className:"text-orange-600 hover:underline",children:"Cancel"})]}):T.jsx("div",{children:T.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-orange-600 hover:underline",children:"I am a Coach or Captain"})}),T.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign Up"}),T.jsxs("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:["Already have an account? ",T.jsx(ot,{to:"/signin",children:"Sign In"})]})]})]})},bb=t=>{const[e,n]=N.useState(!1),[i,s]=N.useState(t.event.name),[l,c]=N.useState(t.event.block),[h,p]=N.useState(t.event.group),[m,y]=N.useState(t.event.description),[_,x]=N.useState(""),[b,w]=N.useState(t.event.resources),R=async L=>{L.preventDefault(),await t.editEvent(t.event.id,{name:i,group:h,block:l,description:m,resources:b}),n(!1)},A=async()=>{await t.deleteEvent(t.event.id)},k=()=>{_.trim()&&(w(b.concat(_.trim())),x(""))};return e?T.jsx("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:T.jsxs("form",{onSubmit:R,children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("div",{className:"mb-1",children:T.jsx("input",{value:i,onChange:({target:L})=>s(L.value),className:"text-lg font-semibold text-orange-700 px-2 py-1 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",children:"Save"}),T.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:()=>{n(!1),s(t.event.name),c(t.event.block),p(t.event.group),y(t.event.description),x(""),w(t.event.resources)},children:"Cancel"})]})]}),T.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[T.jsx("label",{className:"font-medium block mb-1",children:"Category"}),T.jsxs("select",{name:"category",value:h,onChange:({target:L})=>p(L.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[T.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),T.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),T.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),T.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),T.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),T.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),T.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[T.jsx("label",{className:"font-medium block mb-1",children:"Block"}),T.jsxs("select",{name:"block",value:l,onChange:({target:L})=>c(L.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[T.jsx("option",{value:"",children:"Self Schedule"}),T.jsx("option",{value:"1",children:"Block 1"}),T.jsx("option",{value:"2",children:"Block 2"}),T.jsx("option",{value:"3",children:"Block 3"}),T.jsx("option",{value:"4",children:"Block 4"}),T.jsx("option",{value:"5",children:"Block 5"})]})]}),T.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[T.jsx("label",{className:"font-medium block mb-1",children:"Description:"}),T.jsx("textarea",{value:m,onChange:({target:L})=>y(L.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",rows:4})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(L=>T.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[T.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:L}),T.jsx("button",{type:"button",onClick:()=>w(b.filter(U=>U!==L)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:"×"})]},L))})]}),T.jsxs("div",{className:"pt-3",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{value:_,onChange:({target:L})=>x(L.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),T.jsx("button",{onClick:k,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]})]})}):T.jsxs("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-1",children:t.event.name}),t.user&&t.user.admin?T.jsxs("div",{className:"flex justify-between gap-2",children:[T.jsx("button",{className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-orange-700 transition",onClick:()=>n(!0),children:"Edit"}),T.jsx("button",{className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:A,children:"Delete"})]}):null]}),T.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[T.jsx("span",{className:"font-medium",children:"Category:"})," ",t.event.group]}),T.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[T.jsx("span",{className:"font-medium",children:"Block:"})," ",t.event.block===""?"Self Schedule":t.event.block]}),T.jsxs("p",{className:"text-sm text-gray-800 mb-3",children:[T.jsx("span",{className:"font-medium",children:"Description:"})," ",t.event.description]}),t.user?T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:t.event.resources.map(L=>T.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:L},L))})]}):null]})};function n_(t,e){return function(){return t.apply(e,arguments)}}const{toString:Cb}=Object.prototype,{getPrototypeOf:eh}=Object,{iterator:vu,toStringTag:i_}=Symbol,_u=(t=>e=>{const n=Cb.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ln=t=>(t=t.toLowerCase(),e=>_u(e)===t),Tu=t=>e=>typeof e===t,{isArray:jo}=Array,ha=Tu("undefined");function Eb(t){return t!==null&&!ha(t)&&t.constructor!==null&&!ha(t.constructor)&&on(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const r_=Ln("ArrayBuffer");function Ab(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&r_(t.buffer),e}const Rb=Tu("string"),on=Tu("function"),o_=Tu("number"),xu=t=>t!==null&&typeof t=="object",Nb=t=>t===!0||t===!1,Ql=t=>{if(_u(t)!=="object")return!1;const e=eh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(i_ in t)&&!(vu in t)},Mb=Ln("Date"),kb=Ln("File"),Db=Ln("Blob"),Ub=Ln("FileList"),Ib=t=>xu(t)&&on(t.pipe),Pb=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||on(t.append)&&((e=_u(t))==="formdata"||e==="object"&&on(t.toString)&&t.toString()==="[object FormData]"))},Lb=Ln("URLSearchParams"),[Ob,qb,Bb,Vb]=["ReadableStream","Request","Response","Headers"].map(Ln),$b=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _a(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),jo(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let h;for(i=0;i<c;i++)h=l[i],e.call(null,t[h],h,t)}}function s_(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,a_=t=>!ha(t)&&t!==br;function gd(){const{caseless:t}=a_(this)&&this||{},e={},n=(i,s)=>{const l=t&&s_(e,s)||s;Ql(e[l])&&Ql(i)?e[l]=gd(e[l],i):Ql(i)?e[l]=gd({},i):jo(i)?e[l]=i.slice():e[l]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&_a(arguments[i],n);return e}const Fb=(t,e,n,{allOwnKeys:i}={})=>(_a(e,(s,l)=>{n&&on(s)?t[l]=n_(s,n):t[l]=s},{allOwnKeys:i}),t),zb=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Gb=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Hb=(t,e,n,i)=>{let s,l,c;const h={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),l=s.length;l-- >0;)c=s[l],(!i||i(c,t,e))&&!h[c]&&(e[c]=t[c],h[c]=!0);t=n!==!1&&eh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},jb=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},Jb=t=>{if(!t)return null;if(jo(t))return t;let e=t.length;if(!o_(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Yb=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&eh(Uint8Array)),Kb=(t,e)=>{const i=(t&&t[vu]).call(t);let s;for(;(s=i.next())&&!s.done;){const l=s.value;e.call(t,l[0],l[1])}},Zb=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},Qb=Ln("HTMLFormElement"),Xb=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),yy=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Wb=Ln("RegExp"),l_=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};_a(n,(s,l)=>{let c;(c=e(s,l,t))!==!1&&(i[l]=c||s)}),Object.defineProperties(t,i)},eC=t=>{l_(t,(e,n)=>{if(on(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(on(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},tC=(t,e)=>{const n={},i=s=>{s.forEach(l=>{n[l]=!0})};return jo(t)?i(t):i(String(t).split(e)),n},nC=()=>{},iC=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function rC(t){return!!(t&&on(t.append)&&t[i_]==="FormData"&&t[vu])}const oC=t=>{const e=new Array(10),n=(i,s)=>{if(xu(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const l=jo(i)?[]:{};return _a(i,(c,h)=>{const p=n(c,s+1);!ha(p)&&(l[h]=p)}),e[s]=void 0,l}}return i};return n(t,0)},sC=Ln("AsyncFunction"),aC=t=>t&&(xu(t)||on(t))&&on(t.then)&&on(t.catch),u_=((t,e)=>t?setImmediate:e?((n,i)=>(br.addEventListener("message",({source:s,data:l})=>{s===br&&l===n&&i.length&&i.shift()()},!1),s=>{i.push(s),br.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",on(br.postMessage)),lC=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||u_,uC=t=>t!=null&&on(t[vu]),K={isArray:jo,isArrayBuffer:r_,isBuffer:Eb,isFormData:Pb,isArrayBufferView:Ab,isString:Rb,isNumber:o_,isBoolean:Nb,isObject:xu,isPlainObject:Ql,isReadableStream:Ob,isRequest:qb,isResponse:Bb,isHeaders:Vb,isUndefined:ha,isDate:Mb,isFile:kb,isBlob:Db,isRegExp:Wb,isFunction:on,isStream:Ib,isURLSearchParams:Lb,isTypedArray:Yb,isFileList:Ub,forEach:_a,merge:gd,extend:Fb,trim:$b,stripBOM:zb,inherits:Gb,toFlatObject:Hb,kindOf:_u,kindOfTest:Ln,endsWith:jb,toArray:Jb,forEachEntry:Kb,matchAll:Zb,isHTMLForm:Qb,hasOwnProperty:yy,hasOwnProp:yy,reduceDescriptors:l_,freezeMethods:eC,toObjectSet:tC,toCamelCase:Xb,noop:nC,toFiniteNumber:iC,findKey:s_,global:br,isContextDefined:a_,isSpecCompliantForm:rC,toJSONObject:oC,isAsyncFn:sC,isThenable:aC,setImmediate:u_,asap:lC,isIterable:uC};function Re(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}K.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const c_=Re.prototype,f_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{f_[t]={value:t}});Object.defineProperties(Re,f_);Object.defineProperty(c_,"isAxiosError",{value:!0});Re.from=(t,e,n,i,s,l)=>{const c=Object.create(c_);return K.toFlatObject(t,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),Re.call(c,t.message,e,n,i,s),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};const cC=null;function yd(t){return K.isPlainObject(t)||K.isArray(t)}function d_(t){return K.endsWith(t,"[]")?t.slice(0,-2):t}function vy(t,e,n){return t?t.concat(e).map(function(s,l){return s=d_(s),!n&&l?"["+s+"]":s}).join(n?".":""):e}function fC(t){return K.isArray(t)&&!t.some(yd)}const dC=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function Su(t,e,n){if(!K.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,A){return!K.isUndefined(A[R])});const i=n.metaTokens,s=n.visitor||y,l=n.dots,c=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(s))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(K.isDate(w))return w.toISOString();if(K.isBoolean(w))return w.toString();if(!p&&K.isBlob(w))throw new Re("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(w)||K.isTypedArray(w)?p&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function y(w,R,A){let k=w;if(w&&!A&&typeof w=="object"){if(K.endsWith(R,"{}"))R=i?R:R.slice(0,-2),w=JSON.stringify(w);else if(K.isArray(w)&&fC(w)||(K.isFileList(w)||K.endsWith(R,"[]"))&&(k=K.toArray(w)))return R=d_(R),k.forEach(function(U,D){!(K.isUndefined(U)||U===null)&&e.append(c===!0?vy([R],D,l):c===null?R:R+"[]",m(U))}),!1}return yd(w)?!0:(e.append(vy(A,R,l),m(w)),!1)}const _=[],x=Object.assign(dC,{defaultVisitor:y,convertValue:m,isVisitable:yd});function b(w,R){if(!K.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+R.join("."));_.push(w),K.forEach(w,function(k,L){(!(K.isUndefined(k)||k===null)&&s.call(e,k,K.isString(L)?L.trim():L,R,x))===!0&&b(k,R?R.concat(L):[L])}),_.pop()}}if(!K.isObject(t))throw new TypeError("data must be an object");return b(t),e}function _y(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function th(t,e){this._pairs=[],t&&Su(t,this,e)}const h_=th.prototype;h_.append=function(e,n){this._pairs.push([e,n])};h_.toString=function(e){const n=e?function(i){return e.call(this,i,_y)}:_y;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function hC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function m_(t,e,n){if(!e)return t;const i=n&&n.encode||hC;K.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let l;if(s?l=s(e,n):l=K.isURLSearchParams(e)?e.toString():new th(e,n).toString(i),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Ty{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(i){i!==null&&e(i)})}}const p_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mC=typeof URLSearchParams<"u"?URLSearchParams:th,pC=typeof FormData<"u"?FormData:null,gC=typeof Blob<"u"?Blob:null,yC={isBrowser:!0,classes:{URLSearchParams:mC,FormData:pC,Blob:gC},protocols:["http","https","file","blob","url","data"]},nh=typeof window<"u"&&typeof document<"u",vd=typeof navigator=="object"&&navigator||void 0,vC=nh&&(!vd||["ReactNative","NativeScript","NS"].indexOf(vd.product)<0),_C=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TC=nh&&window.location.href||"http://localhost",xC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nh,hasStandardBrowserEnv:vC,hasStandardBrowserWebWorkerEnv:_C,navigator:vd,origin:TC},Symbol.toStringTag,{value:"Module"})),Vt={...xC,...yC};function SC(t,e){return Su(t,new Vt.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,l){return Vt.isNode&&K.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function wC(t){return K.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bC(t){const e={},n=Object.keys(t);let i;const s=n.length;let l;for(i=0;i<s;i++)l=n[i],e[l]=t[l];return e}function g_(t){function e(n,i,s,l){let c=n[l++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=l>=n.length;return c=!c&&K.isArray(s)?s.length:c,p?(K.hasOwnProp(s,c)?s[c]=[s[c],i]:s[c]=i,!h):((!s[c]||!K.isObject(s[c]))&&(s[c]=[]),e(n,i,s[c],l)&&K.isArray(s[c])&&(s[c]=bC(s[c])),!h)}if(K.isFormData(t)&&K.isFunction(t.entries)){const n={};return K.forEachEntry(t,(i,s)=>{e(wC(i),s,n,0)}),n}return null}function CC(t,e,n){if(K.isString(t))try{return(e||JSON.parse)(t),K.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Ta={transitional:p_,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,l=K.isObject(e);if(l&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return s?JSON.stringify(g_(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e)||K.isReadableStream(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return SC(e,this.formSerializer).toString();if((h=K.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Su(h?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||s?(n.setContentType("application/json",!1),CC(e)):e}],transformResponse:[function(e){const n=this.transitional||Ta.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(K.isResponse(e)||K.isReadableStream(e))return e;if(e&&K.isString(e)&&(i&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?Re.from(h,Re.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vt.classes.FormData,Blob:Vt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],t=>{Ta.headers[t]={}});const EC=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),AC=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),i=c.substring(s+1).trim(),!(!n||e[n]&&EC[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},xy=Symbol("internals");function Ws(t){return t&&String(t).trim().toLowerCase()}function Xl(t){return t===!1||t==null?t:K.isArray(t)?t.map(Xl):String(t)}function RC(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const NC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function id(t,e,n,i,s){if(K.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!K.isString(e)){if(K.isString(i))return e.indexOf(i)!==-1;if(K.isRegExp(i))return i.test(e)}}function MC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function kC(t,e){const n=K.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,l,c){return this[i].call(this,e,s,l,c)},configurable:!0})})}let sn=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function l(h,p,m){const y=Ws(p);if(!y)throw new Error("header name must be a non-empty string");const _=K.findKey(s,y);(!_||s[_]===void 0||m===!0||m===void 0&&s[_]!==!1)&&(s[_||p]=Xl(h))}const c=(h,p)=>K.forEach(h,(m,y)=>l(m,y,p));if(K.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(K.isString(e)&&(e=e.trim())&&!NC(e))c(AC(e),n);else if(K.isObject(e)&&K.isIterable(e)){let h={},p,m;for(const y of e){if(!K.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[m=y[0]]=(p=h[m])?K.isArray(p)?[...p,y[1]]:[p,y[1]]:y[1]}c(h,n)}else e!=null&&l(n,e,i);return this}get(e,n){if(e=Ws(e),e){const i=K.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return RC(s);if(K.isFunction(n))return n.call(this,s,i);if(K.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ws(e),e){const i=K.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||id(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function l(c){if(c=Ws(c),c){const h=K.findKey(i,c);h&&(!n||id(i,i[h],h,n))&&(delete i[h],s=!0)}}return K.isArray(e)?e.forEach(l):l(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const l=n[i];(!e||id(this,this[l],l,e,!0))&&(delete this[l],s=!0)}return s}normalize(e){const n=this,i={};return K.forEach(this,(s,l)=>{const c=K.findKey(i,l);if(c){n[c]=Xl(s),delete n[l];return}const h=e?MC(l):String(l).trim();h!==l&&delete n[l],n[h]=Xl(s),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return K.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&K.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[xy]=this[xy]={accessors:{}}).accessors,s=this.prototype;function l(c){const h=Ws(c);i[h]||(kC(s,c),i[h]=!0)}return K.isArray(e)?e.forEach(l):l(e),this}};sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(sn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});K.freezeMethods(sn);function rd(t,e){const n=this||Ta,i=e||n,s=sn.from(i.headers);let l=i.data;return K.forEach(t,function(h){l=h.call(n,l,s.normalize(),e?e.status:void 0)}),s.normalize(),l}function y_(t){return!!(t&&t.__CANCEL__)}function Jo(t,e,n){Re.call(this,t??"canceled",Re.ERR_CANCELED,e,n),this.name="CanceledError"}K.inherits(Jo,Re,{__CANCEL__:!0});function v_(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Re("Request failed with status code "+n.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function DC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function UC(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,l=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),y=i[l];c||(c=m),n[s]=p,i[s]=m;let _=l,x=0;for(;_!==s;)x+=n[_++],_=_%t;if(s=(s+1)%t,s===l&&(l=(l+1)%t),m-c<e)return;const b=y&&m-y;return b?Math.round(x*1e3/b):void 0}}function IC(t,e){let n=0,i=1e3/e,s,l;const c=(m,y=Date.now())=>{n=y,s=null,l&&(clearTimeout(l),l=null),t.apply(null,m)};return[(...m)=>{const y=Date.now(),_=y-n;_>=i?c(m,y):(s=m,l||(l=setTimeout(()=>{l=null,c(s)},i-_)))},()=>s&&c(s)]}const ru=(t,e,n=3)=>{let i=0;const s=UC(50,250);return IC(l=>{const c=l.loaded,h=l.lengthComputable?l.total:void 0,p=c-i,m=s(p),y=c<=h;i=c;const _={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&y?(h-c)/m:void 0,event:l,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(_)},n)},Sy=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},wy=t=>(...e)=>K.asap(()=>t(...e)),PC=Vt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Vt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Vt.origin),Vt.navigator&&/(msie|trident)/i.test(Vt.navigator.userAgent)):()=>!0,LC=Vt.hasStandardBrowserEnv?{write(t,e,n,i,s,l){const c=[t+"="+encodeURIComponent(e)];K.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),K.isString(i)&&c.push("path="+i),K.isString(s)&&c.push("domain="+s),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function qC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function __(t,e,n){let i=!OC(e);return t&&(i||n==!1)?qC(t,e):e}const by=t=>t instanceof sn?{...t}:t;function Ar(t,e){e=e||{};const n={};function i(m,y,_,x){return K.isPlainObject(m)&&K.isPlainObject(y)?K.merge.call({caseless:x},m,y):K.isPlainObject(y)?K.merge({},y):K.isArray(y)?y.slice():y}function s(m,y,_,x){if(K.isUndefined(y)){if(!K.isUndefined(m))return i(void 0,m,_,x)}else return i(m,y,_,x)}function l(m,y){if(!K.isUndefined(y))return i(void 0,y)}function c(m,y){if(K.isUndefined(y)){if(!K.isUndefined(m))return i(void 0,m)}else return i(void 0,y)}function h(m,y,_){if(_ in e)return i(m,y);if(_ in t)return i(void 0,m)}const p={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(m,y,_)=>s(by(m),by(y),_,!0)};return K.forEach(Object.keys(Object.assign({},t,e)),function(y){const _=p[y]||s,x=_(t[y],e[y],y);K.isUndefined(x)&&_!==h||(n[y]=x)}),n}const T_=t=>{const e=Ar({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:l,headers:c,auth:h}=e;e.headers=c=sn.from(c),e.url=m_(__(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(K.isFormData(n)){if(Vt.hasStandardBrowserEnv||Vt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...y]=p?p.split(";").map(_=>_.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...y].join("; "))}}if(Vt.hasStandardBrowserEnv&&(i&&K.isFunction(i)&&(i=i(e)),i||i!==!1&&PC(e.url))){const m=s&&l&&LC.read(l);m&&c.set(s,m)}return e},BC=typeof XMLHttpRequest<"u",VC=BC&&function(t){return new Promise(function(n,i){const s=T_(t);let l=s.data;const c=sn.from(s.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=s,y,_,x,b,w;function R(){b&&b(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(y),s.signal&&s.signal.removeEventListener("abort",y)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function k(){if(!A)return;const U=sn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),V={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:U,config:t,request:A};v_(function(Q){n(Q),R()},function(Q){i(Q),R()},V),A=null}"onloadend"in A?A.onloadend=k:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(k)},A.onabort=function(){A&&(i(new Re("Request aborted",Re.ECONNABORTED,t,A)),A=null)},A.onerror=function(){i(new Re("Network Error",Re.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const V=s.transitional||p_;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),i(new Re(D,V.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,t,A)),A=null},l===void 0&&c.setContentType(null),"setRequestHeader"in A&&K.forEach(c.toJSON(),function(D,V){A.setRequestHeader(V,D)}),K.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),h&&h!=="json"&&(A.responseType=s.responseType),m&&([x,w]=ru(m,!0),A.addEventListener("progress",x)),p&&A.upload&&([_,b]=ru(p),A.upload.addEventListener("progress",_),A.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(y=U=>{A&&(i(!U||U.type?new Jo(null,t,A):U),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(y),s.signal&&(s.signal.aborted?y():s.signal.addEventListener("abort",y)));const L=DC(s.url);if(L&&Vt.protocols.indexOf(L)===-1){i(new Re("Unsupported protocol "+L+":",Re.ERR_BAD_REQUEST,t));return}A.send(l||null)})},$C=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const l=function(m){if(!s){s=!0,h();const y=m instanceof Error?m:this.reason;i.abort(y instanceof Re?y:new Jo(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,l(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const h=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),t=null)};t.forEach(m=>m.addEventListener("abort",l));const{signal:p}=i;return p.unsubscribe=()=>K.asap(h),p}},FC=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},zC=async function*(t,e){for await(const n of GC(t))yield*FC(n,e)},GC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},Cy=(t,e,n,i)=>{const s=zC(t,e);let l=0,c,h=p=>{c||(c=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:y}=await s.next();if(m){h(),p.close();return}let _=y.byteLength;if(n){let x=l+=_;n(x)}p.enqueue(new Uint8Array(y))}catch(m){throw h(m),m}},cancel(p){return h(p),s.return()}},{highWaterMark:2})},wu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",x_=wu&&typeof ReadableStream=="function",HC=wu&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),S_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},jC=x_&&S_(()=>{let t=!1;const e=new Request(Vt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Ey=64*1024,_d=x_&&S_(()=>K.isReadableStream(new Response("").body)),ou={stream:_d&&(t=>t.body)};wu&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ou[e]&&(ou[e]=K.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,i)})})})(new Response);const JC=async t=>{if(t==null)return 0;if(K.isBlob(t))return t.size;if(K.isSpecCompliantForm(t))return(await new Request(Vt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(K.isArrayBufferView(t)||K.isArrayBuffer(t))return t.byteLength;if(K.isURLSearchParams(t)&&(t=t+""),K.isString(t))return(await HC(t)).byteLength},YC=async(t,e)=>{const n=K.toFiniteNumber(t.getContentLength());return n??JC(e)},KC=wu&&(async t=>{let{url:e,method:n,data:i,signal:s,cancelToken:l,timeout:c,onDownloadProgress:h,onUploadProgress:p,responseType:m,headers:y,withCredentials:_="same-origin",fetchOptions:x}=T_(t);m=m?(m+"").toLowerCase():"text";let b=$C([s,l&&l.toAbortSignal()],c),w;const R=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let A;try{if(p&&jC&&n!=="get"&&n!=="head"&&(A=await YC(y,i))!==0){let V=new Request(e,{method:"POST",body:i,duplex:"half"}),Z;if(K.isFormData(i)&&(Z=V.headers.get("content-type"))&&y.setContentType(Z),V.body){const[Q,ne]=Sy(A,ru(wy(p)));i=Cy(V.body,Ey,Q,ne)}}K.isString(_)||(_=_?"include":"omit");const k="credentials"in Request.prototype;w=new Request(e,{...x,signal:b,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:k?_:void 0});let L=await fetch(w,x);const U=_d&&(m==="stream"||m==="response");if(_d&&(h||U&&R)){const V={};["status","statusText","headers"].forEach(G=>{V[G]=L[G]});const Z=K.toFiniteNumber(L.headers.get("content-length")),[Q,ne]=h&&Sy(Z,ru(wy(h),!0))||[];L=new Response(Cy(L.body,Ey,Q,()=>{ne&&ne(),R&&R()}),V)}m=m||"text";let D=await ou[K.findKey(ou,m)||"text"](L,t);return!U&&R&&R(),await new Promise((V,Z)=>{v_(V,Z,{data:D,headers:sn.from(L.headers),status:L.status,statusText:L.statusText,config:t,request:w})})}catch(k){throw R&&R(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,t,w),{cause:k.cause||k}):Re.from(k,k&&k.code,t,w)}}),Td={http:cC,xhr:VC,fetch:KC};K.forEach(Td,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ay=t=>`- ${t}`,ZC=t=>K.isFunction(t)||t===null||t===!1,w_={getAdapter:t=>{t=K.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let l=0;l<e;l++){n=t[l];let c;if(i=n,!ZC(n)&&(i=Td[(c=String(n)).toLowerCase()],i===void 0))throw new Re(`Unknown adapter '${c}'`);if(i)break;s[c||"#"+l]=i}if(!i){const l=Object.entries(s).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(Ay).join(`
`):" "+Ay(l[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Td};function od(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jo(null,t)}function Ry(t){return od(t),t.headers=sn.from(t.headers),t.data=rd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),w_.getAdapter(t.adapter||Ta.adapter)(t).then(function(i){return od(t),i.data=rd.call(t,t.transformResponse,i),i.headers=sn.from(i.headers),i},function(i){return y_(i)||(od(t),i&&i.response&&(i.response.data=rd.call(t,t.transformResponse,i.response),i.response.headers=sn.from(i.response.headers))),Promise.reject(i)})}const b_="1.10.0",bu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bu[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Ny={};bu.transitional=function(e,n,i){function s(l,c){return"[Axios v"+b_+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,h)=>{if(e===!1)throw new Re(s(c," has been removed"+(n?" in "+n:"")),Re.ERR_DEPRECATED);return n&&!Ny[c]&&(Ny[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,h):!0}};bu.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function QC(t,e,n){if(typeof t!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const l=i[s],c=e[l];if(c){const h=t[l],p=h===void 0||c(h,l,t);if(p!==!0)throw new Re("option "+l+" must be "+p,Re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Re("Unknown option "+l,Re.ERR_BAD_OPTION)}}const Wl={assertOptions:QC,validators:bu},zn=Wl.validators;let Cr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ty,response:new Ty}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ar(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:l}=n;i!==void 0&&Wl.assertOptions(i,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),s!=null&&(K.isFunction(s)?n.paramsSerializer={serialize:s}:Wl.assertOptions(s,{encode:zn.function,serialize:zn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Wl.assertOptions(n,{baseUrl:zn.spelling("baseURL"),withXsrfToken:zn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&K.merge(l.common,l[n.method]);l&&K.forEach(["delete","get","head","post","put","patch","common"],w=>{delete l[w]}),n.headers=sn.concat(c,l);const h=[];let p=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(p=p&&R.synchronous,h.unshift(R.fulfilled,R.rejected))});const m=[];this.interceptors.response.forEach(function(R){m.push(R.fulfilled,R.rejected)});let y,_=0,x;if(!p){const w=[Ry.bind(this),void 0];for(w.unshift.apply(w,h),w.push.apply(w,m),x=w.length,y=Promise.resolve(n);_<x;)y=y.then(w[_++],w[_++]);return y}x=h.length;let b=n;for(_=0;_<x;){const w=h[_++],R=h[_++];try{b=w(b)}catch(A){R.call(this,A);break}}try{y=Ry.call(this,b)}catch(w){return Promise.reject(w)}for(_=0,x=m.length;_<x;)y=y.then(m[_++],m[_++]);return y}getUri(e){e=Ar(this.defaults,e);const n=__(e.baseURL,e.url,e.allowAbsoluteUrls);return m_(n,e.params,e.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(e){Cr.prototype[e]=function(n,i){return this.request(Ar(i||{},{method:e,url:n,data:(i||{}).data}))}});K.forEach(["post","put","patch"],function(e){function n(i){return function(l,c,h){return this.request(Ar(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Cr.prototype[e]=n(),Cr.prototype[e+"Form"]=n(!0)});let XC=class C_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(s=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](s);i._listeners=null}),this.promise.then=s=>{let l;const c=new Promise(h=>{i.subscribe(h),l=h}).then(s);return c.cancel=function(){i.unsubscribe(l)},c},e(function(l,c,h){i.reason||(i.reason=new Jo(l,c,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new C_(function(s){e=s}),cancel:e}}};function WC(t){return function(n){return t.apply(null,n)}}function eE(t){return K.isObject(t)&&t.isAxiosError===!0}const xd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xd).forEach(([t,e])=>{xd[e]=t});function E_(t){const e=new Cr(t),n=n_(Cr.prototype.request,e);return K.extend(n,Cr.prototype,e,{allOwnKeys:!0}),K.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return E_(Ar(t,s))},n}const xe=E_(Ta);xe.Axios=Cr;xe.CanceledError=Jo;xe.CancelToken=XC;xe.isCancel=y_;xe.VERSION=b_;xe.toFormData=Su;xe.AxiosError=Re;xe.Cancel=xe.CanceledError;xe.all=function(e){return Promise.all(e)};xe.spread=WC;xe.isAxiosError=eE;xe.mergeConfig=Ar;xe.AxiosHeaders=sn;xe.formToJSON=t=>g_(K.isHTMLForm(t)?new FormData(t):t);xe.getAdapter=w_.getAdapter;xe.HttpStatusCode=xd;xe.default=xe;const{Axios:cO,AxiosError:fO,CanceledError:dO,isCancel:hO,CancelToken:mO,VERSION:pO,all:gO,Cancel:yO,isAxiosError:vO,spread:_O,toFormData:TO,AxiosHeaders:xO,HttpStatusCode:SO,formToJSON:wO,getAdapter:bO,mergeConfig:CO}=xe,Cu="/api/events";let Eu=null;const tE=t=>{Eu=`Bearer ${t}`},nE=async()=>(await xe.get(Cu)).data,iE=async t=>(await xe.post(Cu,t,{headers:{Authorization:Eu}})).data,rE=async(t,e)=>{const n=`${Cu}/${t}`;return(await xe.put(n,e,{headers:{Authorization:Eu}})).data},oE=async t=>{const e=`${Cu}/${t}`;return(await xe.delete(e,{headers:{Authorization:Eu}})).data},Ki={setToken:tE,getAll:nE,createEvent:iE,changeEvent:rE,deleteEvent:oE},A_=({isOpen:t,onClose:e,title:n,children:i})=>(N.useEffect(()=>{const s=l=>{l.key==="Escape"&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e]),t?T.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-center z-50",onClick:e,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg",onClick:s=>s.stopPropagation(),children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:n}),T.jsx("button",{onClick:e,className:"text-gray-600 hover:text-red-600 text-xl font-bold",children:"×"})]}),T.jsx("div",{children:i})]})}):null),sE=t=>{var G;const[e,n]=N.useState(null),[i,s]=N.useState(""),[l,c]=N.useState([]),[h,p]=N.useState(""),[m,y]=N.useState(""),[_,x]=N.useState(""),[b,w]=N.useState(""),[R,A]=N.useState(""),[k,L]=N.useState([]),[U,D]=N.useState(!1);N.useEffect(()=>{i.length===0?c(t.events):c(t.events.filter(I=>I.name.toLowerCase().includes(i.toLowerCase())))},[i,t.events]);const V=()=>{R.trim()&&(L(k.concat(R.trim())),A(""))},Z=async I=>{var ae,ue;I.preventDefault();try{const $e=await Ki.createEvent({name:h,block:_,group:m,description:b,resources:k});t.setEvents(t.events.concat($e)),p(""),x(""),y(""),w(""),A(""),L([]),D(!1),s("")}catch($e){(ue=(ae=$e.response)==null?void 0:ae.data)!=null&&ue.error&&$e.response.data.error==="expected `event name` to be unique"?(n("Event already added"),setTimeout(()=>{n(null)},5e3)):console.error("Failed to add event:",$e)}},Q=async(I,ae)=>{try{const ue=await Ki.changeEvent(I,ae);t.setEvents(t.events.map($e=>$e.id===ue.id?ue:$e))}catch(ue){console.error("Failed to edit event:",ue)}},ne=async I=>{try{await Ki.deleteEvent(I),t.setEvents(t.events.filter(ae=>ae.id!==I))}catch(ae){console.error("Failed to delete event:",ae)}};return T.jsxs("div",{className:"max-w-3xl mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[T.jsx("h2",{className:"text-2xl font-semibold text-orange-800 text-center sm:text-left flex-1",children:"Science Olympiad Events"}),T.jsx("input",{type:"text",placeholder:"Filter events...",value:i,onChange:({target:I})=>s(I.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 w-full sm:w-1/3"})]}),((G=t.user)==null?void 0:G.admin)&&T.jsx("div",{className:"py-4",children:T.jsx("div",{className:"flex items-center justify-center",children:T.jsx("button",{onClick:()=>D(!0),className:"text-orange-600 text-4xl pt-2 pb-4 py-2 rounded hover:text-orange-700 transition pb-2 w-full border border-orange-300 border-dashed rounded-md hover:bg-orange-100",title:"Add Event",children:"+"})})}),T.jsxs(A_,{isOpen:U,onClose:()=>{p(""),y(""),w(""),A(""),L([]),D(!1)},title:"Add New Event",children:[e&&T.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[T.jsx("strong",{className:"font-bold",children:"Error: "}),T.jsx("span",{className:"block sm:inline",children:e})]}),T.jsxs("form",{onSubmit:Z,className:"space-y-4 bg-orange-50 p-4 rounded-md",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Name"}),T.jsx("input",{value:h,onChange:({target:I})=>p(I.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Category"}),T.jsxs("select",{name:"category",value:m,onChange:({target:I})=>y(I.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[T.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),T.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),T.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),T.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),T.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),T.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Block"}),T.jsxs("select",{name:"block",value:_,onChange:({target:I})=>x(I.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[T.jsx("option",{value:"",children:"Self Schedule"}),T.jsx("option",{value:"1",children:"Block 1"}),T.jsx("option",{value:"2",children:"Block 2"}),T.jsx("option",{value:"3",children:"Block 3"}),T.jsx("option",{value:"4",children:"Block 4"}),T.jsx("option",{value:"4",children:"Block 5"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Description"}),T.jsx("textarea",{value:b,onChange:({target:I})=>w(I.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 resize-y min-h-[100px]"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{value:R,onChange:({target:I})=>A(I.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),T.jsx("button",{onClick:V,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]}),T.jsx("div",{className:"mt-4 space-y-2",children:k.length>0&&T.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(I=>T.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[T.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:I}),T.jsx("button",{onClick:()=>L(k.filter(ae=>ae!==I)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:"×"})]},I))})}),T.jsx("button",{type:"submit",className:"w-full bg-orange-600 text-white py-2 rounded-md hover:bg-orange-700 transition",children:"Add Event"})]})]}),T.jsx("ul",{className:"space-y-4",children:l.map(I=>T.jsx(bb,{user:t.user,event:I,editEvent:Q,deleteEvent:ne},I.id))})]})},aE=t=>{const[e,n]=N.useState(""),i=er(),s=async l=>{l.preventDefault(),await t.handleForgot(e)&&(n(""),i("/signin"))};return T.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Forgot Password"}),T.jsxs("form",{onSubmit:s,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"Email Address"}),T.jsx("input",{value:e,onChange:({target:l})=>n(l.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset Password"}),T.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:T.jsx(ot,{to:"/signin",children:"Cancel"})})]})]})},ih="/api/tests";let Au=null;const lE=t=>{Au=`Bearer ${t}`},uE=async()=>(await xe.get(ih,{headers:{Authorization:Au}})).data,cE=async t=>(await xe.post(ih,t,{headers:{Authorization:Au}})).data,fE=async(t,e)=>(await xe.put(`${ih}/${t}`,{assignees:e.assignees},{headers:{Authorization:Au}})).data,Rn={setToken:lE,getAll:uE,createTest:cE,updateTest:fE},R_="/api/questions";let rh=null;const dE=t=>{rh=`Bearer ${t}`},hE=async()=>(await xe.get(R_,{headers:{Authorization:rh}})).data,mE=async t=>(await xe.post(R_,t,{headers:{Authorization:rh}})).data,ko={setToken:dE,getAll:hE,createQuestion:mE},pE="modulepreload",gE=function(t){return"/"+t},My={},xa=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=c(n.map(m=>{if(m=gE(m),m in My)return;My[m]=!0;const y=m.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":pE,y||(x.as="script"),x.crossOrigin="",x.href=m,p&&x.setAttribute("nonce",p),document.head.appendChild(x),y)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},yE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>xa(async()=>{const{default:i}=await Promise.resolve().then(()=>Yo);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class oh extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class vE extends oh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _E extends oh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class TE extends oh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sd||(Sd={}));var xE=function(t,e,n,i){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?l(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class SE{constructor(e,{headers:n={},customFetch:i,region:s=Sd.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=yE(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return xE(this,void 0,void 0,function*(){try{const{headers:s,method:l,body:c}=n;let h={},{region:p}=n;p||(p=this.region),p&&p!=="any"&&(h["x-region"]=p);let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)));const y=yield this.fetch(`${this.url}/${e}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:m}).catch(w=>{throw new vE(w)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new _E(y);if(!y.ok)throw new TE(y);let x=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield y.json():x==="application/octet-stream"?b=yield y.blob():x==="text/event-stream"?b=y:x==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null}}catch(s){return{data:null,error:s}}})}}var Rt={},xo={},So={},wo={},bo={},Co={},wE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Oo=wE();const bE=Oo.fetch,N_=Oo.fetch.bind(Oo),M_=Oo.Headers,CE=Oo.Request,EE=Oo.Response,Yo=Object.freeze(Object.defineProperty({__proto__:null,Headers:M_,Request:CE,Response:EE,default:N_,fetch:bE},Symbol.toStringTag,{value:"Module"})),AE=$S(Yo);var Vl={},ky;function k_(){if(ky)return Vl;ky=1,Object.defineProperty(Vl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Vl.default=t,Vl}var Dy;function D_(){if(Dy)return Co;Dy=1;var t=Co&&Co.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Co,"__esModule",{value:!0});const e=t(AE),n=t(k_());class i{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,_,x;let b=null,w=null,R=null,A=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const V=await m.text();V===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=V:w=JSON.parse(V))}const U=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),D=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");U&&D&&D.length>1&&(R=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,R=null,A=406,k="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const U=await m.text();try{b=JSON.parse(U),Array.isArray(b)&&m.status===404&&(w=[],b=null,A=200,k="OK")}catch{m.status===404&&U===""?(A=204,k="No Content"):b={message:U}}if(b&&this.isMaybeSingle&&(!((x=b==null?void 0:b.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,A=200,k="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:w,count:R,status:A,statusText:k}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,_,x;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(_=m==null?void 0:m.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(x=m==null?void 0:m.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}}return Co.default=i,Co}var Uy;function U_(){if(Uy)return bo;Uy=1;var t=bo&&bo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bo,"__esModule",{value:!0});const e=t(D_());class n extends e.default{select(s){let l=!1;const c=(s??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${s}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${s}`),this}range(s,l,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${s}`),this.url.searchParams.set(m,`${l-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var y;const _=[s?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${x}"; options=${_};`,m==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return bo.default=n,bo}var Iy;function sh(){if(Iy)return wo;Iy=1;var t=wo&&wo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wo,"__esModule",{value:!0});const e=t(U_());class n extends e.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}in(s,l){const c=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${p}fts${m}.${l}`),this}match(s){return Object.entries(s).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(s,l,c){return this.url.searchParams.append(s,`not.${l}.${c}`),this}or(s,{foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${s})`),this}filter(s,l,c){return this.url.searchParams.append(s,`${l}.${c}`),this}}return wo.default=n,wo}var Py;function I_(){if(Py)return So;Py=1;var t=So&&So.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(So,"__esModule",{value:!0});const e=t(sh());class n{constructor(s,{headers:l={},schema:c,fetch:h}){this.url=s,this.headers=l,this.schema=c,this.fetch=h}select(s,{head:l=!1,count:c}={}){const h=l?"HEAD":"GET";let p=!1;const m=(s??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:l,defaultToNull:c=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),l&&p.push(`count=${l}`),c||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(s)){const m=s.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(m.length>0){const y=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){const m="POST",y=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),p||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(s)){const _=s.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(_.length>0){const x=[...new Set(_)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:l}={}){const c="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),this.headers.Prefer=h.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const l="DELETE",c=[];return s&&c.push(`count=${s}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return So.default=n,So}var ea={},ta={},Ly;function RE(){return Ly||(Ly=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.version=void 0,ta.version="0.0.0-automated"),ta}var Oy;function NE(){if(Oy)return ea;Oy=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.DEFAULT_HEADERS=void 0;const t=RE();return ea.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ea}var qy;function ME(){if(qy)return xo;qy=1;var t=xo&&xo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(xo,"__esModule",{value:!0});const e=t(I_()),n=t(sh()),i=NE();class s{constructor(c,{headers:h={},schema:p,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new s(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:m=!1,count:y}={}){let _;const x=new URL(`${this.url}/rpc/${c}`);let b;p||m?(_=p?"HEAD":"GET",Object.entries(h).filter(([R,A])=>A!==void 0).map(([R,A])=>[R,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([R,A])=>{x.searchParams.append(R,A)})):(_="POST",b=h);const w=Object.assign({},this.headers);return y&&(w.Prefer=`count=${y}`),new n.default({method:_,url:x,headers:w,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return xo.default=s,xo}var By;function kE(){if(By)return Rt;By=1;var t=Rt&&Rt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.PostgrestError=Rt.PostgrestBuilder=Rt.PostgrestTransformBuilder=Rt.PostgrestFilterBuilder=Rt.PostgrestQueryBuilder=Rt.PostgrestClient=void 0;const e=t(ME());Rt.PostgrestClient=e.default;const n=t(I_());Rt.PostgrestQueryBuilder=n.default;const i=t(sh());Rt.PostgrestFilterBuilder=i.default;const s=t(U_());Rt.PostgrestTransformBuilder=s.default;const l=t(D_());Rt.PostgrestBuilder=l.default;const c=t(k_());return Rt.PostgrestError=c.default,Rt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:c.default},Rt}var DE=kE();const UE=VS(DE),{PostgrestClient:IE,PostgrestQueryBuilder:EO,PostgrestFilterBuilder:AO,PostgrestTransformBuilder:RO,PostgrestBuilder:NO,PostgrestError:MO}=UE;function PE(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const LE=PE(),OE="2.11.15",qE=`realtime-js/${OE}`,BE="1.0.0",P_=1e4,VE=1e3;var sa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(sa||(sa={}));var Bt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Bt||(Bt={}));var Pn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pn||(Pn={}));var wd;(function(t){t.websocket="websocket"})(wd||(wd={}));var wr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wr||(wr={}));class $E{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const s=n.getUint8(1),l=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(e.slice(c,c+s));c=c+s;const p=i.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class L_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(it||(it={}));const Vy=(t,e,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((l,c)=>(l[c]=FE(c,t,e,s),l),{})},FE=(t,e,n,i)=>{const s=e.find(h=>h.name===t),l=s==null?void 0:s.type,c=n[t];return l&&!i.includes(l)?O_(l,c):bd(c)},O_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return jE(e,n)}switch(t){case it.bool:return zE(e);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return GE(e);case it.json:case it.jsonb:return HE(e);case it.timestamp:return JE(e);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return bd(e);default:return bd(e)}},bd=t=>t,zE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},GE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},HE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},jE=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>O_(e,h))}return t},JE=t=>typeof t=="string"?t.replace(" ","T"):t,q_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class sd{constructor(e,n,i={},s=P_){this.channel=e,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $y;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($y||($y={}));class aa{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=aa.syncState(this.state,s,l,c),this.pendingDiffs.forEach(p=>{this.state=aa.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},s=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=aa.syncDiff(this.state,s,l,c),h())}),this.onJoin((s,l,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:l,newPresences:c})}),this.onLeave((s,l,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,s){const l=this.cloneDeep(e),c=this.transformState(n),h={},p={};return this.map(l,(m,y)=>{c[m]||(p[m]=y)}),this.map(c,(m,y)=>{const _=l[m];if(_){const x=y.map(A=>A.presence_ref),b=_.map(A=>A.presence_ref),w=y.filter(A=>b.indexOf(A.presence_ref)<0),R=_.filter(A=>x.indexOf(A.presence_ref)<0);w.length>0&&(h[m]=w),R.length>0&&(p[m]=R)}else h[m]=y}),this.syncDiff(l,{joins:h,leaves:p},i,s)}static syncDiff(e,n,i,s){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(l,(h,p)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),y.length>0){const _=e[h].map(b=>b.presence_ref),x=y.filter(b=>_.indexOf(b.presence_ref)<0);e[h].unshift(...x)}i(h,y,p)}),this.map(c,(h,p)=>{let m=e[h];if(!m)return;const y=p.map(_=>_.presence_ref);m=m.filter(_=>y.indexOf(_.presence_ref)<0),e[h]=m,s(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const s=e[i];return"metas"in s?n[i]=s.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fy||(Fy={}));var zy;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zy||(zy={}));var pi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pi||(pi={}));class ah{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new sd(this,Pn.join,this.params,this.timeout),this.rejoinTimer=new L_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pn.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new aa(this),this.broadcastEndpointURL=q_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:l,presence:c,private:h}}=this.params;this._onError(y=>e==null?void 0:e(pi.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(pi.CLOSED));const p={},m={broadcast:l,presence:c,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&s!==void 0?s:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket.setAuth(),y===void 0){e==null||e(pi.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(_=x==null?void 0:x.length)!==null&&_!==void 0?_:0,w=[];for(let R=0;R<b;R++){const A=x[R],{filter:{event:k,schema:L,table:U,filter:D}}=A,V=y&&y[R];if(V&&V.event===k&&V.schema===L&&V.table===U&&V.filter===D)w.push(Object.assign(Object.assign({},A),{id:V.id}));else{this.unsubscribe(),this.state=Bt.errored,e==null||e(pi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(pi.SUBSCRIBED);return}}).receive("error",y=>{this.state=Bt.errored,e==null||e(pi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new sd(this,Pn.leave,{},e),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const s=new AbortController,l=setTimeout(()=>s.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(l),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sd(this,e,n,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var s,l;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:y}=Pn;if(i&&[h,p,m,y].indexOf(c)>=0&&i!==this._joinRef())return;let x=this._onMessage(c,n,i);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var w,R,A;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((A=(R=b.filter)===null||R===void 0?void 0:R.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(b=>b.callback(x,i)):(l=this.bindings[c])===null||l===void 0||l.filter(b=>{var w,R,A,k,L,U;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const D=b.id,V=(w=b.filter)===null||w===void 0?void 0:w.event;return D&&((R=n.ids)===null||R===void 0?void 0:R.includes(D))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const D=(L=(k=b==null?void 0:b.filter)===null||k===void 0?void 0:k.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return D==="*"||D===((U=n==null?void 0:n.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof x=="object"&&"ids"in x){const w=x.data,{schema:R,table:A,commit_timestamp:k,type:L,errors:U}=w;x=Object.assign(Object.assign({},{schema:R,table:A,commit_timestamp:k,eventType:L,new:{},old:{},errors:U}),this._getPayloadRecords(w))}b.callback(x,i)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const s=e.toLocaleLowerCase(),l={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(l):this.bindings[s]=[l],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var l;return!(((l=s.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&ah.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pn.close,{},e)}_onError(e){this._on(Pn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Vy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Vy(e.columns,e.old_record)),n}}const Gy=()=>{},YE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KE{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=P_,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gy,this.ref=0,this.logger=Gy,this.conn=null,this.sendBuffer=[],this.serializer=new $E,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...h)=>xa(async()=>{const{default:p}=await Promise.resolve().then(()=>Yo);return{default:p}},void 0).then(({default:p})=>p(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${e}/${wd.websocket}`,this.httpEndpoint=q_(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,c)=>c(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new L_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=LE),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BE}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case sa.connecting:return wr.Connecting;case sa.open:return wr.Open;case sa.closing:return wr.Closing;default:return wr.Closed}}isConnected(){return this.connectionState()===wr.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,s=this.getChannels().find(l=>l.topic===i);if(s)return s;{const l=new ah(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:i,payload:s,ref:l}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${l})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:qE};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Pn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(VE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:s,payload:l,ref:c}=n;i==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${i} ${s} ${c&&"("+c+")"||""}`,l),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(s,l,c)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${i}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([YE],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class lh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ZE extends lh{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cd extends lh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var QE=function(t,e,n,i){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?l(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const B_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>xa(async()=>{const{default:i}=await Promise.resolve().then(()=>Yo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},XE=()=>QE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xa(()=>Promise.resolve().then(()=>Yo),void 0)).Response:Response}),Ed=t=>{if(Array.isArray(t))return t.map(n=>Ed(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[s]=Ed(i)}),e};var Dr=function(t,e,n,i){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?l(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const ad=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WE=(t,e,n)=>Dr(void 0,void 0,void 0,function*(){const i=yield XE();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new ZE(ad(s),t.status||500))}).catch(s=>{e(new Cd(ad(s),s))}):e(new Cd(ad(t),t))}),eA=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),n))};function Sa(t,e,n,i,s,l){return Dr(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(n,eA(e,i,s,l)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>WE(p,h,i))})})}function su(t,e,n,i){return Dr(this,void 0,void 0,function*(){return Sa(t,"GET",e,n,i)})}function Ji(t,e,n,i,s){return Dr(this,void 0,void 0,function*(){return Sa(t,"POST",e,i,s,n)})}function tA(t,e,n,i,s){return Dr(this,void 0,void 0,function*(){return Sa(t,"PUT",e,i,s,n)})}function nA(t,e,n,i){return Dr(this,void 0,void 0,function*(){return Sa(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function V_(t,e,n,i,s){return Dr(this,void 0,void 0,function*(){return Sa(t,"DELETE",e,i,s,n)})}var nn=function(t,e,n,i){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?l(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const iA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rA{constructor(e,n={},i,s){this.url=e,this.headers=n,this.bucketId=i,this.fetch=B_(s)}uploadOrUpdate(e,n,i,s){return nn(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Hy),s);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p))):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const m=this._removeEmptyFolders(n),y=this._getFinalPath(m),_=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:e,body:l,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),x=yield _.json();return _.ok?{data:{path:m,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(l){if(Nt(l))return{data:null,error:l};throw l}})}upload(e,n,i){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,s){return nn(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:Hy.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const _=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:y}),x=yield _.json();return _.ok?{data:{path:l,fullPath:x.Key},error:null}:{data:null,error:x}}catch(p){if(Nt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return nn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const l=yield Ji(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new lh("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}update(e,n,i){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return nn(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}copy(e,n,i){return nn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ji(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,i){return nn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),l=yield Ji(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,i){return nn(this,void 0,void 0,function*(){try{const s=yield Ji(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}download(e,n){return nn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=l?`?${l}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield su(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Nt(h))return{data:null,error:h};throw h}})}info(e){return nn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield su(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ed(i),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}exists(e){return nn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield nA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Nt(i)&&i instanceof Cd){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),s=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&s.push(l);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&s.push(p);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(e){return nn(this,void 0,void 0,function*(){try{return{data:yield V_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}list(e,n,i){return nn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},iA),n),{prefix:e||""});return{data:yield Ji(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const oA="2.7.1",sA={"X-Client-Info":`storage-js/${oA}`};var Eo=function(t,e,n,i){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?l(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class aA{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},sA),n),this.fetch=B_(i)}listBuckets(){return Eo(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Nt(e))return{data:null,error:e};throw e}})}getBucket(e){return Eo(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Eo(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Eo(this,void 0,void 0,function*(){try{return{data:yield tA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Eo(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Eo(this,void 0,void 0,function*(){try{return{data:yield V_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}}class lA extends aA{constructor(e,n={},i){super(e,n,i)}from(e){return new rA(this.url,this.headers,e,this.fetch)}}const uA="2.50.2";let ia="";typeof Deno<"u"?ia="deno":typeof document<"u"?ia="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ia="react-native":ia="node";const cA={"X-Client-Info":`supabase-js-${ia}/${uA}`},fA={headers:cA},dA={schema:"public"},hA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mA={};var pA=function(t,e,n,i){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?l(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const gA=t=>{let e;return t?e=t:typeof fetch>"u"?e=N_:e=fetch,(...n)=>e(...n)},yA=()=>typeof Headers>"u"?M_:Headers,vA=(t,e,n)=>{const i=gA(n),s=yA();return(l,c)=>pA(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:t;let m=new s(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(l,Object.assign(Object.assign({},c),{headers:m}))})};var _A=function(t,e,n,i){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?l(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};function TA(t){return t.endsWith("/")?t:t+"/"}function xA(t,e){var n,i;const{db:s,auth:l,realtime:c,global:h}=t,{db:p,auth:m,realtime:y,global:_}=e,x={db:Object.assign(Object.assign({},p),s),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},y),c),global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>_A(this,void 0,void 0,function*(){return""})};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}const $_="2.70.0",Do=30*1e3,Ad=3,ld=Ad*Do,SA="http://localhost:9999",wA="supabase.auth.token",bA={"X-Client-Info":`gotrue-js/${$_}`},Rd="X-Supabase-Api-Version",F_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,EA=6e5;class uh extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class AA extends uh{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function RA(t){return Ae(t)&&t.name==="AuthApiError"}class z_ extends uh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class tr extends uh{constructor(e,n,i,s){super(e,i,s),this.name=n,this.status=i}}class ji extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function NA(t){return Ae(t)&&t.name==="AuthSessionMissingError"}class $l extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fl extends tr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zl extends tr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function MA(t){return Ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class jy extends tr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nd extends tr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ud(t){return Ae(t)&&t.name==="AuthRetryableFetchError"}class Jy extends tr{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class la extends tr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const au="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yy=` 	
\r=`.split(""),kA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Yy.length;e+=1)t[Yy[e].charCodeAt(0)]=-2;for(let e=0;e<au.length;e+=1)t[au[e].charCodeAt(0)]=e;return t})();function Ky(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(au[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(au[i]),e.queuedBits-=6}}function G_(t,e,n){const i=kA[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zy(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},l=c=>{IA(c,i,n)};for(let c=0;c<t.length;c+=1)G_(t.charCodeAt(c),s,l);return e.join("")}function DA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function UA(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}DA(i,e)}}function IA(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function PA(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)G_(t.charCodeAt(s),n,i);return new Uint8Array(e)}function LA(t){const e=[];return UA(t,n=>e.push(n)),new Uint8Array(e)}function OA(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};return t.forEach(s=>Ky(s,n,i)),Ky(null,n,i),e.join("")}function qA(t){return Math.round(Date.now()/1e3)+t}function BA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const In=()=>typeof window<"u"&&typeof document<"u",Tr={tested:!1,writable:!1},ua=()=>{if(!In())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tr.tested)return Tr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Tr.tested=!0,Tr.writable=!0}catch{Tr.tested=!0,Tr.writable=!1}return Tr.writable};function VA(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,l)=>{e[l]=s})}catch{}return n.searchParams.forEach((i,s)=>{e[s]=i}),e}const H_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>xa(async()=>{const{default:i}=await Promise.resolve().then(()=>Yo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},$A=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",j_=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hl=async(t,e)=>{await t.removeItem(e)};class Ru{constructor(){this.promise=new Ru.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ru.promiseConstructor=Promise;function cd(t){const e=t.split(".");if(e.length!==3)throw new la("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!CA.test(e[i]))throw new la("JWT not in base64url format");return{header:JSON.parse(Zy(e[0])),payload:JSON.parse(Zy(e[1])),signature:PA(e[2]),raw:{header:e[0],payload:e[1]}}}async function FA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zA(t,e){return new Promise((i,s)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){s(c);return}}})()})}function GA(t){return("0"+t.toString(16)).substr(-2)}function HA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let l=0;l<56;l++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,GA).join("")}async function jA(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(l=>String.fromCharCode(l)).join("")}async function JA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await jA(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ao(t,e,n=!1){const i=HA();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await j_(t,`${e}-code-verifier`,s);const l=await JA(i);return[l,i===l?"plain":"s256"]}const YA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KA(t){const e=t.headers.get(Rd);if(!e||!e.match(YA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ZA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function QA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ro(t){if(!XA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var WA=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const Sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eR=[502,503,504];async function Qy(t){var e;if(!$A(t))throw new Nd(Sr(t),0);if(eR.includes(t.status))throw new Nd(Sr(t),t.status);let n;try{n=await t.json()}catch(l){throw new z_(Sr(l),l)}let i;const s=KA(t);if(s&&s.getTime()>=F_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Jy(Sr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ji}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Jy(Sr(n),t.status,n.weak_password.reasons);throw new AA(Sr(n),t.status||500,i)}const tR=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function qe(t,e,n,i){var s;const l=Object.assign({},i==null?void 0:i.headers);l[Rd]||(l[Rd]=F_["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await nR(t,e,n+h,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function nR(t,e,n,i,s,l){const c=tR(e,i,s,l);let h;try{h=await t(n,Object.assign({},c))}catch(p){throw console.error(p),new Nd(Sr(p),0)}if(h.ok||await Qy(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await Qy(p)}}function mi(t){var e;let n=null;sR(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=qA(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function Xy(t){const e=mi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function iR(t){return{data:t,error:null}}function rR(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:l}=t,c=WA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:l},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function oR(t){return t}function sR(t){return t.access_token&&t.refresh_token&&t.expires_in}const fd=["global","local","others"];var aR=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};class lR{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=H_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=fd[0]){if(fd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fd.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zi})}catch(i){if(Ae(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=aR(e,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,s,l,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},y=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:oR});if(y.error)throw y.error;const _=await y.json(),x=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(w=>{const R=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(w.split(";")[1].split("=")[1]);m[`${A}Page`]=R}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(Ae(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Ro(e);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ro(e);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Zi})}catch(i){if(Ae(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Ro(e);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zi})}catch(i){if(Ae(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Ro(e.userId);try{const{data:n,error:i}=await qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ro(e.userId),Ro(e.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}const uR={getItem:t=>ua()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ua()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ua()&&globalThis.localStorage.removeItem(t)}};function Wy(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function cR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const No={debug:!!(globalThis&&ua()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class J_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fR extends J_{}async function dR(t,e,n){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),No.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{No.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw No.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new fR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(No.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}cR();const hR={url:SA,storageKey:wA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ev(t,e,n){return await n()}class ma{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ma.nextInstanceID,ma.nextInstanceID+=1,this.instanceID>0&&In()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},hR),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new lR({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=H_(s.fetch),this.lock=s.lock||ev,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:In()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=dR:this.lock=ev,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ua()?this.storage=uR:(this.memoryStorage={},this.storage=Wy(this.memoryStorage)):(this.memoryStorage={},this.storage=Wy(this.memoryStorage)),In()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=VA(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),In()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),MA(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ae(n)?{error:n}:{error:new z_("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,s;try{const l=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:mi}),{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(Ae(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,i,s;try{let l;if("email"in e){const{email:y,password:_,options:x}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Ao(this.storage,this.storageKey)),l=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:y,password:_,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:b,code_challenge_method:w},xform:mi})}else if("phone"in e){const{phone:y,password:_,options:x}=e;l=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(i=x==null?void 0:x.data)!==null&&i!==void 0?i:{},channel:(s=x==null?void 0:x.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:mi})}else throw new Fl("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(Ae(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:h}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xy})}else if("phone"in e){const{phone:l,password:c,options:h}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xy})}else throw new Fl("You must provide either an email or phone number and a password");const{data:i,error:s}=n;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new $l}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,s,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,s,l,c,h,p,m,y,_,x,b;let w,R;if("message"in e)w=e.message,R=e.signature;else{const{chain:A,wallet:k,statement:L,options:U}=e;let D;if(In())if(typeof k=="object")D=k;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))D=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=k}const V=new URL((n=U==null?void 0:U.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const Z=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),L?{statement:L}:null));let Q;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")Q=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)Q=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)w=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),R=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${V.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(s=(i=U==null?void 0:U.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((l=U==null?void 0:U.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U==null?void 0:U.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((p=U==null?void 0:U.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((m=U==null?void 0:U.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((_=(y=U==null?void 0:U.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...U.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const Z=await D.signMessage(new TextEncoder().encode(w),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=Z}}try{const{data:A,error:k}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:OA(R)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:mi});if(k)throw k;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new $l}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:k})}catch(A){if(Ae(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const n=await Gl(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{const{data:l,error:c}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:mi});if(await Hl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new $l}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:s??null}),error:c})}catch(l){if(Ae(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:i,token:s,access_token:l,nonce:c}=e,h=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mi}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new $l}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,s,l,c;try{if("email"in e){const{email:h,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ao(this.storage,this.storageKey));const{error:_}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:y}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new Fl("You must provide either an email or phone number.")}catch(h){if(Ae(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,i;try{let s,l;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:s,xform:mi});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(s){if(Ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,i,s;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Ao(this.storage,this.storageKey)),await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:iR})}catch(l){if(Ae(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new ji;const{error:s}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:l}=e,{error:c}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:s,options:l}=e,{data:c,error:h}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Fl("You must provide either an email or phone number and a type")}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Gl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ld:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,y)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,y))})}return{data:{session:e},error:null}}const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zi}):await this._useSession(async n=>{var i,s,l;const{data:c,error:h}=n;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ji}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0,xform:Zi})})}catch(n){if(Ae(n))return NA(n)&&(await this._removeSession(),await Hl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:s,error:l}=i;if(l)throw l;if(!s.session)throw new ji;const c=s.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Ao(this.storage,this.storageKey));const{data:m,error:y}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:Zi});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Ae(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ji;const n=Date.now()/1e3;let i=n,s=!0,l=null;const{payload:c}=cd(e.access_token);if(c.exp&&(i=c.exp,s=i<=n),s){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(Ae(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new ji;const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!In())throw new zl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new jy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jy("No code detected.");const{data:L,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:l,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=e;if(!l||!h||!c||!m)throw new zl("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(h);let x=y+_;p&&(x=parseInt(p));const b=x-y;b*1e3<=Do&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${_}s`);const w=x-_;y-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,x,y):y-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,x,y);const{data:R,error:A}=await this._getUser(l);if(A)throw A;const k={provider_token:i,provider_refresh_token:s,access_token:l,expires_in:_,expires_at:x,refresh_token:c,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(i){if(Ae(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Gl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:l}=n;if(l)return{error:l};const c=(i=s.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(RA(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Hl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=BA(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,s;try{const{data:{session:l},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Ao(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Ae(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:s}=await this._useSession(async l=>{var c,h,p,m,y;const{data:_,error:x}=l;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return In()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Ae(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,s;const{data:l,error:c}=n;if(c)throw c;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await zA(async s=>(s>0&&await FA(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mi})),(s,l)=>{const c=200*Math.pow(2,s);return l&&ud(l)&&Date.now()+c-i<Do})}catch(i){if(this._debug(n,"error",i),Ae(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),In()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Gl(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ld;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ld}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),ud(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ru;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new ji;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={session:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(s,"error",l),Ae(l)){const c={session:null,error:l};return ud(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await j_(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Hl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&In()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Do);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/Do);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Do}ms, refresh threshold is ${Ad} ticks`),s<=Ad&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof J_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!In()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ao(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(h.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);s.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:s,error:l}=n;return l?{data:null,error:l}:await qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,s;const{data:l,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:m}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((s=p==null?void 0:p.totp)===null||s===void 0)&&s.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:l}=n;if(l)return{data:null,error:l};const{data:c,error:h}=await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:l}=n;return l?{data:null,error:l}:await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],s=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:s,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:s},error:l}=e;if(l)return{data:null,error:l};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=cd(s.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i||(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+EA>Date.now()))return i;const{data:s,error:l}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!s.keys||s.keys.length===0)throw new la("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(c=>c.kid===e),!i)throw new la("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};i=b.session.access_token}const{header:s,payload:l,signature:c,raw:{header:h,payload:p}}=cd(i);if(ZA(l.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:l,header:s,signature:c},error:null}}const m=QA(s.alg),y=await this.fetchJwk(s.kid,n),_=await crypto.subtle.importKey("jwk",y,m,!0,["verify"]);if(!await crypto.subtle.verify(m,_,c,LA(`${h}.${p}`)))throw new la("Invalid JWT signature");return{data:{claims:l,header:s,signature:c},error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}}}ma.nextInstanceID=0;const mR=ma;class pR extends mR{constructor(e){super(e)}}var gR=function(t,e,n,i){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?l(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class yR{constructor(e,n,i){var s,l,c;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=TA(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:dA,realtime:mA,auth:Object.assign(Object.assign({},hA),{storageKey:m}),global:fA},_=xA(i??{},y);this.storageKey=(s=_.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=_.global.headers)!==null&&l!==void 0?l:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=_.auth)!==null&&c!==void 0?c:{},this.headers,_.global.fetch),this.fetch=vA(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new IE(new URL("rest/v1",p).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),_.accessToken||this._listenForAuthEvents()}get functions(){return new SE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lA(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return gR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:s,storageKey:l,flowType:c,lock:h,debug:p},m,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pR({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),m),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:s,flowType:c,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new KE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vR=(t,e,n)=>new yR(t,e,n),tv=vR("https://zazwsuhcsscuxbvyiuwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphendzdWhjc3NjdXhidnlpdXdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA4MjExMjMsImV4cCI6MjA2NjM5NzEyM30.lt7ZjnkOKJdLW_oiJ-3Nu4YoeLWFGlmcuwMkMmrTqY0"),_R=async t=>{if(!t)return null;const e=t.name.split(".").pop(),i=`images/${`${Math.random().toString(36).slice(2)}.${e}`}`,{data:s,error:l}=await tv.storage.from("images").upload(i,t);if(l)return console.error(l),null;const{data:c,error:h}=tv.storage.from("images").getPublicUrl(i);if(h)return console.error("Public URL error:",h),null;if(c)return c.publicUrl},TR={getImageUrl:_R};var ze;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const l={};for(const c of s)l[c]=c;return l},t.getValidEnumValues=s=>{const l=t.objectKeys(s).filter(h=>typeof s[s[h]]!="number"),c={};for(const h of l)c[h]=s[h];return t.objectValues(c)},t.objectValues=s=>t.objectKeys(s).map(function(l){return s[l]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const l=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&l.push(c);return l},t.find=(s,l)=>{for(const c of s)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function i(s,l=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=i,t.jsonStringifyReplacer=(s,l)=>typeof l=="bigint"?l.toString():l})(ze||(ze={}));var nv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(nv||(nv={}));const de=ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yi=t=>{switch(typeof t){case"undefined":return de.undefined;case"string":return de.string;case"number":return Number.isNaN(t)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(t)?de.array:t===null?de.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?de.promise:typeof Map<"u"&&t instanceof Map?de.map:typeof Set<"u"&&t instanceof Set?de.set:typeof Date<"u"&&t instanceof Date?de.date:de.object;default:return de.unknown}},re=ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class vi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(l){return l.message},i={_errors:[]},s=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)i._errors.push(n(c));else{let h=i,p=0;for(;p<c.path.length;){const m=c.path[p];p===c.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(n(c))):h[m]=h[m]||{_errors:[]},h=h[m],p++}}};return s(this),i}static assert(e){if(!(e instanceof vi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):i.push(e(s));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}vi.create=t=>new vi(t);const Md=(t,e)=>{let n;switch(t.code){case re.invalid_type:t.received===de.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ze.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:n=`Unrecognized key(s) in object: ${ze.joinValues(t.keys,", ")}`;break;case re.invalid_union:n="Invalid input";break;case re.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ze.joinValues(t.options)}`;break;case re.invalid_enum_value:n=`Invalid enum value. Expected ${ze.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:n="Invalid function arguments";break;case re.invalid_return_type:n="Invalid function return type";break;case re.invalid_date:n="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ze.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case re.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case re.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case re.custom:n="Invalid input";break;case re.invalid_intersection_types:n="Intersection results could not be merged";break;case re.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:n="Number must be finite";break;default:n=e.defaultError,ze.assertNever(t)}return{message:n}};let xR=Md;function SR(){return xR}const wR=t=>{const{data:e,path:n,errorMaps:i,issueData:s}=t,l=[...n,...s.path||[]],c={...s,path:l};if(s.message!==void 0)return{...s,path:l,message:s.message};let h="";const p=i.filter(m=>!!m).slice().reverse();for(const m of p)h=m(c,{data:e,defaultError:h}).message;return{...s,path:l,message:h}};function le(t,e){const n=SR(),i=wR({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Md?void 0:Md].filter(s=>!!s)});t.common.issues.push(i)}class Jt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const s of n){if(s.status==="aborted")return Ce;s.status==="dirty"&&e.dirty(),i.push(s.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const s of n){const l=await s.key,c=await s.value;i.push({key:l,value:c})}return Jt.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const s of n){const{key:l,value:c}=s;if(l.status==="aborted"||c.status==="aborted")return Ce;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(i[l.value]=c.value)}return{status:e.value,value:i}}}const Ce=Object.freeze({status:"aborted"}),ra=t=>({status:"dirty",value:t}),Mn=t=>({status:"valid",value:t}),iv=t=>t.status==="aborted",rv=t=>t.status==="dirty",qo=t=>t.status==="valid",lu=t=>typeof Promise<"u"&&t instanceof Promise;var pe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(pe||(pe={}));class Kn{constructor(e,n,i,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ov=(t,e)=>{if(qo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new vi(t.common.issues);return this._error=n,this._error}}};function Me(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:s}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,h)=>{const{message:p}=t;return c.code==="invalid_enum_value"?{message:p??h.defaultError}:typeof h.data>"u"?{message:p??i??h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:p??n??h.defaultError}},description:s}}class Be{get description(){return this._def.description}_getType(e){return Yi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Jt,ctx:{common:e.parent.common,data:e.data,parsedType:Yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(lu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yi(e)},s=this._parseSync({data:e,path:i.path,parent:i});return ov(i,s)}"~validate"(e){var i,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yi(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:n});return qo(l)?{value:l.value}:{issues:n.common.issues}}catch(l){(s=(i=l==null?void 0:l.message)==null?void 0:i.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(l=>qo(l)?{value:l.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yi(e)},s=this._parse({data:e,path:i.path,parent:i}),l=await(lu(s)?s:Promise.resolve(s));return ov(i,l)}refine(e,n){const i=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,l)=>{const c=e(s),h=()=>l.addIssue({code:re.custom,...i(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(p=>p?!0:(h(),!1)):c?!0:(h(),!1)})}refinement(e,n){return this._refinement((i,s)=>e(i)?!0:(s.addIssue(typeof n=="function"?n(i,s):n),!1))}_refinement(e){return new $o({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Qi.create(this,this._def)}nullable(){return Fo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jn.create(this)}promise(){return hu.create(this,this._def)}or(e){return cu.create([this,e],this._def)}and(e){return fu.create(this,e,this._def)}transform(e){return new $o({...Me(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Id({...Me(this._def),innerType:this,defaultValue:n,typeName:we.ZodDefault})}brand(){return new jR({typeName:we.ZodBranded,type:this,...Me(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Pd({...Me(this._def),innerType:this,catchValue:n,typeName:we.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ch.create(this,e)}readonly(){return Ld.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bR=/^c[^\s-]{8,}$/i,CR=/^[0-9a-z]+$/,ER=/^[0-9A-HJKMNP-TV-Z]{26}$/i,AR=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,RR=/^[a-z0-9_-]{21}$/i,NR=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,MR=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kR=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dd;const UR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,PR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,LR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,OR=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qR=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Y_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BR=new RegExp(`^${Y_}$`);function K_(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function VR(t){return new RegExp(`^${K_(t)}$`)}function $R(t){let e=`${Y_}T${K_(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function FR(t,e){return!!((e==="v4"||!e)&&UR.test(t)||(e==="v6"||!e)&&PR.test(t))}function zR(t,e){if(!NR.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(i));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function GR(t,e){return!!((e==="v4"||!e)&&IR.test(t)||(e==="v6"||!e)&&LR.test(t))}class Hn extends Be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==de.string){const l=this._getOrReturnCtx(e);return le(l,{code:re.invalid_type,expected:de.string,received:l.parsedType}),Ce}const i=new Jt;let s;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:re.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")e.data.length>l.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:re.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,h=e.data.length<l.value;(c||h)&&(s=this._getOrReturnCtx(e,s),c?le(s,{code:re.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):h&&le(s,{code:re.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")kR.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"email",code:re.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")dd||(dd=new RegExp(DR,"u")),dd.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"emoji",code:re.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")AR.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"uuid",code:re.invalid_string,message:l.message}),i.dirty());else if(l.kind==="nanoid")RR.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"nanoid",code:re.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")bR.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid",code:re.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")CR.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid2",code:re.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")ER.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ulid",code:re.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),le(s,{validation:"url",code:re.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"regex",code:re.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(s=this._getOrReturnCtx(e,s),le(s,{code:re.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:re.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:re.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?$R(l).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:re.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="date"?BR.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:re.invalid_string,validation:"date",message:l.message}),i.dirty()):l.kind==="time"?VR(l).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:re.invalid_string,validation:"time",message:l.message}),i.dirty()):l.kind==="duration"?MR.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"duration",code:re.invalid_string,message:l.message}),i.dirty()):l.kind==="ip"?FR(e.data,l.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ip",code:re.invalid_string,message:l.message}),i.dirty()):l.kind==="jwt"?zR(e.data,l.alg)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"jwt",code:re.invalid_string,message:l.message}),i.dirty()):l.kind==="cidr"?GR(e.data,l.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cidr",code:re.invalid_string,message:l.message}),i.dirty()):l.kind==="base64"?OR.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64",code:re.invalid_string,message:l.message}),i.dirty()):l.kind==="base64url"?qR.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64url",code:re.invalid_string,message:l.message}),i.dirty()):ze.assertNever(l);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(s=>e.test(s),{validation:n,code:re.invalid_string,...pe.errToObj(i)})}_addCheck(e){return new Hn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...pe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...pe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...pe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...pe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...pe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...pe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...pe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...pe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...pe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...pe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...pe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...pe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...pe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...pe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...pe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...pe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...pe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...pe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...pe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...pe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...pe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...pe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...pe.errToObj(n)})}nonempty(e){return this.min(1,pe.errToObj(e))}trim(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hn.create=t=>new Hn({checks:[],typeName:we.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Me(t)});function HR(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,s=n>i?n:i,l=Number.parseInt(t.toFixed(s).replace(".","")),c=Number.parseInt(e.toFixed(s).replace(".",""));return l%c/10**s}class Rr extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==de.number){const l=this._getOrReturnCtx(e);return le(l,{code:re.invalid_type,expected:de.number,received:l.parsedType}),Ce}let i;const s=new Jt;for(const l of this._def.checks)l.kind==="int"?ze.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{code:re.invalid_type,expected:"integer",received:"float",message:l.message}),s.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),le(i,{code:re.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),s.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),le(i,{code:re.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),s.dirty()):l.kind==="multipleOf"?HR(e.data,l.value)!==0&&(i=this._getOrReturnCtx(e,i),le(i,{code:re.not_multiple_of,multipleOf:l.value,message:l.message}),s.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{code:re.not_finite,message:l.message}),s.dirty()):ze.assertNever(l);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,pe.toString(n))}setLimit(e,n,i,s){return new Rr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:pe.toString(s)}]})}_addCheck(e){return new Rr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:pe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:pe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:pe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ze.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Rr.create=t=>new Rr({checks:[],typeName:we.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Me(t)});class Nr extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==de.bigint)return this._getInvalidInput(e);let i;const s=new Jt;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),le(i,{code:re.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),s.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),le(i,{code:re.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),s.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),le(i,{code:re.not_multiple_of,multipleOf:l.value,message:l.message}),s.dirty()):ze.assertNever(l);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return le(n,{code:re.invalid_type,expected:de.bigint,received:n.parsedType}),Ce}gte(e,n){return this.setLimit("min",e,!0,pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,pe.toString(n))}setLimit(e,n,i,s){return new Nr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:pe.toString(s)}]})}_addCheck(e){return new Nr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:pe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Nr.create=t=>new Nr({checks:[],typeName:we.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Me(t)});class uu extends Be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==de.boolean){const i=this._getOrReturnCtx(e);return le(i,{code:re.invalid_type,expected:de.boolean,received:i.parsedType}),Ce}return Mn(e.data)}}uu.create=t=>new uu({typeName:we.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Me(t)});class Bo extends Be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==de.date){const l=this._getOrReturnCtx(e);return le(l,{code:re.invalid_type,expected:de.date,received:l.parsedType}),Ce}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return le(l,{code:re.invalid_date}),Ce}const i=new Jt;let s;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:re.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:re.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):ze.assertNever(l);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:pe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:pe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Bo.create=t=>new Bo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:we.ZodDate,...Me(t)});class sv extends Be{_parse(e){if(this._getType(e)!==de.symbol){const i=this._getOrReturnCtx(e);return le(i,{code:re.invalid_type,expected:de.symbol,received:i.parsedType}),Ce}return Mn(e.data)}}sv.create=t=>new sv({typeName:we.ZodSymbol,...Me(t)});class av extends Be{_parse(e){if(this._getType(e)!==de.undefined){const i=this._getOrReturnCtx(e);return le(i,{code:re.invalid_type,expected:de.undefined,received:i.parsedType}),Ce}return Mn(e.data)}}av.create=t=>new av({typeName:we.ZodUndefined,...Me(t)});class lv extends Be{_parse(e){if(this._getType(e)!==de.null){const i=this._getOrReturnCtx(e);return le(i,{code:re.invalid_type,expected:de.null,received:i.parsedType}),Ce}return Mn(e.data)}}lv.create=t=>new lv({typeName:we.ZodNull,...Me(t)});class uv extends Be{constructor(){super(...arguments),this._any=!0}_parse(e){return Mn(e.data)}}uv.create=t=>new uv({typeName:we.ZodAny,...Me(t)});class kd extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mn(e.data)}}kd.create=t=>new kd({typeName:we.ZodUnknown,...Me(t)});class Xi extends Be{_parse(e){const n=this._getOrReturnCtx(e);return le(n,{code:re.invalid_type,expected:de.never,received:n.parsedType}),Ce}}Xi.create=t=>new Xi({typeName:we.ZodNever,...Me(t)});class cv extends Be{_parse(e){if(this._getType(e)!==de.undefined){const i=this._getOrReturnCtx(e);return le(i,{code:re.invalid_type,expected:de.void,received:i.parsedType}),Ce}return Mn(e.data)}}cv.create=t=>new cv({typeName:we.ZodVoid,...Me(t)});class Jn extends Be{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),s=this._def;if(n.parsedType!==de.array)return le(n,{code:re.invalid_type,expected:de.array,received:n.parsedType}),Ce;if(s.exactLength!==null){const c=n.data.length>s.exactLength.value,h=n.data.length<s.exactLength.value;(c||h)&&(le(n,{code:c?re.too_big:re.too_small,minimum:h?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(le(n,{code:re.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(le(n,{code:re.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((c,h)=>s.type._parseAsync(new Kn(n,c,n.path,h)))).then(c=>Jt.mergeArray(i,c));const l=[...n.data].map((c,h)=>s.type._parseSync(new Kn(n,c,n.path,h)));return Jt.mergeArray(i,l)}get element(){return this._def.type}min(e,n){return new Jn({...this._def,minLength:{value:e,message:pe.toString(n)}})}max(e,n){return new Jn({...this._def,maxLength:{value:e,message:pe.toString(n)}})}length(e,n){return new Jn({...this._def,exactLength:{value:e,message:pe.toString(n)}})}nonempty(e){return this.min(1,e)}}Jn.create=(t,e)=>new Jn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...Me(e)});function Uo(t){if(t instanceof _t){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=Qi.create(Uo(i))}return new _t({...t._def,shape:()=>e})}else return t instanceof Jn?new Jn({...t._def,type:Uo(t.element)}):t instanceof Qi?Qi.create(Uo(t.unwrap())):t instanceof Fo?Fo.create(Uo(t.unwrap())):t instanceof Mr?Mr.create(t.items.map(e=>Uo(e))):t}class _t extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ze.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==de.object){const m=this._getOrReturnCtx(e);return le(m,{code:re.invalid_type,expected:de.object,received:m.parsedType}),Ce}const{status:i,ctx:s}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof Xi&&this._def.unknownKeys==="strip"))for(const m in s.data)c.includes(m)||h.push(m);const p=[];for(const m of c){const y=l[m],_=s.data[m];p.push({key:{status:"valid",value:m},value:y._parse(new Kn(s,_,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof Xi){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of h)p.push({key:{status:"valid",value:y},value:{status:"valid",value:s.data[y]}});else if(m==="strict")h.length>0&&(le(s,{code:re.unrecognized_keys,keys:h}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of h){const _=s.data[y];p.push({key:{status:"valid",value:y},value:m._parse(new Kn(s,_,s.path,y)),alwaysSet:y in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of p){const _=await y.key,x=await y.value;m.push({key:_,value:x,alwaysSet:y.alwaysSet})}return m}).then(m=>Jt.mergeObjectSync(i,m)):Jt.mergeObjectSync(i,p)}get shape(){return this._def.shape()}strict(e){return pe.errToObj,new _t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var l,c;const s=((c=(l=this._def).errorMap)==null?void 0:c.call(l,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:pe.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new _t({...this._def,unknownKeys:"strip"})}passthrough(){return new _t({...this._def,unknownKeys:"passthrough"})}extend(e){return new _t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new _t({...this._def,catchall:e})}pick(e){const n={};for(const i of ze.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new _t({...this._def,shape:()=>n})}omit(e){const n={};for(const i of ze.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new _t({...this._def,shape:()=>n})}deepPartial(){return Uo(this)}partial(e){const n={};for(const i of ze.objectKeys(this.shape)){const s=this.shape[i];e&&!e[i]?n[i]=s:n[i]=s.optional()}return new _t({...this._def,shape:()=>n})}required(e){const n={};for(const i of ze.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof Qi;)l=l._def.innerType;n[i]=l}return new _t({...this._def,shape:()=>n})}keyof(){return Z_(ze.objectKeys(this.shape))}}_t.create=(t,e)=>new _t({shape:()=>t,unknownKeys:"strip",catchall:Xi.create(),typeName:we.ZodObject,...Me(e)});_t.strictCreate=(t,e)=>new _t({shape:()=>t,unknownKeys:"strict",catchall:Xi.create(),typeName:we.ZodObject,...Me(e)});_t.lazycreate=(t,e)=>new _t({shape:t,unknownKeys:"strip",catchall:Xi.create(),typeName:we.ZodObject,...Me(e)});class cu extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function s(l){for(const h of l)if(h.result.status==="valid")return h.result;for(const h of l)if(h.result.status==="dirty")return n.common.issues.push(...h.ctx.common.issues),h.result;const c=l.map(h=>new vi(h.ctx.common.issues));return le(n,{code:re.invalid_union,unionErrors:c}),Ce}if(n.common.async)return Promise.all(i.map(async l=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(s);{let l;const c=[];for(const p of i){const m={...n,common:{...n.common,issues:[]},parent:null},y=p._parseSync({data:n.data,path:n.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!l&&(l={result:y,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const h=c.map(p=>new vi(p));return le(n,{code:re.invalid_union,unionErrors:h}),Ce}}get options(){return this._def.options}}cu.create=(t,e)=>new cu({options:t,typeName:we.ZodUnion,...Me(e)});function Dd(t,e){const n=Yi(t),i=Yi(e);if(t===e)return{valid:!0,data:t};if(n===de.object&&i===de.object){const s=ze.objectKeys(e),l=ze.objectKeys(t).filter(h=>s.indexOf(h)!==-1),c={...t,...e};for(const h of l){const p=Dd(t[h],e[h]);if(!p.valid)return{valid:!1};c[h]=p.data}return{valid:!0,data:c}}else if(n===de.array&&i===de.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let l=0;l<t.length;l++){const c=t[l],h=e[l],p=Dd(c,h);if(!p.valid)return{valid:!1};s.push(p.data)}return{valid:!0,data:s}}else return n===de.date&&i===de.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class fu extends Be{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),s=(l,c)=>{if(iv(l)||iv(c))return Ce;const h=Dd(l.value,c.value);return h.valid?((rv(l)||rv(c))&&n.dirty(),{status:n.value,value:h.data}):(le(i,{code:re.invalid_intersection_types}),Ce)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,c])=>s(l,c)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}fu.create=(t,e,n)=>new fu({left:t,right:e,typeName:we.ZodIntersection,...Me(n)});class Mr extends Be{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==de.array)return le(i,{code:re.invalid_type,expected:de.array,received:i.parsedType}),Ce;if(i.data.length<this._def.items.length)return le(i,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ce;!this._def.rest&&i.data.length>this._def.items.length&&(le(i,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...i.data].map((c,h)=>{const p=this._def.items[h]||this._def.rest;return p?p._parse(new Kn(i,c,i.path,h)):null}).filter(c=>!!c);return i.common.async?Promise.all(l).then(c=>Jt.mergeArray(n,c)):Jt.mergeArray(n,l)}get items(){return this._def.items}rest(e){return new Mr({...this._def,rest:e})}}Mr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mr({items:t,typeName:we.ZodTuple,rest:null,...Me(e)})};class du extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==de.object)return le(i,{code:re.invalid_type,expected:de.object,received:i.parsedType}),Ce;const s=[],l=this._def.keyType,c=this._def.valueType;for(const h in i.data)s.push({key:l._parse(new Kn(i,h,i.path,h)),value:c._parse(new Kn(i,i.data[h],i.path,h)),alwaysSet:h in i.data});return i.common.async?Jt.mergeObjectAsync(n,s):Jt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof Be?new du({keyType:e,valueType:n,typeName:we.ZodRecord,...Me(i)}):new du({keyType:Hn.create(),valueType:e,typeName:we.ZodRecord,...Me(n)})}}class fv extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==de.map)return le(i,{code:re.invalid_type,expected:de.map,received:i.parsedType}),Ce;const s=this._def.keyType,l=this._def.valueType,c=[...i.data.entries()].map(([h,p],m)=>({key:s._parse(new Kn(i,h,i.path,[m,"key"])),value:l._parse(new Kn(i,p,i.path,[m,"value"]))}));if(i.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const p of c){const m=await p.key,y=await p.value;if(m.status==="aborted"||y.status==="aborted")return Ce;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}})}else{const h=new Map;for(const p of c){const m=p.key,y=p.value;if(m.status==="aborted"||y.status==="aborted")return Ce;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}}}}fv.create=(t,e,n)=>new fv({valueType:e,keyType:t,typeName:we.ZodMap,...Me(n)});class pa extends Be{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==de.set)return le(i,{code:re.invalid_type,expected:de.set,received:i.parsedType}),Ce;const s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(le(i,{code:re.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(le(i,{code:re.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const l=this._def.valueType;function c(p){const m=new Set;for(const y of p){if(y.status==="aborted")return Ce;y.status==="dirty"&&n.dirty(),m.add(y.value)}return{status:n.value,value:m}}const h=[...i.data.values()].map((p,m)=>l._parse(new Kn(i,p,i.path,m)));return i.common.async?Promise.all(h).then(p=>c(p)):c(h)}min(e,n){return new pa({...this._def,minSize:{value:e,message:pe.toString(n)}})}max(e,n){return new pa({...this._def,maxSize:{value:e,message:pe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}pa.create=(t,e)=>new pa({valueType:t,minSize:null,maxSize:null,typeName:we.ZodSet,...Me(e)});class Ud extends Be{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ud.create=(t,e)=>new Ud({getter:t,typeName:we.ZodLazy,...Me(e)});class dv extends Be{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return le(n,{received:n.data,code:re.invalid_literal,expected:this._def.value}),Ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}dv.create=(t,e)=>new dv({value:t,typeName:we.ZodLiteral,...Me(e)});function Z_(t,e){return new Vo({values:t,typeName:we.ZodEnum,...Me(e)})}class Vo extends Be{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return le(n,{expected:ze.joinValues(i),received:n.parsedType,code:re.invalid_type}),Ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return le(n,{received:n.data,code:re.invalid_enum_value,options:i}),Ce}return Mn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Vo.create(e,{...this._def,...n})}exclude(e,n=this._def){return Vo.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}Vo.create=Z_;class hv extends Be{_parse(e){const n=ze.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==de.string&&i.parsedType!==de.number){const s=ze.objectValues(n);return le(i,{expected:ze.joinValues(s),received:i.parsedType,code:re.invalid_type}),Ce}if(this._cache||(this._cache=new Set(ze.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ze.objectValues(n);return le(i,{received:i.data,code:re.invalid_enum_value,options:s}),Ce}return Mn(e.data)}get enum(){return this._def.values}}hv.create=(t,e)=>new hv({values:t,typeName:we.ZodNativeEnum,...Me(e)});class hu extends Be{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==de.promise&&n.common.async===!1)return le(n,{code:re.invalid_type,expected:de.promise,received:n.parsedType}),Ce;const i=n.parsedType===de.promise?n.data:Promise.resolve(n.data);return Mn(i.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}hu.create=(t,e)=>new hu({type:t,typeName:we.ZodPromise,...Me(e)});class $o extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),s=this._def.effect||null,l={addIssue:c=>{le(i,c),c.fatal?n.abort():n.dirty()},get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),s.type==="preprocess"){const c=s.transform(i.data,l);if(i.common.async)return Promise.resolve(c).then(async h=>{if(n.value==="aborted")return Ce;const p=await this._def.schema._parseAsync({data:h,path:i.path,parent:i});return p.status==="aborted"?Ce:p.status==="dirty"||n.value==="dirty"?ra(p.value):p});{if(n.value==="aborted")return Ce;const h=this._def.schema._parseSync({data:c,path:i.path,parent:i});return h.status==="aborted"?Ce:h.status==="dirty"||n.value==="dirty"?ra(h.value):h}}if(s.type==="refinement"){const c=h=>{const p=s.refinement(h,l);if(i.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(i.common.async===!1){const h=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return h.status==="aborted"?Ce:(h.status==="dirty"&&n.dirty(),c(h.value),{status:n.value,value:h.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(h=>h.status==="aborted"?Ce:(h.status==="dirty"&&n.dirty(),c(h.value).then(()=>({status:n.value,value:h.value}))))}if(s.type==="transform")if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!qo(c))return Ce;const h=s.transform(c.value,l);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:h}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>qo(c)?Promise.resolve(s.transform(c.value,l)).then(h=>({status:n.value,value:h})):Ce);ze.assertNever(s)}}$o.create=(t,e,n)=>new $o({schema:t,typeName:we.ZodEffects,effect:e,...Me(n)});$o.createWithPreprocess=(t,e,n)=>new $o({schema:e,effect:{type:"preprocess",transform:t},typeName:we.ZodEffects,...Me(n)});class Qi extends Be{_parse(e){return this._getType(e)===de.undefined?Mn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qi.create=(t,e)=>new Qi({innerType:t,typeName:we.ZodOptional,...Me(e)});class Fo extends Be{_parse(e){return this._getType(e)===de.null?Mn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fo.create=(t,e)=>new Fo({innerType:t,typeName:we.ZodNullable,...Me(e)});class Id extends Be{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===de.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Id.create=(t,e)=>new Id({innerType:t,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Me(e)});class Pd extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return lu(s)?s.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new vi(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new vi(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Pd.create=(t,e)=>new Pd({innerType:t,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Me(e)});class mv extends Be{_parse(e){if(this._getType(e)!==de.nan){const i=this._getOrReturnCtx(e);return le(i,{code:re.invalid_type,expected:de.nan,received:i.parsedType}),Ce}return{status:"valid",value:e.data}}}mv.create=t=>new mv({typeName:we.ZodNaN,...Me(t)});class jR extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class ch extends Be{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?Ce:l.status==="dirty"?(n.dirty(),ra(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?Ce:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(e,n){return new ch({in:e,out:n,typeName:we.ZodPipeline})}}class Ld extends Be{_parse(e){const n=this._def.innerType._parse(e),i=s=>(qo(s)&&(s.value=Object.freeze(s.value)),s);return lu(n)?n.then(s=>i(s)):i(n)}unwrap(){return this._def.innerType}}Ld.create=(t,e)=>new Ld({innerType:t,typeName:we.ZodReadonly,...Me(e)});var we;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(we||(we={}));const xr=Hn.create,pv=Rr.create;Nr.create;const JR=uu.create;Bo.create;const gv=kd.create;Xi.create;const oa=Jn.create,YR=_t.create,KR=cu.create;fu.create;Mr.create;const ZR=du.create,QR=Ud.create,XR=Vo.create;hu.create;Qi.create;Fo.create;const Mo={string:t=>Hn.create({...t,coerce:!0}),number:t=>Rr.create({...t,coerce:!0}),boolean:t=>uu.create({...t,coerce:!0}),bigint:t=>Nr.create({...t,coerce:!0}),date:t=>Bo.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let WR,eN;function tN(){return{geminiUrl:WR,vertexUrl:eN}}function nN(t,e,n){var i,s,l;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const c=tN();return t.vertexai?(s=c.vertexUrl)!==null&&s!==void 0?s:e:(l=c.geminiUrl)!==null&&l!==void 0?l:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ur{}function ve(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const l=e[s];return l!=null?String(l):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function f(t,e,n){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(n))for(let m=0;m<p.length;m++){const y=p[m];f(y,e.slice(l+1),n[m])}else for(const m of p)f(m,e.slice(l+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];f(p[0],e.slice(l+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const l=t[s];return Array.isArray(l)?l.map(c=>u(c,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yv||(yv={}));var vv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(vv||(vv={}));var jn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(jn||(jn={}));var _v;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(_v||(_v={}));var Tv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Tv||(Tv={}));var xv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(xv||(xv={}));var Sv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Sv||(Sv={}));var wv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(wv||(wv={}));var bv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(bv||(bv={}));var Cv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Cv||(Cv={}));var Ev;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ev||(Ev={}));var Av;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Av||(Av={}));var Rv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Rv||(Rv={}));var mu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(mu||(mu={}));var Nv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Nv||(Nv={}));var Od;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Od||(Od={}));var Mv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Mv||(Mv={}));var kv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(kv||(kv={}));var Dv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Dv||(Dv={}));var Uv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Uv||(Uv={}));var Iv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Iv||(Iv={}));var Pv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Pv||(Pv={}));var Lv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Lv||(Lv={}));var Ov;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ov||(Ov={}));var qv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(qv||(qv={}));var Bv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Bv||(Bv={}));var Vv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Vv||(Vv={}));var $v;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($v||($v={}));var Fv;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Fv||(Fv={}));var zv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(zv||(zv={}));var Gv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Gv||(Gv={}));var Hv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Hv||(Hv={}));var jv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(jv||(jv={}));var Jv;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Jv||(Jv={}));var Yv;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Yv||(Yv={}));var Kv;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Kv||(Kv={}));var Zv;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Zv||(Zv={}));var Qv;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Qv||(Qv={}));var Xv;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Xv||(Xv={}));var Io;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Io||(Io={}));function Wv(t,e){return{fileData:{fileUri:t,mimeType:e}}}class qd{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class na{get text(){var e,n,i,s,l,c,h,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const _=[];for(const x of(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[b,w]of Object.entries(x))b!=="text"&&b!=="thought"&&(w!==null||w!==void 0)&&_.push(b);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;y=!0,m+=x.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,n,i,s,l,c,h,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const _ of(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[x,b]of Object.entries(_))x!=="inlineData"&&(b!==null||b!==void 0)&&y.push(x);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,s,l,c,h,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,s,l,c,h,p,m;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,s,l,c,h,p,m;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class e0{}class t0{}class iN{}class rN{}class n0{}class i0{}class r0{}class oN{}class o0{}class s0{}class a0{}class sN{}class aN{}class lN{}class l0{}class uN{get text(){var e,n,i;let s="",l=!1;const c=[];for(const h of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&c.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,s+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?s:void 0}get data(){var e,n,i;let s="";const l=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(c))h!=="inlineData"&&p!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(s+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class cN{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ze(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Q_(t,e){const n=Ze(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function X_(t){return Array.isArray(t)?t.map(e=>pu(e)):[pu(t)]}function pu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function fN(t){const e=pu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dN(t){const e=pu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function u0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function W_(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>u0(e)):[u0(t)]}function Bd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function c0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function f0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function $t(t){if(t==null)throw new Error("ContentUnion is required");return Bd(t)?t:{role:"user",parts:W_(t)}}function eT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=$t(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=$t(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>$t(n)):[$t(e)]}function Nn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(c0(t)||f0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$t(t)]}const e=[],n=[],i=Bd(t[0]);for(const s of t){const l=Bd(s);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(s);else{if(c0(s)||f0(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||e.push({role:"user",parts:W_(n)}),e}const hN=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),d0=XR(["string","number","integer","object","array","boolean","null"]),mN=KR([d0,oa(d0)]);function pN(t=!0){const e=QR(()=>{const n=YR({type:mN.optional(),format:xr().optional(),title:xr().optional(),description:xr().optional(),default:gv().optional(),items:e.optional(),minItems:Mo.string().optional(),maxItems:Mo.string().optional(),enum:oa(gv()).optional(),properties:ZR(xr(),e).optional(),required:oa(xr()).optional(),minProperties:Mo.string().optional(),maxProperties:Mo.string().optional(),propertyOrdering:oa(xr()).optional(),minimum:pv().optional(),maximum:pv().optional(),minLength:Mo.string().optional(),maxLength:Mo.string().optional(),pattern:xr().optional(),anyOf:oa(e).optional(),additionalProperties:JR().optional()});return t?n.strict():n});return e}function gN(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(jn).includes(n[0].toUpperCase())?n[0].toUpperCase():jn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(jn).includes(i.toUpperCase())?i.toUpperCase():jn.TYPE_UNSPECIFIED})}}function Po(t){const e={},n=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&gN(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(jn).includes(h.toUpperCase())?h.toUpperCase():jn.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=Po(h);else if(i.includes(c)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(Po(m))}e[c]=p}else if(s.includes(c)){const p={};for(const[m,y]of Object.entries(h))p[m]=Po(y);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=h}return e}function ga(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=pN().parse(t);return Po(e)}else return Po(t)}function fh(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function dh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ko(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=ga(e.parameters)),e.response&&(e.response=ga(e.response));return t}function Zo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function yN(t,e,n,i=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function Ti(t,e){if(typeof e!="string")throw new Error("name must be a string");return yN(t,e,"cachedContents")}function tT(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function xi(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function vN(t){return t!=null&&typeof t=="object"&&"name"in t}function _N(t){return t!=null&&typeof t=="object"&&"video"in t}function TN(t){return t!=null&&typeof t=="object"&&"uri"in t}function nT(t){var e;let n;if(vN(t)&&(n=t.name),!(TN(t)&&(n=t.uri,n===void 0))&&!(_N(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function iT(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function rT(t){for(const e of["models","tunedModels","publisherModels"])if(xN(t,e))return t[e];return[]}function xN(t,e){return t!==null&&typeof t=="object"&&e in t}function SN(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:Po(Nu(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function wN(t,e={}){const n=[],i=new Set;for(const s of t){const l=s.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const c=SN(s,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function bN(t){const e=[];for(const n of t)e.push(Nu(n));return e}function CN(t){const e={};for(const[n,i]of Object.entries(t)){const s=i;e[n]=Nu(s)}return e}function Nu(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),s={};for(const[l,c]of Object.entries(t))if(e.has(l))s[l]=Nu(c);else if(n.has(l))s[l]=bN(c);else if(i.has(l))s[l]=CN(c);else if(l==="type"){const h=c.toUpperCase();s[l]=Object.values(jn).includes(h)?h:jn.TYPE_UNSPECIFIED}else hN.has(l)&&(s[l]=c);return s}function oT(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function EN(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Mu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function sT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AN(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function RN(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function NN(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function MN(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],AN(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],RN(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],NN(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function aT(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>MN(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function kN(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const s=u(t,["description"]);s!=null&&f(e,["description"],s);const l=u(t,["enum"]);l!=null&&f(e,["enum"],l);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const _=u(t,["maxProperties"]);_!=null&&f(e,["maxProperties"],_);const x=u(t,["maximum"]);x!=null&&f(e,["maximum"],x);const b=u(t,["minItems"]);b!=null&&f(e,["minItems"],b);const w=u(t,["minLength"]);w!=null&&f(e,["minLength"],w);const R=u(t,["minProperties"]);R!=null&&f(e,["minProperties"],R);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const k=u(t,["nullable"]);k!=null&&f(e,["nullable"],k);const L=u(t,["pattern"]);L!=null&&f(e,["pattern"],L);const U=u(t,["properties"]);U!=null&&f(e,["properties"],U);const D=u(t,["propertyOrdering"]);D!=null&&f(e,["propertyOrdering"],D);const V=u(t,["required"]);V!=null&&f(e,["required"],V);const Z=u(t,["title"]);Z!=null&&f(e,["title"],Z);const Q=u(t,["type"]);return Q!=null&&f(e,["type"],Q),e}function DN(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&f(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function UN(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const s=u(t,["name"]);s!=null&&f(e,["name"],s);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function IN(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function PN(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],IN(n)),e}function LN(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function ON(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],LN(n)),e}function qN(){return{}}function BN(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>UN(p))),f(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],PN(i));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&f(e,["googleSearchRetrieval"],ON(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],qN());const c=u(t,["codeExecution"]);return c!=null&&f(e,["codeExecution"],c),e}function VN(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function $N(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function FN(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],$N(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function zN(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],VN(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],FN(i)),e}function GN(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function lT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],GN(n)),e}function HN(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],lT(i)),e}function jN(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>HN(s))),f(e,["speakerVoiceConfigs"],i)}return e}function JN(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],lT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],jN(i));const s=u(t,["languageCode"]);return s!=null&&f(e,["languageCode"],s),e}function YN(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function KN(t,e,n){const i={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],aT($t(s)));const l=u(e,["temperature"]);l!=null&&f(i,["temperature"],l);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const _=u(e,["responseLogprobs"]);_!=null&&f(i,["responseLogprobs"],_);const x=u(e,["logprobs"]);x!=null&&f(i,["logprobs"],x);const b=u(e,["presencePenalty"]);b!=null&&f(i,["presencePenalty"],b);const w=u(e,["frequencyPenalty"]);w!=null&&f(i,["frequencyPenalty"],w);const R=u(e,["seed"]);R!=null&&f(i,["seed"],R);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const k=u(e,["responseSchema"]);k!=null&&f(i,["responseSchema"],kN(ga(k)));const L=u(e,["responseJsonSchema"]);if(L!=null&&f(i,["responseJsonSchema"],L),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=u(e,["safetySettings"]);if(n!==void 0&&U!=null){let ae=U;Array.isArray(ae)&&(ae=ae.map(ue=>DN(ue))),f(n,["safetySettings"],ae)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let ae=Zo(D);Array.isArray(ae)&&(ae=ae.map(ue=>BN(Ko(ue)))),f(n,["tools"],ae)}const V=u(e,["toolConfig"]);if(n!==void 0&&V!=null&&f(n,["toolConfig"],zN(V)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=u(e,["cachedContent"]);n!==void 0&&Z!=null&&f(n,["cachedContent"],Ti(t,Z));const Q=u(e,["responseModalities"]);Q!=null&&f(i,["responseModalities"],Q);const ne=u(e,["mediaResolution"]);ne!=null&&f(i,["mediaResolution"],ne);const G=u(e,["speechConfig"]);if(G!=null&&f(i,["speechConfig"],JN(fh(G))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=u(e,["thinkingConfig"]);return I!=null&&f(i,["thinkingConfig"],YN(I)),i}function ZN(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["request","model"],Ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=Nn(s);Array.isArray(c)&&(c=c.map(h=>aT(h))),f(n,["request","contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["request","generationConfig"],KN(t,l,n)),n}function QN(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&f(n,["fileName"],i);const s=u(e,["inlinedRequests"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>ZN(t,c))),f(n,["requests","requests"],l)}return n}function XN(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&f(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function WN(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["src"]);s!=null&&f(n,["batch","inputConfig"],QN(t,oT(t,s)));const l=u(e,["config"]);return l!=null&&f(n,["config"],XN(l,n)),n}function eM(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Mu(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function tM(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Mu(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function nM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);if(e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function iM(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],nM(n,e)),e}function rM(t){const e={},n=u(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&f(e,["gcsSource","uris"],i);const s=u(t,["bigqueryUri"]);if(s!=null&&f(e,["bigquerySource","inputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function oM(t){const e={},n=u(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&f(e,["gcsDestination","outputUriPrefix"],i);const s=u(t,["bigqueryUri"]);if(s!=null&&f(e,["bigqueryDestination","outputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function sM(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=u(t,["dest"]);return e!==void 0&&s!=null&&f(e,["outputConfig"],oM(EN(s))),n}function aM(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],Ze(t,i));const s=u(e,["src"]);s!=null&&f(n,["inputConfig"],rM(oT(t,s)));const l=u(e,["config"]);return l!=null&&f(n,["config"],sM(l,n)),n}function lM(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Mu(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function uM(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Mu(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function cM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);const l=u(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),n}function fM(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],cM(n,e)),e}function dM(){return{}}function hM(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function mM(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function pM(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function gM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],hM(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],mM(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],pM(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function yM(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>gM(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function vM(t){const e={},n=u(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function _M(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function TM(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>_M(s))),f(e,["urlMetadata"],i)}return e}function xM(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],yM(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],vM(i));const s=u(t,["tokenCount"]);s!=null&&f(e,["tokenCount"],s);const l=u(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],TM(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const _=u(t,["safetyRatings"]);return _!=null&&f(e,["safetyRatings"],_),e}function SM(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>xM(h))),f(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);const s=u(t,["promptFeedback"]);s!=null&&f(e,["promptFeedback"],s);const l=u(t,["usageMetadata"]);return l!=null&&f(e,["usageMetadata"],l),e}function wM(t){const e={},n=u(t,["response"]);return n!=null&&f(e,["response"],SM(n)),u(t,["error"])!=null&&f(e,["error"],dM()),e}function bM(t){const e={},n=u(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>wM(l))),f(e,["inlinedResponses"],s)}return e}function Vd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["metadata","state"]);s!=null&&f(e,["state"],sT(s));const l=u(t,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=u(t,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["metadata","model"]);p!=null&&f(e,["model"],p);const m=u(t,["metadata","output"]);return m!=null&&f(e,["dest"],bM(m)),e}function CM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Vd(l))),f(e,["batchJobs"],s)}return e}function EM(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["code"]);i!=null&&f(e,["code"],i);const s=u(t,["message"]);return s!=null&&f(e,["message"],s),e}function AM(t){const e={},n=u(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&f(e,["gcsUri"],i);const s=u(t,["bigquerySource","inputUri"]);return s!=null&&f(e,["bigqueryUri"],s),e}function RM(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&f(e,["gcsUri"],i);const s=u(t,["bigqueryDestination","outputUri"]);return s!=null&&f(e,["bigqueryUri"],s),e}function $d(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["state"]);s!=null&&f(e,["state"],sT(s));const l=u(t,["error"]);l!=null&&f(e,["error"],EM(l));const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["startTime"]);h!=null&&f(e,["startTime"],h);const p=u(t,["endTime"]);p!=null&&f(e,["endTime"],p);const m=u(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const y=u(t,["model"]);y!=null&&f(e,["model"],y);const _=u(t,["inputConfig"]);_!=null&&f(e,["src"],AM(_));const x=u(t,["outputConfig"]);return x!=null&&f(e,["dest"],RM(x)),e}function NM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>$d(l))),f(e,["batchJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(kr||(kr={}));class wa{constructor(e,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,s)}init(e,n,i){var s,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};i?typeof i=="object"?c=Object.assign({},i):c=i:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(s=c.config)===null||s===void 0?void 0:s.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MM extends Ur{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new wa(kr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=aM(this.apiClient,e);return h=ve("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>$d(y))}else{const m=WN(this.apiClient,e);return h=ve("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Vd(y))}}async get(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=lM(this.apiClient,e);return h=ve("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>$d(y))}else{const m=eM(this.apiClient,e);return h=ve("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Vd(y))}}async cancel(e){var n,i,s,l;let c="",h={};if(this.apiClient.isVertexAI()){const p=uM(this.apiClient,e);c=ve("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=tM(this.apiClient,e);c=ve("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=fM(e);return h=ve("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=NM(y),x=new l0;return Object.assign(x,_),x})}else{const m=iM(e);return h=ve("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const _=CM(y),x=new l0;return Object.assign(x,_),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kM(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function DM(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function UM(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function IM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],kM(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],DM(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],UM(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function h0(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>IM(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function PM(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const s=u(t,["name"]);s!=null&&f(e,["name"],s);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function LM(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function OM(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],LM(n)),e}function qM(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function BM(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],qM(n)),e}function VM(){return{}}function $M(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>PM(p))),f(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],OM(i));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&f(e,["googleSearchRetrieval"],BM(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],VM());const c=u(t,["codeExecution"]);return c!=null&&f(e,["codeExecution"],c),e}function FM(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function zM(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function GM(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],zM(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function HM(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],FM(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],GM(i)),e}function jM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&f(e,["expireTime"],s);const l=u(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let y=Nn(c);Array.isArray(y)&&(y=y.map(_=>h0(_))),f(e,["contents"],y)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],h0($t(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>$M(_))),f(e,["tools"],y)}const m=u(t,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],HM(m)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function JM(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],Q_(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],jM(s,n)),n}function YM(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Ti(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function KM(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Ti(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function ZM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&f(e,["expireTime"],s),n}function QM(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Ti(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],ZM(s,n)),n}function XM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function WM(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],XM(n,e)),e}function ek(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function tk(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function nk(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function ik(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],ek(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],tk(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],nk(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function m0(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>ik(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function rk(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const s=u(t,["parameters"]);s!=null&&f(e,["parameters"],s);const l=u(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function ok(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function sk(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],ok(n)),e}function ak(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function lk(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],ak(n)),e}function uk(){return{}}function ck(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function fk(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],ck(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const s=u(t,["googleServiceAccountConfig"]);s!=null&&f(e,["googleServiceAccountConfig"],s);const l=u(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function dk(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],fk(n)),e}function hk(){return{}}function mk(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>rk(_))),f(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=u(t,["googleSearch"]);s!=null&&f(e,["googleSearch"],sk(s));const l=u(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],lk(l)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],uk());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],dk(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],hk());const m=u(t,["codeExecution"]);return m!=null&&f(e,["codeExecution"],m),e}function pk(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function gk(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function yk(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],gk(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function vk(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],pk(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],yk(i)),e}function _k(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&f(e,["expireTime"],s);const l=u(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let _=Nn(c);Array.isArray(_)&&(_=_.map(x=>m0(x))),f(e,["contents"],_)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],m0($t(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let _=p;Array.isArray(_)&&(_=_.map(x=>mk(x))),f(e,["tools"],_)}const m=u(t,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],vk(m));const y=u(t,["kmsKeyName"]);return e!==void 0&&y!=null&&f(e,["encryption_spec","kmsKeyName"],y),n}function Tk(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],Q_(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],_k(s,n)),n}function xk(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Ti(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function Sk(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Ti(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function wk(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&f(e,["expireTime"],s),n}function bk(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Ti(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],wk(s,n)),n}function Ck(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function Ek(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],Ck(n,e)),e}function eu(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["model"]);s!=null&&f(e,["model"],s);const l=u(t,["createTime"]);l!=null&&f(e,["createTime"],l);const c=u(t,["updateTime"]);c!=null&&f(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function Ak(){return{}}function Rk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>eu(l))),f(e,["cachedContents"],s)}return e}function tu(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["model"]);s!=null&&f(e,["model"],s);const l=u(t,["createTime"]);l!=null&&f(e,["createTime"],l);const c=u(t,["updateTime"]);c!=null&&f(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function Nk(){return{}}function Mk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>tu(l))),f(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kk extends Ur{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wa(kr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=Tk(this.apiClient,e);return h=ve("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>tu(y))}else{const m=JM(this.apiClient,e);return h=ve("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>eu(y))}}async get(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=xk(this.apiClient,e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>tu(y))}else{const m=YM(this.apiClient,e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>eu(y))}}async delete(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=Sk(this.apiClient,e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=Nk(),_=new s0;return Object.assign(_,y),_})}else{const m=KM(this.apiClient,e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=Ak(),_=new s0;return Object.assign(_,y),_})}}async update(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=bk(this.apiClient,e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>tu(y))}else{const m=QM(this.apiClient,e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>eu(y))}}async listInternal(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=Ek(e);return h=ve("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=Mk(y),x=new a0;return Object.assign(x,_),x})}else{const m=WM(e);return h=ve("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const _=Rk(y),x=new a0;return Object.assign(x,_),x})}}}function p0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rt(t){return this instanceof rt?(this.v=t,this):new rt(t)}function Lo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,l=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(b){return function(w){return Promise.resolve(w).then(b,_)}}function h(b,w){i[b]&&(s[b]=function(R){return new Promise(function(A,k){l.push([b,R,A,k])>1||p(b,R)})},w&&(s[b]=w(s[b])))}function p(b,w){try{m(i[b](w))}catch(R){x(l[0][3],R)}}function m(b){b.value instanceof rt?Promise.resolve(b.value.v).then(y,_):x(l[0][2],b)}function y(b){p("next",b)}function _(b){p("throw",b)}function x(b,w){b(w),l.shift(),l.length&&p(l[0][0],l[0][1])}}function ca(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof p0=="function"?p0(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(c){return new Promise(function(h,p){c=t[l](c),s(h,p,c.done,c.value)})}}function s(l,c,h,p){Promise.resolve(p).then(function(m){l({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dk(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:uT(n)}function uT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Uk(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function g0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let l=!0;for(;i<n&&t[i].role==="model";)s.push(t[i]),l&&!uT(t[i])&&(l=!1),i++;l?e.push(...s):e.pop()}return e}class Ik{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Pk(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Pk{constructor(e,n,i,s={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=s,this.history=l,this.sendPromise=Promise.resolve(),Uk(l)}async sendMessage(e){var n;await this.sendPromise;const i=$t(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,h;const p=await s,m=(c=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,y=p.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let x=[];y!=null&&(x=(h=y.slice(_))!==null&&h!==void 0?h:[]);const b=m?[m]:[];this.recordHistory(i,b,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const i=$t(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const l=await s;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?g0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,s;return Lo(this,arguments,function*(){var c,h,p,m;const y=[];try{for(var _=!0,x=ca(e),b;b=yield rt(x.next()),c=b.done,!c;_=!0){m=b.value,_=!1;const w=m;if(Dk(w)){const R=(s=(i=w.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content;R!==void 0&&y.push(R)}yield yield rt(w)}}catch(w){h={error:w}}finally{try{!_&&!c&&(p=x.return)&&(yield rt(p.call(x)))}finally{if(h)throw h.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let s=[];n.length>0&&n.every(l=>l.role!==void 0)?s=n:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...g0(i)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ku extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ku.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function Ok(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],Lk(n,e)),e}function qk(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["message"]);i!=null&&f(e,["message"],i);const s=u(t,["code"]);return s!=null&&f(e,["code"],s),e}function Bk(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["mimeType"]);s!=null&&f(e,["mimeType"],s);const l=u(t,["sizeBytes"]);l!=null&&f(e,["sizeBytes"],l);const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&f(e,["uri"],y);const _=u(t,["downloadUri"]);_!=null&&f(e,["downloadUri"],_);const x=u(t,["state"]);x!=null&&f(e,["state"],x);const b=u(t,["source"]);b!=null&&f(e,["source"],b);const w=u(t,["videoMetadata"]);w!=null&&f(e,["videoMetadata"],w);const R=u(t,["error"]);return R!=null&&f(e,["error"],qk(R)),e}function Vk(t){const e={},n=u(t,["file"]);n!=null&&f(e,["file"],Bk(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function $k(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","file"],nT(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function Fk(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","file"],nT(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function zk(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["message"]);i!=null&&f(e,["message"],i);const s=u(t,["code"]);return s!=null&&f(e,["code"],s),e}function Fd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["mimeType"]);s!=null&&f(e,["mimeType"],s);const l=u(t,["sizeBytes"]);l!=null&&f(e,["sizeBytes"],l);const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&f(e,["uri"],y);const _=u(t,["downloadUri"]);_!=null&&f(e,["downloadUri"],_);const x=u(t,["state"]);x!=null&&f(e,["state"],x);const b=u(t,["source"]);b!=null&&f(e,["source"],b);const w=u(t,["videoMetadata"]);w!=null&&f(e,["videoMetadata"],w);const R=u(t,["error"]);return R!=null&&f(e,["error"],zk(R)),e}function Gk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Fd(l))),f(e,["files"],s)}return e}function Hk(){return{}}function jk(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jk extends Ur{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wa(kr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Fd(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Ok(e);return l=ve("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const m=Gk(p),y=new sN;return Object.assign(y,m),y})}}async createInternal(e){var n,i;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Vk(e);return l=ve("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(()=>{const p=Hk(),m=new aN;return Object.assign(m,p),m})}}async get(e){var n,i;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$k(e);return l=ve("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>Fd(p))}}async delete(e){var n,i;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Fk(e);return l=ve("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(()=>{const p=jk(),m=new lN;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yk(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function Kk(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function cT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],Yk(n)),e}function Zk(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],Kk(n)),e}function Qk(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],cT(i)),e}function Xk(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Qk(s))),f(e,["speakerVoiceConfigs"],i)}return e}function Wk(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],cT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],Xk(i));const s=u(t,["languageCode"]);return s!=null&&f(e,["languageCode"],s),e}function e1(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],Zk(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function t1(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function n1(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function i1(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function r1(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function o1(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function s1(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function a1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],t1(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],i1(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],o1(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function l1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],n1(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],r1(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],s1(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function u1(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>a1(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function c1(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>l1(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function f1(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const s=u(t,["name"]);s!=null&&f(e,["name"],s);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function d1(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const s=u(t,["parameters"]);s!=null&&f(e,["parameters"],s);const l=u(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function h1(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function m1(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function p1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],h1(n)),e}function g1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],m1(n)),e}function y1(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function v1(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function _1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],y1(n)),e}function T1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],v1(n)),e}function x1(){return{}}function S1(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function w1(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],S1(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const s=u(t,["googleServiceAccountConfig"]);s!=null&&f(e,["googleServiceAccountConfig"],s);const l=u(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function b1(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],w1(n)),e}function C1(){return{}}function E1(){return{}}function A1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>f1(p))),f(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],p1(i));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&f(e,["googleSearchRetrieval"],_1(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],C1());const c=u(t,["codeExecution"]);return c!=null&&f(e,["codeExecution"],c),e}function R1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>d1(_))),f(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=u(t,["googleSearch"]);s!=null&&f(e,["googleSearch"],g1(s));const l=u(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],T1(l)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],x1());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],b1(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],E1());const m=u(t,["codeExecution"]);return m!=null&&f(e,["codeExecution"],m),e}function N1(t){const e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function M1(t){const e={},n=u(t,["handle"]);n!=null&&f(e,["handle"],n);const i=u(t,["transparent"]);return i!=null&&f(e,["transparent"],i),e}function y0(){return{}}function v0(){return{}}function k1(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const s=u(t,["endOfSpeechSensitivity"]);s!=null&&f(e,["endOfSpeechSensitivity"],s);const l=u(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function D1(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const s=u(t,["endOfSpeechSensitivity"]);s!=null&&f(e,["endOfSpeechSensitivity"],s);const l=u(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function U1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],k1(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const s=u(t,["turnCoverage"]);return s!=null&&f(e,["turnCoverage"],s),e}function I1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],D1(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const s=u(t,["turnCoverage"]);return s!=null&&f(e,["turnCoverage"],s),e}function P1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function L1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function O1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],P1(i)),e}function q1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],L1(i)),e}function B1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function V1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function $1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const l=u(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Wk(dh(_)));const x=u(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(t,["systemInstruction"]);e!==void 0&&b!=null&&f(e,["setup","systemInstruction"],u1($t(b)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let V=Zo(w);Array.isArray(V)&&(V=V.map(Z=>A1(Ko(Z)))),f(e,["setup","tools"],V)}const R=u(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],N1(R));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],y0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","outputAudioTranscription"],y0());const L=u(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&f(e,["setup","realtimeInputConfig"],U1(L));const U=u(t,["contextWindowCompression"]);e!==void 0&&U!=null&&f(e,["setup","contextWindowCompression"],O1(U));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&f(e,["setup","proactivity"],B1(D)),n}function F1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const l=u(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],e1(dh(_)));const x=u(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(t,["systemInstruction"]);e!==void 0&&b!=null&&f(e,["setup","systemInstruction"],c1($t(b)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let V=Zo(w);Array.isArray(V)&&(V=V.map(Z=>R1(Ko(Z)))),f(e,["setup","tools"],V)}const R=u(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],M1(R));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],v0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","outputAudioTranscription"],v0());const L=u(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&f(e,["setup","realtimeInputConfig"],I1(L));const U=u(t,["contextWindowCompression"]);e!==void 0&&U!=null&&f(e,["setup","contextWindowCompression"],q1(U));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&f(e,["setup","proactivity"],V1(D)),n}function z1(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],Ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],$1(s,n)),n}function G1(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],Ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],F1(s,n)),n}function H1(){return{}}function j1(){return{}}function J1(){return{}}function Y1(){return{}}function K1(t){const e={},n=u(t,["media"]);n!=null&&f(e,["mediaChunks"],X_(n));const i=u(t,["audio"]);i!=null&&f(e,["audio"],dN(i));const s=u(t,["audioStreamEnd"]);s!=null&&f(e,["audioStreamEnd"],s);const l=u(t,["video"]);l!=null&&f(e,["video"],fN(l));const c=u(t,["text"]);return c!=null&&f(e,["text"],c),u(t,["activityStart"])!=null&&f(e,["activityStart"],H1()),u(t,["activityEnd"])!=null&&f(e,["activityEnd"],J1()),e}function Z1(t){const e={},n=u(t,["media"]);if(n!=null&&f(e,["mediaChunks"],X_(n)),u(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=u(t,["audioStreamEnd"]);if(i!=null&&f(e,["audioStreamEnd"],i),u(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(t,["activityStart"])!=null&&f(e,["activityStart"],j1()),u(t,["activityEnd"])!=null&&f(e,["activityEnd"],Y1()),e}function fT(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function Q1(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>fT(s))),f(e,["weightedPrompts"],i)}return e}function dT(t){const e={},n=u(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&f(e,["topK"],i);const s=u(t,["seed"]);s!=null&&f(e,["seed"],s);const l=u(t,["guidance"]);l!=null&&f(e,["guidance"],l);const c=u(t,["bpm"]);c!=null&&f(e,["bpm"],c);const h=u(t,["density"]);h!=null&&f(e,["density"],h);const p=u(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&f(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&f(e,["muteBass"],y);const _=u(t,["muteDrums"]);_!=null&&f(e,["muteDrums"],_);const x=u(t,["onlyBassAndDrums"]);return x!=null&&f(e,["onlyBassAndDrums"],x),e}function X1(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],dT(n)),e}function hT(t){const e={},n=u(t,["model"]);return n!=null&&f(e,["model"],n),e}function mT(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>fT(s))),f(e,["weightedPrompts"],i)}return e}function zd(t){const e={},n=u(t,["setup"]);n!=null&&f(e,["setup"],hT(n));const i=u(t,["clientContent"]);i!=null&&f(e,["clientContent"],mT(i));const s=u(t,["musicGenerationConfig"]);s!=null&&f(e,["musicGenerationConfig"],dT(s));const l=u(t,["playbackControl"]);return l!=null&&f(e,["playbackControl"],l),e}function W1(){return{}}function eD(){return{}}function tD(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function nD(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function iD(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function rD(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function oD(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function sD(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function aD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],tD(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],iD(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],oD(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function lD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],nD(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],rD(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],sD(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function uD(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>aD(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function cD(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>lD(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function _0(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function T0(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function fD(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function dD(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>fD(s))),f(e,["urlMetadata"],i)}return e}function hD(t){const e={},n=u(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],uD(n));const i=u(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const s=u(t,["interrupted"]);s!=null&&f(e,["interrupted"],s);const l=u(t,["groundingMetadata"]);l!=null&&f(e,["groundingMetadata"],l);const c=u(t,["generationComplete"]);c!=null&&f(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],_0(h));const p=u(t,["outputTranscription"]);p!=null&&f(e,["outputTranscription"],_0(p));const m=u(t,["urlContextMetadata"]);return m!=null&&f(e,["urlContextMetadata"],dD(m)),e}function mD(t){const e={},n=u(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],cD(n));const i=u(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const s=u(t,["interrupted"]);s!=null&&f(e,["interrupted"],s);const l=u(t,["groundingMetadata"]);l!=null&&f(e,["groundingMetadata"],l);const c=u(t,["generationComplete"]);c!=null&&f(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],T0(h));const p=u(t,["outputTranscription"]);return p!=null&&f(e,["outputTranscription"],T0(p)),e}function pD(t){const e={},n=u(t,["id"]);n!=null&&f(e,["id"],n);const i=u(t,["args"]);i!=null&&f(e,["args"],i);const s=u(t,["name"]);return s!=null&&f(e,["name"],s),e}function gD(t){const e={},n=u(t,["args"]);n!=null&&f(e,["args"],n);const i=u(t,["name"]);return i!=null&&f(e,["name"],i),e}function yD(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>pD(s))),f(e,["functionCalls"],i)}return e}function vD(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>gD(s))),f(e,["functionCalls"],i)}return e}function _D(t){const e={},n=u(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function TD(t){const e={},n=u(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function jl(t){const e={},n=u(t,["modality"]);n!=null&&f(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function Jl(t){const e={},n=u(t,["modality"]);n!=null&&f(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function xD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const s=u(t,["responseTokenCount"]);s!=null&&f(e,["responseTokenCount"],s);const l=u(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=u(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(b=>jl(b))),f(e,["promptTokensDetails"],x)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(b=>jl(b))),f(e,["cacheTokensDetails"],x)}const y=u(t,["responseTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(b=>jl(b))),f(e,["responseTokensDetails"],x)}const _=u(t,["toolUsePromptTokensDetails"]);if(_!=null){let x=_;Array.isArray(x)&&(x=x.map(b=>jl(b))),f(e,["toolUsePromptTokensDetails"],x)}return e}function SD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const s=u(t,["candidatesTokenCount"]);s!=null&&f(e,["responseTokenCount"],s);const l=u(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=u(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(w=>Jl(w))),f(e,["promptTokensDetails"],b)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(w=>Jl(w))),f(e,["cacheTokensDetails"],b)}const y=u(t,["candidatesTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(w=>Jl(w))),f(e,["responseTokensDetails"],b)}const _=u(t,["toolUsePromptTokensDetails"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(w=>Jl(w))),f(e,["toolUsePromptTokensDetails"],b)}const x=u(t,["trafficType"]);return x!=null&&f(e,["trafficType"],x),e}function wD(t){const e={},n=u(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function bD(t){const e={},n=u(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function CD(t){const e={},n=u(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&f(e,["resumable"],i);const s=u(t,["lastConsumedClientMessageIndex"]);return s!=null&&f(e,["lastConsumedClientMessageIndex"],s),e}function ED(t){const e={},n=u(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&f(e,["resumable"],i);const s=u(t,["lastConsumedClientMessageIndex"]);return s!=null&&f(e,["lastConsumedClientMessageIndex"],s),e}function AD(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],W1());const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],hD(i));const s=u(t,["toolCall"]);s!=null&&f(e,["toolCall"],yD(s));const l=u(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],_D(l));const c=u(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],xD(c));const h=u(t,["goAway"]);h!=null&&f(e,["goAway"],wD(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],CD(p)),e}function RD(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],eD());const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],mD(i));const s=u(t,["toolCall"]);s!=null&&f(e,["toolCall"],vD(s));const l=u(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],TD(l));const c=u(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],SD(c));const h=u(t,["goAway"]);h!=null&&f(e,["goAway"],bD(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],ED(p)),e}function ND(){return{}}function MD(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function kD(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>MD(s))),f(e,["weightedPrompts"],i)}return e}function DD(t){const e={},n=u(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&f(e,["topK"],i);const s=u(t,["seed"]);s!=null&&f(e,["seed"],s);const l=u(t,["guidance"]);l!=null&&f(e,["guidance"],l);const c=u(t,["bpm"]);c!=null&&f(e,["bpm"],c);const h=u(t,["density"]);h!=null&&f(e,["density"],h);const p=u(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&f(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&f(e,["muteBass"],y);const _=u(t,["muteDrums"]);_!=null&&f(e,["muteDrums"],_);const x=u(t,["onlyBassAndDrums"]);return x!=null&&f(e,["onlyBassAndDrums"],x),e}function UD(t){const e={},n=u(t,["clientContent"]);n!=null&&f(e,["clientContent"],kD(n));const i=u(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],DD(i)),e}function ID(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);i!=null&&f(e,["mimeType"],i);const s=u(t,["sourceMetadata"]);return s!=null&&f(e,["sourceMetadata"],UD(s)),e}function PD(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ID(s))),f(e,["audioChunks"],i)}return e}function LD(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["filteredReason"]);return i!=null&&f(e,["filteredReason"],i),e}function OD(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],ND());const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],PD(i));const s=u(t,["filteredPrompt"]);return s!=null&&f(e,["filteredPrompt"],LD(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qD(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function BD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function VD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function $D(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],qD(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],BD(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],VD(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function Du(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>$D(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function FD(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const s=u(t,["description"]);s!=null&&f(e,["description"],s);const l=u(t,["enum"]);l!=null&&f(e,["enum"],l);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const _=u(t,["maxProperties"]);_!=null&&f(e,["maxProperties"],_);const x=u(t,["maximum"]);x!=null&&f(e,["maximum"],x);const b=u(t,["minItems"]);b!=null&&f(e,["minItems"],b);const w=u(t,["minLength"]);w!=null&&f(e,["minLength"],w);const R=u(t,["minProperties"]);R!=null&&f(e,["minProperties"],R);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const k=u(t,["nullable"]);k!=null&&f(e,["nullable"],k);const L=u(t,["pattern"]);L!=null&&f(e,["pattern"],L);const U=u(t,["properties"]);U!=null&&f(e,["properties"],U);const D=u(t,["propertyOrdering"]);D!=null&&f(e,["propertyOrdering"],D);const V=u(t,["required"]);V!=null&&f(e,["required"],V);const Z=u(t,["title"]);Z!=null&&f(e,["title"],Z);const Q=u(t,["type"]);return Q!=null&&f(e,["type"],Q),e}function zD(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&f(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function GD(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const s=u(t,["name"]);s!=null&&f(e,["name"],s);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function HD(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function jD(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],HD(n)),e}function JD(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function YD(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],JD(n)),e}function KD(){return{}}function ZD(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>GD(p))),f(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],jD(i));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&f(e,["googleSearchRetrieval"],YD(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],KD());const c=u(t,["codeExecution"]);return c!=null&&f(e,["codeExecution"],c),e}function QD(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function XD(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function WD(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],XD(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function eU(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],QD(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],WD(i)),e}function tU(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function pT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],tU(n)),e}function nU(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],pT(i)),e}function iU(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>nU(s))),f(e,["speakerVoiceConfigs"],i)}return e}function rU(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],pT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],iU(i));const s=u(t,["languageCode"]);return s!=null&&f(e,["languageCode"],s),e}function oU(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function sU(t,e,n){const i={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],Du($t(s)));const l=u(e,["temperature"]);l!=null&&f(i,["temperature"],l);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const _=u(e,["responseLogprobs"]);_!=null&&f(i,["responseLogprobs"],_);const x=u(e,["logprobs"]);x!=null&&f(i,["logprobs"],x);const b=u(e,["presencePenalty"]);b!=null&&f(i,["presencePenalty"],b);const w=u(e,["frequencyPenalty"]);w!=null&&f(i,["frequencyPenalty"],w);const R=u(e,["seed"]);R!=null&&f(i,["seed"],R);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const k=u(e,["responseSchema"]);k!=null&&f(i,["responseSchema"],FD(ga(k)));const L=u(e,["responseJsonSchema"]);if(L!=null&&f(i,["responseJsonSchema"],L),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=u(e,["safetySettings"]);if(n!==void 0&&U!=null){let ae=U;Array.isArray(ae)&&(ae=ae.map(ue=>zD(ue))),f(n,["safetySettings"],ae)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let ae=Zo(D);Array.isArray(ae)&&(ae=ae.map(ue=>ZD(Ko(ue)))),f(n,["tools"],ae)}const V=u(e,["toolConfig"]);if(n!==void 0&&V!=null&&f(n,["toolConfig"],eU(V)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=u(e,["cachedContent"]);n!==void 0&&Z!=null&&f(n,["cachedContent"],Ti(t,Z));const Q=u(e,["responseModalities"]);Q!=null&&f(i,["responseModalities"],Q);const ne=u(e,["mediaResolution"]);ne!=null&&f(i,["mediaResolution"],ne);const G=u(e,["speechConfig"]);if(G!=null&&f(i,["speechConfig"],rU(fh(G))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=u(e,["thinkingConfig"]);return I!=null&&f(i,["thinkingConfig"],oU(I)),i}function x0(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=Nn(s);Array.isArray(c)&&(c=c.map(h=>Du(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["generationConfig"],sU(t,l,n)),n}function aU(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const s=u(t,["title"]);e!==void 0&&s!=null&&f(e,["requests[]","title"],s);const l=u(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function lU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["contents"]);s!=null&&f(n,["requests[]","content"],eT(t,s));const l=u(e,["config"]);l!=null&&f(n,["config"],aU(l,n));const c=u(e,["model"]);return c!==void 0&&f(n,["requests[]","model"],Ze(t,c)),n}function uU(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const s=u(t,["aspectRatio"]);e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s);const l=u(t,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const p=u(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);const m=u(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const y=u(t,["language"]);e!==void 0&&y!=null&&f(e,["parameters","language"],y);const _=u(t,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const x=u(t,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&f(e,["parameters","outputOptions","compressionQuality"],x),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function cU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const l=u(e,["config"]);return l!=null&&f(n,["config"],uU(l,n)),n}function fU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function dU(t,e,n){const i={},s=u(e,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const l=u(e,["pageToken"]);n!==void 0&&l!=null&&f(n,["_query","pageToken"],l);const c=u(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],iT(t,h)),i}function hU(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],dU(t,i,n)),n}function mU(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=u(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);const l=u(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),n}function pU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],mU(s,n)),n}function gU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function yU(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=Nn(s);Array.isArray(c)&&(c=c.map(h=>Du(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["config"],yU(l)),n}function _U(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],xi(n));const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function TU(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=u(t,["durationSeconds"]);if(e!==void 0&&s!=null&&f(e,["parameters","durationSeconds"],s),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=u(t,["aspectRatio"]);if(e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=u(t,["personGeneration"]);if(e!==void 0&&c!=null&&f(e,["parameters","personGeneration"],c),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(t,["negativePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","negativePrompt"],h);const p=u(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&f(e,["parameters","enhancePrompt"],p),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function xU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const l=u(e,["image"]);if(l!=null&&f(n,["instances[0]","image"],_U(l)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const c=u(e,["config"]);return c!=null&&f(n,["config"],TU(c,n)),n}function SU(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function wU(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function bU(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function CU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],SU(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],wU(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],bU(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function Qo(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>CU(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function EU(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const s=u(t,["description"]);s!=null&&f(e,["description"],s);const l=u(t,["enum"]);l!=null&&f(e,["enum"],l);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const _=u(t,["maxProperties"]);_!=null&&f(e,["maxProperties"],_);const x=u(t,["maximum"]);x!=null&&f(e,["maximum"],x);const b=u(t,["minItems"]);b!=null&&f(e,["minItems"],b);const w=u(t,["minLength"]);w!=null&&f(e,["minLength"],w);const R=u(t,["minProperties"]);R!=null&&f(e,["minProperties"],R);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const k=u(t,["nullable"]);k!=null&&f(e,["nullable"],k);const L=u(t,["pattern"]);L!=null&&f(e,["pattern"],L);const U=u(t,["properties"]);U!=null&&f(e,["properties"],U);const D=u(t,["propertyOrdering"]);D!=null&&f(e,["propertyOrdering"],D);const V=u(t,["required"]);V!=null&&f(e,["required"],V);const Z=u(t,["title"]);Z!=null&&f(e,["title"],Z);const Q=u(t,["type"]);return Q!=null&&f(e,["type"],Q),e}function AU(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&f(e,["featureSelectionPreference"],n),e}function RU(t){const e={},n=u(t,["method"]);n!=null&&f(e,["method"],n);const i=u(t,["category"]);i!=null&&f(e,["category"],i);const s=u(t,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function NU(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const s=u(t,["parameters"]);s!=null&&f(e,["parameters"],s);const l=u(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function MU(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function kU(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],MU(n)),e}function DU(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function UU(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],DU(n)),e}function IU(){return{}}function PU(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function LU(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],PU(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const s=u(t,["googleServiceAccountConfig"]);s!=null&&f(e,["googleServiceAccountConfig"],s);const l=u(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function OU(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],LU(n)),e}function qU(){return{}}function gT(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>NU(_))),f(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=u(t,["googleSearch"]);s!=null&&f(e,["googleSearch"],kU(s));const l=u(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],UU(l)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],IU());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],OU(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],qU());const m=u(t,["codeExecution"]);return m!=null&&f(e,["codeExecution"],m),e}function BU(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function VU(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function $U(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],VU(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function FU(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],BU(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],$U(i)),e}function zU(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function GU(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],zU(n)),e}function HU(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],GU(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function jU(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function JU(t,e,n){const i={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],Qo($t(s)));const l=u(e,["temperature"]);l!=null&&f(i,["temperature"],l);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const _=u(e,["responseLogprobs"]);_!=null&&f(i,["responseLogprobs"],_);const x=u(e,["logprobs"]);x!=null&&f(i,["logprobs"],x);const b=u(e,["presencePenalty"]);b!=null&&f(i,["presencePenalty"],b);const w=u(e,["frequencyPenalty"]);w!=null&&f(i,["frequencyPenalty"],w);const R=u(e,["seed"]);R!=null&&f(i,["seed"],R);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const k=u(e,["responseSchema"]);k!=null&&f(i,["responseSchema"],EU(ga(k)));const L=u(e,["responseJsonSchema"]);L!=null&&f(i,["responseJsonSchema"],L);const U=u(e,["routingConfig"]);U!=null&&f(i,["routingConfig"],U);const D=u(e,["modelSelectionConfig"]);D!=null&&f(i,["modelConfig"],AU(D));const V=u(e,["safetySettings"]);if(n!==void 0&&V!=null){let ke=V;Array.isArray(ke)&&(ke=ke.map(Y=>RU(Y))),f(n,["safetySettings"],ke)}const Z=u(e,["tools"]);if(n!==void 0&&Z!=null){let ke=Zo(Z);Array.isArray(ke)&&(ke=ke.map(Y=>gT(Ko(Y)))),f(n,["tools"],ke)}const Q=u(e,["toolConfig"]);n!==void 0&&Q!=null&&f(n,["toolConfig"],FU(Q));const ne=u(e,["labels"]);n!==void 0&&ne!=null&&f(n,["labels"],ne);const G=u(e,["cachedContent"]);n!==void 0&&G!=null&&f(n,["cachedContent"],Ti(t,G));const I=u(e,["responseModalities"]);I!=null&&f(i,["responseModalities"],I);const ae=u(e,["mediaResolution"]);ae!=null&&f(i,["mediaResolution"],ae);const ue=u(e,["speechConfig"]);ue!=null&&f(i,["speechConfig"],HU(fh(ue)));const $e=u(e,["audioTimestamp"]);$e!=null&&f(i,["audioTimestamp"],$e);const Je=u(e,["thinkingConfig"]);return Je!=null&&f(i,["thinkingConfig"],jU(Je)),i}function S0(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=Nn(s);Array.isArray(c)&&(c=c.map(h=>Qo(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["generationConfig"],JU(t,l,n)),n}function YU(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&f(e,["instances[]","task_type"],i);const s=u(t,["title"]);e!==void 0&&s!=null&&f(e,["instances[]","title"],s);const l=u(t,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const c=u(t,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const h=u(t,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),n}function KU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["contents"]);s!=null&&f(n,["instances[]","content"],eT(t,s));const l=u(e,["config"]);return l!=null&&f(n,["config"],YU(l,n)),n}function ZU(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&f(e,["parameters","negativePrompt"],s);const l=u(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const _=u(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const x=u(t,["includeRaiReason"]);e!==void 0&&x!=null&&f(e,["parameters","includeRaiReason"],x);const b=u(t,["language"]);e!==void 0&&b!=null&&f(e,["parameters","language"],b);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&f(e,["parameters","outputOptions","mimeType"],w);const R=u(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const A=u(t,["addWatermark"]);e!==void 0&&A!=null&&f(e,["parameters","addWatermark"],A);const k=u(t,["enhancePrompt"]);return e!==void 0&&k!=null&&f(e,["parameters","enhancePrompt"],k),n}function QU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const l=u(e,["config"]);return l!=null&&f(n,["config"],ZU(l,n)),n}function Uu(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],xi(i));const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function XU(t){const e={},n=u(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&f(e,["maskClasses"],i);const s=u(t,["maskDilation"]);return s!=null&&f(e,["dilation"],s),e}function WU(t){const e={},n=u(t,["controlType"]);n!=null&&f(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&f(e,["computeControl"],i),e}function eI(t){const e={},n=u(t,["styleDescription"]);return n!=null&&f(e,["styleDescription"],n),e}function tI(t){const e={},n=u(t,["subjectType"]);n!=null&&f(e,["subjectType"],n);const i=u(t,["subjectDescription"]);return i!=null&&f(e,["subjectDescription"],i),e}function nI(t){const e={},n=u(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],Uu(n));const i=u(t,["referenceId"]);i!=null&&f(e,["referenceId"],i);const s=u(t,["referenceType"]);s!=null&&f(e,["referenceType"],s);const l=u(t,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],XU(l));const c=u(t,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],WU(c));const h=u(t,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],eI(h));const p=u(t,["subjectImageConfig"]);return p!=null&&f(e,["subjectImageConfig"],tI(p)),e}function iI(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&f(e,["parameters","negativePrompt"],s);const l=u(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const _=u(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const x=u(t,["includeRaiReason"]);e!==void 0&&x!=null&&f(e,["parameters","includeRaiReason"],x);const b=u(t,["language"]);e!==void 0&&b!=null&&f(e,["parameters","language"],b);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&f(e,["parameters","outputOptions","mimeType"],w);const R=u(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const A=u(t,["editMode"]);e!==void 0&&A!=null&&f(e,["parameters","editMode"],A);const k=u(t,["baseSteps"]);return e!==void 0&&k!=null&&f(e,["parameters","editConfig","baseSteps"],k),n}function rI(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const l=u(e,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>nI(p))),f(n,["instances[0]","referenceImages"],h)}const c=u(e,["config"]);return c!=null&&f(n,["config"],iI(c,n)),n}function oI(t,e){const n={},i=u(t,["includeRaiReason"]);e!==void 0&&i!=null&&f(e,["parameters","includeRaiReason"],i);const s=u(t,["outputMimeType"]);e!==void 0&&s!=null&&f(e,["parameters","outputOptions","mimeType"],s);const l=u(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&f(e,["parameters","outputOptions","compressionQuality"],l);const c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],c);const h=u(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=u(t,["numberOfImages"]);e!==void 0&&p!=null&&f(e,["parameters","sampleCount"],p);const m=u(t,["mode"]);return e!==void 0&&m!=null&&f(e,["parameters","mode"],m),n}function sI(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["image"]);s!=null&&f(n,["instances[0]","image"],Uu(s));const l=u(e,["upscaleFactor"]);l!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=u(e,["config"]);return c!=null&&f(n,["config"],oI(c,n)),n}function aI(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function lI(t,e,n){const i={},s=u(e,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const l=u(e,["pageToken"]);n!==void 0&&l!=null&&f(n,["_query","pageToken"],l);const c=u(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],iT(t,h)),i}function uI(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],lI(t,i,n)),n}function cI(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=u(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);const l=u(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),n}function fI(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],cI(s,n)),n}function dI(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function hI(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&f(e,["systemInstruction"],Qo($t(i)));const s=u(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>gT(h))),f(e,["tools"],c)}const l=u(t,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],l),n}function mI(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=Nn(s);Array.isArray(c)&&(c=c.map(h=>Qo(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["config"],hI(l,n)),n}function pI(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=Nn(s);Array.isArray(c)&&(c=c.map(h=>Qo(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["config"],l),n}function gI(t){const e={},n=u(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&f(e,["bytesBase64Encoded"],xi(i));const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function yI(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const s=u(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=u(t,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const c=u(t,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const p=u(t,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const m=u(t,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const _=u(t,["pubsubTopic"]);e!==void 0&&_!=null&&f(e,["parameters","pubsubTopic"],_);const x=u(t,["negativePrompt"]);e!==void 0&&x!=null&&f(e,["parameters","negativePrompt"],x);const b=u(t,["enhancePrompt"]);e!==void 0&&b!=null&&f(e,["parameters","enhancePrompt"],b);const w=u(t,["generateAudio"]);e!==void 0&&w!=null&&f(e,["parameters","generateAudio"],w);const R=u(t,["lastFrame"]);e!==void 0&&R!=null&&f(e,["instances[0]","lastFrame"],Uu(R));const A=u(t,["compressionQuality"]);return e!==void 0&&A!=null&&f(e,["parameters","compressionQuality"],A),n}function vI(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ze(t,i));const s=u(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const l=u(e,["image"]);l!=null&&f(n,["instances[0]","image"],Uu(l));const c=u(e,["video"]);c!=null&&f(n,["instances[0]","video"],gI(c));const h=u(e,["config"]);return h!=null&&f(n,["config"],yI(h,n)),n}function _I(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function TI(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function xI(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function SI(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],_I(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],TI(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],xI(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function wI(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>SI(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function bI(t){const e={},n=u(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function CI(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function EI(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>CI(s))),f(e,["urlMetadata"],i)}return e}function AI(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],wI(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],bI(i));const s=u(t,["tokenCount"]);s!=null&&f(e,["tokenCount"],s);const l=u(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],EI(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const _=u(t,["safetyRatings"]);return _!=null&&f(e,["safetyRatings"],_),e}function w0(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>AI(h))),f(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);const s=u(t,["promptFeedback"]);s!=null&&f(e,["promptFeedback"],s);const l=u(t,["usageMetadata"]);return l!=null&&f(e,["usageMetadata"],l),e}function RI(t){const e={},n=u(t,["values"]);return n!=null&&f(e,["values"],n),e}function NI(){return{}}function MI(t){const e={},n=u(t,["embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>RI(l))),f(e,["embeddings"],s)}return u(t,["metadata"])!=null&&f(e,["metadata"],NI()),e}function kI(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],xi(n));const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function yT(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const s=u(t,["contentType"]);return s!=null&&f(e,["contentType"],s),e}function DI(t){const e={},n=u(t,["_self"]);n!=null&&f(e,["image"],kI(n));const i=u(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const s=u(t,["_self"]);return s!=null&&f(e,["safetyAttributes"],yT(s)),e}function UI(t){const e={},n=u(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>DI(l))),f(e,["generatedImages"],s)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],yT(i)),e}function II(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&f(e,["createTime"],i);const s=u(t,["updateTime"]);return s!=null&&f(e,["updateTime"],s),e}function Gd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["description"]);s!=null&&f(e,["description"],s);const l=u(t,["version"]);l!=null&&f(e,["version"],l);const c=u(t,["_self"]);c!=null&&f(e,["tunedModelInfo"],II(c));const h=u(t,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const p=u(t,["outputTokenLimit"]);p!=null&&f(e,["outputTokenLimit"],p);const m=u(t,["supportedGenerationMethods"]);return m!=null&&f(e,["supportedActions"],m),e}function PI(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const s=u(e,["_self"]);if(s!=null){let l=rT(s);Array.isArray(l)&&(l=l.map(c=>Gd(c))),f(n,["models"],l)}return n}function LI(){return{}}function OI(t){const e={},n=u(t,["totalTokens"]);n!=null&&f(e,["totalTokens"],n);const i=u(t,["cachedContentTokenCount"]);return i!=null&&f(e,["cachedContentTokenCount"],i),e}function qI(t){const e={},n=u(t,["video","uri"]);n!=null&&f(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&f(e,["videoBytes"],xi(i));const s=u(t,["encoding"]);return s!=null&&f(e,["mimeType"],s),e}function BI(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],qI(n)),e}function VI(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>BI(c))),f(e,["generatedVideos"],l)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function $I(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=u(t,["done"]);s!=null&&f(e,["done"],s);const l=u(t,["error"]);l!=null&&f(e,["error"],l);const c=u(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],VI(c)),e}function FI(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function zI(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function GI(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function HI(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],FI(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],zI(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],GI(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function jI(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>HI(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function JI(t){const e={},n=u(t,["citations"]);return n!=null&&f(e,["citations"],n),e}function YI(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function KI(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>YI(s))),f(e,["urlMetadata"],i)}return e}function ZI(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],jI(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],JI(i));const s=u(t,["finishMessage"]);s!=null&&f(e,["finishMessage"],s);const l=u(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],KI(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const _=u(t,["safetyRatings"]);return _!=null&&f(e,["safetyRatings"],_),e}function b0(t){const e={},n=u(t,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>ZI(m))),f(e,["candidates"],p)}const i=u(t,["createTime"]);i!=null&&f(e,["createTime"],i);const s=u(t,["responseId"]);s!=null&&f(e,["responseId"],s);const l=u(t,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const c=u(t,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const h=u(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function QI(t){const e={},n=u(t,["truncated"]);n!=null&&f(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&f(e,["tokenCount"],i),e}function XI(t){const e={},n=u(t,["values"]);n!=null&&f(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&f(e,["statistics"],QI(i)),e}function WI(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&f(e,["billableCharacterCount"],n),e}function e2(t){const e={},n=u(t,["predictions[]","embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>XI(l))),f(e,["embeddings"],s)}const i=u(t,["metadata"]);return i!=null&&f(e,["metadata"],WI(i)),e}function t2(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],xi(i));const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function vT(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const s=u(t,["contentType"]);return s!=null&&f(e,["contentType"],s),e}function hh(t){const e={},n=u(t,["_self"]);n!=null&&f(e,["image"],t2(n));const i=u(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const s=u(t,["_self"]);s!=null&&f(e,["safetyAttributes"],vT(s));const l=u(t,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function n2(t){const e={},n=u(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>hh(l))),f(e,["generatedImages"],s)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],vT(i)),e}function i2(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>hh(s))),f(e,["generatedImages"],i)}return e}function r2(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>hh(s))),f(e,["generatedImages"],i)}return e}function o2(t){const e={},n=u(t,["endpoint"]);n!=null&&f(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&f(e,["deployedModelId"],i),e}function s2(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&f(e,["createTime"],i);const s=u(t,["updateTime"]);return s!=null&&f(e,["updateTime"],s),e}function a2(t){const e={},n=u(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&f(e,["epoch"],i);const s=u(t,["step"]);return s!=null&&f(e,["step"],s),e}function Hd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["description"]);s!=null&&f(e,["description"],s);const l=u(t,["versionId"]);l!=null&&f(e,["version"],l);const c=u(t,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(x=>o2(x))),f(e,["endpoints"],_)}const h=u(t,["labels"]);h!=null&&f(e,["labels"],h);const p=u(t,["_self"]);p!=null&&f(e,["tunedModelInfo"],s2(p));const m=u(t,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const y=u(t,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(x=>a2(x))),f(e,["checkpoints"],_)}return e}function l2(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const s=u(e,["_self"]);if(s!=null){let l=rT(s);Array.isArray(l)&&(l=l.map(c=>Hd(c))),f(n,["models"],l)}return n}function u2(){return{}}function c2(t){const e={},n=u(t,["totalTokens"]);return n!=null&&f(e,["totalTokens"],n),e}function f2(t){const e={},n=u(t,["tokensInfo"]);return n!=null&&f(e,["tokensInfo"],n),e}function d2(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],xi(i));const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function h2(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],d2(n)),e}function m2(t){const e={},n=u(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>h2(c))),f(e,["generatedVideos"],l)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function p2(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=u(t,["done"]);s!=null&&f(e,["done"],s);const l=u(t,["error"]);l!=null&&f(e,["error"],l);const c=u(t,["response"]);return c!=null&&f(e,["response"],m2(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g2="Content-Type",y2="X-Server-Timeout",v2="User-Agent",jd="x-goog-api-client",_2="1.7.0",T2=`google-genai-sdk/${_2}`,x2="v1beta1",S2="v1beta",C0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class w2{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:x2,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:S2,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))s.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.unaryApiCall(s,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[s,l]of Object.entries(n))typeof l=="object"?i[s]=Object.assign(Object.assign({},i[s]),l):l!==void 0&&(i[s]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.streamApiCall(s,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const s=new AbortController,l=s.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>s.abort(),n.timeout),i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=l}return n&&n.extraBody!==null&&b2(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await E0(s),new qd(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await E0(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return Lo(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:p}=yield rt(s.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=l.decode(p);try{const _=JSON.parse(m);if("error"in _){const x=JSON.parse(JSON.stringify(_.error)),b=x.status,w=x.code,R=`got status: ${b}. ${JSON.stringify(_)}`;if(w>=400&&w<600)throw new ku({message:R,status:w})}}catch(_){if(_.name==="ApiError")throw _}c+=m;let y=c.match(C0);for(;y;){const _=y[1];try{const x=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield rt(new qd(x)),c=c.slice(y[0].length),y=c.match(C0)}catch(x){throw new Error(`exception parsing stream chunk ${_}. ${x}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=T2+" "+this.clientOptions.userAgentExtra;return e[v2]=n,e[jd]=n,e[g2]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))n.append(i,s);e.timeout&&e.timeout>0&&n.append(y2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);s.sizeBytes=String(c.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=h;const p=await this.fetchUploadUrl(s,n);return l.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},c=await this.request({path:ve("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:s});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function E0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw n>=400&&n<600?new ku({message:s,status:n}):new Error(s)}}function b2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,c){const h=Object.assign({},l);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const m=c[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const s=i(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C2="mcp_used/unknown";function _T(t){for(const e of t)if(mh(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function TT(t){var e;const n=(e=t[jd])!==null&&e!==void 0?e:"";t[jd]=(n+` ${C2}`).trimStart()}function E2(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>mh(s)))!==null&&i!==void 0?i:!1}function A2(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>!mh(s)))!==null&&i!==void 0?i:!1}function mh(t){return t!==null&&typeof t=="object"&&t instanceof ph}function R2(t,e=100){return Lo(this,arguments,function*(){let i,s=0;for(;s<e;){const l=yield rt(t.listTools({cursor:i}));for(const c of l.tools)yield yield rt(c),s++;if(!l.nextCursor)break;i=l.nextCursor}})}class ph{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ph(e,n)}async initialize(){var e,n,i,s;if(this.mcpTools.length>0)return;const l={},c=[];for(const y of this.mcpClients)try{for(var h=!0,p=(n=void 0,ca(R2(y))),m;m=await p.next(),e=m.done,!e;h=!0){s=m.value,h=!1;const _=s;c.push(_);const x=_.name;if(l[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);l[x]=y}}catch(_){n={error:_}}finally{try{!h&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),wN(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await s.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function N2(t,e,n){const i=new cN;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data);const l=OD(s);Object.assign(i,l),e(i)}class M2{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=U2(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${s}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(U=>{m=U}),_=e.callbacks,x=function(){m({})},b=this.apiClient,w={onopen:x,onmessage:U=>{N2(b,_.onmessage,U)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(U){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(U){}},R=this.webSocketFactory.create(p,D2(c),w);R.connect(),await y;const A=Ze(this.apiClient,e.model),k=hT({model:A}),L=zd({setup:k});return R.send(JSON.stringify(L)),new k2(R,this.apiClient)}}class k2{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Q1(e),i=mT(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=X1(e),i=zd(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=zd({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Io.PLAY)}pause(){this.sendPlaybackControl(Io.PAUSE)}stop(){this.sendPlaybackControl(Io.STOP)}resetContext(){this.sendPlaybackControl(Io.RESET_CONTEXT)}close(){this.conn.close()}}function D2(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function U2(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function P2(t,e,n){const i=new uN;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const l=JSON.parse(s);if(t.isVertexAI()){const c=RD(l);Object.assign(i,c)}else{const c=AD(l);Object.assign(i,c)}e(i)}class L2{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new M2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,s,l,c,h;const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const _=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&_T(e.config.tools)&&TT(_);const x=V2(_);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x);else{const G=this.apiClient.getApiKey();let I="BidiGenerateContent",ae="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),I="BidiGenerateContentConstrained",ae="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${I}?${ae}=${G}`}let b=()=>{};const w=new Promise(G=>{b=G}),R=e.callbacks,A=function(){var G;(G=R==null?void 0:R.onopen)===null||G===void 0||G.call(R),b({})},k=this.apiClient,L={onopen:A,onmessage:G=>{P2(k,R.onmessage,G)},onerror:(n=R==null?void 0:R.onerror)!==null&&n!==void 0?n:function(G){},onclose:(i=R==null?void 0:R.onclose)!==null&&i!==void 0?i:function(G){}},U=this.webSocketFactory.create(y,B2(x),L);U.connect(),await w;let D=Ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const G=this.apiClient.getProject(),I=this.apiClient.getLocation();D=`projects/${G}/locations/${I}/`+D}let V={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[mu.AUDIO]}:e.config.responseModalities=[mu.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Z=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],Q=[];for(const G of Z)if(this.isCallableTool(G)){const I=G;Q.push(await I.tool())}else Q.push(G);Q.length>0&&(e.config.tools=Q);const ne={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=G1(this.apiClient,ne):V=z1(this.apiClient,ne),delete V.config,U.send(JSON.stringify(V)),new q2(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const O2={turnComplete:!0};class q2{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Nn(n.turns),e.isVertexAI()?i=i.map(s=>Qo(s)):i=i.map(s=>Du(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(I2)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},O2),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Z1(e)}:n={realtimeInput:K1(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function B2(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function V2(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A0=10;function R0(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(nu(c)){s=!0;break}if(!s)return!0;const l=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function nu(t){return"callTool"in t&&typeof t.callTool=="function"}function N0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $2 extends Ur{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,s,l,c,h;const p=await this.processParamsForMcpUsage(n);if(!E2(n)||R0(n.config))return await this.generateContentInternal(p);if(A2(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const _=Nn(p.contents),x=(l=(s=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:A0;let b=0;for(;b<x&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const w=m.candidates[0].content,R=[];for(const A of(h=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(nu(A)){const L=await A.callTool(m.functionCalls);R.push(...L)}b++,y={role:"user",parts:R},p.contents=Nn(p.contents),p.contents.push(w),p.contents.push(y),N0(p.config)&&(_.push(w),_.push(y))}return N0(p.config)&&(m.automaticFunctionCallingHistory=_),m},this.generateContentStream=async n=>{if(R0(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let l;const c=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((s=p==null?void 0:p.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:c.push(p);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l}:h={generatedImages:c},h}),this.list=async n=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new wa(kr.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(s)}}async processParamsForMcpUsage(e){var n,i,s;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const c=await Promise.all(l.map(async p=>nu(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&_T(e.config.tools)){const p=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),TT(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var n,i,s;const l=new Map;for(const c of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(nu(c)){const h=c,p=await h.tool();for(const m of(s=p.functionDeclarations)!==null&&s!==void 0?s:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,h)}}return l}async processAfcStream(e){var n,i,s;const l=(s=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:A0;let c=!1,h=0;const p=await this.initAfcToolsMap(e);return function(m,y,_){var x,b;return Lo(this,arguments,function*(){for(var w,R,A,k;h<l;){c&&(h++,c=!1);const V=yield rt(m.processParamsForMcpUsage(_)),Z=yield rt(m.generateContentStreamInternal(V)),Q=[],ne=[];try{for(var L=!0,U=(R=void 0,ca(Z)),D;D=yield rt(U.next()),w=D.done,!w;L=!0){k=D.value,L=!1;const G=k;if(yield yield rt(G),G.candidates&&(!((x=G.candidates[0])===null||x===void 0)&&x.content)){ne.push(G.candidates[0].content);for(const I of(b=G.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(h<l&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(I.functionCall.name)){const ae=yield rt(y.get(I.functionCall.name).callTool([I.functionCall]));Q.push(...ae)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(G){R={error:G}}finally{try{!L&&!w&&(A=U.return)&&(yield rt(A.call(U)))}finally{if(R)throw R.error}}if(Q.length>0){c=!0;const G=new na;G.candidates=[{content:{role:"user",parts:Q}}],yield yield rt(G);const I=[];I.push(...ne),I.push({role:"user",parts:Q});const ae=Nn(_.contents).concat(I);_.contents=ae}else break}})}(this,p,e)}async generateContentInternal(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=S0(this.apiClient,e);return h=ve("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=b0(y),x=new na;return Object.assign(x,_),x})}else{const m=x0(this.apiClient,e);return h=ve("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const _=w0(y),x=new na;return Object.assign(x,_),x})}}async generateContentStreamInternal(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=S0(this.apiClient,e);return h=ve("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(_){return Lo(this,arguments,function*(){var x,b,w,R;try{for(var A=!0,k=ca(_),L;L=yield rt(k.next()),x=L.done,!x;A=!0){R=L.value,A=!1;const D=b0(yield rt(R.json())),V=new na;Object.assign(V,D),yield yield rt(V)}}catch(U){b={error:U}}finally{try{!A&&!x&&(w=k.return)&&(yield rt(w.call(k)))}finally{if(b)throw b.error}}})})}else{const m=x0(this.apiClient,e);return h=ve("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(_){return Lo(this,arguments,function*(){var x,b,w,R;try{for(var A=!0,k=ca(_),L;L=yield rt(k.next()),x=L.done,!x;A=!0){R=L.value,A=!1;const D=w0(yield rt(R.json())),V=new na;Object.assign(V,D),yield yield rt(V)}}catch(U){b={error:U}}finally{try{!A&&!x&&(w=k.return)&&(yield rt(w.call(k)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=KU(this.apiClient,e);return h=ve("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=e2(y),x=new e0;return Object.assign(x,_),x})}else{const m=lU(this.apiClient,e);return h=ve("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const _=MI(y),x=new e0;return Object.assign(x,_),x})}}async generateImagesInternal(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=QU(this.apiClient,e);return h=ve("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=n2(y),x=new t0;return Object.assign(x,_),x})}else{const m=cU(this.apiClient,e);return h=ve("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const _=UI(y),x=new t0;return Object.assign(x,_),x})}}async editImageInternal(e){var n,i;let s,l="",c={};if(this.apiClient.isVertexAI()){const h=rI(this.apiClient,e);return l=ve("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const m=i2(p),y=new iN;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let s,l="",c={};if(this.apiClient.isVertexAI()){const h=sI(this.apiClient,e);return l=ve("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const m=r2(p),y=new rN;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=aI(this.apiClient,e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Hd(y))}else{const m=fU(this.apiClient,e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Gd(y))}}async listInternal(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=uI(this.apiClient,e);return h=ve("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=l2(this.apiClient,y),x=new n0;return Object.assign(x,_),x})}else{const m=hU(this.apiClient,e);return h=ve("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const _=PI(this.apiClient,y),x=new n0;return Object.assign(x,_),x})}}async update(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=fI(this.apiClient,e);return h=ve("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Hd(y))}else{const m=pU(this.apiClient,e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Gd(y))}}async delete(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=dI(this.apiClient,e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=u2(),_=new i0;return Object.assign(_,y),_})}else{const m=gU(this.apiClient,e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=LI(),_=new i0;return Object.assign(_,y),_})}}async countTokens(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=mI(this.apiClient,e);return h=ve("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=c2(y),x=new r0;return Object.assign(x,_),x})}else{const m=vU(this.apiClient,e);return h=ve("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const _=OI(y),x=new r0;return Object.assign(x,_),x})}}async computeTokens(e){var n,i;let s,l="",c={};if(this.apiClient.isVertexAI()){const h=pI(this.apiClient,e);return l=ve("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const m=f2(p),y=new oN;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=vI(this.apiClient,e);return h=ve("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>p2(y))}else{const m=xU(this.apiClient,e);return h=ve("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>$I(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F2(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function z2(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function G2(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["operationName"],n);const i=u(t,["resourceName"]);i!=null&&f(e,["_url","resourceName"],i);const s=u(t,["config"]);return s!=null&&f(e,["config"],s),e}function H2(t){const e={},n=u(t,["video","uri"]);n!=null&&f(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&f(e,["videoBytes"],xi(i));const s=u(t,["encoding"]);return s!=null&&f(e,["mimeType"],s),e}function j2(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],H2(n)),e}function J2(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>j2(c))),f(e,["generatedVideos"],l)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function Y2(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=u(t,["done"]);s!=null&&f(e,["done"],s);const l=u(t,["error"]);l!=null&&f(e,["error"],l);const c=u(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],J2(c)),e}function K2(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],xi(i));const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Z2(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],K2(n)),e}function Q2(t){const e={},n=u(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Z2(c))),f(e,["generatedVideos"],l)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function M0(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=u(t,["done"]);s!=null&&f(e,["done"],s);const l=u(t,["error"]);l!=null&&f(e,["error"],l);const c=u(t,["response"]);return c!=null&&f(e,["response"],Q2(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X2 extends Ur{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let l;return i&&"httpOptions"in i&&(l=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=z2(e);return h=ve("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>M0(y))}else{const m=F2(e);return h=ve("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Y2(y))}}async fetchPredictVideosOperationInternal(e){var n,i;let s,l="",c={};if(this.apiClient.isVertexAI()){const h=G2(e);return l=ve("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>M0(p))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W2(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function xT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],W2(n)),e}function eP(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],xT(i)),e}function tP(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>eP(s))),f(e,["speakerVoiceConfigs"],i)}return e}function nP(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],xT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],tP(i));const s=u(t,["languageCode"]);return s!=null&&f(e,["languageCode"],s),e}function iP(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function rP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function oP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function sP(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],iP(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],rP(s));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],oP(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function aP(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>sP(l))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function lP(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const s=u(t,["name"]);s!=null&&f(e,["name"],s);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function uP(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function cP(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],uP(n)),e}function fP(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function dP(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],fP(n)),e}function hP(){return{}}function mP(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>lP(p))),f(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],cP(i));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&f(e,["googleSearchRetrieval"],dP(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],hP());const c=u(t,["codeExecution"]);return c!=null&&f(e,["codeExecution"],c),e}function pP(t){const e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function k0(){return{}}function gP(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const s=u(t,["endOfSpeechSensitivity"]);s!=null&&f(e,["endOfSpeechSensitivity"],s);const l=u(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function yP(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],gP(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const s=u(t,["turnCoverage"]);return s!=null&&f(e,["turnCoverage"],s),e}function vP(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function _P(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],vP(i)),e}function TP(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function xP(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const l=u(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],nP(dh(_)));const x=u(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(t,["systemInstruction"]);e!==void 0&&b!=null&&f(e,["setup","systemInstruction"],aP($t(b)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let V=Zo(w);Array.isArray(V)&&(V=V.map(Z=>mP(Ko(Z)))),f(e,["setup","tools"],V)}const R=u(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],pP(R));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],k0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","outputAudioTranscription"],k0());const L=u(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&f(e,["setup","realtimeInputConfig"],yP(L));const U=u(t,["contextWindowCompression"]);e!==void 0&&U!=null&&f(e,["setup","contextWindowCompression"],_P(U));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&f(e,["setup","proactivity"],TP(D)),n}function SP(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],Ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],xP(s,n)),n}function wP(t,e,n){const i={},s=u(e,["expireTime"]);n!==void 0&&s!=null&&f(n,["expireTime"],s);const l=u(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&f(n,["newSessionExpireTime"],l);const c=u(e,["uses"]);n!==void 0&&c!=null&&f(n,["uses"],c);const h=u(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&f(n,["bidiGenerateContentSetup"],SP(t,h));const p=u(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&f(n,["fieldMask"],p),i}function bP(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],wP(t,i,n)),n}function CP(t){const e={},n=u(t,["name"]);return n!=null&&f(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EP(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(l=>`${n}.${l}`);e.push(...s)}else e.push(n)}return e.join(",")}function AP(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const l=EP(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];s.length>0&&(h=s.map(m=>c.includes(m)?`generationConfig.${m}`:m));const p=[];l&&p.push(l),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class RP extends Ur{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=bP(this.apiClient,e);l=ve("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const p=AP(h,e.config);return s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>CP(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NP(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function MP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);const l=u(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),n}function kP(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],MP(n,e)),e}function DP(t){const e={},n=u(t,["textInput"]);n!=null&&f(e,["textInput"],n);const i=u(t,["output"]);return i!=null&&f(e,["output"],i),e}function UP(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>DP(s))),f(e,["examples","examples"],i)}return e}function IP(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&f(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=u(t,["epochCount"]);e!==void 0&&s!=null&&f(e,["tuningTask","hyperparameters","epochCount"],s);const l=u(t,["learningRateMultiplier"]);if(l!=null&&f(n,["tuningTask","hyperparameters","learningRateMultiplier"],l),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=u(t,["batchSize"]);e!==void 0&&c!=null&&f(e,["tuningTask","hyperparameters","batchSize"],c);const h=u(t,["learningRate"]);return e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","learningRate"],h),n}function PP(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&f(e,["tuningTask","trainingData"],UP(i));const s=u(t,["config"]);return s!=null&&f(e,["config"],IP(s,e)),e}function LP(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function OP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);const l=u(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),n}function qP(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],OP(n,e)),e}function BP(t,e){const n={},i=u(t,["gcsUri"]);if(e!==void 0&&i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],i),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function VP(t){const e={},n=u(t,["gcsUri"]);return n!=null&&f(e,["validationDatasetUri"],n),e}function $P(t,e){const n={},i=u(t,["validationDataset"]);e!==void 0&&i!=null&&f(e,["supervisedTuningSpec"],VP(i));const s=u(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&f(e,["tunedModelDisplayName"],s);const l=u(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const c=u(t,["epochCount"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const h=u(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=u(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=u(t,["adapterSize"]);if(e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function FP(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],BP(i,e));const s=u(t,["config"]);return s!=null&&f(e,["config"],$P(s,e)),e}function zP(t){const e={},n=u(t,["name"]);n!=null&&f(e,["model"],n);const i=u(t,["name"]);return i!=null&&f(e,["endpoint"],i),e}function ST(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["state"]);i!=null&&f(e,["state"],tT(i));const s=u(t,["createTime"]);s!=null&&f(e,["createTime"],s);const l=u(t,["tuningTask","startTime"]);l!=null&&f(e,["startTime"],l);const c=u(t,["tuningTask","completeTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["description"]);p!=null&&f(e,["description"],p);const m=u(t,["baseModel"]);m!=null&&f(e,["baseModel"],m);const y=u(t,["_self"]);y!=null&&f(e,["tunedModel"],zP(y));const _=u(t,["distillationSpec"]);_!=null&&f(e,["distillationSpec"],_);const x=u(t,["experiment"]);x!=null&&f(e,["experiment"],x);const b=u(t,["labels"]);b!=null&&f(e,["labels"],b);const w=u(t,["pipelineJob"]);w!=null&&f(e,["pipelineJob"],w);const R=u(t,["serviceAccount"]);R!=null&&f(e,["serviceAccount"],R);const A=u(t,["tunedModelDisplayName"]);return A!=null&&f(e,["tunedModelDisplayName"],A),e}function GP(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>ST(l))),f(e,["tuningJobs"],s)}return e}function HP(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=u(t,["done"]);s!=null&&f(e,["done"],s);const l=u(t,["error"]);return l!=null&&f(e,["error"],l),e}function jP(t){const e={},n=u(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&f(e,["epoch"],i);const s=u(t,["step"]);s!=null&&f(e,["step"],s);const l=u(t,["endpoint"]);return l!=null&&f(e,["endpoint"],l),e}function JP(t){const e={},n=u(t,["model"]);n!=null&&f(e,["model"],n);const i=u(t,["endpoint"]);i!=null&&f(e,["endpoint"],i);const s=u(t,["checkpoints"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>jP(c))),f(e,["checkpoints"],l)}return e}function Jd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["state"]);i!=null&&f(e,["state"],tT(i));const s=u(t,["createTime"]);s!=null&&f(e,["createTime"],s);const l=u(t,["startTime"]);l!=null&&f(e,["startTime"],l);const c=u(t,["endTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["error"]);p!=null&&f(e,["error"],p);const m=u(t,["description"]);m!=null&&f(e,["description"],m);const y=u(t,["baseModel"]);y!=null&&f(e,["baseModel"],y);const _=u(t,["tunedModel"]);_!=null&&f(e,["tunedModel"],JP(_));const x=u(t,["supervisedTuningSpec"]);x!=null&&f(e,["supervisedTuningSpec"],x);const b=u(t,["tuningDataStats"]);b!=null&&f(e,["tuningDataStats"],b);const w=u(t,["encryptionSpec"]);w!=null&&f(e,["encryptionSpec"],w);const R=u(t,["partnerModelTuningSpec"]);R!=null&&f(e,["partnerModelTuningSpec"],R);const A=u(t,["distillationSpec"]);A!=null&&f(e,["distillationSpec"],A);const k=u(t,["experiment"]);k!=null&&f(e,["experiment"],k);const L=u(t,["labels"]);L!=null&&f(e,["labels"],L);const U=u(t,["pipelineJob"]);U!=null&&f(e,["pipelineJob"],U);const D=u(t,["serviceAccount"]);D!=null&&f(e,["serviceAccount"],D);const V=u(t,["tunedModelDisplayName"]);return V!=null&&f(e,["tunedModelDisplayName"],V),e}function YP(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Jd(l))),f(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KP extends Ur{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new wa(kr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:Od.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=LP(e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Jd(y))}else{const m=NP(e);return h=ve("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>ST(y))}}async listInternal(e){var n,i,s,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=qP(e);return h=ve("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=YP(y),x=new o0;return Object.assign(x,_),x})}else{const m=kP(e);return h=ve("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const _=GP(y),x=new o0;return Object.assign(x,_),x})}}async tuneInternal(e){var n,i;let s,l="",c={};if(this.apiClient.isVertexAI()){const h=FP(e);return l=ve("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>Jd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=PP(e);return l=ve("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>HP(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZP{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const QP=1024*1024*8,XP=3,WP=1e3,eL=2,hd="x-goog-upload-status";async function tL(t,e,n){var i,s,l;let c=0,h=0,p=new qd(new Response),m="upload";for(c=t.size;h<c;){const _=Math.min(QP,c-h),x=t.slice(h,h+_);h+_>=c&&(m+=", finalize");let b=0,w=WP;for(;b<XP&&(p=await n.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(_)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[hd]));)b++,await iL(w),w=w*eL;if(h+=_,((s=p==null?void 0:p.headers)===null||s===void 0?void 0:s[hd])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((l=p==null?void 0:p.headers)===null||l===void 0?void 0:l[hd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function nL(t){return{size:t.size,type:t.type}}function iL(t){return new Promise(e=>setTimeout(e,t))}class rL{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tL(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nL(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oL{create(e,n,i){return new sL(e,n,i)}}class sL{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D0="x-goog-api-key";class aL{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(D0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(D0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lL="gl-node/";class uL{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=nN(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const s=new aL(this.apiKey);this.apiClient=new w2({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:lL+"web",uploader:new rL,downloader:new ZP}),this.models=new $2(this.apiClient),this.live=new L2(this.apiClient,s,new oL),this.batches=new MM(this.apiClient),this.chats=new Ik(this.models,this.apiClient),this.caches=new kk(this.apiClient),this.files=new Jk(this.apiClient),this.operations=new X2(this.apiClient),this.authTokens=new RP(this.apiClient),this.tunings=new KP(this.apiClient)}}const iu=new uL({apiKey:"AIzaSyA-6iYToU_byydoAlucPvc0qnZXciaSI2A"}),cL=`
    # The following files given to you are a science olympiad invitational test and the answer/solutions.
    # Take all the questions and return them in an array of question JSON objects.
    # Each question object should have the following details: 
    {
      type,
      question,
      points,
      choices,
      answer,
      group,
    }

    # Go through the pdf, and identify the type of each question.
    # The type can be either mcq, saq, or leq, NOTHING ELSE!! 
    # mcq: multiple choice, saq: short answer (so one word, objective answers), leq: (longer answers where you have to explain or show your work)
    # If it's a matching question, the questions should be mcqs and just make as many questions as there are things to match
    # And the things to match are the choices
    # If it's a question where you have a few items/facts with letters, and each following question requires you to pull from that answer bank, then make the question an mcq, with the answer bank as choices, and each question as its own question.
    # Choices can be null if the question is not multiple choice
    # The question attribute is the question itself, so for example "What is blah"
    # The points are the points assigned to the question. Some tests will have this and others won't.
    # For tests that don't assign points, assign 1 point to each mcq and saq, and 5 for each leq.
    # For choices, don't label A, B, C (I'll do that myself). Choices is an array of strings, where the strings are the choices themselves without any other attachments.
    # For answers look at the answers pdf. For mcqs, the answer is the choice letter, so A, B, C, D, etc. If the test has the choices labeled differently still use A, B, C, and consecutive letters as the answer
    # If for mcqs the test answer refers to the actual answer, change it so the test answer is the correct letter instead. So for example if the test choices were labeled 1 through 10, and the answer was 1, your answer will be A.
    # Just to reiterate, the answer to mcqs will always be the correct LETTER choice and nothing else!
    # For questions that ask to order something, make that an mcq as well. For the choices, include the correct answer, and make up other orders of that order.
    # Make true-false questions mcqs with true and false as the two choices. 
    # The answer to an mcq should always be an option letter so even though the options for true and false are true or false, the answer will either be A or B
    # If a question is in a set, and there is context given pertaining to all questions in the beginning, then put that context in the question string of each question
    # If a question is in a set where they all refer to the same image, then you should also give a group attribute in the question object with a unique identifer for all questions in that group
    # The group attribute is optional, and ONLY for questions who have the same image used. So ONLY give and it and DEFINITELY give it when you have that situation where a bunch of questions use the same image, chart, drawing, etc 
    # Do not describe images for the test taker! 
    # For saqs, simply write down the one word or short phrase answer
    # If there are multiple answers for mcqs and saqs separate them with a comma and a space.
    # For leqs, put whatever the answer key for that test has in the answer, as a string, including directions to grade the problem if there are those.
    # Do not care about any images in the test. I will handle those later.
    # Only send the valid JSON array and no other words, because your response has to be JSON parsable
    # To reiterate, send an array of objects that have the property, type, which is either mcq, saq, or leq, question, which is a string, points, which is a number, choices, which is an array of strings (only if the q is multiple choice), and answer, which is either a singuler string or a string with comma separated values
    # In the case you are not given an answers pdf, or the answer might be unclear, you may generate the answer to the best of your knowledge. Ensure that none of the answers are anything such as "this will be determined later." For those type of "lab-based" questions, provide a range if you can from the best of your knowledge. 
    # ONLY GENERATE AN ANSWER WHEN IT IS CLEARLY NOT CLEAR OR NOT PRESENT. OTHERWISE DO NOT INTERFERE!
    # Do NOT generate your own questions!!
    # Make sure to return a **complete and valid JSON array**.
    # Your response should start with a left bracket [ and end with a right bracket ].
    # Once you end your triple quotes STOP!
    # Every question should stand on its own without other questions. So if any question refers to a previous question, ensure that the relevant context is in this question without needing the previous question.
    # Do not have wording such as "previous question" or "next question" because the order might change, so make the question so it can stand without having done other questions.
    # If you have an leq, then you can put all the parts that depend on each other as one question
    # If you have mcqs or saqs that refer to other questions, put that relevant information in the current question so it stands alone.
    # DO NOT PUT CHOICES IN THE QUESTION!! If you have choices, no matter how the test pdf has it, make the question an mcq and put choices as strings in an array
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), then all questions should be an leq! Make sure to use spaces and newlines properly as it is in the test. So put spaces between characters, words, and lines where appropriate so there's space for users to write in their answers or for me to put in boxes.
    # IF AND ONLY IF the test is Codebusters, then make sure that if a question is a special bonus question you add special bonus to it, and if the question has points listed, put those points in the points attribute.
    # IF AND ONLY IF the test is Codebusters, ensure that the question that might say (decode this) is separated from the cipher (the actual words) through new lines and such. Clearly separate the question from the cipher. 
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), the answer should be the solution to the cipher, with proper spaces. Do not add newlines or anything like that to the answer key. That should just be the simple answer.
    # FINAL INSTRUCTION: Your response must be *only* a valid JSON array, starting with '[' and ending with ']'. No explanations, no formatting, no extra text.
`;async function U0(t){const e=await iu.files.upload({file:t,config:{displayName:t.name}});let n=await iu.files.get({name:e.name});for(;n.state==="PROCESSING";)n=await iu.files.get({name:e.name}),console.log(`current file status: ${n.state}`),console.log("File is still processing, retrying in 5 seconds"),await new Promise(i=>{setTimeout(i,5e3)});if(e.state==="FAILED")throw new Error("File processing failed.");return e}async function fL(t,e){const n=[cL];let i=await U0(t);if(i.uri&&i.mimeType){const c=Wv(i.uri,i.mimeType);n.push(c)}let s=await U0(e);if(s.uri&&s.mimeType){const c=Wv(s.uri,s.mimeType);n.push(c)}const l=await iu.models.generateContent({model:"gemini-2.5-flash",contents:n});return console.log(l.text),l.text}const dL={createQuestions:fL},hL=({q:t,index:e,onEdit:n,onDelete:i})=>{const[s,l]=N.useState(!1),[c,h]=N.useState({...t}),p=()=>{l(!1),n(e,c)};return T.jsx("div",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:s?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Question"}),T.jsx("input",{value:c.question,onChange:m=>h({...c,question:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),T.jsxs("select",{value:c.type,onChange:m=>h({...c,type:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[T.jsx("option",{value:"mcq",children:"Multiple Choice"}),T.jsx("option",{value:"saq",children:"Short Answer"}),T.jsx("option",{value:"leq",children:"Long Answer"})]})]}),c.type==="mcq"&&T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Choices"}),T.jsx("div",{className:"space-y-2",children:c.choices.map((m,y)=>T.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[T.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+y),"."]}),T.jsx("input",{value:m,onChange:_=>{const x=[...c.choices];x[y]=_.target.value,h({...c,choices:x})},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}),T.jsx("button",{type:"button",className:"text-orange-600 font-medium",onClick:()=>{const _=c.choices.filter((x,b)=>b!==y);h({...c,choices:_})},children:"Remove"})]},y))}),T.jsx("button",{type:"button",className:"mt-2 text-orange-600 hover:underline",onClick:()=>h({...c,choices:[...c.choices,""]}),children:"+ Add Choice"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),c.type==="leq"?T.jsx("textarea",{value:c.answer,onChange:m=>h({...c,answer:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}):T.jsx("input",{value:c.answer,onChange:m=>h({...c,answer:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),T.jsx("input",{type:"number",value:c.points,onChange:m=>h({...c,points:+m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),c.selectedFile?T.jsxs("div",{className:"mt-4 w-full",children:[T.jsxs("div",{className:"flex justify-between items-center pb-2",children:[T.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),T.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>h({...c,selectedFile:null}),children:"×"})]}),T.jsx("img",{src:URL.createObjectURL(c.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):T.jsxs("label",{htmlFor:`file-upload-${e}`,className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[T.jsx("input",{id:`file-upload-${e}`,type:"file",className:"hidden",onChange:m=>{m.target.files&&m.target.files.length>0&&h({...c,selectedFile:m.target.files[0]})}}),T.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]}),T.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[T.jsx("button",{onClick:()=>l(!1),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Cancel"}),T.jsx("button",{onClick:p,className:"bg-orange-600 text-black px-4 py-1 rounded-md hover:bg-orange-700",children:"Save"})]})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"flex justify-between items-center mb-3",children:T.jsxs("div",{className:"mb-2 font-medium text-orange-900",children:["Q",e+1,": ",t.question]})}),t.type==="mcq"&&t.choices.map((m,y)=>T.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[T.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+y),"."]}),T.jsx("span",{className:"text-gray-800",children:m})]},`${m}-${y}`)),T.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",T.jsx("span",{className:"font-semibold",children:t.points})]}),T.jsxs("div",{className:"text-sm text-gray-700",children:["Answer (s): ",T.jsx("span",{className:"font-semibold",children:t.answer})]}),t.selectedFile&&T.jsx("div",{className:"mt-4 w-full",children:T.jsx("img",{src:URL.createObjectURL(t.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})}),T.jsx("div",{className:"flex justify-end py-2",children:T.jsxs("div",{className:"flex justify-between gap-3",children:[T.jsx("button",{onClick:()=>l(!0),className:"bg-orange-500 hover:bg-orange-600 px-4 py-1 rounded-md",children:"Edit"}),T.jsx("button",{onClick:()=>i(e),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Delete"})]})})]})})},mL=t=>{const[e,n]=N.useState(!0),[i,s]=N.useState([]),[l,c]=N.useState(""),[h,p]=N.useState(""),[m,y]=N.useState(""),[_,x]=N.useState(1),[b,w]=N.useState([]),[R,A]=N.useState(""),[k,L]=N.useState(""),[U,D]=N.useState(""),[V,Z]=N.useState(""),[Q,ne]=N.useState(null),[G,I]=N.useState(""),[ae,ue]=N.useState(""),[$e,Je]=N.useState(!1),ke=B=>B.split(",").map(E=>E.trim()).every(E=>/^[A-Za-z]$/.test(E)),Y=()=>{if(m.length===0){t.setError("Type of question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(l.length===0)t.setError("Question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);else if(h.length===0){t.setError("Answer required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(m==="mcq"){if(!b||b.length<2){t.setError("Choices required for multiple choice question!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(!ke(h)){t.setError("Invalid formatting of answers. Separate multiple answers with commas."),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}s(i.concat({type:m,question:l,choices:b,points:_,answer:h,selectedFile:Q})),c(""),p(""),y(""),x(1),w([]),ne(null)},se=async B=>{if(B.preventDefault(),V)if(k)if(U){if(i.length===0){t.setError("Questions are required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}else{t.setError("Test year required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Tournament name required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Event required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}if(t.tests.find(q=>q.school===k&&q.year===U)){t.setError("Test already uploaded to bank"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}const E=[];t.setNotif("Processing Test...");for(const q of i){let X;q.selectedFile&&(X=await TR.getImageUrl(q.selectedFile)),console.log(X);const ie=await ko.createQuestion({event:V,school:k,year:U,type:q.type,question:q.question,points:q.points,choices:q.choices,answer:q.answer,imageUrl:X});ie&&E.push(ie.id)}const O=await Rn.createTest({event:V,random:!1,school:k,year:U,questions:E});console.log("Added Test"),t.setNotif("Added Test",O),t.setTests(t.tests.concat(O)),s([]),c(""),p(""),y(""),x(1),w([]),ne(null),Z(""),L(""),D(""),setTimeout(()=>{t.setNotif(null)},5e3)},j=async B=>{B.preventDefault(),Je(!1),n(!1),window.scrollTo({top:0,behavior:"smooth"}),t.setNotif("Processing PDFs...");let O=(await dL.createQuestions(G,ae)).trim();O.startsWith("```json")?O=O.replace(/^```json/,"").replace(/```$/,"").trim():O.startsWith("```")&&(O=O.replace(/^```/,"").replace(/```$/,"").trim());try{const q=JSON.parse(O);s(q),I(!1),ue(!1),t.setNotif("Questions loaded!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch(q){t.setNotif(null),t.setError("Error loading questions"),setTimeout(()=>{t.setError(null)},5e3),console.log("Error",q)}};return t.user?T.jsxs("div",{className:"max-w-3xl mx-auto mt-10 p-6 bg-white rounded-md shadow-md",children:[T.jsxs("form",{className:"space-y-6",onSubmit:se,children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Test"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Save Test"}),T.jsx(ot,{to:"/tests",className:"bg-amber-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Test Bank"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Tournament Name"}),T.jsx("input",{value:k,onChange:({target:B})=>L(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: Libertyville High School"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Year"}),T.jsx("input",{value:U,onChange:({target:B})=>D(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: 2025"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Event"}),T.jsxs("select",{value:V,onChange:({target:B})=>Z(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[T.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select Event"}),t.events.map(B=>T.jsx("option",{value:B.name,children:B.name},B.name))]})]}),e?T.jsx("div",{children:T.jsxs("div",{className:"bg-orange-50 p-6 rounded-md border border-orange-200",children:[T.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-4",children:"Add Question"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Question"}),T.jsx("input",{value:l,onChange:({target:B})=>c(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"What is ..."})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),T.jsxs("select",{value:m,onChange:({target:B})=>y(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[T.jsx("option",{value:"",disabled:!0,children:"Select question type"}),T.jsx("option",{value:"mcq",children:"Multiple Choice"}),T.jsx("option",{value:"saq",children:"Short Answer"}),T.jsx("option",{value:"leq",children:"Paragraph/Long Answer"})]})]}),m==="mcq"&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Choices"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{value:R,onChange:({target:B})=>A(B.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: H20"}),T.jsx("button",{type:"button",onClick:()=>{R.trim()!==""&&(w([...b,R.trim()]),A(""))},className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]}),b.length>0&&T.jsx("div",{className:"space-y-2 mt-3",children:b.map((B,E)=>T.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+E),"."]}),T.jsx("span",{className:"text-gray-800",children:B})]}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{className:"text-orange-600 font-medium",onClick:()=>w(b.filter(O=>O!==B)),children:"Remove"})})]},B))})]}),m==="leq"?T.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer"}),T.jsx("textarea",{value:h,onChange:({target:B})=>p(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),T.jsx("input",{type:"number",value:_,onChange:({target:B})=>x(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}):T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),T.jsx("input",{value:h,onChange:({target:B})=>p(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: A, B"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),T.jsx("input",{type:"number",value:_,onChange:({target:B})=>x(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),Q?T.jsxs("div",{className:"mt-4 w-full",children:[T.jsxs("div",{className:"flex justify-between items-center pb-2",children:[T.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),T.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>ne(null),children:"×"})]}),T.jsx("img",{src:URL.createObjectURL(Q),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):T.jsxs("label",{htmlFor:"file-upload-add",className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[T.jsx("input",{id:"file-upload-add",type:"file",className:"hidden",onChange:B=>{B.target.files&&B.target.files.length>0&&ne(B.target.files[0])}}),T.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]})]}),T.jsxs("div",{className:"flex justify-between mt-6",children:[T.jsx("button",{type:"button",onClick:Y,className:"bg-orange-600 text-white px-6 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Save Question"}),T.jsx("button",{type:"button",onClick:()=>n(!1),className:"bg-orange-50 mb-2 text-orange-700 font-semibold hover:underline",children:"Close Question Editor"})]})]})}):T.jsx("button",{type:"button",onClick:()=>n(!0),className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Open Question Editor"})]}),T.jsxs("div",{className:"mt-5",children:[T.jsx("button",{onClick:()=>{Je(!0),I(null),ue(null)},className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Add Questions From PDF"}),T.jsx(A_,{isOpen:$e,onClose:()=>{Je(!1)},title:"Add Questions From PDF",children:T.jsxs("form",{onSubmit:j,className:"max-w-md mx-auto space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question PDF"}),T.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:B})=>I(B.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer PDF"}),T.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:B})=>ue(B.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),T.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg shadow-md transition duration-200",children:"Upload"})]})})]}),T.jsx("ul",{className:"mb-8 mt-10 space-y-4",children:i.length>0?i.map((B,E)=>T.jsx(hL,{q:B,index:E,onEdit:(O,q)=>{s(i.map((X,ie)=>ie===O?q:X))},onDelete:O=>{s(i.filter((q,X)=>X!==O))}},E)):T.jsx("div",{className:"border-2 border-dashed border-orange-300 rounded-md p-6 text-center text-orange-700 italic bg-orange-50",children:"No questions added yet. Use the forms above to add questions."})})]}):null},pL=t=>{const[e,n]=N.useState([]),[i,s]=N.useState(""),[l,c]=N.useState(""),[h,p]=N.useState("");N.useEffect(()=>{const y=t.tests.filter(_=>!_.random&&_.event.includes(i)&&_.school.includes(l)&&_.year.toString().includes(h));n(y)},[i,l,h,t.tests]);const m=()=>{s(""),c(""),p("")};return t.user?T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:T.jsxs("div",{className:"bg-white border border-orange-200 rounded-md p-6 shadow-md",children:[T.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-6",children:"Test Bank"}),T.jsxs("div",{className:"mb-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Event"}),T.jsxs("select",{value:i,onChange:({target:y})=>s(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[T.jsx("option",{value:"",children:"All"},"all"),t.events.map(y=>T.jsx("option",{value:y.name,children:y.name},y.name))]})]}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"School"}),T.jsxs("select",{value:l,onChange:({target:y})=>c(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[T.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.school))].map(y=>T.jsx("option",{value:y,children:y},y))]})]}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Year"}),T.jsxs("select",{value:h,onChange:({target:y})=>p(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[T.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.year))].map(y=>T.jsx("option",{value:y,children:y},y))]})]}),T.jsx("div",{className:"flex items-end",children:T.jsx("button",{onClick:m,className:"bg-orange-200 hover:bg-orange-300 text-orange-900 font-medium px-4 py-2 rounded-md transition w-full",children:"Reset Filters"})})]}),e.length>0?T.jsx("div",{className:"flex flex-col space-y-3",children:e.map(y=>T.jsx(ot,{to:`/tests/${y.id}`,children:T.jsx("div",{className:"flex justify-between items-center border border-orange-200 border-2 rounded-lg p-4 hover:bg-orange-100 transition",children:T.jsxs("div",{children:[T.jsxs("p",{className:"text-base font-semibold text-orange-800",children:[y.school," ",y.year]}),T.jsx("p",{className:"text-sm text-orange-700",children:y.event})]})})},y.id))}):T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-orange-700 mb-3 italic",children:"No tests found."}),T.jsx(ot,{to:"/tests/create",className:"inline-block bg-orange-200 text-orange-800 font-medium px-4 py-2 rounded-md hover:bg-orange-300 transition",children:"Add a Test"})]})]})}):null},gL=({tests:t,user:e,teams:n,setError:i,setNotif:s,setTests:l})=>{const[c,h]=N.useState(null),p=j0("/tests/:id"),m=er();if(N.useEffect(()=>{if(p&&t){const _=t.find(x=>String(x.id)===p.params.id);h(_||null)}},[p,t]),!e)return;if(!t||!p)return T.jsx("div",{className:"flex justify-center items-center h-48",children:T.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(!c)return t.map(_=>_.id).includes(p.params.id.toString())?T.jsx("div",{className:"flex justify-center items-center h-48",children:T.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):T.jsx("div",{className:"text-center max-w-4xl mx-auto bg-white rounded-lg px-2 py-5 mt-10 font-medium text-orange-600",children:"Test not found."});const y=async()=>{if(!e||!c)return;if(!n||n.length===0){i("No teams available to assign this test."),setTimeout(()=>{i(null)},5e3);return}let _;try{_=await Rn.updateTest(c.id,{assignees:n.filter(x=>x.event===c.event).map(x=>x.id)})}catch(x){console.error("Error assigning test:",x);return}_&&l(t.map(x=>x.id===c.id?_:x)),s("Test assigned successfully!"),setTimeout(()=>{s(null)},5e3),m("/tests")};return T.jsxs("div",{className:"max-w-4xl mx-auto mt-10 p-6 bg-white rounded-md shadow",children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx(ot,{to:"/tests",className:"text-sm sm:text-base text-orange-600 font-semibold hover:text-orange-700 hover:underline transition",children:"← Return to Test Bank"}),T.jsx("button",{onClick:y,className:"bg-orange-500 hover:bg-orange-600 text-white font-medium px-4 py-2 rounded shadow transition",children:"Assign"})]}),T.jsxs("div",{className:"text-center",children:[T.jsxs("h2",{className:"text-2xl font-semibold text-orange-700",children:[c.school," Science Olympiad ",c.year]}),T.jsx("h3",{className:"text-lg font-medium text-gray-700 mt-1",children:c.event})]})]}),T.jsx("ul",{className:"space-y-6 mt-8",children:c.questions&&c.questions.length>0?c.questions.map((_,x)=>{var b;return T.jsxs("li",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:[T.jsxs("div",{className:"mb-3 font-medium text-orange-900",children:["Q",x+1,": ",_.question]}),_.type==="mcq"&&((b=_.choices)==null?void 0:b.map((w,R)=>T.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[T.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+R),"."]}),T.jsx("span",{className:"text-gray-800",children:w})]},R))),T.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",T.jsx("span",{className:"font-semibold",children:_.points})]}),T.jsxs("div",{className:"text-sm text-gray-700",children:["Answer: ",T.jsx("span",{className:"font-semibold",children:_.answer})]}),_.imageUrl&&T.jsx("div",{className:"mt-4 w-full flex justify-center",children:T.jsx("img",{src:_.imageUrl,alt:"Attached",className:"max-w-lg border border-orange-300 rounded-md shadow"})})]},x)}):T.jsx("div",{className:"text-center italic text-orange-500",children:"No questions available for this test."})})]})},yL=t=>{const[e,n]=N.useState(""),[i,s]=N.useState([]),[l,c]=N.useState("20"),[h,p]=N.useState("20"),[m,y]=N.useState("10");if(!t.user)return null;if(!t.questions||t.questions.length===0)return T.jsx("div",{className:"flex justify-center items-center h-48",children:T.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});const _=async()=>{if(!e){t.setError("Please select an event."),setTimeout(()=>t.setError(null),5e3);return}if(l.length===0||h.length===0||m.length===0){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}if(isNaN(Number(l))||isNaN(Number(h))||isNaN(Number(m))){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}try{const b=t.questions.filter(k=>k.event===e&&k.type==="mcq"),w=t.questions.filter(k=>k.event===e&&k.type==="saq"),R=t.questions.filter(k=>k.event===e&&k.type==="leq"),A=[...b.sort(()=>.5-Math.random()).slice(0,Number(l)),...w.sort(()=>.5-Math.random()).slice(0,Number(h)),...R.sort(()=>.5-Math.random()).slice(0,Number(m))];s(A)}catch(b){console.error("Error creating test:",b)}},x=async()=>{if(i.length===0){t.setError("No questions generated to assign."),setTimeout(()=>{t.setError(null)},5e3);return}const b={event:e,random:!0,questions:i.map(w=>w.id)};try{if(!t.teams||t.teams.length===0){t.setError("No teams available to assign this test."),setTimeout(()=>{t.setError(null)},5e3);return}const w=await Rn.createTest(b);if(w){const R=await Rn.updateTest(w.id,{assignees:t.teams.filter(A=>A.event===e).map(A=>A.id)});t.setNotif("Test assigned successfully!"),setTimeout(()=>{t.setNotif(null)},5e3),t.setTests(t.tests.concat(R))}s([])}catch(w){console.error("Error assigning test:",w)}};return T.jsxs("div",{className:"max-w-3xl mx-auto mt-12 p-6 bg-white rounded-lg shadow-md space-y-6",children:[T.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Random Practice Test"}),T.jsxs("div",{className:"grid-cols-2 gap-4",children:[T.jsx("label",{className:"text-sm font-medium text-orange-700",children:"Event"}),T.jsxs("select",{value:e,onChange:({target:b})=>n(b.value),className:"w-full px-4 py-2 mt-2 mb-4 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[T.jsx("option",{value:"",children:"Select Event"}),t.events.map(b=>T.jsx("option",{value:b.name,children:b.name},b.name))]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of MCQs"}),T.jsx("input",{type:"number",min:"0",value:l,onChange:b=>c(b.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of SAQs"}),T.jsx("input",{type:"number",min:"0",value:h,onChange:b=>p(b.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of LEQs"}),T.jsx("input",{type:"number",min:"0",value:m,onChange:b=>y(b.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]})]})]}),T.jsx("div",{className:"text-center",children:T.jsx("button",{onClick:_,className:"bg-orange-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-orange-700 transition",children:"Generate"})}),i.length>0&&T.jsxs("div",{className:"mt-8",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:"Generated Questions"}),T.jsx("button",{onClick:x,className:"bg-amber-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-amber-700 transition",children:"Assign Test"})]}),T.jsx("ul",{className:"space-y-3 mb-6",children:i.map((b,w)=>T.jsxs("li",{className:"bg-orange-50 border border-orange-200 rounded-md p-4 text-gray-800 shadow-sm",children:["Q",w+1,": ",b.question]},w))})]})]})},vL=({event:t,users:e,teams:n,onSave:i,user:s})=>{const[l,c]=N.useState({orange:[],black:[],white:[]}),[h,p]=N.useState({orange:[],black:[],white:[]}),[m,y]=N.useState({orange:"",black:"",white:""}),[_,x]=N.useState(!1),[b,w]=N.useState(!1),[R,A]=N.useState(!1);N.useEffect(()=>{var Z,Q,ne;const D={orange:[],black:[],white:[]};D.orange=((Z=n.find(G=>G.name==="Varsity"))==null?void 0:Z.students)||[],D.black=((Q=n.find(G=>G.name==="JV"))==null?void 0:Q.students)||[],D.white=((ne=n.find(G=>G.name==="JV2"))==null?void 0:ne.students)||[],c({...D}),p({...D});const V=D.white.length>0;x(V),w(V)},[n]);const k=D=>{const V=m[D].trim().toLowerCase(),Z=e.find(Q=>Q.firstName.toLowerCase().includes(V)||`${Q.firstName} ${Q.lastName}`.toLowerCase().includes(V));Z&&!l[D].some(Q=>Q.id===Z.id)&&(c(Q=>({...Q,[D]:[...Q[D],Z]})),y(Q=>({...Q,[D]:""})))},L=(D,V)=>{c(Z=>({...Z,[D]:Z[D].filter(Q=>Q.id!==V)}))},U=(D,V,Z,Q)=>T.jsxs("div",{className:"w-full",children:[T.jsx("div",{className:`text-[10px] font-bold py-1 px-1 rounded-t text-center ${Z} ${Q}`,children:V}),T.jsxs("div",{className:"bg-white border border-gray-200 rounded-b px-1 py-1 space-y-1 min-h-[40px]",onClick:()=>{var ne;return R&&((ne=document.getElementById(`${t.id}-${D}-input`))==null?void 0:ne.focus())},children:[l[D].map(ne=>T.jsxs("div",{className:"flex justify-between items-center text-[10px] bg-orange-50 px-1 py-[2px] rounded",children:[T.jsxs("span",{className:"truncate",children:[ne.firstName," ",ne.lastName]}),R&&T.jsx("button",{className:"text-gray-400 hover:text-red-500 ml-1 text-xs",onClick:G=>{G.stopPropagation(),L(D,ne.id)},children:"×"})]},ne.id)),R&&T.jsx("input",{id:`${t.id}-${D}-input`,value:m[D],onChange:ne=>y(G=>({...G,[D]:ne.target.value})),onKeyDown:ne=>ne.key==="Enter"&&k(D),placeholder:"Enter name and press enter",className:"w-full mt-1 px-1 py-[2px] text-[10px] border border-orange-300 rounded focus:outline-none focus:ring-1 focus:ring-orange-500"})]})]});return T.jsxs("div",{className:"border border-orange-200 rounded p-2 bg-orange-50 shadow-sm text-xs",children:[T.jsx("h4",{className:"font-semibold text-orange-700 text-center mb-2 truncate",children:t.name}),T.jsxs("div",{className:"flex gap-2 justify-center",children:[U("orange","Varsity","bg-orange-600","text-white"),U("black","JV","bg-black","text-white"),_&&U("white","JV2","bg-white","text-black")]}),(s==null?void 0:s.admin)&&R&&T.jsx("div",{className:"text-center mt-2",children:_?T.jsx("button",{className:"text-[10px] text-red-500 hover:underline",onClick:()=>{c(D=>({...D,white:[]})),x(!1)},children:"Remove JV2"}):T.jsx("button",{className:"text-orange-600 text-[10px] hover:underline",onClick:()=>x(!0),children:"+ Add JV2"})}),T.jsxs("div",{className:"text-center mt-3 space-x-2",children:[(s==null?void 0:s.admin)&&!R&&T.jsx("button",{onClick:()=>A(!0),className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Edit"}),(s==null?void 0:s.admin)&&R&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>{console.log("Saving assignment for",t.name,l),p(l),w(_),A(!1),i(t.name,l)},className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Save"}),T.jsx("button",{onClick:()=>{c(h),x(b),y({orange:"",black:"",white:""}),A(!1)},className:"bg-gray-200 text-gray-700 px-3 py-1 rounded text-xs hover:bg-gray-300 transition",children:"Cancel"})]})]})]})},Iu="/api/teams";let ba=null;const _L=t=>{ba=`Bearer ${t}`},TL=async()=>(await xe.get(Iu,{headers:{Authorization:ba}})).data,xL=async t=>(await xe.post(Iu,t,{headers:{Authorization:ba}})).data,SL=async(t,e)=>{const n=`${Iu}/${t}`;return(await xe.put(n,e,{headers:{Authorization:ba}})).data},wL=async t=>{const e=`${Iu}/${t}`;if((await xe.delete(e,{headers:{Authorization:ba}})).status===204)return{id:t}},rn={setToken:_L,getAll:TL,createTeam:xL,changeTeam:SL,deleteTeam:wL},bL=({user:t,users:e,events:n,teams:i,setTeams:s})=>{const[l,c]=N.useState([]),[h,p]=N.useState([]),[m,y]=N.useState([]),[_,x]=N.useState([]),[b,w]=N.useState([]),[R,A]=N.useState([]),k=(D,V)=>{if(D.length!==V.length)return!1;const Z=[...D].sort(),Q=[...V].sort();return Z.every((ne,G)=>ne===Q[G])},L=async(D,V)=>{const Z=i.find(G=>G.event===D&&G.name==="Varsity"),Q=i.find(G=>G.event===D&&G.name==="JV"),ne=i.find(G=>G.event===D&&G.name==="JV2");try{if(V.orange.length>0)if(Z){if(k(Z.students,V.orange.map(I=>I.id)))return;const G=await rn.changeTeam(Z.id,{students:V.orange.map(I=>I.id)});s(i.map(I=>I.id===Z.id?G:I))}else{const G=await rn.createTeam({event:D,name:"Varsity",students:V.orange.map(I=>I.id)});s(i.concat(G))}else if(Z){const G=await rn.deleteTeam(Z.id);G&&s(i.filter(I=>I.id!==G.id))}if(V.black.length>0)if(Q){if(k(Q.students,V.black.map(I=>I.id)))return;const G=await rn.changeTeam(Q.id,{students:V.black.map(I=>I.id)});s(i.map(I=>I.id===Q.id?G:I))}else{const G=await rn.createTeam({event:D,name:"JV",students:V.black.map(I=>I.id)});s(i.concat(G))}else if(Q){const G=await rn.deleteTeam(Q.id);G&&s(i.filter(I=>I.id!==G.id))}if(V.white.length>0)if(ne){if(k(ne.students,V.white.map(I=>I.id)))return;const G=await rn.changeTeam(ne.id,{students:V.white.map(I=>I.id)});s(i.map(I=>I.id===ne.id?G:I))}else{const G=await rn.createTeam({event:D,name:"JV2",students:V.white.map(I=>I.id)});s(i.concat(G))}else if(ne){const G=await rn.deleteTeam(ne.id);G&&s(i.filter(I=>I.id!==G.id))}}catch(G){G.response&&G.response.data?console.error(`Error: ${G.response.data.error}`):console.error("An unexpected error occurred while saving team assignments:",G)}};N.useEffect(()=>{n&&(c(n.filter(D=>D.block==="1")),p(n.filter(D=>D.block==="2")),y(n.filter(D=>D.block==="3")),x(n.filter(D=>D.block==="4")),w(n.filter(D=>D.block==="5")),A(n.filter(D=>D.block==="")))},[n]);const U=(D,V)=>T.jsxs("div",{className:"bg-white shadow rounded-lg p-4 flex flex-col",children:[T.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-3 text-center border-b border-orange-200 pb-1",children:D}),T.jsx("div",{className:"space-y-3 min-h-[360px]",children:V.map(Z=>T.jsx(vL,{event:Z,users:e,teams:i.filter(Q=>Q.event===Z.name),user:t,onSave:L},Z.id))})]},D);if(t)return!e||!i||!n?T.jsx("div",{className:"flex justify-center items-center h-48",children:T.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):T.jsxs("div",{className:"px-4 py-8 space-y-10",children:[T.jsx("h2",{className:"w-full text-center font-semibold text-2xl text-orange-800 mb-6 bg-white rounded-lg shadow-lg p-4",children:"Team Lineup"}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[U("Block 1",l),U("Block 2",h),U("Block 3",m)]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[U("Block 4",_),U("Block 5",b),U("Self Schedule",R)]}),T.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mt-6",children:[T.jsx("h3",{className:"text-lg font-semibold text-orange-700 border-b border-orange-200 pb-2 mb-4 text-center",children:"Events Per Student"}),T.jsx("div",{className:"flex flex-wrap gap-3",children:e.filter(D=>D.teams&&D.teams.length>0).map(D=>T.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-md px-3 py-2 text-sm text-orange-800 shadow-sm",children:[T.jsxs("span",{className:"font-medium",children:[D.firstName," ",D.lastName]}),": ",D.teams.length]},D.id))})]})]})},Ca="/api/answers";let wT=null;const CL=t=>{wT=`Bearer ${t}`},Ea=()=>({headers:{Authorization:wT}}),EL=async t=>(await xe.post(Ca,t,Ea())).data,AL=async(t,e)=>(await xe.get(`${Ca}/${t}/${e}`,Ea())).data,RL=async(t,e,n)=>(await xe.put(`${Ca}/${t}/${e}`,n,Ea())).data,NL=async(t,e,{questionId:n,answer:i,drawing:s})=>(await xe.patch(`${Ca}/${t}/${e}`,{questionId:n,answer:i,drawing:s},Ea())).data,ML=async()=>(await xe.get(Ca,Ea())).data,It={setToken:CL,create:EL,getByTestAndTeam:AL,update:RL,updateSpecific:NL,getAll:ML},Pu="/api/submissions";let bT=null;const kL=t=>{bT=`Bearer ${t}`},Lu=()=>({headers:{Authorization:bT}}),DL=async t=>(await xe.post(Pu,t,Lu())).data,UL=async()=>(await xe.get(Pu,Lu())).data,IL=async t=>(await xe.get(`${Pu}/${t}`,Lu())).data,PL=async(t,e)=>(await xe.get(`${Pu}/check/${t}/${e}`,Lu())).data,An={setToken:kL,create:DL,getAll:UL,getById:IL,checkSubmission:PL},LL=({tests:t,user:e,users:n,teams:i})=>{const[s,l]=N.useState([]),[c,h]=N.useState({});return N.useEffect(()=>{var p;if(t&&e&&n){const m=n.find(x=>x.id===e.id),y=((p=m==null?void 0:m.teams)==null?void 0:p.map(x=>x.id))||[];console.log(y),console.log(t);const _=t.filter(x=>{var b;return(b=x.assignees)==null?void 0:b.some(w=>y.includes(w))});l(_)}},[t,e,n]),N.useEffect(()=>{(async()=>{if(s.length>0&&i&&e){const m=localStorage.getItem("loggedAppUser");if(m){const _=JSON.parse(m);It.setToken(_.token),An.setToken(_.token)}const y={};for(const _ of s){const x=i.find(b=>b&&b.event===_.event&&b.students&&Array.isArray(b.students)&&b.students.some(w=>w&&w.id===e.id));if(x)try{if((await An.checkSubmission(_.id,x.id)).submitted)y[_.id]="submitted";else{const w=await It.getByTestAndTeam(_.id,x.id);y[_.id]=w?"started":"not_started"}}catch{y[_.id]="not_started"}else y[_.id]="no_team"}h(y)}})()},[s,i,e]),e?T.jsxs("div",{className:"max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[T.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"Assigned Tests"}),s.length===0?T.jsx("p",{className:"text-center text-gray-500 italic",children:"You don’t have any assigned tests yet."}):T.jsx("ul",{className:"space-y-3",children:s.map(p=>T.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:p.random?`Random Test - ${p.event}`:`${p.school} ${p.year} - ${p.event}`}),c[p.id]==="submitted"&&T.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Submitted"})]}),c[p.id]==="submitted"?T.jsx("span",{className:"text-sm text-green-600 font-medium",children:"✓ Completed"}):T.jsxs(ot,{to:`/assigned/${p.id}`,className:"text-sm text-orange-600 hover:underline",children:[c[p.id]==="started"?"Continue Test":"Take Test"," →"]})]})},p.id))})]}):null};function I0(t,e,n,i,s,l,c){try{var h=t[l](c),p=h.value}catch(m){n(m);return}h.done?e(p):Promise.resolve(p).then(i,s)}function OL(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var l=t.apply(e,n);function c(p){I0(l,i,s,c,h,"next",p)}function h(p){I0(l,i,s,c,h,"throw",p)}c(void 0)})}}function Er(){return Er=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Er.apply(this,arguments)}var CT={exports:{}};(function(t){var e=function(n){var i=Object.prototype,s=i.hasOwnProperty,l,c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",m=c.toStringTag||"@@toStringTag";function y(j,B,E){return Object.defineProperty(j,B,{value:E,enumerable:!0,configurable:!0,writable:!0}),j[B]}try{y({},"")}catch{y=function(B,E,O){return B[E]=O}}function _(j,B,E,O){var q=B&&B.prototype instanceof L?B:L,X=Object.create(q.prototype),ie=new ke(O||[]);return X._invoke=ae(j,E,ie),X}n.wrap=_;function x(j,B,E){try{return{type:"normal",arg:j.call(B,E)}}catch(O){return{type:"throw",arg:O}}}var b="suspendedStart",w="suspendedYield",R="executing",A="completed",k={};function L(){}function U(){}function D(){}var V={};y(V,h,function(){return this});var Z=Object.getPrototypeOf,Q=Z&&Z(Z(Y([])));Q&&Q!==i&&s.call(Q,h)&&(V=Q);var ne=D.prototype=L.prototype=Object.create(V);U.prototype=D,y(ne,"constructor",D),y(D,"constructor",U),U.displayName=y(D,m,"GeneratorFunction");function G(j){["next","throw","return"].forEach(function(B){y(j,B,function(E){return this._invoke(B,E)})})}n.isGeneratorFunction=function(j){var B=typeof j=="function"&&j.constructor;return B?B===U||(B.displayName||B.name)==="GeneratorFunction":!1},n.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,D):(j.__proto__=D,y(j,m,"GeneratorFunction")),j.prototype=Object.create(ne),j},n.awrap=function(j){return{__await:j}};function I(j,B){function E(X,ie,ce,oe){var Ee=x(j[X],j,ie);if(Ee.type==="throw")oe(Ee.arg);else{var be=Ee.arg,je=be.value;return je&&typeof je=="object"&&s.call(je,"__await")?B.resolve(je.__await).then(function(mt){E("next",mt,ce,oe)},function(mt){E("throw",mt,ce,oe)}):B.resolve(je).then(function(mt){be.value=mt,ce(be)},function(mt){return E("throw",mt,ce,oe)})}}var O;function q(X,ie){function ce(){return new B(function(oe,Ee){E(X,ie,oe,Ee)})}return O=O?O.then(ce,ce):ce()}this._invoke=q}G(I.prototype),y(I.prototype,p,function(){return this}),n.AsyncIterator=I,n.async=function(j,B,E,O,q){q===void 0&&(q=Promise);var X=new I(_(j,B,E,O),q);return n.isGeneratorFunction(B)?X:X.next().then(function(ie){return ie.done?ie.value:X.next()})};function ae(j,B,E){var O=b;return function(X,ie){if(O===R)throw new Error("Generator is already running");if(O===A){if(X==="throw")throw ie;return se()}for(E.method=X,E.arg=ie;;){var ce=E.delegate;if(ce){var oe=ue(ce,E);if(oe){if(oe===k)continue;return oe}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(O===b)throw O=A,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);O=R;var Ee=x(j,B,E);if(Ee.type==="normal"){if(O=E.done?A:w,Ee.arg===k)continue;return{value:Ee.arg,done:E.done}}else Ee.type==="throw"&&(O=A,E.method="throw",E.arg=Ee.arg)}}}function ue(j,B){var E=j.iterator[B.method];if(E===l){if(B.delegate=null,B.method==="throw"){if(j.iterator.return&&(B.method="return",B.arg=l,ue(j,B),B.method==="throw"))return k;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var O=x(E,j.iterator,B.arg);if(O.type==="throw")return B.method="throw",B.arg=O.arg,B.delegate=null,k;var q=O.arg;if(!q)return B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,k;if(q.done)B[j.resultName]=q.value,B.next=j.nextLoc,B.method!=="return"&&(B.method="next",B.arg=l);else return q;return B.delegate=null,k}G(ne),y(ne,m,"Generator"),y(ne,h,function(){return this}),y(ne,"toString",function(){return"[object Generator]"});function $e(j){var B={tryLoc:j[0]};1 in j&&(B.catchLoc=j[1]),2 in j&&(B.finallyLoc=j[2],B.afterLoc=j[3]),this.tryEntries.push(B)}function Je(j){var B=j.completion||{};B.type="normal",delete B.arg,j.completion=B}function ke(j){this.tryEntries=[{tryLoc:"root"}],j.forEach($e,this),this.reset(!0)}n.keys=function(j){var B=[];for(var E in j)B.push(E);return B.reverse(),function O(){for(;B.length;){var q=B.pop();if(q in j)return O.value=q,O.done=!1,O}return O.done=!0,O}};function Y(j){if(j){var B=j[h];if(B)return B.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var E=-1,O=function q(){for(;++E<j.length;)if(s.call(j,E))return q.value=j[E],q.done=!1,q;return q.value=l,q.done=!0,q};return O.next=O}}return{next:se}}n.values=Y;function se(){return{value:l,done:!0}}return ke.prototype={constructor:ke,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(Je),!j)for(var B in this)B.charAt(0)==="t"&&s.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=l)},stop:function(){this.done=!0;var j=this.tryEntries[0],B=j.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var B=this;function E(oe,Ee){return X.type="throw",X.arg=j,B.next=oe,Ee&&(B.method="next",B.arg=l),!!Ee}for(var O=this.tryEntries.length-1;O>=0;--O){var q=this.tryEntries[O],X=q.completion;if(q.tryLoc==="root")return E("end");if(q.tryLoc<=this.prev){var ie=s.call(q,"catchLoc"),ce=s.call(q,"finallyLoc");if(ie&&ce){if(this.prev<q.catchLoc)return E(q.catchLoc,!0);if(this.prev<q.finallyLoc)return E(q.finallyLoc)}else if(ie){if(this.prev<q.catchLoc)return E(q.catchLoc,!0)}else if(ce){if(this.prev<q.finallyLoc)return E(q.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,B){for(var E=this.tryEntries.length-1;E>=0;--E){var O=this.tryEntries[E];if(O.tryLoc<=this.prev&&s.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var q=O;break}}q&&(j==="break"||j==="continue")&&q.tryLoc<=B&&B<=q.finallyLoc&&(q=null);var X=q?q.completion:{};return X.type=j,X.arg=B,q?(this.method="next",this.next=q.finallyLoc,k):this.complete(X)},complete:function(j,B){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&B&&(this.next=B),k},finish:function(j){for(var B=this.tryEntries.length-1;B>=0;--B){var E=this.tryEntries[B];if(E.finallyLoc===j)return this.complete(E.completion,E.afterLoc),Je(E),k}},catch:function(j){for(var B=this.tryEntries.length-1;B>=0;--B){var E=this.tryEntries[B];if(E.tryLoc===j){var O=E.completion;if(O.type==="throw"){var q=O.arg;Je(E)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(j,B,E){return this.delegate={iterator:Y(j),resultName:B,nextLoc:E},this.method==="next"&&(this.arg=l),k}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(CT);var P0=CT.exports,ET=function(e){var n=e.paths,i=e.id,s=e.strokeWidth,l=e.strokeColor,c=e.command,h=c===void 0?AT:c;if(n.length===1){var p=n[0],m=p.x,y=p.y,_=s/2;return N.createElement("circle",{key:i,id:i,cx:m,cy:y,r:_,stroke:l,fill:l})}var x=n.reduce(function(b,w,R,A){return R===0?"M "+w.x+","+w.y:b+" "+h(w,R,A)},"");return N.createElement("path",{key:i,id:i,d:x,fill:"none",strokeLinecap:"round",stroke:l,strokeWidth:s})},qL=function(e,n){var i=n.x-e.x,s=n.y-e.y;return{length:Math.sqrt(Math.pow(i,2)+Math.pow(s,2)),angle:Math.atan2(s,i)}},Yl=function(e){var n=e.current,i=e.next,s=e.previous,l=e.reverse,c=s||n,h=i||n,p=.2,m=qL(c,h),y=m.angle+(l?Math.PI:0),_=m.length*p,x=n.x+Math.cos(y)*_,b=n.y+Math.sin(y)*_;return[x,b]},AT=function(e,n,i){var s=null,l=null;switch(n){case 0:var c=Yl({current:e});s=c[0],l=c[1];break;case 1:var h=Yl({current:i[n-1],next:e});s=h[0],l=h[1];break;default:var p=Yl({current:i[n-1],previous:i[n-2],next:e});s=p[0],l=p[1];break}var m=Yl({current:e,previous:i[n-1],next:i[n+1],reverse:!0}),y=m[0],_=m[1];return"C "+s+","+l+" "+y+","+_+" "+e.x+", "+e.y},BL=function(e){var n=e.id,i=e.paths;return N.createElement(N.Fragment,null,i.map(function(s,l){return N.createElement(ET,{key:n+"__"+l,paths:s.paths,id:n+"__"+l,strokeWidth:s.strokeWidth,strokeColor:s.strokeColor,command:AT})}))},L0=function(e){return new Promise(function(n,i){var s=new Image;s.addEventListener("load",function(){s.width>0&&n(s),i("Image not found")}),s.addEventListener("error",function(l){return i(l)}),s.src=e,s.setAttribute("crossorigin","anonymous")})};function O0(t){var e,n=(e=t.firstChild)==null?void 0:e.cloneNode(!0),i=t.offsetWidth,s=t.offsetHeight;return n.setAttribute("viewBox","0 0 "+i+" "+s),n.setAttribute("width",i.toString()),n.setAttribute("height",s.toString()),{svgCanvas:n,width:i,height:s}}var VL=N.forwardRef(function(t,e){var n=t.paths,i=t.isDrawing,s=t.onPointerDown,l=t.onPointerMove,c=t.onPointerUp,h=t.id,p=h===void 0?"react-sketch-canvas":h,m=t.width,y=m===void 0?"100%":m,_=t.height,x=_===void 0?"100%":_,b=t.className,w=b===void 0?"react-sketch-canvas":b,R=t.canvasColor,A=R===void 0?"red":R,k=t.backgroundImage,L=k===void 0?"":k,U=t.exportWithBackgroundImage,D=U===void 0?!1:U,V=t.preserveBackgroundImageAspectRatio,Z=V===void 0?"none":V,Q=t.allowOnlyPointerType,ne=Q===void 0?"all":Q,G=t.style,I=G===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:G,ae=t.svgStyle,ue=ae===void 0?{}:ae,$e=N.useRef(null),Je=function(q){var X,ie,ce,oe=(X=$e.current)==null?void 0:X.getBoundingClientRect(),Ee=(ie=window.scrollX)!=null?ie:0,be=(ce=window.scrollY)!=null?ce:0;if(!oe)return{x:0,y:0};var je={x:q.pageX-oe.left-Ee,y:q.pageY-oe.top-be};return je},ke=function(q){if(!(ne!=="all"&&q.pointerType!==ne)&&!(q.pointerType==="mouse"&&q.button!==0)){var X=Je(q);s(X)}},Y=function(q){if(i&&!(ne!=="all"&&q.pointerType!==ne)){var X=Je(q);l(X)}},se=function(q){q.pointerType==="mouse"&&q.button!==0||ne!=="all"&&q.pointerType!==ne||c()};N.useImperativeHandle(e,function(){return{exportImage:function(q){return new Promise(function(){var X=OL(P0.mark(function ie(ce,oe){var Ee,be,je,mt,gn,an,Ft,Tt;return P0.wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(Qe.prev=0,Ee=$e.current,Ee){Qe.next=4;break}throw Error("Canvas not rendered yet");case 4:return be=O0(Ee),je=be.svgCanvas,mt=be.width,gn=be.height,an="data:image/svg+xml;base64,"+btoa(je.outerHTML),Qe.next=8,L0(an);case 8:if(Qe.t0=Qe.sent,Ft=[Qe.t0],!D){Qe.next=21;break}return Qe.prev=11,Qe.next=14,L0(L);case 14:Tt=Qe.sent,Ft.push(Tt),Qe.next=21;break;case 18:Qe.prev=18,Qe.t1=Qe.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(Ft).then(function(xt){var On=document.createElement("canvas");On.setAttribute("width",mt.toString()),On.setAttribute("height",gn.toString());var Qn=On.getContext("2d");if(!Qn)throw Error("Canvas not rendered yet");xt.reverse().forEach(function(st){Qn.drawImage(st,0,0)}),ce(On.toDataURL("image/"+q))}).catch(function(xt){throw xt}),Qe.next=27;break;case 24:Qe.prev=24,Qe.t2=Qe.catch(0),oe(Qe.t2);case 27:case"end":return Qe.stop()}},ie,null,[[0,24],[11,18]])}));return function(ie,ce){return X.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(q,X){try{var ie,ce=(ie=$e.current)!=null?ie:null;if(ce!==null){var oe,Ee,be=O0(ce),je=be.svgCanvas;if(D){q(je.outerHTML);return}(oe=je.querySelector("#"+p+"__background"))==null||oe.remove(),(Ee=je.querySelector("#"+p+"__canvas-background"))==null||Ee.setAttribute("fill",A),q(je.outerHTML)}X(new Error("Canvas not loaded"))}catch(mt){X(mt)}})}}}),N.useEffect(function(){return document.addEventListener("pointerup",se),function(){document.removeEventListener("pointerup",se)}},[se]);var j=n.filter(function(O){return!O.drawMode}),B=0,E=n.reduce(function(O,q){return q.drawMode?(O[B]===void 0&&(O[B]=[]),O[B].push(q),O):(B+=1,O)},[[]]);return N.createElement("div",{role:"presentation",ref:$e,className:w,style:Er({touchAction:"none",width:y,height:x},I),"touch-action":"none",onPointerDown:ke,onPointerMove:Y,onPointerUp:se},N.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:Er({width:"100%",height:"100%"},ue),id:p},N.createElement("g",{id:p+"__eraser-stroke-group",display:"none"},N.createElement("rect",{id:p+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),j.map(function(O,q){return N.createElement(ET,{key:p+"__eraser-"+q,id:p+"__eraser-"+q,paths:O.paths,strokeColor:"#000000",strokeWidth:O.strokeWidth})})),N.createElement("defs",null,L&&N.createElement("pattern",{id:p+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},N.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:L,preserveAspectRatio:Z})),j.map(function(O,q){return N.createElement("mask",{id:p+"__eraser-mask-"+q,key:p+"__eraser-mask-"+q,maskUnits:"userSpaceOnUse"},N.createElement("use",{href:"#"+p+"__mask-background"}),Array.from({length:j.length-q},function(X,ie){return ie+q}).map(function(X){return N.createElement("use",{key:X.toString(),href:"#"+p+"__eraser-"+X.toString()})}))})),N.createElement("g",{id:p+"__canvas-background-group"},N.createElement("rect",{id:p+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:L?"url(#"+p+"__background)":A})),E.map(function(O,q){return N.createElement("g",{id:p+"__stroke-group-"+q,key:p+"__stroke-group-"+q,mask:"url(#"+p+"__eraser-mask-"+q+")"},N.createElement(BL,{id:p,paths:O}))})))}),$L=N.forwardRef(function(t,e){var n=t.id,i=n===void 0?"react-sketch-canvas":n,s=t.width,l=s===void 0?"100%":s,c=t.height,h=c===void 0?"100%":c,p=t.className,m=p===void 0?"":p,y=t.canvasColor,_=y===void 0?"white":y,x=t.strokeColor,b=x===void 0?"red":x,w=t.backgroundImage,R=w===void 0?"":w,A=t.exportWithBackgroundImage,k=A===void 0?!1:A,L=t.preserveBackgroundImageAspectRatio,U=L===void 0?"none":L,D=t.strokeWidth,V=D===void 0?4:D,Z=t.eraserWidth,Q=Z===void 0?8:Z,ne=t.allowOnlyPointerType,G=ne===void 0?"all":ne,I=t.style,ae=I===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:I,ue=t.svgStyle,$e=ue===void 0?{}:ue,Je=t.onChange,ke=Je===void 0?function(st){}:Je,Y=t.onStroke,se=Y===void 0?function(st,Ue){}:Y,j=t.withTimestamp,B=j===void 0?!1:j,E=N.createRef(),O=N.useState(!0),q=O[0],X=O[1],ie=N.useState(!1),ce=ie[0],oe=ie[1],Ee=N.useState([]),be=Ee[0],je=Ee[1],mt=N.useState([]),gn=mt[0],an=mt[1],Ft=N.useState([]),Tt=Ft[0],Yt=Ft[1],Qe=N.useCallback(function(){var st,Ue,Ge=(st=(Ue=Tt.slice(-1))==null?void 0:Ue[0])!=null?st:null;if(Ge===null){console.warn("No stroke found!");return}se(Ge,!Ge.drawMode)},[ce]);N.useEffect(function(){Qe()},[ce]),N.useEffect(function(){ke(Tt)},[Tt]),N.useImperativeHandle(e,function(){return{eraseMode:function(Ue){X(!Ue)},clearCanvas:function(){je([].concat(Tt)),Yt([])},undo:function(){if(be.length!==0){Yt([].concat(be)),je([]);return}an(function(Ue){return[].concat(Ue,Tt.slice(-1))}),Yt(function(Ue){return Ue.slice(0,-1)})},redo:function(){gn.length!==0&&(Yt(function(Ue){return[].concat(Ue,gn.slice(-1))}),an(function(Ue){return Ue.slice(0,-1)}))},exportImage:function(Ue){var Ge,ft=(Ge=E.current)==null?void 0:Ge.exportImage;if(ft)return ft(Ue);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(Ue,Ge){var ft,zt=(ft=E.current)==null?void 0:ft.exportSvg;zt?zt().then(function(me){Ue(me)}).catch(function(me){Ge(me)}):Ge(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(Ue,Ge){try{Ue(Tt)}catch(ft){Ge(ft)}})},loadPaths:function(Ue){Yt(function(Ge){return[].concat(Ge,Ue)})},getSketchingTime:function(){return new Promise(function(Ue,Ge){B||Ge(new Error("Set 'withTimestamp' prop to get sketching time"));try{var ft=Tt.reduce(function(zt,me){var he,ye,Ie=(he=me.startTimestamp)!=null?he:0,ut=(ye=me.endTimestamp)!=null?ye:0;return zt+(ut-Ie)},0);Ue(ft)}catch(zt){Ge(zt)}})},resetCanvas:function(){je([]),an([]),Yt([])}}});var xt=function(Ue){oe(!0),an([]);var Ge={drawMode:q,strokeColor:q?b:"#000000",strokeWidth:q?V:Q,paths:[Ue]};B&&(Ge=Er({},Ge,{startTimestamp:Date.now(),endTimestamp:0})),Yt(function(ft){return[].concat(ft,[Ge])})},On=function(Ue){if(ce){var Ge=Tt.slice(-1)[0],ft=Er({},Ge,{paths:[].concat(Ge.paths,[Ue])});Yt(function(zt){return[].concat(zt.slice(0,-1),[ft])})}},Qn=function(){var Ue,Ge;if(ce&&(oe(!1),!!B)){var ft=(Ue=(Ge=Tt.slice(-1))==null?void 0:Ge[0])!=null?Ue:null;if(ft!==null){var zt=Er({},ft,{endTimestamp:Date.now()});Yt(function(me){return[].concat(me.slice(0,-1),[zt])})}}};return N.createElement(VL,{ref:E,id:i,width:l,height:h,className:m,canvasColor:_,backgroundImage:R,exportWithBackgroundImage:k,preserveBackgroundImageAspectRatio:U,allowOnlyPointerType:G,style:ae,svgStyle:$e,paths:Tt,isDrawing:ce,onPointerDown:xt,onPointerMove:On,onPointerUp:Qn})});const FL=({questions:t,currentIdx:e,setCurrentIdx:n,bookmarked:i,answers:s})=>T.jsx("div",{className:"p-3 space-y-2",children:t.map((l,c)=>T.jsxs("button",{onClick:()=>n(c),className:`w-full px-3 py-2 rounded text-left border text-sm ${c===e?"bg-orange-300 border-orange-600":"bg-white border-orange-200"} ${s[l.id]?"font-bold":""}`,children:["Q",c+1,i.includes(l.id)&&T.jsx("span",{className:"ml-2 text-yellow-700",children:"★"})]},l.id||c))}),zL=({idx:t,question:e,answer:n,onChange:i,onBookmark:s,isBookmarked:l})=>{const c=e.type==="mcq"&&e.answer.includes(", "),h=e.type==="saq",p=m=>{const y=Array.isArray(n)?n:[],_=y.includes(m)?y.filter(x=>x!==m):[...y,m];i(e.id,_)};return T.jsxs("div",{className:"relative",children:[T.jsxs("div",{className:"sticky top-0 bg-white z-40 flex justify-between items-center mb-3 pb-2 border-b border-orange-200",children:[T.jsxs("h4",{className:"text-lg font-semibold text-orange-700",children:["Question ",t+1]}),T.jsx("button",{onClick:()=>s(e.id),className:"text-yellow-600 hover:text-yellow-700",children:l?"★ Bookmarked":"☆ Bookmark"})]}),T.jsxs("div",{className:"pt-2",children:[T.jsx("p",{className:"mb-4 text-orange-900",children:e.question}),e.imageUrl&&T.jsx("img",{src:e.imageUrl,alt:"Question Visual",className:"mb-4 border rounded max-w-md"}),e.type==="mcq"&&e.choices?e.choices.map((m,y)=>T.jsxs("label",{className:"block bg-orange-100 border border-orange-200 rounded px-4 py-2 mb-2 cursor-pointer",children:[T.jsx("input",{type:c?"checkbox":"radio",name:`q-${e.id}`,value:m,checked:c?(n||[]).includes(m):n===m,onChange:()=>c?p(m):i(e.id,m),className:"mr-2"}),String.fromCharCode(65+y),". ",m]},y)):h?T.jsx("input",{type:"text",className:"w-full border border-orange-300 rounded p-2",placeholder:"Short answer...",value:n||"",onChange:m=>i(e.id,m.target.value)}):T.jsx("textarea",{rows:4,className:"w-full border border-orange-300 rounded p-2",placeholder:"Type your answer...",value:n||"",onChange:m=>i(e.id,m.target.value)})]})]})},GL=(t,e,n)=>{if(n<1e3)return!0;if(t===e)return!1;const i=s=>s==null?!0:typeof s=="string"?s.trim()==="":typeof s=="number"||typeof s=="boolean"?!1:Array.isArray(s)?s.length===0:!1;return i(t)&&!i(e)?!0:i(e)&&!i(t)?!1:n<1500},HL=(t,e,n)=>{if(n<1e3)return!0;if(JSON.stringify(t)===JSON.stringify(e))return!1;const i=s=>s?Array.isArray(s)?s.length===0:typeof s=="object"?Object.keys(s).length===0:!1:!0;return i(t)&&!i(e)?!0:i(e)&&!i(t)?!1:n<1500},jL=({tests:t,user:e,users:n,teams:i,setNotif:s,setError:l,setTests:c})=>{var zt;const h=j0("/assigned/:id"),p=(zt=h==null?void 0:h.params)==null?void 0:zt.id,m=er(),[y,_]=N.useState(null),[x,b]=N.useState(!1),[w,R]=N.useState(50*60),[A,k]=N.useState({}),[L,U]=N.useState([]),[D,V]=N.useState(0),[Z,Q]=N.useState(!1),[ne,G]=N.useState(!1),[I,ae]=N.useState({}),[ue,$e]=N.useState(null),[Je,ke]=N.useState(!1),[Y,se]=N.useState(!0),[j,B]=N.useState(null),[E,O]=N.useState(0),[q,X]=N.useState(!1),ie=N.useRef(null),ce=N.useRef(null),oe=N.useRef(null),Ee=N.useRef(null),[be,je]=N.useState({width:0,height:0});N.useEffect(()=>{if(t&&p){const me=t.find(he=>String(he.id)===p);_(me||null)}},[t,p]),N.useEffect(()=>{if(e&&y&&i&&Array.isArray(i)){const me=i.find(he=>he&&he.event===y.event&&he.students&&Array.isArray(he.students)&&he.students.some(ye=>ye&&ye.id===e.id));me&&$e(me.id)}},[e,y,i]),N.useEffect(()=>{(async()=>{if(p&&ue){const he=localStorage.getItem("loggedAppUser");if(he){const ye=JSON.parse(he);It.setToken(ye.token),An.setToken(ye.token)}try{if((await An.checkSubmission(p,ue)).submitted){l&&(l("This test has already been submitted."),setTimeout(()=>l(null),5e3)),m("/assigned");return}const Ie=await It.getByTestAndTeam(p,ue);Ie&&(k(Ie.answers||{}),ae(Ie.drawings||{}),R(Ie.timeLeft||3e3),b(!0))}catch{console.log("No existing answers found, starting fresh")}finally{se(!1)}}else p&&se(!1)})()},[p,ue,m,l]),N.useEffect(()=>(x&&w>0&&!q?ie.current=setTimeout(()=>{R(me=>Math.max(0,me-1))},1e3):x&&w===0&&!q&&xt(),()=>clearTimeout(ie.current)),[x,w,q]),N.useLayoutEffect(()=>{function me(){if(ce.current){const he=ce.current.getBoundingClientRect();je({width:Math.floor(he.width),height:Math.floor(he.height)})}}return me(),window.addEventListener("resize",me),()=>window.removeEventListener("resize",me)},[Z,D]),N.useEffect(()=>{Ee.current&&Ee.current.scrollIntoView({behavior:"smooth",block:"start"})},[x,D]),N.useEffect(()=>{const me=async()=>{var he;if(j&&p&&ue&&x&&!q){const ye=localStorage.getItem("loggedAppUser");if(ye){const Ie=JSON.parse(ye);It.setToken(Ie.token)}try{const Ie=await It.updateSpecific(p,ue,j);B(null),R(Ie.timeLeft)}catch(Ie){if(console.error("Failed to sync specific answer:",Ie),((he=Ie.response)==null?void 0:he.status)===404)try{await It.create({testId:p,teamId:ue,answers:A,drawings:I,timeLeft:3e3}),B(null)}catch(ut){console.error("Failed to create answer document:",ut)}}}};if(j&&!q){const he=setTimeout(me,500);return()=>clearTimeout(he)}},[j,p,ue,x,A,I,q]),N.useEffect(()=>{const me=async()=>{if(p&&ue&&x&&!q){if(Date.now()-E<1e3)return;const ye=localStorage.getItem("loggedAppUser");if(ye){const Ie=JSON.parse(ye);It.setToken(Ie.token),An.setToken(Ie.token)}try{const Ie=await It.getByTestAndTeam(p,ue);if(Ie){try{if((await An.checkSubmission(p,ue)).submitted&&!q){X(!0),b(!1),clearTimeout(ie.current),s&&(s("Test has been submitted by another team member!"),setTimeout(()=>s(null),5e3));return}}catch(Gt){console.log("Could not check submission status:",Gt)}const ut=Ie.answers||{},Ou=Ie.drawings||{},Aa=Ie.answerTimestamps||{},Ra=Ie.drawingTimestamps||{};k(Gt=>{const yn={...Gt};let Ht=!1;for(const[ln,Kt]of Object.entries(ut)){const Si=Gt[ln],nr=Aa[ln]?new Date(Aa[ln]):new Date(0),Zt=Date.now()-nr.getTime();Zt<2e3&&Si!==Kt?GL(Si,Kt,Zt)&&(yn[ln]=Kt,Ht=!0):Si!==Kt&&Zt>=2e3&&(yn[ln]=Kt,Ht=!0)}return Ht?yn:Gt}),ae(Gt=>{var ln,Kt,Si,nr;const yn={...Gt};let Ht=!1;for(const[Zt,Pt]of Object.entries(Ou)){const Xn=Gt[Zt],qu=Ra[Zt]?new Date(Ra[Zt]):new Date(0),Ir=Date.now()-qu.getTime();if(Ir<2e3&&JSON.stringify(Xn)!==JSON.stringify(Pt)){if(HL(Xn,Pt,Ir)){yn[Zt]=Pt,Ht=!0;const es=(Kt=(ln=y==null?void 0:y.questions)==null?void 0:ln[D])==null?void 0:Kt.id;Z&&es===Zt&&oe.current&&setTimeout(()=>{Pt&&Pt.length>0?oe.current.loadPaths(Pt):oe.current.clearCanvas()},100)}}else if(JSON.stringify(Xn)!==JSON.stringify(Pt)&&Ir>=2e3){yn[Zt]=Pt,Ht=!0;const Wo=(nr=(Si=y==null?void 0:y.questions)==null?void 0:Si[D])==null?void 0:nr.id;Z&&Wo===Zt&&oe.current&&setTimeout(()=>{Pt&&Pt.length>0?oe.current.loadPaths(Pt):oe.current.clearCanvas()},100)}}return Ht?yn:Gt}),R(Ie.timeLeft)}}catch(Ie){console.error("Failed to sync from backend:",Ie)}}};if(x&&!q){const he=setInterval(me,2e3);return()=>clearInterval(he)}},[p,ue,x,Z,D,y,E,q]);const mt=me=>{const he=String(Math.floor(me/60)).padStart(2,"0"),ye=String(me%60).padStart(2,"0");return`${he}:${ye}`},gn=(me,he)=>{k(ye=>({...ye,[me]:he})),O(Date.now()),B({questionId:me,answer:he})},an=me=>{U(he=>he.includes(me)?he.filter(ye=>ye!==me):[...he,me])},Ft=async()=>{if(Z&&oe.current){const me=await oe.current.exportPaths(),he=y.questions[D].id;ae(ye=>({...ye,[he]:me})),O(Date.now()),B({questionId:he,drawing:me})}},Tt=async me=>{await Ft(),Q(!1),V(me)},Yt=async()=>{await Ft(),Q(!1),V(me=>me+1)},Qe=async()=>{await Ft(),Q(!1),V(me=>me-1)},xt=async()=>{if(Je)return;ke(!0),await Ft();const me=localStorage.getItem("loggedAppUser");if(me){const he=JSON.parse(me);It.setToken(he.token),An.setToken(he.token),Rn.setToken(he.token)}try{if(p&&ue){await It.update(p,ue,{answers:A,drawings:I,timeLeft:w}),await An.create({testId:p,teamId:ue,finalTimeLeft:w});const he=t.find(ye=>String(ye.id)===p);if(he){const ye=he.assignees.filter(Ie=>Ie!==ue);await Rn.updateTest(p,{assignees:ye}),c&&c(Ie=>Ie.map(ut=>String(ut.id)===p?{...ut,assignees:ye}:ut))}b(!1),X(!0),clearTimeout(ie.current),s&&(s("Test submitted successfully!"),setTimeout(()=>s(null),5e3)),console.log("Test submitted successfully!")}}catch(he){console.error("Failed to submit test:",he),l&&(l("Failed to submit test. Please try again."),setTimeout(()=>l(null),5e3))}finally{ke(!1)}},On=async()=>{var he;b(!0),Q(!1),G(!1);const me=localStorage.getItem("loggedAppUser");if(me){const ye=JSON.parse(me);It.setToken(ye.token),Rn.setToken(ye.token)}if(p&&ue)try{const ye=await It.create({testId:p,teamId:ue,answers:{},drawings:{},timeLeft:3e3});R(ye.timeLeft)}catch(ye){((he=ye.response)==null?void 0:he.status)!==409&&console.error("Failed to create initial answers:",ye)}},Qn=async()=>{const me=y.questions[D].id;if(Z){if(oe.current){const he=await oe.current.exportPaths();ae(ye=>({...ye,[me]:he})),O(Date.now()),B({questionId:me,drawing:he})}Q(!1)}else Q(!0),setTimeout(()=>{if(oe.current){const he=I[me];he?oe.current.loadPaths(he):oe.current.clearCanvas()}},100)},st=()=>{if(oe.current){oe.current.clearCanvas();const me=y.questions[D].id;ae(he=>{const ye={...he};return delete ye[me],ye}),O(Date.now()),B({questionId:me,drawing:null})}},Ue=()=>{oe.current&&(oe.current.eraseMode(!ne),G(me=>!me))};if(!e||!y||Y)return T.jsx("div",{className:"flex justify-center items-center h-screen",children:T.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(q)return T.jsx("div",{className:"flex flex-col justify-center items-center p-20 bg-white space-y-10 rounded-lg",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),T.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-2",children:"Test Submitted Successfully!"}),T.jsx("p",{className:"text-gray-600",children:"Your answers have been saved and submitted for grading."})]})});if(!x)return T.jsxs("div",{className:"flex flex-col justify-center items-center p-20 bg-white space-y-10 rounded-lg",children:[T.jsxs("h1",{className:"text-3xl font-bold text-orange-800",children:[y.random?"Random Test":`${y.school} ${y.year}`," — ",y.event," Practice Test"]}),ue?T.jsx("button",{onClick:On,className:"bg-orange-500 text-white px-6 py-2 rounded-lg shadow-lg text-lg hover:bg-orange-600 transition",children:"Start Test"}):T.jsx("p",{className:"text-red-600",children:"You are not assigned to a team for this event."})]});const Ge=y.questions[D],ft=Ge.id;return T.jsx("div",{ref:Ee,className:"w-full min-h-screen bg-transparent py-5 px-4",children:T.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow-md py-6 px-8 space-y-6",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("h2",{className:"text-2xl font-bold text-orange-800",children:[y.school," ",y.year," — ",y.event]}),T.jsxs("div",{className:"text-orange-600 font-semibold text-lg",children:["Time Left: ",mt(w)]})]}),T.jsxs("div",{className:"flex space-x-4",children:[T.jsxs("div",{className:"w-64 h-[500px] overflow-y-auto pr-2 scrollbar-hide bg-gray-100 rounded-lg",children:[T.jsx("div",{className:"sticky top-0 bg-gray-100 z-10 pb-2 pt-3",children:T.jsx("h3",{className:"text-lg font-semibold text-orange-700 text-center",children:"Questions"})}),T.jsx(FL,{questions:y.questions,currentIdx:D,setCurrentIdx:Tt,bookmarked:L,answers:A})]}),T.jsxs("div",{ref:ce,className:"flex-1 relative max-h-[500px] overflow-auto pr-2 scrollbar-hide",children:[T.jsx(zL,{idx:D,question:Ge,answer:A[ft],onChange:gn,onBookmark:an,isBookmarked:L.includes(ft)}),Z&&T.jsx("div",{className:"absolute top-0 left-0 bg-transparent z-30",style:{width:be.width,height:be.height},children:T.jsx($L,{ref:oe,width:be.width,height:be.height,strokeWidth:"2",eraserWidth:"30",strokeColor:"#000",canvasColor:"transparent",className:"touch-none select-none",style:{border:"none",outline:"none"}})})]})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{className:"flex gap-2 items-center",children:[Z&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:Ue,className:`px-3 py-1 rounded ${ne?"bg-gray-300":"bg-orange-600 text-white"}`,children:"Pencil"}),T.jsx("button",{onClick:Ue,className:`px-3 py-1 rounded ${ne?"bg-orange-600 text-white":"bg-gray-300"}`,children:"Eraser"}),T.jsx("button",{onClick:st,className:"px-3 py-1 rounded bg-red-500 text-white",children:"Clear"})]}),T.jsx("button",{onClick:Qn,className:`rounded shadow text-white ${Z?"px-3 py-1 bg-gray-500 hover:bg-gray-600":"px-4 py-2 bg-amber-600 hover:bg-amber-700"}`,children:Z?"Hide Drawing":"Show Drawing"})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{disabled:D===0,onClick:Qe,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Previous"}),T.jsx("button",{disabled:D===y.questions.length-1,onClick:Yt,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Next"}),T.jsx("button",{onClick:xt,disabled:Je||q,className:`px-6 py-2 rounded shadow transition ${Je||q?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"} text-white`,children:Je?"Submitting...":q?"Submitted":"Submit Test"})]})]})]})})},JL=t=>{const[e,n]=N.useState("");if(!t.user)return;const i=async s=>{s.preventDefault(),await t.handleReset(e),n("")};return T.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[T.jsx("div",{children:T.jsxs("p",{className:"text-xl font-semibold text-orange-800 mb-2",children:[t.user.firstName," ",t.user.lastName,"'s Settings"]})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-lg font-medium text-orange-700 mb-2",children:"Password Reset"}),T.jsxs("form",{onSubmit:i,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),T.jsx("input",{type:"password",value:e,onChange:({target:s})=>n(s.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})]}),T.jsx("button",{type:"button",onClick:t.handleLogout,className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700 transition",children:"Logout"})]})},YL=t=>{const[e,n]=N.useState(""),i=er(),l=new URLSearchParams(window.location.search).get("token");if(!l)return;const c=h=>{h.preventDefault(),t.handleEmailReset(l,e)&&(n(""),i("/signin"))};return T.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[T.jsx("div",{children:T.jsx("p",{className:"text-xl font-semibold text-orange-800 text-center",children:"Reset Your Password"})}),T.jsx("div",{children:T.jsxs("form",{onSubmit:c,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),T.jsx("input",{type:"password",value:e,onChange:({target:h})=>n(h.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})})]})},Xo="/api/users";let RT=null;const KL=t=>{RT=`Bearer ${t}`},ZL=async()=>(await xe.get(Xo)).data,QL=async t=>(await xe.post(Xo,t)).data,XL=async t=>{const e=`${Xo}/reset/${t.id}`;return(await xe.put(e,{password:t.password},{headers:{Authorization:RT}})).data},WL=async t=>{const e=`${Xo}/forgot`;return(await xe.post(e,{email:t})).data},eO=async(t,e)=>{const n=`${Xo}/reset`;return(await xe.post(n,{token:t,password:e})).data},tO=async t=>{const e=`${Xo}/verify?token=${t}`;return(await xe.get(e)).data},Gn={setToken:KL,getAll:ZL,createUser:QL,resetPass:XL,forgot:WL,resetEmailPass:eO,verify:tO},nO=t=>{const e=er();N.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("token");i?(async()=>{try{await Gn.verify(i),t.setNotif("Email verified successfully!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch(l){l.response.data.error&&l.response.data.error==="Invalid or expired token"&&(t.setError("Invalid or expired verification token"),setTimeout(()=>{t.setError(null)},5e3))}})():(t.setError("No token provided"),setTimeout(()=>{t.setError(null)},5e3)),e("/")},[])},iO=()=>T.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-[60vh] bg-white max-w-md mx-auto p-8 shadow-lg rounded-lg",children:[T.jsx("h1",{className:"text-6xl font-bold text-orange-600 mb-4",children:"404"}),T.jsx("h2",{className:"text-2xl font-semibold mb-2 text-orange-800",children:"Page Not Found"}),T.jsx("p",{className:"text-orange-700 mb-6",children:"Sorry, the page you are looking for does not exist."}),T.jsx(ot,{to:"/",className:"px-6 py-2 bg-orange-200 text-orange-800 rounded hover:bg-orange-300 transition",children:"Go Home"})]}),rO="/api/login",oO=async t=>(await xe.post(rO,t)).data,sO={login:oO};function aO(){var Q,ne;const[t,e]=N.useState(null),[n,i]=N.useState(null),[s,l]=N.useState(null),[c,h]=N.useState([]),[p,m]=N.useState([]),[y,_]=N.useState([]),[x,b]=N.useState([]),[w,R]=N.useState([]),A=er();N.useEffect(()=>{const G=localStorage.getItem("loggedAppUser");if(G){const I=JSON.parse(G);e(I),Gn.setToken(I.token),Ki.setToken(I.token),Rn.setToken(I.token),ko.setToken(I.token),rn.setToken(I.token),It.setToken(I.token),An.setToken(I.token)}},[]),N.useEffect(()=>{(async()=>{try{const I=await Ki.getAll();I&&h(I)}catch(I){console.error("Failed to fetch events:",I)}})()},[]),N.useEffect(()=>{const G=async()=>{try{const I=await Rn.getAll();I&&m(I)}catch(I){console.error("Failed to fetch tests:",I)}};t&&p.length===0&&G()},[t]),N.useEffect(()=>{t&&(async()=>{try{const I=await Gn.getAll();I&&_(I)}catch(I){console.error("Failed to fetch users:",I)}})()},[t,w]),N.useEffect(()=>{const G=async()=>{try{const I=await ko.getAll();I&&b(I)}catch(I){console.error("Failed to fetch questions:",I)}};t&&x.length===0&&G()},[t]),N.useEffect(()=>{const G=async()=>{try{const I=await rn.getAll();I&&R(I)}catch(I){console.error("Failed to fetch teams:",I)}};t&&w.length===0&&G()},[t]);const k=async G=>{try{const I=await Gn.createUser(G);return window.localStorage.setItem("loggedAppUser",JSON.stringify(I)),e(I),Gn.setToken(I.token),Ki.setToken(I.token),Rn.setToken(I.token),ko.setToken(I.token),rn.setToken(I.token),It.setToken(I.token),An.setToken(I.token),A("/"),console.log("Sign Up"),l("signed up successfully, please check your email to verify your email"),setTimeout(()=>{l(null)},5e3),!0}catch(I){I.response.data.error?I.response.data.error==="Invalid admin key"?i("Invalid admin key!"):I.response.data.error==="Path `password` is required"?i("Password is required!"):I.response.data.error.includes("Path `email` is required")?i("Email is required!"):I.response.data.error.includes("Path `firstName` is required")?i("First name is required!"):I.response.data.error.includes("Path `lastName` is required")?i("Last name is required!"):I.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):I.response.data.error==="expected `email` to be unique"?i("Email already taken"):I.response.data.error==="expected `name` to be unique"?i("Name already taken. Please add your middle name/initial to your first name"):console.log(I.response.data.error):console.log(I.message),setTimeout(()=>{i(null)},5e3)}},L=()=>{window.localStorage.removeItem("loggedAppUser"),e(null),Gn.setToken(""),Ki.setToken(""),Rn.setToken(""),ko.setToken(""),rn.setToken(""),It.setToken(""),An.setToken(""),A("/signin"),l("Logged out successfully"),setTimeout(()=>{l(null)},5e3)},U=async G=>{try{const I=await sO.login(G);return window.localStorage.setItem("loggedAppUser",JSON.stringify(I)),e(I),Gn.setToken(I.token),Ki.setToken(I.token),Rn.setToken(I.token),ko.setToken(I.token),rn.setToken(I.token),It.setToken(I.token),An.setToken(I.token),console.log("Sign In"),A("/"),l("Logged in successfully"),setTimeout(()=>{l(null)},5e3),!0}catch(I){I.status===401?(i("Invalid username or password"),setTimeout(()=>{i(null)},5e3)):I.status===403&&(i("Cannot sign in. Please verify your account first!"),setTimeout(()=>{i(null)},5e3))}},D=async G=>{try{await Gn.resetPass({id:t.id,password:G}),l("Reset password successfully"),setTimeout(()=>{l(null)},5e3)}catch(I){I.response.data.error?I.response.data.error==="Path `password` is required"?i("Password is required!"):I.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):I.status===403?i("Unauthorized!"):console.log(I.response.data.error):console.log(I),setTimeout(()=>{i(null)},5e3)}},V=async G=>{try{return await Gn.forgot(G),l("Check your email for the reset link!"),setTimeout(()=>{l(null)},5e3),!0}catch(I){I.status===404?(i("Email not found"),setTimeout(()=>{i(null)},5e3)):console.log(I)}},Z=async(G,I)=>{try{await Gn.resetEmailPass(G,I),l("Password reset successfully"),setTimeout(()=>{l(null)},5e3)}catch(ae){ae.response.data.error?ae.response.data.error==="Path `password` is required"?i("Password is required!"):ae.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):ae.response.data.error==="Invalid or expired token"?i("Invalid or expired token!"):console.log(ae.response.data.error):console.log(ae.message),setTimeout(()=>{i(null)},5e3)}};return T.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-repeat-y bg-[url('/radiant-combined.svg')] bg-[length:100%]",children:[T.jsx("nav",{className:"bg-white shadow-md",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between h-16 items-center",children:[T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx(ot,{to:"/",className:"flex items-center space-x-2",children:T.jsx("img",{src:"/lville.png",alt:"Logo",className:"h-8 transition-transform duration-200 hover:scale-110"})}),T.jsx(ot,{to:"/",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Home"}),T.jsx(ot,{to:"/events",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Events"}),t&&T.jsxs("div",{className:"relative inline-block text-left group z-2",children:[T.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Meetings"}),T.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:T.jsxs("ul",{className:"py-1",children:[T.jsx("li",{children:T.jsx(ot,{to:"/lineup",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Lineup"})}),((ne=(Q=y.find(G=>G.id===t.id))==null?void 0:Q.teams)==null?void 0:ne.length)>0&&T.jsx("li",{children:T.jsx(ot,{to:"/assigned",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Assigned Tests"})})]})})]}),t&&t.admin&&T.jsxs("div",{className:"relative inline-block text-left group",children:[T.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Tests"}),T.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:T.jsxs("ul",{className:"py-1",children:[T.jsx("li",{children:T.jsx(ot,{to:"/tests",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Test Bank"})}),T.jsx("li",{children:T.jsx(ot,{to:"/tests/create",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Test"})}),T.jsx("li",{children:T.jsx(ot,{to:"/tests/random",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Random Test"})})]})})]})]}),T.jsx("div",{className:"flex space-x-4",children:t?T.jsxs(T.Fragment,{children:[T.jsx(ot,{to:"/settings",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Settings"}),T.jsx("button",{onClick:L,className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-red-600 hover:text-white transition",children:"Logout"})]}):T.jsxs(T.Fragment,{children:[T.jsx(ot,{to:"/signin",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign In"}),T.jsx(ot,{to:"/signup",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign Up"})]})})]})})}),T.jsx("div",{className:"flex-grow pt-6 pb-24",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n&&T.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[T.jsx("strong",{className:"font-bold",children:"Error: "}),T.jsx("span",{className:"block sm:inline",children:n})]}),s&&T.jsxs("div",{className:"mb-4 rounded-md bg-green-100 border border-green-500 text-green-800 px-4 py-3 shadow-md",role:"alert",children:[T.jsx("strong",{className:"font-bold",children:"Notice: "}),T.jsx("span",{className:"block sm:inline",children:s})]}),T.jsxs($w,{children:[T.jsx(Ut,{path:"/",element:T.jsx(xb,{user:t})}),T.jsx(Ut,{path:"/signin",element:T.jsx(Sb,{handleSignIn:U,setError:i})}),T.jsx(Ut,{path:"/signup",element:T.jsx(wb,{handleSignUp:k,setError:i})}),T.jsx(Ut,{path:"/events",element:T.jsx(sE,{user:t,events:c,setEvents:h})}),T.jsx(Ut,{path:"/settings",element:T.jsx(JL,{handleReset:D,user:t,handleLogout:L})}),T.jsx(Ut,{path:"/forgot",element:T.jsx(aE,{handleForgot:V})}),T.jsx(Ut,{path:"/reset",element:T.jsx(YL,{handleEmailReset:Z})}),T.jsx(Ut,{path:"/verify",element:T.jsx(nO,{setError:i,setNotif:l})}),T.jsx(Ut,{path:"/tests",element:T.jsx(pL,{tests:p,events:c,user:t,teams:w,setTests:m})}),T.jsx(Ut,{path:"/tests/create",element:T.jsx(mL,{setNotif:l,events:c,tests:p,setTests:m,setError:i,user:t})}),T.jsx(Ut,{path:"/tests/random",element:T.jsx(yL,{tests:p,questions:x,user:t,events:c,setError:i,setNotif:l,teams:w,setTests:m})}),T.jsx(Ut,{path:"/tests/:id",element:T.jsx(gL,{tests:p,user:t,teams:w,setError:i,setNotif:l,setTests:m})}),T.jsx(Ut,{path:"/lineup",element:T.jsx(bL,{setTeams:R,events:c,users:y,teams:w,user:t})}),T.jsx(Ut,{path:"/assigned",element:T.jsx(LL,{tests:p,user:t,users:y,teams:w})}),T.jsx(Ut,{path:"/assigned/:id",element:T.jsx(jL,{tests:p,user:t,users:y,teams:w,setNotif:l,setError:i,setTests:m})}),T.jsx(Ut,{path:"*",element:T.jsx(iO,{})})]})]})}),T.jsxs("footer",{className:"bg-orange-100 text-orange-700 py-6 text-center text-sm",children:["© ",new Date().getFullYear()," Libertyville High School Science Olympiad"]})]})}QS.createRoot(document.getElementById("root")).render(T.jsx(fb,{children:T.jsx(aO,{})}));
