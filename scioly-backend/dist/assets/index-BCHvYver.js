(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function FS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zS(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}),n}var Yd={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function GS(){if(ty)return Zo;ty=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,a){var c=null;if(a!==void 0&&(c=""+a),o.key!==void 0&&(c=""+o.key),"key"in o){a={};for(var h in o)h!=="key"&&(a[h]=o[h])}else a=o;return o=a.ref,{$$typeof:t,type:i,key:c,ref:o!==void 0?o:null,props:a}}return Zo.Fragment=e,Zo.jsx=n,Zo.jsxs=n,Zo}var ny;function jS(){return ny||(ny=1,Yd.exports=GS()),Yd.exports}var x=jS(),Kd={exports:{}},Xo={},Qd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function HS(){return iy||(iy=1,function(t){function e(K,ae){var j=K.length;K.push(ae);e:for(;0<j;){var B=j-1>>>1,N=K[B];if(0<o(N,ae))K[B]=ae,K[j]=N,j=B;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ae=K[0],j=K.pop();if(j!==ae){K[0]=j;e:for(var B=0,N=K.length,O=N>>>1;B<O;){var L=2*(B+1)-1,X=K[L],oe=L+1,fe=K[oe];if(0>o(X,j))oe<N&&0>o(fe,X)?(K[B]=fe,K[oe]=j,B=oe):(K[B]=X,K[L]=j,B=L);else if(oe<N&&0>o(fe,j))K[B]=fe,K[oe]=j,B=oe;else break e}}return ae}function o(K,ae){var j=K.sortIndex-ae.sortIndex;return j!==0?j:K.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,_=null,T=3,w=!1,b=!1,A=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function D(K){for(var ae=n(m);ae!==null;){if(ae.callback===null)i(m);else if(ae.startTime<=K)i(m),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(m)}}function q(K){if(A=!1,D(K),!b)if(n(p)!==null)b=!0,J||(J=!0,z());else{var ae=n(m);ae!==null&&Ie(q,ae.startTime-K)}}var J=!1,W=-1,re=5,Y=-1;function ee(){return E?!0:!(t.unstable_now()-Y<re)}function se(){if(E=!1,J){var K=t.unstable_now();Y=K;var ae=!0;try{e:{b=!1,A&&(A=!1,I(W),W=-1),w=!0;var j=T;try{t:{for(D(K),_=n(p);_!==null&&!(_.expirationTime>K&&ee());){var B=_.callback;if(typeof B=="function"){_.callback=null,T=_.priorityLevel;var N=B(_.expirationTime<=K);if(K=t.unstable_now(),typeof N=="function"){_.callback=N,D(K),ae=!0;break t}_===n(p)&&i(p),D(K)}else i(p);_=n(p)}if(_!==null)ae=!0;else{var O=n(m);O!==null&&Ie(q,O.startTime-K),ae=!1}}break e}finally{_=null,T=j,w=!1}ae=void 0}}finally{ae?z():J=!1}}}var z;if(typeof U=="function")z=function(){U(se)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Ze=Ue.port2;Ue.port1.onmessage=se,z=function(){Ze.postMessage(null)}}else z=function(){k(se,0)};function Ie(K,ae){W=k(function(){K(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(K){switch(T){case 1:case 2:case 3:var ae=3;break;default:ae=T}var j=T;T=ae;try{return K()}finally{T=j}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var j=T;T=K;try{return ae()}finally{T=j}},t.unstable_scheduleCallback=function(K,ae,j){var B=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?B+j:B):j=B,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=j+N,K={id:y++,callback:ae,priorityLevel:K,startTime:j,expirationTime:N,sortIndex:-1},j>B?(K.sortIndex=j,e(m,K),n(p)===null&&K===n(m)&&(A?(I(W),W=-1):A=!0,Ie(q,j-B))):(K.sortIndex=N,e(p,K),b||w||(b=!0,J||(J=!0,z()))),K},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(K){var ae=T;return function(){var j=T;T=ae;try{return K.apply(this,arguments)}finally{T=j}}}}(Zd)),Zd}var ry;function JS(){return ry||(ry=1,Qd.exports=HS()),Qd.exports}var Xd={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function YS(){if(sy)return Oe;sy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function T(N){return N===null||typeof N!="object"?null:(N=_&&N[_]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function E(N,O,L){this.props=N,this.context=O,this.refs=A,this.updater=L||w}E.prototype.isReactComponent={},E.prototype.setState=function(N,O){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,O,"setState")},E.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function k(){}k.prototype=E.prototype;function I(N,O,L){this.props=N,this.context=O,this.refs=A,this.updater=L||w}var U=I.prototype=new k;U.constructor=I,b(U,E.prototype),U.isPureReactComponent=!0;var D=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function W(N,O,L,X,oe,fe){return L=fe.ref,{$$typeof:t,type:N,key:O,ref:L!==void 0?L:null,props:fe}}function re(N,O){return W(N.type,O,void 0,void 0,void 0,N.props)}function Y(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function ee(N){var O={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(L){return O[L]})}var se=/\/+/g;function z(N,O){return typeof N=="object"&&N!==null&&N.key!=null?ee(""+N.key):O.toString(36)}function Ue(){}function Ze(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Ue,Ue):(N.status="pending",N.then(function(O){N.status==="pending"&&(N.status="fulfilled",N.value=O)},function(O){N.status==="pending"&&(N.status="rejected",N.reason=O)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Ie(N,O,L,X,oe){var fe=typeof N;(fe==="undefined"||fe==="boolean")&&(N=null);var Q=!1;if(N===null)Q=!0;else switch(fe){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(N.$$typeof){case t:case e:Q=!0;break;case y:return Q=N._init,Ie(Q(N._payload),O,L,X,oe)}}if(Q)return oe=oe(N),Q=X===""?"."+z(N,0):X,D(oe)?(L="",Q!=null&&(L=Q.replace(se,"$&/")+"/"),Ie(oe,O,L,"",function(ce){return ce})):oe!=null&&(Y(oe)&&(oe=re(oe,L+(oe.key==null||N&&N.key===oe.key?"":(""+oe.key).replace(se,"$&/")+"/")+Q)),O.push(oe)),1;Q=0;var ue=X===""?".":X+":";if(D(N))for(var de=0;de<N.length;de++)X=N[de],fe=ue+z(X,de),Q+=Ie(X,O,L,fe,oe);else if(de=T(N),typeof de=="function")for(N=de.call(N),de=0;!(X=N.next()).done;)X=X.value,fe=ue+z(X,de++),Q+=Ie(X,O,L,fe,oe);else if(fe==="object"){if(typeof N.then=="function")return Ie(Ze(N),O,L,X,oe);throw O=String(N),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Q}function K(N,O,L){if(N==null)return N;var X=[],oe=0;return Ie(N,X,"","",function(fe){return O.call(L,fe,oe++)}),X}function ae(N){if(N._status===-1){var O=N._result;O=O(),O.then(function(L){(N._status===0||N._status===-1)&&(N._status=1,N._result=L)},function(L){(N._status===0||N._status===-1)&&(N._status=2,N._result=L)}),N._status===-1&&(N._status=0,N._result=O)}if(N._status===1)return N._result.default;throw N._result}var j=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function B(){}return Oe.Children={map:K,forEach:function(N,O,L){K(N,function(){O.apply(this,arguments)},L)},count:function(N){var O=0;return K(N,function(){O++}),O},toArray:function(N){return K(N,function(O){return O})||[]},only:function(N){if(!Y(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Oe.Component=E,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=I,Oe.StrictMode=i,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return q.H.useMemoCache(N)}},Oe.cache=function(N){return function(){return N.apply(null,arguments)}},Oe.cloneElement=function(N,O,L){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var X=b({},N.props),oe=N.key,fe=void 0;if(O!=null)for(Q in O.ref!==void 0&&(fe=void 0),O.key!==void 0&&(oe=""+O.key),O)!J.call(O,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&O.ref===void 0||(X[Q]=O[Q]);var Q=arguments.length-2;if(Q===1)X.children=L;else if(1<Q){for(var ue=Array(Q),de=0;de<Q;de++)ue[de]=arguments[de+2];X.children=ue}return W(N.type,oe,void 0,void 0,fe,X)},Oe.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:a,_context:N},N},Oe.createElement=function(N,O,L){var X,oe={},fe=null;if(O!=null)for(X in O.key!==void 0&&(fe=""+O.key),O)J.call(O,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(oe[X]=O[X]);var Q=arguments.length-2;if(Q===1)oe.children=L;else if(1<Q){for(var ue=Array(Q),de=0;de<Q;de++)ue[de]=arguments[de+2];oe.children=ue}if(N&&N.defaultProps)for(X in Q=N.defaultProps,Q)oe[X]===void 0&&(oe[X]=Q[X]);return W(N,fe,void 0,void 0,null,oe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(N){return{$$typeof:h,render:N}},Oe.isValidElement=Y,Oe.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:ae}},Oe.memo=function(N,O){return{$$typeof:m,type:N,compare:O===void 0?null:O}},Oe.startTransition=function(N){var O=q.T,L={};q.T=L;try{var X=N(),oe=q.S;oe!==null&&oe(L,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(B,j)}catch(fe){j(fe)}finally{q.T=O}},Oe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Oe.use=function(N){return q.H.use(N)},Oe.useActionState=function(N,O,L){return q.H.useActionState(N,O,L)},Oe.useCallback=function(N,O){return q.H.useCallback(N,O)},Oe.useContext=function(N){return q.H.useContext(N)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(N,O){return q.H.useDeferredValue(N,O)},Oe.useEffect=function(N,O,L){var X=q.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(N,O)},Oe.useId=function(){return q.H.useId()},Oe.useImperativeHandle=function(N,O,L){return q.H.useImperativeHandle(N,O,L)},Oe.useInsertionEffect=function(N,O){return q.H.useInsertionEffect(N,O)},Oe.useLayoutEffect=function(N,O){return q.H.useLayoutEffect(N,O)},Oe.useMemo=function(N,O){return q.H.useMemo(N,O)},Oe.useOptimistic=function(N,O){return q.H.useOptimistic(N,O)},Oe.useReducer=function(N,O,L){return q.H.useReducer(N,O,L)},Oe.useRef=function(N){return q.H.useRef(N)},Oe.useState=function(N){return q.H.useState(N)},Oe.useSyncExternalStore=function(N,O,L){return q.H.useSyncExternalStore(N,O,L)},Oe.useTransition=function(){return q.H.useTransition()},Oe.version="19.1.0",Oe}var oy;function Yf(){return oy||(oy=1,Xd.exports=YS()),Xd.exports}var Wd={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function KS(){if(ay)return jt;ay=1;var t=Yf();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,jt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(p,m,null,y)},jt.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},jt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},jt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},jt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:w}):y==="script"&&i.d.X(p,{crossOrigin:_,integrity:T,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},jt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},jt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},jt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},jt.requestFormReset=function(p){i.d.r(p)},jt.unstable_batchedUpdates=function(p,m){return p(m)},jt.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},jt.useFormStatus=function(){return c.H.useHostTransitionStatus()},jt.version="19.1.0",jt}var ly;function QS(){if(ly)return Wd.exports;ly=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wd.exports=KS(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function ZS(){if(uy)return Xo;uy=1;var t=JS(),e=Yf(),n=QS();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(a(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=a(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,f=s;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return h(g),r;if(v===f)return h(g),s;v=v.sibling}throw Error(i(188))}if(l.return!==f.return)l=g,f=v;else{for(var S=!1,C=g.child;C;){if(C===l){S=!0,l=g,f=v;break}if(C===f){S=!0,f=g,l=v;break}C=C.sibling}if(!S){for(C=v.child;C;){if(C===l){S=!0,l=v,f=g;break}if(C===f){S=!0,f=v,l=g;break}C=C.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),U=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var Ue=Symbol.for("react.client.reference");function Ze(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Ue?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case q:return"Suspense";case J:return"SuspenseList";case Y:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case U:return(r.displayName||"Context")+".Provider";case I:return(r._context.displayName||"Context")+".Consumer";case D:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case W:return s=r.displayName||null,s!==null?s:Ze(r.type)||"Memo";case re:s=r._payload,r=r._init;try{return Ze(r(s))}catch{}}return null}var Ie=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},B=[],N=-1;function O(r){return{current:r}}function L(r){0>N||(r.current=B[N],B[N]=null,N--)}function X(r,s){N++,B[N]=r.current,r.current=s}var oe=O(null),fe=O(null),Q=O(null),ue=O(null);function de(r,s){switch(X(Q,s),X(fe,r),X(oe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Rg(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Rg(s),r=kg(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}L(oe),X(oe,r)}function ce(){L(oe),L(fe),L(Q)}function Re(r){r.memoizedState!==null&&X(ue,r);var s=oe.current,l=kg(s,r.type);s!==l&&(X(fe,r),X(oe,l))}function Ee(r){fe.current===r&&(L(oe),L(fe)),ue.current===r&&(L(ue),Ho._currentValue=j)}var Ke=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,Fe=t.unstable_cancelCallback,ze=t.unstable_shouldYield,ke=t.unstable_requestPaint,Pe=t.unstable_now,mt=t.unstable_getCurrentPriorityLevel,xn=t.unstable_ImmediatePriority,ut=t.unstable_UserBlockingPriority,Le=t.unstable_NormalPriority,Xe=t.unstable_LowPriority,pt=t.unstable_IdlePriority,Ot=t.log,ye=t.unstable_setDisableYieldValue,ge=null,_e=null;function Ve(r){if(typeof Ot=="function"&&ye(r),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(ge,r)}catch{}}var vt=Math.clz32?Math.clz32:ka,Ou=Math.log,Ra=Math.LN2;function ka(r){return r>>>=0,r===0?32:31-(Ou(r)/Ra|0)|0}var Kt=256,_n=4194304;function Qt(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function dn(r,s,l){var f=r.pendingLanes;if(f===0)return 0;var g=0,v=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var C=f&134217727;return C!==0?(f=C&~v,f!==0?g=Qt(f):(S&=C,S!==0?g=Qt(S):l||(l=C&~r,l!==0&&(g=Qt(l))))):(C=f&~v,C!==0?g=Qt(C):S!==0?g=Qt(S):l||(l=f&~r,l!==0&&(g=Qt(l)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,l=s&-s,v>=l||v===32&&(l&4194048)!==0)?s:g}function Wt(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function bi(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(){var r=Kt;return Kt<<=1,(Kt&4194048)===0&&(Kt=256),r}function en(){var r=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),r}function Ft(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Wn(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qu(r,s,l,f,g,v){var S=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var C=r.entanglements,M=r.expirationTimes,F=r.hiddenUpdates;for(l=S&~l;0<l;){var te=31-vt(l),ie=1<<te;C[te]=0,M[te]=-1;var G=F[te];if(G!==null)for(F[te]=null,te=0;te<G.length;te++){var H=G[te];H!==null&&(H.lane&=-536870913)}l&=~ie}f!==0&&Ir(r,f,0),v!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=v&~(S&~s))}function Ir(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var f=31-vt(s);r.entangledLanes|=s,r.entanglements[f]=r.entanglements[f]|1073741824|l&4194090}function eo(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var f=31-vt(l),g=1<<f;g&s|r[f]&s&&(r[f]|=s),l&=~g}}function to(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Bu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function gh(){var r=ae.p;return r!==0?r:(r=window.event,r===void 0?32:Kg(r.type))}function M_(r,s){var l=ae.p;try{return ae.p=r,s()}finally{ae.p=l}}var wi=Math.random().toString(36).slice(2),zt="__reactFiber$"+wi,tn="__reactProps$"+wi,Pr="__reactContainer$"+wi,Vu="__reactEvents$"+wi,D_="__reactListeners$"+wi,U_="__reactHandles$"+wi,yh="__reactResources$"+wi,no="__reactMarker$"+wi;function $u(r){delete r[zt],delete r[tn],delete r[Vu],delete r[D_],delete r[U_]}function Lr(r){var s=r[zt];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Pr]||l[zt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Ig(r);r!==null;){if(l=r[zt])return l;r=Ig(r)}return s}r=l,l=r.parentNode}return null}function Or(r){if(r=r[zt]||r[Pr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function io(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function qr(r){var s=r[yh];return s||(s=r[yh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(r){r[no]=!0}var vh=new Set,xh={};function ir(r,s){Br(r,s),Br(r+"Capture",s)}function Br(r,s){for(xh[r]=s,r=0;r<s.length;r++)vh.add(s[r])}var I_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_h={},Th={};function P_(r){return Ke.call(Th,r)?!0:Ke.call(_h,r)?!1:I_.test(r)?Th[r]=!0:(_h[r]=!0,!1)}function Ma(r,s,l){if(P_(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function Da(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function ei(r,s,l,f){if(f===null)r.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+f)}}var Fu,Sh;function Vr(r){if(Fu===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Fu=s&&s[1]||"",Sh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fu+r+Sh}var zu=!1;function Gu(r,s){if(!r||zu)return"";zu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(H){var G=H}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(H){G=H}r.call(ie.prototype)}}else{try{throw Error()}catch(H){G=H}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(H){if(H&&G&&typeof H.stack=="string")return[H.stack,G.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),S=v[0],C=v[1];if(S&&C){var M=S.split(`
`),F=C.split(`
`);for(g=f=0;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(f===M.length||g===F.length)for(f=M.length-1,g=F.length-1;1<=f&&0<=g&&M[f]!==F[g];)g--;for(;1<=f&&0<=g;f--,g--)if(M[f]!==F[g]){if(f!==1||g!==1)do if(f--,g--,0>g||M[f]!==F[g]){var te=`
`+M[f].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=f&&0<=g);break}}}finally{zu=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Vr(l):""}function L_(r){switch(r.tag){case 26:case 27:case 5:return Vr(r.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 15:return Gu(r.type,!1);case 11:return Gu(r.type.render,!1);case 1:return Gu(r.type,!0);case 31:return Vr("Activity");default:return""}}function bh(r){try{var s="";do s+=L_(r),r=r.return;while(r);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Tn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function wh(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function O_(r){var s=wh(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,v.call(this,S)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ua(r){r._valueTracker||(r._valueTracker=O_(r))}function Ch(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return r&&(f=wh(r)?r.checked?"true":"false":r.value),r=f,r!==l?(s.setValue(r),!0):!1}function Ia(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var q_=/[\n"\\]/g;function Sn(r){return r.replace(q_,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ju(r,s,l,f,g,v,S,C){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),s!=null?S==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Tn(s)):r.value!==""+Tn(s)&&(r.value=""+Tn(s)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),s!=null?Hu(r,S,Tn(s)):l!=null?Hu(r,S,Tn(l)):f!=null&&r.removeAttribute("value"),g==null&&v!=null&&(r.defaultChecked=!!v),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+Tn(C):r.removeAttribute("name")}function Eh(r,s,l,f,g,v,S,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),s!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;l=l!=null?""+Tn(l):"",s=s!=null?""+Tn(s):l,C||s===r.value||(r.value=s),r.defaultValue=s}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=C?r.checked:!!f,r.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Hu(r,s,l){s==="number"&&Ia(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function $r(r,s,l,f){if(r=r.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=s.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&f&&(r[l].defaultSelected=!0)}else{for(l=""+Tn(l),s=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}s!==null||r[g].disabled||(s=r[g])}s!==null&&(s.selected=!0)}}function Ah(r,s,l){if(s!=null&&(s=""+Tn(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+Tn(l):""}function Nh(r,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(i(92));if(Ie(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=Tn(s),r.defaultValue=l,f=r.textContent,f===l&&f!==""&&f!==null&&(r.value=f)}function Fr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var B_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rh(r,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":f?r.setProperty(s,l):typeof l!="number"||l===0||B_.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function kh(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var g in s)f=s[g],s.hasOwnProperty(g)&&l[g]!==f&&Rh(r,g,f)}else for(var v in s)s.hasOwnProperty(v)&&Rh(r,v,s[v])}function Ju(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(r){return $_.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Yu=null;function Ku(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var zr=null,Gr=null;function Mh(r){var s=Or(r);if(s&&(r=s.stateNode)){var l=r[tn]||null;e:switch(r=s.stateNode,s.type){case"input":if(ju(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==r&&f.form===r.form){var g=f[tn]||null;if(!g)throw Error(i(90));ju(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===r.form&&Ch(f)}break e;case"textarea":Ah(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&$r(r,!!l.multiple,s,!1)}}}var Qu=!1;function Dh(r,s,l){if(Qu)return r(s,l);Qu=!0;try{var f=r(s);return f}finally{if(Qu=!1,(zr!==null||Gr!==null)&&(_l(),zr&&(s=zr,r=Gr,Gr=zr=null,Mh(s),r)))for(s=0;s<r.length;s++)Mh(r[s])}}function ro(r,s){var l=r.stateNode;if(l===null)return null;var f=l[tn]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=!1;if(ti)try{var so={};Object.defineProperty(so,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Zu=!1}var Ci=null,Xu=null,La=null;function Uh(){if(La)return La;var r,s=Xu,l=s.length,f,g="value"in Ci?Ci.value:Ci.textContent,v=g.length;for(r=0;r<l&&s[r]===g[r];r++);var S=l-r;for(f=1;f<=S&&s[l-f]===g[v-f];f++);return La=g.slice(r,1<f?1-f:void 0)}function Oa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function qa(){return!0}function Ih(){return!1}function nn(r){function s(l,f,g,v,S){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(l=r[C],this[C]=l?l(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?qa:Ih,this.isPropagationStopped=Ih,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qa)},persist:function(){},isPersistent:qa}),s}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=nn(rr),oo=y({},rr,{view:0,detail:0}),F_=nn(oo),Wu,ec,ao,Va=y({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ao&&(ao&&r.type==="mousemove"?(Wu=r.screenX-ao.screenX,ec=r.screenY-ao.screenY):ec=Wu=0,ao=r),Wu)},movementY:function(r){return"movementY"in r?r.movementY:ec}}),Ph=nn(Va),z_=y({},Va,{dataTransfer:0}),G_=nn(z_),j_=y({},oo,{relatedTarget:0}),tc=nn(j_),H_=y({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),J_=nn(H_),Y_=y({},rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),K_=nn(Y_),Q_=y({},rr,{data:0}),Lh=nn(Q_),Z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eT(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=W_[r])?!!s[r]:!1}function nc(){return eT}var tT=y({},oo,{key:function(r){if(r.key){var s=Z_[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Oa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?X_[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(r){return r.type==="keypress"?Oa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Oa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),nT=nn(tT),iT=y({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oh=nn(iT),rT=y({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),sT=nn(rT),oT=y({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),aT=nn(oT),lT=y({},Va,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),uT=nn(lT),cT=y({},rr,{newState:0,oldState:0}),dT=nn(cT),fT=[9,13,27,32],ic=ti&&"CompositionEvent"in window,lo=null;ti&&"documentMode"in document&&(lo=document.documentMode);var hT=ti&&"TextEvent"in window&&!lo,qh=ti&&(!ic||lo&&8<lo&&11>=lo),Bh=" ",Vh=!1;function $h(r,s){switch(r){case"keyup":return fT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jr=!1;function mT(r,s){switch(r){case"compositionend":return Fh(s);case"keypress":return s.which!==32?null:(Vh=!0,Bh);case"textInput":return r=s.data,r===Bh&&Vh?null:r;default:return null}}function pT(r,s){if(jr)return r==="compositionend"||!ic&&$h(r,s)?(r=Uh(),La=Xu=Ci=null,jr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qh&&s.locale!=="ko"?null:s.data;default:return null}}var gT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!gT[r.type]:s==="textarea"}function Gh(r,s,l,f){zr?Gr?Gr.push(f):Gr=[f]:zr=f,s=El(s,"onChange"),0<s.length&&(l=new Ba("onChange","change",null,l,f),r.push({event:l,listeners:s}))}var uo=null,co=null;function yT(r){wg(r,0)}function $a(r){var s=io(r);if(Ch(s))return r}function jh(r,s){if(r==="change")return s}var Hh=!1;if(ti){var rc;if(ti){var sc="oninput"in document;if(!sc){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),sc=typeof Jh.oninput=="function"}rc=sc}else rc=!1;Hh=rc&&(!document.documentMode||9<document.documentMode)}function Yh(){uo&&(uo.detachEvent("onpropertychange",Kh),co=uo=null)}function Kh(r){if(r.propertyName==="value"&&$a(co)){var s=[];Gh(s,co,r,Ku(r)),Dh(yT,s)}}function vT(r,s,l){r==="focusin"?(Yh(),uo=s,co=l,uo.attachEvent("onpropertychange",Kh)):r==="focusout"&&Yh()}function xT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return $a(co)}function _T(r,s){if(r==="click")return $a(s)}function TT(r,s){if(r==="input"||r==="change")return $a(s)}function ST(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var fn=typeof Object.is=="function"?Object.is:ST;function fo(r,s){if(fn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!Ke.call(s,g)||!fn(r[g],s[g]))return!1}return!0}function Qh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Zh(r,s){var l=Qh(r);r=0;for(var f;l;){if(l.nodeType===3){if(f=r+l.textContent.length,r<=s&&f>=s)return{node:l,offset:s-r};r=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qh(l)}}function Xh(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Xh(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Wh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ia(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ia(r.document)}return s}function oc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var bT=ti&&"documentMode"in document&&11>=document.documentMode,Hr=null,ac=null,ho=null,lc=!1;function em(r,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;lc||Hr==null||Hr!==Ia(f)||(f=Hr,"selectionStart"in f&&oc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ho&&fo(ho,f)||(ho=f,f=El(ac,"onSelect"),0<f.length&&(s=new Ba("onSelect","select",null,s,l),r.push({event:s,listeners:f}),s.target=Hr)))}function sr(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Jr={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionrun:sr("Transition","TransitionRun"),transitionstart:sr("Transition","TransitionStart"),transitioncancel:sr("Transition","TransitionCancel"),transitionend:sr("Transition","TransitionEnd")},uc={},tm={};ti&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function or(r){if(uc[r])return uc[r];if(!Jr[r])return r;var s=Jr[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in tm)return uc[r]=s[l];return r}var nm=or("animationend"),im=or("animationiteration"),rm=or("animationstart"),wT=or("transitionrun"),CT=or("transitionstart"),ET=or("transitioncancel"),sm=or("transitionend"),om=new Map,cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cc.push("scrollEnd");function Un(r,s){om.set(r,s),ir(s,[r])}var am=new WeakMap;function bn(r,s){if(typeof r=="object"&&r!==null){var l=am.get(r);return l!==void 0?l:(s={value:r,source:s,stack:bh(s)},am.set(r,s),s)}return{value:r,source:s,stack:bh(s)}}var wn=[],Yr=0,dc=0;function Fa(){for(var r=Yr,s=dc=Yr=0;s<r;){var l=wn[s];wn[s++]=null;var f=wn[s];wn[s++]=null;var g=wn[s];wn[s++]=null;var v=wn[s];if(wn[s++]=null,f!==null&&g!==null){var S=f.pending;S===null?g.next=g:(g.next=S.next,S.next=g),f.pending=g}v!==0&&lm(l,g,v)}}function za(r,s,l,f){wn[Yr++]=r,wn[Yr++]=s,wn[Yr++]=l,wn[Yr++]=f,dc|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function fc(r,s,l,f){return za(r,s,l,f),Ga(r)}function Kr(r,s){return za(r,null,null,s),Ga(r)}function lm(r,s,l){r.lanes|=l;var f=r.alternate;f!==null&&(f.lanes|=l);for(var g=!1,v=r.return;v!==null;)v.childLanes|=l,f=v.alternate,f!==null&&(f.childLanes|=l),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(g=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,g&&s!==null&&(g=31-vt(l),r=v.hiddenUpdates,f=r[g],f===null?r[g]=[s]:f.push(s),s.lane=l|536870912),v):null}function Ga(r){if(50<qo)throw qo=0,vd=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Qr={};function AT(r,s,l,f){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(r,s,l,f){return new AT(r,s,l,f)}function hc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ni(r,s){var l=r.alternate;return l===null?(l=hn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function um(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function ja(r,s,l,f,g,v){var S=0;if(f=r,typeof r=="function")hc(r)&&(S=1);else if(typeof r=="string")S=RS(r,l,oe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Y:return r=hn(31,l,s,g),r.elementType=Y,r.lanes=v,r;case b:return ar(l.children,g,v,s);case A:S=8,g|=24;break;case E:return r=hn(12,l,s,g|2),r.elementType=E,r.lanes=v,r;case q:return r=hn(13,l,s,g),r.elementType=q,r.lanes=v,r;case J:return r=hn(19,l,s,g),r.elementType=J,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:case U:S=10;break e;case I:S=9;break e;case D:S=11;break e;case W:S=14;break e;case re:S=16,f=null;break e}S=29,l=Error(i(130,r===null?"null":typeof r,"")),f=null}return s=hn(S,l,s,g),s.elementType=r,s.type=f,s.lanes=v,s}function ar(r,s,l,f){return r=hn(7,r,f,s),r.lanes=l,r}function mc(r,s,l){return r=hn(6,r,null,s),r.lanes=l,r}function pc(r,s,l){return s=hn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Zr=[],Xr=0,Ha=null,Ja=0,Cn=[],En=0,lr=null,ii=1,ri="";function ur(r,s){Zr[Xr++]=Ja,Zr[Xr++]=Ha,Ha=r,Ja=s}function cm(r,s,l){Cn[En++]=ii,Cn[En++]=ri,Cn[En++]=lr,lr=r;var f=ii;r=ri;var g=32-vt(f)-1;f&=~(1<<g),l+=1;var v=32-vt(s)+g;if(30<v){var S=g-g%5;v=(f&(1<<S)-1).toString(32),f>>=S,g-=S,ii=1<<32-vt(s)+g|l<<g|f,ri=v+r}else ii=1<<v|l<<g|f,ri=r}function gc(r){r.return!==null&&(ur(r,1),cm(r,1,0))}function yc(r){for(;r===Ha;)Ha=Zr[--Xr],Zr[Xr]=null,Ja=Zr[--Xr],Zr[Xr]=null;for(;r===lr;)lr=Cn[--En],Cn[En]=null,ri=Cn[--En],Cn[En]=null,ii=Cn[--En],Cn[En]=null}var Zt=null,_t=null,tt=!1,cr=null,Bn=!1,vc=Error(i(519));function dr(r){var s=Error(i(418,""));throw go(bn(s,r)),vc}function dm(r){var s=r.stateNode,l=r.type,f=r.memoizedProps;switch(s[zt]=r,s[tn]=f,l){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(l=0;l<Vo.length;l++)je(Vo[l],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),Eh(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ua(s);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),Nh(s,f.value,f.defaultValue,f.children),Ua(s)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||Ng(s.textContent,l)?(f.popover!=null&&(je("beforetoggle",s),je("toggle",s)),f.onScroll!=null&&je("scroll",s),f.onScrollEnd!=null&&je("scrollend",s),f.onClick!=null&&(s.onclick=Al),s=!0):s=!1,s||dr(r)}function fm(r){for(Zt=r.return;Zt;)switch(Zt.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Zt=Zt.return}}function mo(r){if(r!==Zt)return!1;if(!tt)return fm(r),tt=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Id(r.type,r.memoizedProps)),l=!l),l&&_t&&dr(r),fm(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(s===0){_t=Pn(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;r=r.nextSibling}_t=null}}else s===27?(s=_t,$i(r.type)?(r=qd,qd=null,_t=r):_t=s):_t=Zt?Pn(r.stateNode.nextSibling):null;return!0}function po(){_t=Zt=null,tt=!1}function hm(){var r=cr;return r!==null&&(on===null?on=r:on.push.apply(on,r),cr=null),r}function go(r){cr===null?cr=[r]:cr.push(r)}var xc=O(null),fr=null,si=null;function Ei(r,s,l){X(xc,s._currentValue),s._currentValue=l}function oi(r){r._currentValue=xc.current,L(xc)}function _c(r,s,l){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===l)break;r=r.return}}function Tc(r,s,l,f){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var v=g.dependencies;if(v!==null){var S=g.child;v=v.firstContext;e:for(;v!==null;){var C=v;v=g;for(var M=0;M<s.length;M++)if(C.context===s[M]){v.lanes|=l,C=v.alternate,C!==null&&(C.lanes|=l),_c(v.return,l,r),f||(S=null);break e}v=C.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(i(341));S.lanes|=l,v=S.alternate,v!==null&&(v.lanes|=l),_c(S,l,r),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===r){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function yo(r,s,l,f){r=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=g.type;fn(g.pendingProps.value,S.value)||(r!==null?r.push(C):r=[C])}}else if(g===ue.current){if(S=g.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Ho):r=[Ho])}g=g.return}r!==null&&Tc(s,r,l,f),s.flags|=262144}function Ya(r){for(r=r.firstContext;r!==null;){if(!fn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function hr(r){fr=r,si=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Gt(r){return mm(fr,r)}function Ka(r,s){return fr===null&&hr(r),mm(r,s)}function mm(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},si===null){if(r===null)throw Error(i(308));si=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else si=si.next=s;return l}var NT=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,f){r.push(f)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},RT=t.unstable_scheduleCallback,kT=t.unstable_NormalPriority,At={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new NT,data:new Map,refCount:0}}function vo(r){r.refCount--,r.refCount===0&&RT(kT,function(){r.controller.abort()})}var xo=null,bc=0,Wr=0,es=null;function MT(r,s){if(xo===null){var l=xo=[];bc=0,Wr=Cd(),es={status:"pending",value:void 0,then:function(f){l.push(f)}}}return bc++,s.then(pm,pm),s}function pm(){if(--bc===0&&xo!==null){es!==null&&(es.status="fulfilled");var r=xo;xo=null,Wr=0,es=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function DT(r,s){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){f.status="fulfilled",f.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var gm=K.S;K.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&MT(r,s),gm!==null&&gm(r,s)};var mr=O(null);function wc(){var r=mr.current;return r!==null?r:dt.pooledCache}function Qa(r,s){s===null?X(mr,mr.current):X(mr,s.pool)}function ym(){var r=wc();return r===null?null:{parent:At._currentValue,pool:r}}var _o=Error(i(460)),vm=Error(i(474)),Za=Error(i(542)),Cc={then:function(){}};function xm(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Xa(){}function _m(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Xa,Xa),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Sm(r),r;default:if(typeof s.status=="string")s.then(Xa,Xa);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(f){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=f}},function(f){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Sm(r),r}throw To=s,_o}}var To=null;function Tm(){if(To===null)throw Error(i(459));var r=To;return To=null,r}function Sm(r){if(r===_o||r===Za)throw Error(i(483))}var Ai=!1;function Ec(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ac(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ni(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ri(r,s,l){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(nt&2)!==0){var g=f.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),f.pending=s,s=Ga(r),lm(r,null,l),s}return za(r,f,s,l),Ga(r)}function So(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=r.pendingLanes,l|=f,s.lanes=l,eo(r,l)}}function Nc(r,s){var l=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?g=v=s:v=v.next=s}else g=v=s;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var Rc=!1;function bo(){if(Rc){var r=es;if(r!==null)throw r}}function wo(r,s,l,f){Rc=!1;var g=r.updateQueue;Ai=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var M=C,F=M.next;M.next=null,S===null?v=F:S.next=F,S=M;var te=r.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==S&&(C===null?te.firstBaseUpdate=F:C.next=F,te.lastBaseUpdate=M))}if(v!==null){var ie=g.baseState;S=0,te=F=M=null,C=v;do{var G=C.lane&-536870913,H=G!==C.lane;if(H?(Qe&G)===G:(f&G)===G){G!==0&&G===Wr&&(Rc=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ce=r,Se=C;G=s;var lt=l;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){ie=Ce.call(lt,ie,G);break e}ie=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,G=typeof Ce=="function"?Ce.call(lt,ie,G):Ce,G==null)break e;ie=y({},ie,G);break e;case 2:Ai=!0}}G=C.callback,G!==null&&(r.flags|=64,H&&(r.flags|=8192),H=g.callbacks,H===null?g.callbacks=[G]:H.push(G))}else H={lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(F=te=H,M=ie):te=te.next=H,S|=G;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;H=C,C=H.next,H.next=null,g.lastBaseUpdate=H,g.shared.pending=null}}while(!0);te===null&&(M=ie),g.baseState=M,g.firstBaseUpdate=F,g.lastBaseUpdate=te,v===null&&(g.shared.lanes=0),Oi|=S,r.lanes=S,r.memoizedState=ie}}function bm(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function wm(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)bm(l[r],s)}var ts=O(null),Wa=O(0);function Cm(r,s){r=hi,X(Wa,r),X(ts,s),hi=r|s.baseLanes}function kc(){X(Wa,hi),X(ts,ts.current)}function Mc(){hi=Wa.current,L(ts),L(Wa)}var ki=0,Be=null,ot=null,wt=null,el=!1,ns=!1,pr=!1,tl=0,Co=0,is=null,UT=0;function St(){throw Error(i(321))}function Dc(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!fn(r[l],s[l]))return!1;return!0}function Uc(r,s,l,f,g,v){return ki=v,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=r===null||r.memoizedState===null?lp:up,pr=!1,v=l(f,g),pr=!1,ns&&(v=Am(s,l,f,g)),Em(r),v}function Em(r){K.H=al;var s=ot!==null&&ot.next!==null;if(ki=0,wt=ot=Be=null,el=!1,Co=0,is=null,s)throw Error(i(300));r===null||Mt||(r=r.dependencies,r!==null&&Ya(r)&&(Mt=!0))}function Am(r,s,l,f){Be=r;var g=0;do{if(ns&&(is=null),Co=0,ns=!1,25<=g)throw Error(i(301));if(g+=1,wt=ot=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}K.H=VT,v=s(l,f)}while(ns);return v}function IT(){var r=K.H,s=r.useState()[0];return s=typeof s.then=="function"?Eo(s):s,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&(Be.flags|=1024),s}function Ic(){var r=tl!==0;return tl=0,r}function Pc(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function Lc(r){if(el){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}el=!1}ki=0,wt=ot=Be=null,ns=!1,Co=tl=0,is=null}function rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Be.memoizedState=wt=r:wt=wt.next=r,wt}function Ct(){if(ot===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var s=wt===null?Be.memoizedState:wt.next;if(s!==null)wt=s,ot=r;else{if(r===null)throw Be.alternate===null?Error(i(467)):Error(i(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},wt===null?Be.memoizedState=wt=r:wt=wt.next=r}return wt}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(r){var s=Co;return Co+=1,is===null&&(is=[]),r=_m(is,r,s),s=Be,(wt===null?s.memoizedState:wt.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?lp:up),r}function nl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Eo(r);if(r.$$typeof===U)return Gt(r)}throw Error(i(438,String(r)))}function qc(r){var s=null,l=Be.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=Be.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Oc(),Be.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),f=0;f<r;f++)l[f]=ee;return s.index++,l}function ai(r,s){return typeof s=="function"?s(r):s}function il(r){var s=Ct();return Bc(s,ot,r)}function Bc(r,s,l){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var g=r.baseQueue,v=f.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}s.baseQueue=g=v,f.pending=null}if(v=r.baseState,g===null)r.memoizedState=v;else{s=g.next;var C=S=null,M=null,F=s,te=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(Qe&ie)===ie:(ki&ie)===ie){var G=F.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===Wr&&(te=!0);else if((ki&G)===G){F=F.next,G===Wr&&(te=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(C=M=ie,S=v):M=M.next=ie,Be.lanes|=G,Oi|=G;ie=F.action,pr&&l(v,ie),v=F.hasEagerState?F.eagerState:l(v,ie)}else G={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(C=M=G,S=v):M=M.next=G,Be.lanes|=ie,Oi|=ie;F=F.next}while(F!==null&&F!==s);if(M===null?S=v:M.next=C,!fn(v,r.memoizedState)&&(Mt=!0,te&&(l=es,l!==null)))throw l;r.memoizedState=v,r.baseState=S,r.baseQueue=M,f.lastRenderedState=v}return g===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Vc(r){var s=Ct(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var f=l.dispatch,g=l.pending,v=s.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do v=r(v,S.action),S=S.next;while(S!==g);fn(v,s.memoizedState)||(Mt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,f]}function Nm(r,s,l){var f=Be,g=Ct(),v=tt;if(v){if(l===void 0)throw Error(i(407));l=l()}else l=s();var S=!fn((ot||g).memoizedState,l);S&&(g.memoizedState=l,Mt=!0),g=g.queue;var C=Mm.bind(null,f,g,r);if(Ao(2048,8,C,[r]),g.getSnapshot!==s||S||wt!==null&&wt.memoizedState.tag&1){if(f.flags|=2048,rs(9,rl(),km.bind(null,f,g,l,s),null),dt===null)throw Error(i(349));v||(ki&124)!==0||Rm(f,s,l)}return l}function Rm(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Be.updateQueue,s===null?(s=Oc(),Be.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function km(r,s,l,f){s.value=l,s.getSnapshot=f,Dm(s)&&Um(r)}function Mm(r,s,l){return l(function(){Dm(s)&&Um(r)})}function Dm(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!fn(r,l)}catch{return!0}}function Um(r){var s=Kr(r,2);s!==null&&vn(s,r,2)}function $c(r){var s=rn();if(typeof r=="function"){var l=r;if(r=l(),pr){Ve(!0);try{l()}finally{Ve(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:r},s}function Im(r,s,l,f){return r.baseState=l,Bc(r,ot,typeof f=="function"?f:ai)}function PT(r,s,l,f,g){if(ol(r))throw Error(i(485));if(r=s.action,r!==null){var v={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};K.T!==null?l(!0):v.isTransition=!1,f(v),l=s.pending,l===null?(v.next=s.pending=v,Pm(s,v)):(v.next=l.next,s.pending=l.next=v)}}function Pm(r,s){var l=s.action,f=s.payload,g=r.state;if(s.isTransition){var v=K.T,S={};K.T=S;try{var C=l(g,f),M=K.S;M!==null&&M(S,C),Lm(r,s,C)}catch(F){Fc(r,s,F)}finally{K.T=v}}else try{v=l(g,f),Lm(r,s,v)}catch(F){Fc(r,s,F)}}function Lm(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Om(r,s,f)},function(f){return Fc(r,s,f)}):Om(r,s,l)}function Om(r,s,l){s.status="fulfilled",s.value=l,qm(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,Pm(r,l)))}function Fc(r,s,l){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,qm(s),s=s.next;while(s!==f)}r.action=null}function qm(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Bm(r,s){return s}function Vm(r,s){if(tt){var l=dt.formState;if(l!==null){e:{var f=Be;if(tt){if(_t){t:{for(var g=_t,v=Bn;g.nodeType!==8;){if(!v){g=null;break t}if(g=Pn(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){_t=Pn(g.nextSibling),f=g.data==="F!";break e}}dr(f)}f=!1}f&&(s=l[0])}}return l=rn(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:s},l.queue=f,l=sp.bind(null,Be,f),f.dispatch=l,f=$c(!1),v=Jc.bind(null,Be,!1,f.queue),f=rn(),g={state:s,dispatch:null,action:r,pending:null},f.queue=g,l=PT.bind(null,Be,g,v,l),g.dispatch=l,f.memoizedState=r,[s,l,!1]}function $m(r){var s=Ct();return Fm(s,ot,r)}function Fm(r,s,l){if(s=Bc(r,s,Bm)[0],r=il(ai)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Eo(s)}catch(S){throw S===_o?Za:S}else f=s;s=Ct();var g=s.queue,v=g.dispatch;return l!==s.memoizedState&&(Be.flags|=2048,rs(9,rl(),LT.bind(null,g,l),null)),[f,v,r]}function LT(r,s){r.action=s}function zm(r){var s=Ct(),l=ot;if(l!==null)return Fm(s,l,r);Ct(),s=s.memoizedState,l=Ct();var f=l.queue.dispatch;return l.memoizedState=r,[s,f,!1]}function rs(r,s,l,f){return r={tag:r,create:l,deps:f,inst:s,next:null},s=Be.updateQueue,s===null&&(s=Oc(),Be.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(f=l.next,l.next=r,r.next=f,s.lastEffect=r),r}function rl(){return{destroy:void 0,resource:void 0}}function Gm(){return Ct().memoizedState}function sl(r,s,l,f){var g=rn();f=f===void 0?null:f,Be.flags|=r,g.memoizedState=rs(1|s,rl(),l,f)}function Ao(r,s,l,f){var g=Ct();f=f===void 0?null:f;var v=g.memoizedState.inst;ot!==null&&f!==null&&Dc(f,ot.memoizedState.deps)?g.memoizedState=rs(s,v,l,f):(Be.flags|=r,g.memoizedState=rs(1|s,v,l,f))}function jm(r,s){sl(8390656,8,r,s)}function Hm(r,s){Ao(2048,8,r,s)}function Jm(r,s){return Ao(4,2,r,s)}function Ym(r,s){return Ao(4,4,r,s)}function Km(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Qm(r,s,l){l=l!=null?l.concat([r]):null,Ao(4,4,Km.bind(null,s,r),l)}function zc(){}function Zm(r,s){var l=Ct();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&Dc(s,f[1])?f[0]:(l.memoizedState=[r,s],r)}function Xm(r,s){var l=Ct();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&Dc(s,f[1]))return f[0];if(f=r(),pr){Ve(!0);try{r()}finally{Ve(!1)}}return l.memoizedState=[f,s],f}function Gc(r,s,l){return l===void 0||(ki&1073741824)!==0?r.memoizedState=s:(r.memoizedState=l,r=tg(),Be.lanes|=r,Oi|=r,l)}function Wm(r,s,l,f){return fn(l,s)?l:ts.current!==null?(r=Gc(r,l,f),fn(r,s)||(Mt=!0),r):(ki&42)===0?(Mt=!0,r.memoizedState=l):(r=tg(),Be.lanes|=r,Oi|=r,s)}function ep(r,s,l,f,g){var v=ae.p;ae.p=v!==0&&8>v?v:8;var S=K.T,C={};K.T=C,Jc(r,!1,s,l);try{var M=g(),F=K.S;if(F!==null&&F(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var te=DT(M,f);No(r,s,te,yn(r))}else No(r,s,f,yn(r))}catch(ie){No(r,s,{then:function(){},status:"rejected",reason:ie},yn())}finally{ae.p=v,K.T=S}}function OT(){}function jc(r,s,l,f){if(r.tag!==5)throw Error(i(476));var g=tp(r).queue;ep(r,g,s,j,l===null?OT:function(){return np(r),l(f)})}function tp(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:j},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function np(r){var s=tp(r).next.queue;No(r,s,{},yn())}function Hc(){return Gt(Ho)}function ip(){return Ct().memoizedState}function rp(){return Ct().memoizedState}function qT(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=yn();r=Ni(l);var f=Ri(s,r,l);f!==null&&(vn(f,s,l),So(f,s,l)),s={cache:Sc()},r.payload=s;return}s=s.return}}function BT(r,s,l){var f=yn();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ol(r)?op(s,l):(l=fc(r,s,l,f),l!==null&&(vn(l,r,f),ap(l,s,f)))}function sp(r,s,l){var f=yn();No(r,s,l,f)}function No(r,s,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ol(r))op(s,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,C=v(S,l);if(g.hasEagerState=!0,g.eagerState=C,fn(C,S))return za(r,s,g,0),dt===null&&Fa(),!1}catch{}finally{}if(l=fc(r,s,g,f),l!==null)return vn(l,r,f),ap(l,s,f),!0}return!1}function Jc(r,s,l,f){if(f={lane:2,revertLane:Cd(),action:f,hasEagerState:!1,eagerState:null,next:null},ol(r)){if(s)throw Error(i(479))}else s=fc(r,l,f,2),s!==null&&vn(s,r,2)}function ol(r){var s=r.alternate;return r===Be||s!==null&&s===Be}function op(r,s){ns=el=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function ap(r,s,l){if((l&4194048)!==0){var f=s.lanes;f&=r.pendingLanes,l|=f,s.lanes=l,eo(r,l)}}var al={readContext:Gt,use:nl,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},lp={readContext:Gt,use:nl,useCallback:function(r,s){return rn().memoizedState=[r,s===void 0?null:s],r},useContext:Gt,useEffect:jm,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,sl(4194308,4,Km.bind(null,s,r),l)},useLayoutEffect:function(r,s){return sl(4194308,4,r,s)},useInsertionEffect:function(r,s){sl(4,2,r,s)},useMemo:function(r,s){var l=rn();s=s===void 0?null:s;var f=r();if(pr){Ve(!0);try{r()}finally{Ve(!1)}}return l.memoizedState=[f,s],f},useReducer:function(r,s,l){var f=rn();if(l!==void 0){var g=l(s);if(pr){Ve(!0);try{l(s)}finally{Ve(!1)}}}else g=s;return f.memoizedState=f.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},f.queue=r,r=r.dispatch=BT.bind(null,Be,r),[f.memoizedState,r]},useRef:function(r){var s=rn();return r={current:r},s.memoizedState=r},useState:function(r){r=$c(r);var s=r.queue,l=sp.bind(null,Be,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:zc,useDeferredValue:function(r,s){var l=rn();return Gc(l,r,s)},useTransition:function(){var r=$c(!1);return r=ep.bind(null,Be,r.queue,!0,!1),rn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var f=Be,g=rn();if(tt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),dt===null)throw Error(i(349));(Qe&124)!==0||Rm(f,s,l)}g.memoizedState=l;var v={value:l,getSnapshot:s};return g.queue=v,jm(Mm.bind(null,f,v,r),[r]),f.flags|=2048,rs(9,rl(),km.bind(null,f,v,l,s),null),l},useId:function(){var r=rn(),s=dt.identifierPrefix;if(tt){var l=ri,f=ii;l=(f&~(1<<32-vt(f)-1)).toString(32)+l,s=""+s+"R"+l,l=tl++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=UT++,s=""+s+"r"+l.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Hc,useFormState:Vm,useActionState:Vm,useOptimistic:function(r){var s=rn();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Jc.bind(null,Be,!0,l),l.dispatch=s,[r,s]},useMemoCache:qc,useCacheRefresh:function(){return rn().memoizedState=qT.bind(null,Be)}},up={readContext:Gt,use:nl,useCallback:Zm,useContext:Gt,useEffect:Hm,useImperativeHandle:Qm,useInsertionEffect:Jm,useLayoutEffect:Ym,useMemo:Xm,useReducer:il,useRef:Gm,useState:function(){return il(ai)},useDebugValue:zc,useDeferredValue:function(r,s){var l=Ct();return Wm(l,ot.memoizedState,r,s)},useTransition:function(){var r=il(ai)[0],s=Ct().memoizedState;return[typeof r=="boolean"?r:Eo(r),s]},useSyncExternalStore:Nm,useId:ip,useHostTransitionStatus:Hc,useFormState:$m,useActionState:$m,useOptimistic:function(r,s){var l=Ct();return Im(l,ot,r,s)},useMemoCache:qc,useCacheRefresh:rp},VT={readContext:Gt,use:nl,useCallback:Zm,useContext:Gt,useEffect:Hm,useImperativeHandle:Qm,useInsertionEffect:Jm,useLayoutEffect:Ym,useMemo:Xm,useReducer:Vc,useRef:Gm,useState:function(){return Vc(ai)},useDebugValue:zc,useDeferredValue:function(r,s){var l=Ct();return ot===null?Gc(l,r,s):Wm(l,ot.memoizedState,r,s)},useTransition:function(){var r=Vc(ai)[0],s=Ct().memoizedState;return[typeof r=="boolean"?r:Eo(r),s]},useSyncExternalStore:Nm,useId:ip,useHostTransitionStatus:Hc,useFormState:zm,useActionState:zm,useOptimistic:function(r,s){var l=Ct();return ot!==null?Im(l,ot,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:qc,useCacheRefresh:rp},ss=null,Ro=0;function ll(r){var s=Ro;return Ro+=1,ss===null&&(ss=[]),_m(ss,r,s)}function ko(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ul(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function cp(r){var s=r._init;return s(r._payload)}function dp(r){function s(V,P){if(r){var $=V.deletions;$===null?(V.deletions=[P],V.flags|=16):$.push(P)}}function l(V,P){if(!r)return null;for(;P!==null;)s(V,P),P=P.sibling;return null}function f(V){for(var P=new Map;V!==null;)V.key!==null?P.set(V.key,V):P.set(V.index,V),V=V.sibling;return P}function g(V,P){return V=ni(V,P),V.index=0,V.sibling=null,V}function v(V,P,$){return V.index=$,r?($=V.alternate,$!==null?($=$.index,$<P?(V.flags|=67108866,P):$):(V.flags|=67108866,P)):(V.flags|=1048576,P)}function S(V){return r&&V.alternate===null&&(V.flags|=67108866),V}function C(V,P,$,ne){return P===null||P.tag!==6?(P=mc($,V.mode,ne),P.return=V,P):(P=g(P,$),P.return=V,P)}function M(V,P,$,ne){var me=$.type;return me===b?te(V,P,$.props.children,ne,$.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===re&&cp(me)===P.type)?(P=g(P,$.props),ko(P,$),P.return=V,P):(P=ja($.type,$.key,$.props,null,V.mode,ne),ko(P,$),P.return=V,P)}function F(V,P,$,ne){return P===null||P.tag!==4||P.stateNode.containerInfo!==$.containerInfo||P.stateNode.implementation!==$.implementation?(P=pc($,V.mode,ne),P.return=V,P):(P=g(P,$.children||[]),P.return=V,P)}function te(V,P,$,ne,me){return P===null||P.tag!==7?(P=ar($,V.mode,ne,me),P.return=V,P):(P=g(P,$),P.return=V,P)}function ie(V,P,$){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=mc(""+P,V.mode,$),P.return=V,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return $=ja(P.type,P.key,P.props,null,V.mode,$),ko($,P),$.return=V,$;case w:return P=pc(P,V.mode,$),P.return=V,P;case re:var ne=P._init;return P=ne(P._payload),ie(V,P,$)}if(Ie(P)||z(P))return P=ar(P,V.mode,$,null),P.return=V,P;if(typeof P.then=="function")return ie(V,ll(P),$);if(P.$$typeof===U)return ie(V,Ka(V,P),$);ul(V,P)}return null}function G(V,P,$,ne){var me=P!==null?P.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return me!==null?null:C(V,P,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return $.key===me?M(V,P,$,ne):null;case w:return $.key===me?F(V,P,$,ne):null;case re:return me=$._init,$=me($._payload),G(V,P,$,ne)}if(Ie($)||z($))return me!==null?null:te(V,P,$,ne,null);if(typeof $.then=="function")return G(V,P,ll($),ne);if($.$$typeof===U)return G(V,P,Ka(V,$),ne);ul(V,$)}return null}function H(V,P,$,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return V=V.get($)||null,C(P,V,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return V=V.get(ne.key===null?$:ne.key)||null,M(P,V,ne,me);case w:return V=V.get(ne.key===null?$:ne.key)||null,F(P,V,ne,me);case re:var $e=ne._init;return ne=$e(ne._payload),H(V,P,$,ne,me)}if(Ie(ne)||z(ne))return V=V.get($)||null,te(P,V,ne,me,null);if(typeof ne.then=="function")return H(V,P,$,ll(ne),me);if(ne.$$typeof===U)return H(V,P,$,Ka(P,ne),me);ul(P,ne)}return null}function Ce(V,P,$,ne){for(var me=null,$e=null,xe=P,we=P=0,Ut=null;xe!==null&&we<$.length;we++){xe.index>we?(Ut=xe,xe=null):Ut=xe.sibling;var We=G(V,xe,$[we],ne);if(We===null){xe===null&&(xe=Ut);break}r&&xe&&We.alternate===null&&s(V,xe),P=v(We,P,we),$e===null?me=We:$e.sibling=We,$e=We,xe=Ut}if(we===$.length)return l(V,xe),tt&&ur(V,we),me;if(xe===null){for(;we<$.length;we++)xe=ie(V,$[we],ne),xe!==null&&(P=v(xe,P,we),$e===null?me=xe:$e.sibling=xe,$e=xe);return tt&&ur(V,we),me}for(xe=f(xe);we<$.length;we++)Ut=H(xe,V,we,$[we],ne),Ut!==null&&(r&&Ut.alternate!==null&&xe.delete(Ut.key===null?we:Ut.key),P=v(Ut,P,we),$e===null?me=Ut:$e.sibling=Ut,$e=Ut);return r&&xe.forEach(function(Hi){return s(V,Hi)}),tt&&ur(V,we),me}function Se(V,P,$,ne){if($==null)throw Error(i(151));for(var me=null,$e=null,xe=P,we=P=0,Ut=null,We=$.next();xe!==null&&!We.done;we++,We=$.next()){xe.index>we?(Ut=xe,xe=null):Ut=xe.sibling;var Hi=G(V,xe,We.value,ne);if(Hi===null){xe===null&&(xe=Ut);break}r&&xe&&Hi.alternate===null&&s(V,xe),P=v(Hi,P,we),$e===null?me=Hi:$e.sibling=Hi,$e=Hi,xe=Ut}if(We.done)return l(V,xe),tt&&ur(V,we),me;if(xe===null){for(;!We.done;we++,We=$.next())We=ie(V,We.value,ne),We!==null&&(P=v(We,P,we),$e===null?me=We:$e.sibling=We,$e=We);return tt&&ur(V,we),me}for(xe=f(xe);!We.done;we++,We=$.next())We=H(xe,V,we,We.value,ne),We!==null&&(r&&We.alternate!==null&&xe.delete(We.key===null?we:We.key),P=v(We,P,we),$e===null?me=We:$e.sibling=We,$e=We);return r&&xe.forEach(function($S){return s(V,$S)}),tt&&ur(V,we),me}function lt(V,P,$,ne){if(typeof $=="object"&&$!==null&&$.type===b&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case T:e:{for(var me=$.key;P!==null;){if(P.key===me){if(me=$.type,me===b){if(P.tag===7){l(V,P.sibling),ne=g(P,$.props.children),ne.return=V,V=ne;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===re&&cp(me)===P.type){l(V,P.sibling),ne=g(P,$.props),ko(ne,$),ne.return=V,V=ne;break e}l(V,P);break}else s(V,P);P=P.sibling}$.type===b?(ne=ar($.props.children,V.mode,ne,$.key),ne.return=V,V=ne):(ne=ja($.type,$.key,$.props,null,V.mode,ne),ko(ne,$),ne.return=V,V=ne)}return S(V);case w:e:{for(me=$.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===$.containerInfo&&P.stateNode.implementation===$.implementation){l(V,P.sibling),ne=g(P,$.children||[]),ne.return=V,V=ne;break e}else{l(V,P);break}else s(V,P);P=P.sibling}ne=pc($,V.mode,ne),ne.return=V,V=ne}return S(V);case re:return me=$._init,$=me($._payload),lt(V,P,$,ne)}if(Ie($))return Ce(V,P,$,ne);if(z($)){if(me=z($),typeof me!="function")throw Error(i(150));return $=me.call($),Se(V,P,$,ne)}if(typeof $.then=="function")return lt(V,P,ll($),ne);if($.$$typeof===U)return lt(V,P,Ka(V,$),ne);ul(V,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,P!==null&&P.tag===6?(l(V,P.sibling),ne=g(P,$),ne.return=V,V=ne):(l(V,P),ne=mc($,V.mode,ne),ne.return=V,V=ne),S(V)):l(V,P)}return function(V,P,$,ne){try{Ro=0;var me=lt(V,P,$,ne);return ss=null,me}catch(xe){if(xe===_o||xe===Za)throw xe;var $e=hn(29,xe,null,V.mode);return $e.lanes=ne,$e.return=V,$e}finally{}}}var os=dp(!0),fp=dp(!1),An=O(null),Vn=null;function Mi(r){var s=r.alternate;X(Nt,Nt.current&1),X(An,r),Vn===null&&(s===null||ts.current!==null||s.memoizedState!==null)&&(Vn=r)}function hp(r){if(r.tag===22){if(X(Nt,Nt.current),X(An,r),Vn===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Vn=r)}}else Di()}function Di(){X(Nt,Nt.current),X(An,An.current)}function li(r){L(An),Vn===r&&(Vn=null),L(Nt)}var Nt=O(0);function cl(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Od(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Yc(r,s,l,f){s=r.memoizedState,l=l(f,s),l=l==null?s:y({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Kc={enqueueSetState:function(r,s,l){r=r._reactInternals;var f=yn(),g=Ni(f);g.payload=s,l!=null&&(g.callback=l),s=Ri(r,g,f),s!==null&&(vn(s,r,f),So(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var f=yn(),g=Ni(f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Ri(r,g,f),s!==null&&(vn(s,r,f),So(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=yn(),f=Ni(l);f.tag=2,s!=null&&(f.callback=s),s=Ri(r,f,l),s!==null&&(vn(s,r,l),So(s,r,l))}};function mp(r,s,l,f,g,v,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,v,S):s.prototype&&s.prototype.isPureReactComponent?!fo(l,f)||!fo(g,v):!0}function pp(r,s,l,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==r&&Kc.enqueueReplaceState(s,s.state,null)}function gr(r,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(r=r.defaultProps){l===s&&(l=y({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}var dl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function gp(r){dl(r)}function yp(r){console.error(r)}function vp(r){dl(r)}function fl(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function xp(r,s,l){try{var f=r.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Qc(r,s,l){return l=Ni(l),l.tag=3,l.payload={element:null},l.callback=function(){fl(r,s)},l}function _p(r){return r=Ni(r),r.tag=3,r}function Tp(r,s,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=f.value;r.payload=function(){return g(v)},r.callback=function(){xp(s,l,f)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){xp(s,l,f),typeof g!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function $T(r,s,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&yo(s,l,g,!0),l=An.current,l!==null){switch(l.tag){case 13:return Vn===null?_d():l.alternate===null&&Tt===0&&(Tt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===Cc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),Sd(r,f,g)),!1;case 22:return l.flags|=65536,f===Cc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),Sd(r,f,g)),!1}throw Error(i(435,l.tag))}return Sd(r,f,g),_d(),!1}if(tt)return s=An.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,f!==vc&&(r=Error(i(422),{cause:f}),go(bn(r,l)))):(f!==vc&&(s=Error(i(423),{cause:f}),go(bn(s,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,f=bn(f,l),g=Qc(r.stateNode,f,g),Nc(r,g),Tt!==4&&(Tt=2)),!1;var v=Error(i(520),{cause:f});if(v=bn(v,l),Oo===null?Oo=[v]:Oo.push(v),Tt!==4&&(Tt=2),s===null)return!0;f=bn(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=Qc(l.stateNode,f,r),Nc(l,r),!1;case 1:if(s=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(qi===null||!qi.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=_p(g),Tp(g,r,l,f),Nc(l,g),!1}l=l.return}while(l!==null);return!1}var Sp=Error(i(461)),Mt=!1;function qt(r,s,l,f){s.child=r===null?fp(s,null,l,f):os(s,r.child,l,f)}function bp(r,s,l,f,g){l=l.render;var v=s.ref;if("ref"in f){var S={};for(var C in f)C!=="ref"&&(S[C]=f[C])}else S=f;return hr(s),f=Uc(r,s,l,S,v,g),C=Ic(),r!==null&&!Mt?(Pc(r,s,g),ui(r,s,g)):(tt&&C&&gc(s),s.flags|=1,qt(r,s,f,g),s.child)}function wp(r,s,l,f,g){if(r===null){var v=l.type;return typeof v=="function"&&!hc(v)&&v.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=v,Cp(r,s,v,f,g)):(r=ja(l.type,null,f,s,s.mode,g),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,!rd(r,g)){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:fo,l(S,f)&&r.ref===s.ref)return ui(r,s,g)}return s.flags|=1,r=ni(v,f),r.ref=s.ref,r.return=s,s.child=r}function Cp(r,s,l,f,g){if(r!==null){var v=r.memoizedProps;if(fo(v,f)&&r.ref===s.ref)if(Mt=!1,s.pendingProps=f=v,rd(r,g))(r.flags&131072)!==0&&(Mt=!0);else return s.lanes=r.lanes,ui(r,s,g)}return Zc(r,s,l,f,g)}function Ep(r,s,l){var f=s.pendingProps,g=f.children,v=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=v!==null?v.baseLanes|l:l,r!==null){for(g=s.child=r.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;s.childLanes=v&~f}else s.childLanes=0,s.child=null;return Ap(r,s,f,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Qa(s,v!==null?v.cachePool:null),v!==null?Cm(s,v):kc(),hp(s);else return s.lanes=s.childLanes=536870912,Ap(r,s,v!==null?v.baseLanes|l:l,l)}else v!==null?(Qa(s,v.cachePool),Cm(s,v),Di(),s.memoizedState=null):(r!==null&&Qa(s,null),kc(),Di());return qt(r,s,g,l),s.child}function Ap(r,s,l,f){var g=wc();return g=g===null?null:{parent:At._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},r!==null&&Qa(s,null),kc(),hp(s),r!==null&&yo(r,s,f,!0),null}function hl(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function Zc(r,s,l,f,g){return hr(s),l=Uc(r,s,l,f,void 0,g),f=Ic(),r!==null&&!Mt?(Pc(r,s,g),ui(r,s,g)):(tt&&f&&gc(s),s.flags|=1,qt(r,s,l,g),s.child)}function Np(r,s,l,f,g,v){return hr(s),s.updateQueue=null,l=Am(s,f,l,g),Em(r),f=Ic(),r!==null&&!Mt?(Pc(r,s,v),ui(r,s,v)):(tt&&f&&gc(s),s.flags|=1,qt(r,s,l,v),s.child)}function Rp(r,s,l,f,g){if(hr(s),s.stateNode===null){var v=Qr,S=l.contextType;typeof S=="object"&&S!==null&&(v=Gt(S)),v=new l(f,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Kc,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=f,v.state=s.memoizedState,v.refs={},Ec(s),S=l.contextType,v.context=typeof S=="object"&&S!==null?Gt(S):Qr,v.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Yc(s,l,S,f),v.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Kc.enqueueReplaceState(v,v.state,null),wo(s,f,v,g),bo(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(r===null){v=s.stateNode;var C=s.memoizedProps,M=gr(l,C);v.props=M;var F=v.context,te=l.contextType;S=Qr,typeof te=="object"&&te!==null&&(S=Gt(te));var ie=l.getDerivedStateFromProps;te=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,te||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||F!==S)&&pp(s,v,f,S),Ai=!1;var G=s.memoizedState;v.state=G,wo(s,f,v,g),bo(),F=s.memoizedState,C||G!==F||Ai?(typeof ie=="function"&&(Yc(s,l,ie,f),F=s.memoizedState),(M=Ai||mp(s,l,M,f,G,F,S))?(te||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=F),v.props=f,v.state=F,v.context=S,f=M):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{v=s.stateNode,Ac(r,s),S=s.memoizedProps,te=gr(l,S),v.props=te,ie=s.pendingProps,G=v.context,F=l.contextType,M=Qr,typeof F=="object"&&F!==null&&(M=Gt(F)),C=l.getDerivedStateFromProps,(F=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==ie||G!==M)&&pp(s,v,f,M),Ai=!1,G=s.memoizedState,v.state=G,wo(s,f,v,g),bo();var H=s.memoizedState;S!==ie||G!==H||Ai||r!==null&&r.dependencies!==null&&Ya(r.dependencies)?(typeof C=="function"&&(Yc(s,l,C,f),H=s.memoizedState),(te=Ai||mp(s,l,te,f,G,H,M)||r!==null&&r.dependencies!==null&&Ya(r.dependencies))?(F||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,H,M),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,H,M)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=H),v.props=f,v.state=H,v.context=M,f=te):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),f=!1)}return v=f,hl(r,s),f=(s.flags&128)!==0,v||f?(v=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,r!==null&&f?(s.child=os(s,r.child,null,g),s.child=os(s,null,l,g)):qt(r,s,l,g),s.memoizedState=v.state,r=s.child):r=ui(r,s,g),r}function kp(r,s,l,f){return po(),s.flags|=256,qt(r,s,l,f),s.child}var Xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wc(r){return{baseLanes:r,cachePool:ym()}}function ed(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Nn),r}function Mp(r,s,l){var f=s.pendingProps,g=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=r!==null&&r.memoizedState===null?!1:(Nt.current&2)!==0),S&&(g=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,r===null){if(tt){if(g?Mi(s):Di(),tt){var C=_t,M;if(M=C){e:{for(M=C,C=Bn;M.nodeType!==8;){if(!C){C=null;break e}if(M=Pn(M.nextSibling),M===null){C=null;break e}}C=M}C!==null?(s.memoizedState={dehydrated:C,treeContext:lr!==null?{id:ii,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},M=hn(18,null,null,0),M.stateNode=C,M.return=s,s.child=M,Zt=s,_t=null,M=!0):M=!1}M||dr(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Od(C)?s.lanes=32:s.lanes=536870912,null;li(s)}return C=f.children,f=f.fallback,g?(Di(),g=s.mode,C=ml({mode:"hidden",children:C},g),f=ar(f,g,l,null),C.return=s,f.return=s,C.sibling=f,s.child=C,g=s.child,g.memoizedState=Wc(l),g.childLanes=ed(r,S,l),s.memoizedState=Xc,f):(Mi(s),td(s,C))}if(M=r.memoizedState,M!==null&&(C=M.dehydrated,C!==null)){if(v)s.flags&256?(Mi(s),s.flags&=-257,s=nd(r,s,l)):s.memoizedState!==null?(Di(),s.child=r.child,s.flags|=128,s=null):(Di(),g=f.fallback,C=s.mode,f=ml({mode:"visible",children:f.children},C),g=ar(g,C,l,null),g.flags|=2,f.return=s,g.return=s,f.sibling=g,s.child=f,os(s,r.child,null,l),f=s.child,f.memoizedState=Wc(l),f.childLanes=ed(r,S,l),s.memoizedState=Xc,s=g);else if(Mi(s),Od(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var F=S.dgst;S=F,f=Error(i(419)),f.stack="",f.digest=S,go({value:f,source:null,stack:null}),s=nd(r,s,l)}else if(Mt||yo(r,s,l,!1),S=(l&r.childLanes)!==0,Mt||S){if(S=dt,S!==null&&(f=l&-l,f=(f&42)!==0?1:to(f),f=(f&(S.suspendedLanes|l))!==0?0:f,f!==0&&f!==M.retryLane))throw M.retryLane=f,Kr(r,f),vn(S,r,f),Sp;C.data==="$?"||_d(),s=nd(r,s,l)}else C.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=M.treeContext,_t=Pn(C.nextSibling),Zt=s,tt=!0,cr=null,Bn=!1,r!==null&&(Cn[En++]=ii,Cn[En++]=ri,Cn[En++]=lr,ii=r.id,ri=r.overflow,lr=s),s=td(s,f.children),s.flags|=4096);return s}return g?(Di(),g=f.fallback,C=s.mode,M=r.child,F=M.sibling,f=ni(M,{mode:"hidden",children:f.children}),f.subtreeFlags=M.subtreeFlags&65011712,F!==null?g=ni(F,g):(g=ar(g,C,l,null),g.flags|=2),g.return=s,f.return=s,f.sibling=g,s.child=f,f=g,g=s.child,C=r.child.memoizedState,C===null?C=Wc(l):(M=C.cachePool,M!==null?(F=At._currentValue,M=M.parent!==F?{parent:F,pool:F}:M):M=ym(),C={baseLanes:C.baseLanes|l,cachePool:M}),g.memoizedState=C,g.childLanes=ed(r,S,l),s.memoizedState=Xc,f):(Mi(s),l=r.child,r=l.sibling,l=ni(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,r!==null&&(S=s.deletions,S===null?(s.deletions=[r],s.flags|=16):S.push(r)),s.child=l,s.memoizedState=null,l)}function td(r,s){return s=ml({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function ml(r,s){return r=hn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function nd(r,s,l){return os(s,r.child,null,l),r=td(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Dp(r,s,l){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),_c(r.return,s,l)}function id(r,s,l,f,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=l,v.tailMode=g)}function Up(r,s,l){var f=s.pendingProps,g=f.revealOrder,v=f.tail;if(qt(r,s,f.children,l),f=Nt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Dp(r,l,s);else if(r.tag===19)Dp(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(X(Nt,f),g){case"forwards":for(l=s.child,g=null;l!==null;)r=l.alternate,r!==null&&cl(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),id(s,!1,g,l,v);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(r=g.alternate,r!==null&&cl(r)===null){s.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}id(s,!0,l,null,v);break;case"together":id(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ui(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Oi|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(yo(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=ni(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=ni(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function rd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Ya(r)))}function FT(r,s,l){switch(s.tag){case 3:de(s,s.stateNode.containerInfo),Ei(s,At,r.memoizedState.cache),po();break;case 27:case 5:Re(s);break;case 4:de(s,s.stateNode.containerInfo);break;case 10:Ei(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Mi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Mp(r,s,l):(Mi(s),r=ui(r,s,l),r!==null?r.sibling:null);Mi(s);break;case 19:var g=(r.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(yo(r,s,l,!1),f=(l&s.childLanes)!==0),g){if(f)return Up(r,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),X(Nt,Nt.current),f)break;return null;case 22:case 23:return s.lanes=0,Ep(r,s,l);case 24:Ei(s,At,r.memoizedState.cache)}return ui(r,s,l)}function Ip(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)Mt=!0;else{if(!rd(r,l)&&(s.flags&128)===0)return Mt=!1,FT(r,s,l);Mt=(r.flags&131072)!==0}else Mt=!1,tt&&(s.flags&1048576)!==0&&cm(s,Ja,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var f=s.elementType,g=f._init;if(f=g(f._payload),s.type=f,typeof f=="function")hc(f)?(r=gr(f,r),s.tag=1,s=Rp(null,s,f,r,l)):(s.tag=0,s=Zc(null,s,f,r,l));else{if(f!=null){if(g=f.$$typeof,g===D){s.tag=11,s=bp(null,s,f,r,l);break e}else if(g===W){s.tag=14,s=wp(null,s,f,r,l);break e}}throw s=Ze(f)||f,Error(i(306,s,""))}}return s;case 0:return Zc(r,s,s.type,s.pendingProps,l);case 1:return f=s.type,g=gr(f,s.pendingProps),Rp(r,s,f,g,l);case 3:e:{if(de(s,s.stateNode.containerInfo),r===null)throw Error(i(387));f=s.pendingProps;var v=s.memoizedState;g=v.element,Ac(r,s),wo(s,f,null,l);var S=s.memoizedState;if(f=S.cache,Ei(s,At,f),f!==v.cache&&Tc(s,[At],l,!0),bo(),f=S.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=kp(r,s,f,l);break e}else if(f!==g){g=bn(Error(i(424)),s),go(g),s=kp(r,s,f,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(_t=Pn(r.firstChild),Zt=s,tt=!0,cr=null,Bn=!0,l=fp(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(po(),f===g){s=ui(r,s,l);break e}qt(r,s,f,l)}s=s.child}return s;case 26:return hl(r,s),r===null?(l=qg(s.type,null,s.pendingProps,null))?s.memoizedState=l:tt||(l=s.type,r=s.pendingProps,f=Nl(Q.current).createElement(l),f[zt]=s,f[tn]=r,Vt(f,l,r),kt(f),s.stateNode=f):s.memoizedState=qg(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Re(s),r===null&&tt&&(f=s.stateNode=Pg(s.type,s.pendingProps,Q.current),Zt=s,Bn=!0,g=_t,$i(s.type)?(qd=g,_t=Pn(f.firstChild)):_t=g),qt(r,s,s.pendingProps.children,l),hl(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&tt&&((g=f=_t)&&(f=gS(f,s.type,s.pendingProps,Bn),f!==null?(s.stateNode=f,Zt=s,_t=Pn(f.firstChild),Bn=!1,g=!0):g=!1),g||dr(s)),Re(s),g=s.type,v=s.pendingProps,S=r!==null?r.memoizedProps:null,f=v.children,Id(g,v)?f=null:S!==null&&Id(g,S)&&(s.flags|=32),s.memoizedState!==null&&(g=Uc(r,s,IT,null,null,l),Ho._currentValue=g),hl(r,s),qt(r,s,f,l),s.child;case 6:return r===null&&tt&&((r=l=_t)&&(l=yS(l,s.pendingProps,Bn),l!==null?(s.stateNode=l,Zt=s,_t=null,r=!0):r=!1),r||dr(s)),null;case 13:return Mp(r,s,l);case 4:return de(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=os(s,null,f,l):qt(r,s,f,l),s.child;case 11:return bp(r,s,s.type,s.pendingProps,l);case 7:return qt(r,s,s.pendingProps,l),s.child;case 8:return qt(r,s,s.pendingProps.children,l),s.child;case 12:return qt(r,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,Ei(s,s.type,f.value),qt(r,s,f.children,l),s.child;case 9:return g=s.type._context,f=s.pendingProps.children,hr(s),g=Gt(g),f=f(g),s.flags|=1,qt(r,s,f,l),s.child;case 14:return wp(r,s,s.type,s.pendingProps,l);case 15:return Cp(r,s,s.type,s.pendingProps,l);case 19:return Up(r,s,l);case 31:return f=s.pendingProps,l=s.mode,f={mode:f.mode,children:f.children},r===null?(l=ml(f,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=ni(r.child,f),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Ep(r,s,l);case 24:return hr(s),f=Gt(At),r===null?(g=wc(),g===null&&(g=dt,v=Sc(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),s.memoizedState={parent:f,cache:g},Ec(s),Ei(s,At,g)):((r.lanes&l)!==0&&(Ac(r,s),wo(s,null,null,l),bo()),g=r.memoizedState,v=s.memoizedState,g.parent!==f?(g={parent:f,cache:f},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Ei(s,At,f)):(f=v.cache,Ei(s,At,f),f!==g.cache&&Tc(s,[At],l,!0))),qt(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ci(r){r.flags|=4}function Pp(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!zg(s)){if(s=An.current,s!==null&&((Qe&4194048)===Qe?Vn!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||s!==Vn))throw To=Cc,vm;r.flags|=8192}}function pl(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?en():536870912,r.lanes|=s,cs|=s)}function Mo(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function xt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,f=0;if(s)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=l,s}function zT(r,s,l){var f=s.pendingProps;switch(yc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(s),null;case 1:return xt(s),null;case 3:return l=s.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),oi(At),ce(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(mo(s)?ci(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hm())),xt(s),null;case 26:return l=s.memoizedState,r===null?(ci(s),l!==null?(xt(s),Pp(s,l)):(xt(s),s.flags&=-16777217)):l?l!==r.memoizedState?(ci(s),xt(s),Pp(s,l)):(xt(s),s.flags&=-16777217):(r.memoizedProps!==f&&ci(s),xt(s),s.flags&=-16777217),null;case 27:Ee(s),l=Q.current;var g=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==f&&ci(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return xt(s),null}r=oe.current,mo(s)?dm(s):(r=Pg(g,f,l),s.stateNode=r,ci(s))}return xt(s),null;case 5:if(Ee(s),l=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==f&&ci(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return xt(s),null}if(r=oe.current,mo(s))dm(s);else{switch(g=Nl(Q.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}r[zt]=s,r[tn]=f;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=r;e:switch(Vt(r,l,f),l){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ci(s)}}return xt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==f&&ci(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(r=Q.current,mo(s)){if(r=s.stateNode,l=s.memoizedProps,f=null,g=Zt,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}r[zt]=s,r=!!(r.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Ng(r.nodeValue,l)),r||dr(s)}else r=Nl(r).createTextNode(f),r[zt]=s,s.stateNode=r}return xt(s),null;case 13:if(f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=mo(s),f!==null&&f.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[zt]=s}else po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),g=!1}else g=hm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(li(s),s):(li(s),null)}if(li(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=f!==null,r=r!==null&&r.memoizedState!==null,l){f=s.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==g&&(f.flags|=2048)}return l!==r&&l&&(s.child.flags|=8192),pl(s,s.updateQueue),xt(s),null;case 4:return ce(),r===null&&Rd(s.stateNode.containerInfo),xt(s),null;case 10:return oi(s.type),xt(s),null;case 19:if(L(Nt),g=s.memoizedState,g===null)return xt(s),null;if(f=(s.flags&128)!==0,v=g.rendering,v===null)if(f)Mo(g,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(v=cl(r),v!==null){for(s.flags|=128,Mo(g,!1),r=v.updateQueue,s.updateQueue=r,pl(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)um(l,r),l=l.sibling;return X(Nt,Nt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Pe()>vl&&(s.flags|=128,f=!0,Mo(g,!1),s.lanes=4194304)}else{if(!f)if(r=cl(v),r!==null){if(s.flags|=128,f=!0,r=r.updateQueue,s.updateQueue=r,pl(s,r),Mo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!tt)return xt(s),null}else 2*Pe()-g.renderingStartTime>vl&&l!==536870912&&(s.flags|=128,f=!0,Mo(g,!1),s.lanes=4194304);g.isBackwards?(v.sibling=s.child,s.child=v):(r=g.last,r!==null?r.sibling=v:s.child=v,g.last=v)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Pe(),s.sibling=null,r=Nt.current,X(Nt,f?r&1|2:r&1),s):(xt(s),null);case 22:case 23:return li(s),Mc(),f=s.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(xt(s),s.subtreeFlags&6&&(s.flags|=8192)):xt(s),l=s.updateQueue,l!==null&&pl(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),r!==null&&L(mr),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),oi(At),xt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function GT(r,s){switch(yc(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return oi(At),ce(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ee(s),null;case 13:if(li(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));po()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return L(Nt),null;case 4:return ce(),null;case 10:return oi(s.type),null;case 22:case 23:return li(s),Mc(),r!==null&&L(mr),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return oi(At),null;case 25:return null;default:return null}}function Lp(r,s){switch(yc(s),s.tag){case 3:oi(At),ce();break;case 26:case 27:case 5:Ee(s);break;case 4:ce();break;case 13:li(s);break;case 19:L(Nt);break;case 10:oi(s.type);break;case 22:case 23:li(s),Mc(),r!==null&&L(mr);break;case 24:oi(At)}}function Do(r,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&r)===r){f=void 0;var v=l.create,S=l.inst;f=v(),S.destroy=f}l=l.next}while(l!==g)}}catch(C){ct(s,s.return,C)}}function Ui(r,s,l){try{var f=s.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&r)===r){var S=f.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,g=s;var M=l,F=C;try{F()}catch(te){ct(g,M,te)}}}f=f.next}while(f!==v)}}catch(te){ct(s,s.return,te)}}function Op(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{wm(s,l)}catch(f){ct(r,r.return,f)}}}function qp(r,s,l){l.props=gr(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(f){ct(r,s,f)}}function Uo(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof l=="function"?r.refCleanup=l(f):l.current=f}}catch(g){ct(r,s,g)}}function $n(r,s){var l=r.ref,f=r.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){ct(r,s,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ct(r,s,g)}else l.current=null}function Bp(r){var s=r.type,l=r.memoizedProps,f=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){ct(r,r.return,g)}}function sd(r,s,l){try{var f=r.stateNode;dS(f,r.type,l,s),f[tn]=s}catch(g){ct(r,r.return,g)}}function Vp(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&$i(r.type)||r.tag===4}function od(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Vp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&$i(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ad(r,s,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Al));else if(f!==4&&(f===27&&$i(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(ad(r,s,l),r=r.sibling;r!==null;)ad(r,s,l),r=r.sibling}function gl(r,s,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(f!==4&&(f===27&&$i(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(gl(r,s,l),r=r.sibling;r!==null;)gl(r,s,l),r=r.sibling}function $p(r){var s=r.stateNode,l=r.memoizedProps;try{for(var f=r.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Vt(s,f,l),s[zt]=r,s[tn]=l}catch(v){ct(r,r.return,v)}}var di=!1,bt=!1,ld=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function jT(r,s){if(r=r.containerInfo,Dd=Il,r=Wh(r),oc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,C=-1,M=-1,F=0,te=0,ie=r,G=null;t:for(;;){for(var H;ie!==l||g!==0&&ie.nodeType!==3||(C=S+g),ie!==v||f!==0&&ie.nodeType!==3||(M=S+f),ie.nodeType===3&&(S+=ie.nodeValue.length),(H=ie.firstChild)!==null;)G=ie,ie=H;for(;;){if(ie===r)break t;if(G===l&&++F===g&&(C=S),G===v&&++te===f&&(M=S),(H=ie.nextSibling)!==null)break;ie=G,G=ie.parentNode}ie=H}l=C===-1||M===-1?null:{start:C,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ud={focusedElem:r,selectionRange:l},Il=!1,Dt=s;Dt!==null;)if(s=Dt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Dt=r;else for(;Dt!==null;){switch(s=Dt,v=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,l=s,g=v.memoizedProps,v=v.memoizedState,f=l.stateNode;try{var Ce=gr(l.type,g,l.elementType===l.type);r=f.getSnapshotBeforeUpdate(Ce,v),f.__reactInternalSnapshotBeforeUpdate=r}catch(Se){ct(l,l.return,Se)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)Ld(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ld(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Dt=r;break}Dt=s.return}}function zp(r,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Ii(r,l),f&4&&Do(5,l);break;case 1:if(Ii(r,l),f&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(S){ct(l,l.return,S)}else{var g=gr(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(g,s,r.__reactInternalSnapshotBeforeUpdate)}catch(S){ct(l,l.return,S)}}f&64&&Op(l),f&512&&Uo(l,l.return);break;case 3:if(Ii(r,l),f&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{wm(r,s)}catch(S){ct(l,l.return,S)}}break;case 27:s===null&&f&4&&$p(l);case 26:case 5:Ii(r,l),s===null&&f&4&&Bp(l),f&512&&Uo(l,l.return);break;case 12:Ii(r,l);break;case 13:Ii(r,l),f&4&&Hp(r,l),f&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=eS.bind(null,l),vS(r,l))));break;case 22:if(f=l.memoizedState!==null||di,!f){s=s!==null&&s.memoizedState!==null||bt,g=di;var v=bt;di=f,(bt=s)&&!v?Pi(r,l,(l.subtreeFlags&8772)!==0):Ii(r,l),di=g,bt=v}break;case 30:break;default:Ii(r,l)}}function Gp(r){var s=r.alternate;s!==null&&(r.alternate=null,Gp(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&$u(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var gt=null,sn=!1;function fi(r,s,l){for(l=l.child;l!==null;)jp(r,s,l),l=l.sibling}function jp(r,s,l){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(ge,l)}catch{}switch(l.tag){case 26:bt||$n(l,s),fi(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:bt||$n(l,s);var f=gt,g=sn;$i(l.type)&&(gt=l.stateNode,sn=!1),fi(r,s,l),Fo(l.stateNode),gt=f,sn=g;break;case 5:bt||$n(l,s);case 6:if(f=gt,g=sn,gt=null,fi(r,s,l),gt=f,sn=g,gt!==null)if(sn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(l.stateNode)}catch(v){ct(l,s,v)}else try{gt.removeChild(l.stateNode)}catch(v){ct(l,s,v)}break;case 18:gt!==null&&(sn?(r=gt,Ug(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Qo(r)):Ug(gt,l.stateNode));break;case 4:f=gt,g=sn,gt=l.stateNode.containerInfo,sn=!0,fi(r,s,l),gt=f,sn=g;break;case 0:case 11:case 14:case 15:bt||Ui(2,l,s),bt||Ui(4,l,s),fi(r,s,l);break;case 1:bt||($n(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&qp(l,s,f)),fi(r,s,l);break;case 21:fi(r,s,l);break;case 22:bt=(f=bt)||l.memoizedState!==null,fi(r,s,l),bt=f;break;default:fi(r,s,l)}}function Hp(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Qo(r)}catch(l){ct(s,s.return,l)}}function HT(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Fp),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Fp),s;default:throw Error(i(435,r.tag))}}function ud(r,s){var l=HT(r);s.forEach(function(f){var g=tS.bind(null,r,f);l.has(f)||(l.add(f),f.then(g,g))})}function mn(r,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],v=r,S=s,C=S;e:for(;C!==null;){switch(C.tag){case 27:if($i(C.type)){gt=C.stateNode,sn=!1;break e}break;case 5:gt=C.stateNode,sn=!1;break e;case 3:case 4:gt=C.stateNode.containerInfo,sn=!0;break e}C=C.return}if(gt===null)throw Error(i(160));jp(v,S,g),gt=null,sn=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Jp(s,r),s=s.sibling}var In=null;function Jp(r,s){var l=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:mn(s,r),pn(r),f&4&&(Ui(3,r,r.return),Do(3,r),Ui(5,r,r.return));break;case 1:mn(s,r),pn(r),f&512&&(bt||l===null||$n(l,l.return)),f&64&&di&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=In;if(mn(s,r),pn(r),f&512&&(bt||l===null||$n(l,l.return)),f&4){var v=l!==null?l.memoizedState:null;if(f=r.memoizedState,l===null)if(f===null)if(r.stateNode===null){e:{f=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":v=g.getElementsByTagName("title")[0],(!v||v[no]||v[zt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(f),g.head.insertBefore(v,g.querySelector("head > title"))),Vt(v,f,l),v[zt]=r,kt(v),f=v;break e;case"link":var S=$g("link","href",g).get(f+(l.href||""));if(S){for(var C=0;C<S.length;C++)if(v=S[C],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(C,1);break t}}v=g.createElement(f),Vt(v,f,l),g.head.appendChild(v);break;case"meta":if(S=$g("meta","content",g).get(f+(l.content||""))){for(C=0;C<S.length;C++)if(v=S[C],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(C,1);break t}}v=g.createElement(f),Vt(v,f,l),g.head.appendChild(v);break;default:throw Error(i(468,f))}v[zt]=r,kt(v),f=v}r.stateNode=f}else Fg(g,r.type,r.stateNode);else r.stateNode=Vg(g,f,r.memoizedProps);else v!==f?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,f===null?Fg(g,r.type,r.stateNode):Vg(g,f,r.memoizedProps)):f===null&&r.stateNode!==null&&sd(r,r.memoizedProps,l.memoizedProps)}break;case 27:mn(s,r),pn(r),f&512&&(bt||l===null||$n(l,l.return)),l!==null&&f&4&&sd(r,r.memoizedProps,l.memoizedProps);break;case 5:if(mn(s,r),pn(r),f&512&&(bt||l===null||$n(l,l.return)),r.flags&32){g=r.stateNode;try{Fr(g,"")}catch(H){ct(r,r.return,H)}}f&4&&r.stateNode!=null&&(g=r.memoizedProps,sd(r,g,l!==null?l.memoizedProps:g)),f&1024&&(ld=!0);break;case 6:if(mn(s,r),pn(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,l=r.stateNode;try{l.nodeValue=f}catch(H){ct(r,r.return,H)}}break;case 3:if(Ml=null,g=In,In=Rl(s.containerInfo),mn(s,r),In=g,pn(r),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Qo(s.containerInfo)}catch(H){ct(r,r.return,H)}ld&&(ld=!1,Yp(r));break;case 4:f=In,In=Rl(r.stateNode.containerInfo),mn(s,r),pn(r),In=f;break;case 12:mn(s,r),pn(r);break;case 13:mn(s,r),pn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(pd=Pe()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,ud(r,f)));break;case 22:g=r.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,F=di,te=bt;if(di=F||g,bt=te||M,mn(s,r),bt=te,di=F,pn(r),f&8192)e:for(s=r.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||M||di||bt||yr(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){M=l=s;try{if(v=M.stateNode,g)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=M.stateNode;var ie=M.memoizedProps.style,G=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;C.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(H){ct(M,M.return,H)}}}else if(s.tag===6){if(l===null){M=s;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(H){ct(M,M.return,H)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=r.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,ud(r,l))));break;case 19:mn(s,r),pn(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,ud(r,f)));break;case 30:break;case 21:break;default:mn(s,r),pn(r)}}function pn(r){var s=r.flags;if(s&2){try{for(var l,f=r.return;f!==null;){if(Vp(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,v=od(r);gl(r,v,g);break;case 5:var S=l.stateNode;l.flags&32&&(Fr(S,""),l.flags&=-33);var C=od(r);gl(r,C,S);break;case 3:case 4:var M=l.stateNode.containerInfo,F=od(r);ad(r,F,M);break;default:throw Error(i(161))}}catch(te){ct(r,r.return,te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Yp(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Yp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ii(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)zp(r,s.alternate,s),s=s.sibling}function yr(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ui(4,s,s.return),yr(s);break;case 1:$n(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&qp(s,s.return,l),yr(s);break;case 27:Fo(s.stateNode);case 26:case 5:$n(s,s.return),yr(s);break;case 22:s.memoizedState===null&&yr(s);break;case 30:yr(s);break;default:yr(s)}r=r.sibling}}function Pi(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,g=r,v=s,S=v.flags;switch(v.tag){case 0:case 11:case 15:Pi(g,v,l),Do(4,v);break;case 1:if(Pi(g,v,l),f=v,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){ct(f,f.return,F)}if(f=v,g=f.updateQueue,g!==null){var C=f.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)bm(M[g],C)}catch(F){ct(f,f.return,F)}}l&&S&64&&Op(v),Uo(v,v.return);break;case 27:$p(v);case 26:case 5:Pi(g,v,l),l&&f===null&&S&4&&Bp(v),Uo(v,v.return);break;case 12:Pi(g,v,l);break;case 13:Pi(g,v,l),l&&S&4&&Hp(g,v);break;case 22:v.memoizedState===null&&Pi(g,v,l),Uo(v,v.return);break;case 30:break;default:Pi(g,v,l)}s=s.sibling}}function cd(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&vo(l))}function dd(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&vo(r))}function Fn(r,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Kp(r,s,l,f),s=s.sibling}function Kp(r,s,l,f){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Fn(r,s,l,f),g&2048&&Do(9,s);break;case 1:Fn(r,s,l,f);break;case 3:Fn(r,s,l,f),g&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&vo(r)));break;case 12:if(g&2048){Fn(r,s,l,f),r=s.stateNode;try{var v=s.memoizedProps,S=v.id,C=v.onPostCommit;typeof C=="function"&&C(S,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){ct(s,s.return,M)}}else Fn(r,s,l,f);break;case 13:Fn(r,s,l,f);break;case 23:break;case 22:v=s.stateNode,S=s.alternate,s.memoizedState!==null?v._visibility&2?Fn(r,s,l,f):Io(r,s):v._visibility&2?Fn(r,s,l,f):(v._visibility|=2,as(r,s,l,f,(s.subtreeFlags&10256)!==0)),g&2048&&cd(S,s);break;case 24:Fn(r,s,l,f),g&2048&&dd(s.alternate,s);break;default:Fn(r,s,l,f)}}function as(r,s,l,f,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=r,S=s,C=l,M=f,F=S.flags;switch(S.tag){case 0:case 11:case 15:as(v,S,C,M,g),Do(8,S);break;case 23:break;case 22:var te=S.stateNode;S.memoizedState!==null?te._visibility&2?as(v,S,C,M,g):Io(v,S):(te._visibility|=2,as(v,S,C,M,g)),g&&F&2048&&cd(S.alternate,S);break;case 24:as(v,S,C,M,g),g&&F&2048&&dd(S.alternate,S);break;default:as(v,S,C,M,g)}s=s.sibling}}function Io(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,f=s,g=f.flags;switch(f.tag){case 22:Io(l,f),g&2048&&cd(f.alternate,f);break;case 24:Io(l,f),g&2048&&dd(f.alternate,f);break;default:Io(l,f)}s=s.sibling}}var Po=8192;function ls(r){if(r.subtreeFlags&Po)for(r=r.child;r!==null;)Qp(r),r=r.sibling}function Qp(r){switch(r.tag){case 26:ls(r),r.flags&Po&&r.memoizedState!==null&&MS(In,r.memoizedState,r.memoizedProps);break;case 5:ls(r);break;case 3:case 4:var s=In;In=Rl(r.stateNode.containerInfo),ls(r),In=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Po,Po=16777216,ls(r),Po=s):ls(r));break;default:ls(r)}}function Zp(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Lo(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Dt=f,Wp(f,r)}Zp(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xp(r),r=r.sibling}function Xp(r){switch(r.tag){case 0:case 11:case 15:Lo(r),r.flags&2048&&Ui(9,r,r.return);break;case 3:Lo(r);break;case 12:Lo(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,yl(r)):Lo(r);break;default:Lo(r)}}function yl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Dt=f,Wp(f,r)}Zp(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ui(8,s,s.return),yl(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,yl(s));break;default:yl(s)}r=r.sibling}}function Wp(r,s){for(;Dt!==null;){var l=Dt;switch(l.tag){case 0:case 11:case 15:Ui(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:vo(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Dt=f;else e:for(l=r;Dt!==null;){f=Dt;var g=f.sibling,v=f.return;if(Gp(f),f===l){Dt=null;break e}if(g!==null){g.return=v,Dt=g;break e}Dt=v}}}var JT={getCacheForType:function(r){var s=Gt(At),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l}},YT=typeof WeakMap=="function"?WeakMap:Map,nt=0,dt=null,Ge=null,Qe=0,it=0,gn=null,Li=!1,us=!1,fd=!1,hi=0,Tt=0,Oi=0,vr=0,hd=0,Nn=0,cs=0,Oo=null,on=null,md=!1,pd=0,vl=1/0,xl=null,qi=null,Bt=0,Bi=null,ds=null,fs=0,gd=0,yd=null,eg=null,qo=0,vd=null;function yn(){if((nt&2)!==0&&Qe!==0)return Qe&-Qe;if(K.T!==null){var r=Wr;return r!==0?r:Cd()}return gh()}function tg(){Nn===0&&(Nn=(Qe&536870912)===0||tt?nr():536870912);var r=An.current;return r!==null&&(r.flags|=32),Nn}function vn(r,s,l){(r===dt&&(it===2||it===9)||r.cancelPendingCommit!==null)&&(hs(r,0),Vi(r,Qe,Nn,!1)),Wn(r,l),((nt&2)===0||r!==dt)&&(r===dt&&((nt&2)===0&&(vr|=l),Tt===4&&Vi(r,Qe,Nn,!1)),zn(r))}function ng(r,s,l){if((nt&6)!==0)throw Error(i(327));var f=!l&&(s&124)===0&&(s&r.expiredLanes)===0||Wt(r,s),g=f?ZT(r,s):Td(r,s,!0),v=f;do{if(g===0){us&&!f&&Vi(r,s,0,!1);break}else{if(l=r.current.alternate,v&&!KT(l)){g=Td(r,s,!1),v=!1;continue}if(g===2){if(v=s,r.errorRecoveryDisabledLanes&v)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var C=r;g=Oo;var M=C.current.memoizedState.isDehydrated;if(M&&(hs(C,S).flags|=256),S=Td(C,S,!1),S!==2){if(fd&&!M){C.errorRecoveryDisabledLanes|=v,vr|=v,g=4;break e}v=on,on=g,v!==null&&(on===null?on=v:on.push.apply(on,v))}g=S}if(v=!1,g!==2)continue}}if(g===1){hs(r,0),Vi(r,s,0,!0);break}e:{switch(f=r,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Vi(f,s,Nn,!Li);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=pd+300-Pe(),10<g)){if(Vi(f,s,Nn,!Li),dn(f,0,!0)!==0)break e;f.timeoutHandle=Mg(ig.bind(null,f,l,on,xl,md,s,Nn,vr,cs,Li,v,2,-0,0),g);break e}ig(f,l,on,xl,md,s,Nn,vr,cs,Li,v,0,-0,0)}}break}while(!0);zn(r)}function ig(r,s,l,f,g,v,S,C,M,F,te,ie,G,H){if(r.timeoutHandle=-1,ie=s.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(jo={stylesheets:null,count:0,unsuspend:kS},Qp(s),ie=DS(),ie!==null)){r.cancelPendingCommit=ie(cg.bind(null,r,s,v,l,f,g,S,C,M,te,1,G,H)),Vi(r,v,S,!F);return}cg(r,s,v,l,f,g,S,C,M)}function KT(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],v=g.getSnapshot;g=g.value;try{if(!fn(v(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vi(r,s,l,f){s&=~hd,s&=~vr,r.suspendedLanes|=s,r.pingedLanes&=~s,f&&(r.warmLanes|=s),f=r.expirationTimes;for(var g=s;0<g;){var v=31-vt(g),S=1<<v;f[v]=-1,g&=~S}l!==0&&Ir(r,l,s)}function _l(){return(nt&6)===0?(Bo(0),!1):!0}function xd(){if(Ge!==null){if(it===0)var r=Ge.return;else r=Ge,si=fr=null,Lc(r),ss=null,Ro=0,r=Ge;for(;r!==null;)Lp(r.alternate,r),r=r.return;Ge=null}}function hs(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,hS(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),xd(),dt=r,Ge=l=ni(r.current,null),Qe=s,it=0,gn=null,Li=!1,us=Wt(r,s),fd=!1,cs=Nn=hd=vr=Oi=Tt=0,on=Oo=null,md=!1,(s&8)!==0&&(s|=s&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=s;0<f;){var g=31-vt(f),v=1<<g;s|=r[g],f&=~v}return hi=s,Fa(),l}function rg(r,s){Be=null,K.H=al,s===_o||s===Za?(s=Tm(),it=3):s===vm?(s=Tm(),it=4):it=s===Sp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gn=s,Ge===null&&(Tt=1,fl(r,bn(s,r.current)))}function sg(){var r=K.H;return K.H=al,r===null?al:r}function og(){var r=K.A;return K.A=JT,r}function _d(){Tt=4,Li||(Qe&4194048)!==Qe&&An.current!==null||(us=!0),(Oi&134217727)===0&&(vr&134217727)===0||dt===null||Vi(dt,Qe,Nn,!1)}function Td(r,s,l){var f=nt;nt|=2;var g=sg(),v=og();(dt!==r||Qe!==s)&&(xl=null,hs(r,s)),s=!1;var S=Tt;e:do try{if(it!==0&&Ge!==null){var C=Ge,M=gn;switch(it){case 8:xd(),S=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(s=!0);var F=it;if(it=0,gn=null,ms(r,C,M,F),l&&us){S=0;break e}break;default:F=it,it=0,gn=null,ms(r,C,M,F)}}QT(),S=Tt;break}catch(te){rg(r,te)}while(!0);return s&&r.shellSuspendCounter++,si=fr=null,nt=f,K.H=g,K.A=v,Ge===null&&(dt=null,Qe=0,Fa()),S}function QT(){for(;Ge!==null;)ag(Ge)}function ZT(r,s){var l=nt;nt|=2;var f=sg(),g=og();dt!==r||Qe!==s?(xl=null,vl=Pe()+500,hs(r,s)):us=Wt(r,s);e:do try{if(it!==0&&Ge!==null){s=Ge;var v=gn;t:switch(it){case 1:it=0,gn=null,ms(r,s,v,1);break;case 2:case 9:if(xm(v)){it=0,gn=null,lg(s);break}s=function(){it!==2&&it!==9||dt!==r||(it=7),zn(r)},v.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:xm(v)?(it=0,gn=null,lg(s)):(it=0,gn=null,ms(r,s,v,7));break;case 5:var S=null;switch(Ge.tag){case 26:S=Ge.memoizedState;case 5:case 27:var C=Ge;if(!S||zg(S)){it=0,gn=null;var M=C.sibling;if(M!==null)Ge=M;else{var F=C.return;F!==null?(Ge=F,Tl(F)):Ge=null}break t}}it=0,gn=null,ms(r,s,v,5);break;case 6:it=0,gn=null,ms(r,s,v,6);break;case 8:xd(),Tt=6;break e;default:throw Error(i(462))}}XT();break}catch(te){rg(r,te)}while(!0);return si=fr=null,K.H=f,K.A=g,nt=l,Ge!==null?0:(dt=null,Qe=0,Fa(),Tt)}function XT(){for(;Ge!==null&&!ze();)ag(Ge)}function ag(r){var s=Ip(r.alternate,r,hi);r.memoizedProps=r.pendingProps,s===null?Tl(r):Ge=s}function lg(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=Np(l,s,s.pendingProps,s.type,void 0,Qe);break;case 11:s=Np(l,s,s.pendingProps,s.type.render,s.ref,Qe);break;case 5:Lc(s);default:Lp(l,s),s=Ge=um(s,hi),s=Ip(l,s,hi)}r.memoizedProps=r.pendingProps,s===null?Tl(r):Ge=s}function ms(r,s,l,f){si=fr=null,Lc(s),ss=null,Ro=0;var g=s.return;try{if($T(r,g,s,l,Qe)){Tt=1,fl(r,bn(l,r.current)),Ge=null;return}}catch(v){if(g!==null)throw Ge=g,v;Tt=1,fl(r,bn(l,r.current)),Ge=null;return}s.flags&32768?(tt||f===1?r=!0:us||(Qe&536870912)!==0?r=!1:(Li=r=!0,(f===2||f===9||f===3||f===6)&&(f=An.current,f!==null&&f.tag===13&&(f.flags|=16384))),ug(s,r)):Tl(s)}function Tl(r){var s=r;do{if((s.flags&32768)!==0){ug(s,Li);return}r=s.return;var l=zT(s.alternate,s,hi);if(l!==null){Ge=l;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=r}while(s!==null);Tt===0&&(Tt=5)}function ug(r,s){do{var l=GT(r.alternate,r);if(l!==null){l.flags&=32767,Ge=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=l}while(r!==null);Tt=6,Ge=null}function cg(r,s,l,f,g,v,S,C,M){r.cancelPendingCommit=null;do Sl();while(Bt!==0);if((nt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(v=s.lanes|s.childLanes,v|=dc,qu(r,l,v,S,C,M),r===dt&&(Ge=dt=null,Qe=0),ds=s,Bi=r,fs=l,gd=v,yd=g,eg=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,nS(Le,function(){return pg(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=K.T,K.T=null,g=ae.p,ae.p=2,S=nt,nt|=4;try{jT(r,s,l)}finally{nt=S,ae.p=g,K.T=f}}Bt=1,dg(),fg(),hg()}}function dg(){if(Bt===1){Bt=0;var r=Bi,s=ds,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var f=ae.p;ae.p=2;var g=nt;nt|=4;try{Jp(s,r);var v=Ud,S=Wh(r.containerInfo),C=v.focusedElem,M=v.selectionRange;if(S!==C&&C&&C.ownerDocument&&Xh(C.ownerDocument.documentElement,C)){if(M!==null&&oc(C)){var F=M.start,te=M.end;if(te===void 0&&(te=F),"selectionStart"in C)C.selectionStart=F,C.selectionEnd=Math.min(te,C.value.length);else{var ie=C.ownerDocument||document,G=ie&&ie.defaultView||window;if(G.getSelection){var H=G.getSelection(),Ce=C.textContent.length,Se=Math.min(M.start,Ce),lt=M.end===void 0?Se:Math.min(M.end,Ce);!H.extend&&Se>lt&&(S=lt,lt=Se,Se=S);var V=Zh(C,Se),P=Zh(C,lt);if(V&&P&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==P.node||H.focusOffset!==P.offset)){var $=ie.createRange();$.setStart(V.node,V.offset),H.removeAllRanges(),Se>lt?(H.addRange($),H.extend(P.node,P.offset)):($.setEnd(P.node,P.offset),H.addRange($))}}}}for(ie=[],H=C;H=H.parentNode;)H.nodeType===1&&ie.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ie.length;C++){var ne=ie[C];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Il=!!Dd,Ud=Dd=null}finally{nt=g,ae.p=f,K.T=l}}r.current=s,Bt=2}}function fg(){if(Bt===2){Bt=0;var r=Bi,s=ds,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var f=ae.p;ae.p=2;var g=nt;nt|=4;try{zp(r,s.alternate,s)}finally{nt=g,ae.p=f,K.T=l}}Bt=3}}function hg(){if(Bt===4||Bt===3){Bt=0,ke();var r=Bi,s=ds,l=fs,f=eg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Bt=5:(Bt=0,ds=Bi=null,mg(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(qi=null),Bu(l),s=s.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(ge,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=K.T,g=ae.p,ae.p=2,K.T=null;try{for(var v=r.onRecoverableError,S=0;S<f.length;S++){var C=f[S];v(C.value,{componentStack:C.stack})}}finally{K.T=s,ae.p=g}}(fs&3)!==0&&Sl(),zn(r),g=r.pendingLanes,(l&4194090)!==0&&(g&42)!==0?r===vd?qo++:(qo=0,vd=r):qo=0,Bo(0)}}function mg(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,vo(s)))}function Sl(r){return dg(),fg(),hg(),pg()}function pg(){if(Bt!==5)return!1;var r=Bi,s=gd;gd=0;var l=Bu(fs),f=K.T,g=ae.p;try{ae.p=32>l?32:l,K.T=null,l=yd,yd=null;var v=Bi,S=fs;if(Bt=0,ds=Bi=null,fs=0,(nt&6)!==0)throw Error(i(331));var C=nt;if(nt|=4,Xp(v.current),Kp(v,v.current,S,l),nt=C,Bo(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(ge,v)}catch{}return!0}finally{ae.p=g,K.T=f,mg(r,s)}}function gg(r,s,l){s=bn(l,s),s=Qc(r.stateNode,s,2),r=Ri(r,s,2),r!==null&&(Wn(r,2),zn(r))}function ct(r,s,l){if(r.tag===3)gg(r,r,l);else for(;s!==null;){if(s.tag===3){gg(s,r,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(qi===null||!qi.has(f))){r=bn(l,r),l=_p(2),f=Ri(s,l,2),f!==null&&(Tp(l,f,s,r),Wn(f,2),zn(f));break}}s=s.return}}function Sd(r,s,l){var f=r.pingCache;if(f===null){f=r.pingCache=new YT;var g=new Set;f.set(s,g)}else g=f.get(s),g===void 0&&(g=new Set,f.set(s,g));g.has(l)||(fd=!0,g.add(l),r=WT.bind(null,r,s,l),s.then(r,r))}function WT(r,s,l){var f=r.pingCache;f!==null&&f.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,dt===r&&(Qe&l)===l&&(Tt===4||Tt===3&&(Qe&62914560)===Qe&&300>Pe()-pd?(nt&2)===0&&hs(r,0):hd|=l,cs===Qe&&(cs=0)),zn(r)}function yg(r,s){s===0&&(s=en()),r=Kr(r,s),r!==null&&(Wn(r,s),zn(r))}function eS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),yg(r,l)}function tS(r,s){var l=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),yg(r,l)}function nS(r,s){return Je(r,s)}var bl=null,ps=null,bd=!1,wl=!1,wd=!1,xr=0;function zn(r){r!==ps&&r.next===null&&(ps===null?bl=ps=r:ps=ps.next=r),wl=!0,bd||(bd=!0,rS())}function Bo(r,s){if(!wd&&wl){wd=!0;do for(var l=!1,f=bl;f!==null;){if(r!==0){var g=f.pendingLanes;if(g===0)var v=0;else{var S=f.suspendedLanes,C=f.pingedLanes;v=(1<<31-vt(42|r)+1)-1,v&=g&~(S&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Tg(f,v))}else v=Qe,v=dn(f,f===dt?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Wt(f,v)||(l=!0,Tg(f,v));f=f.next}while(l);wd=!1}}function iS(){vg()}function vg(){wl=bd=!1;var r=0;xr!==0&&(fS()&&(r=xr),xr=0);for(var s=Pe(),l=null,f=bl;f!==null;){var g=f.next,v=xg(f,s);v===0?(f.next=null,l===null?bl=g:l.next=g,g===null&&(ps=l)):(l=f,(r!==0||(v&3)!==0)&&(wl=!0)),f=g}Bo(r)}function xg(r,s){for(var l=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var S=31-vt(v),C=1<<S,M=g[S];M===-1?((C&l)===0||(C&f)!==0)&&(g[S]=bi(C,s)):M<=s&&(r.expiredLanes|=C),v&=~C}if(s=dt,l=Qe,l=dn(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,l===0||r===s&&(it===2||it===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Fe(f),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Wt(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(f!==null&&Fe(f),Bu(l)){case 2:case 8:l=ut;break;case 32:l=Le;break;case 268435456:l=pt;break;default:l=Le}return f=_g.bind(null,r),l=Je(l,f),r.callbackPriority=s,r.callbackNode=l,s}return f!==null&&f!==null&&Fe(f),r.callbackPriority=2,r.callbackNode=null,2}function _g(r,s){if(Bt!==0&&Bt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Sl()&&r.callbackNode!==l)return null;var f=Qe;return f=dn(r,r===dt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(ng(r,f,s),xg(r,Pe()),r.callbackNode!=null&&r.callbackNode===l?_g.bind(null,r):null)}function Tg(r,s){if(Sl())return null;ng(r,s,!0)}function rS(){mS(function(){(nt&6)!==0?Je(xn,iS):vg()})}function Cd(){return xr===0&&(xr=nr()),xr}function Sg(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Pa(""+r)}function bg(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function sS(r,s,l,f,g){if(s==="submit"&&l&&l.stateNode===g){var v=Sg((g[tn]||null).action),S=f.submitter;S&&(s=(s=S[tn]||null)?Sg(s.formAction):S.getAttribute("formAction"),s!==null&&(v=s,S=null));var C=new Ba("action","action",null,f,g);r.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(xr!==0){var M=S?bg(g,S):new FormData(g);jc(l,{pending:!0,data:M,method:g.method,action:v},null,M)}}else typeof v=="function"&&(C.preventDefault(),M=S?bg(g,S):new FormData(g),jc(l,{pending:!0,data:M,method:g.method,action:v},v,M))},currentTarget:g}]})}}for(var Ed=0;Ed<cc.length;Ed++){var Ad=cc[Ed],oS=Ad.toLowerCase(),aS=Ad[0].toUpperCase()+Ad.slice(1);Un(oS,"on"+aS)}Un(nm,"onAnimationEnd"),Un(im,"onAnimationIteration"),Un(rm,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(wT,"onTransitionRun"),Un(CT,"onTransitionStart"),Un(ET,"onTransitionCancel"),Un(sm,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vo));function wg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var f=r[l],g=f.event;f=f.listeners;e:{var v=void 0;if(s)for(var S=f.length-1;0<=S;S--){var C=f[S],M=C.instance,F=C.currentTarget;if(C=C.listener,M!==v&&g.isPropagationStopped())break e;v=C,g.currentTarget=F;try{v(g)}catch(te){dl(te)}g.currentTarget=null,v=M}else for(S=0;S<f.length;S++){if(C=f[S],M=C.instance,F=C.currentTarget,C=C.listener,M!==v&&g.isPropagationStopped())break e;v=C,g.currentTarget=F;try{v(g)}catch(te){dl(te)}g.currentTarget=null,v=M}}}}function je(r,s){var l=s[Vu];l===void 0&&(l=s[Vu]=new Set);var f=r+"__bubble";l.has(f)||(Cg(s,r,2,!1),l.add(f))}function Nd(r,s,l){var f=0;s&&(f|=4),Cg(l,r,f,s)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function Rd(r){if(!r[Cl]){r[Cl]=!0,vh.forEach(function(l){l!=="selectionchange"&&(lS.has(l)||Nd(l,!1,r),Nd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Cl]||(s[Cl]=!0,Nd("selectionchange",!1,s))}}function Cg(r,s,l,f){switch(Kg(s)){case 2:var g=PS;break;case 8:g=LS;break;default:g=zd}l=g.bind(null,s,l,r),g=void 0,!Zu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(s,l,{capture:!0,passive:g}):r.addEventListener(s,l,!0):g!==void 0?r.addEventListener(s,l,{passive:g}):r.addEventListener(s,l,!1)}function kd(r,s,l,f,g){var v=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var C=f.stateNode.containerInfo;if(C===g)break;if(S===4)for(S=f.return;S!==null;){var M=S.tag;if((M===3||M===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;C!==null;){if(S=Lr(C),S===null)return;if(M=S.tag,M===5||M===6||M===26||M===27){f=v=S;continue e}C=C.parentNode}}f=f.return}Dh(function(){var F=v,te=Ku(l),ie=[];e:{var G=om.get(r);if(G!==void 0){var H=Ba,Ce=r;switch(r){case"keypress":if(Oa(l)===0)break e;case"keydown":case"keyup":H=nT;break;case"focusin":Ce="focus",H=tc;break;case"focusout":Ce="blur",H=tc;break;case"beforeblur":case"afterblur":H=tc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=G_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=sT;break;case nm:case im:case rm:H=J_;break;case sm:H=aT;break;case"scroll":case"scrollend":H=F_;break;case"wheel":H=uT;break;case"copy":case"cut":case"paste":H=K_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Oh;break;case"toggle":case"beforetoggle":H=dT}var Se=(s&4)!==0,lt=!Se&&(r==="scroll"||r==="scrollend"),V=Se?G!==null?G+"Capture":null:G;Se=[];for(var P=F,$;P!==null;){var ne=P;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||V===null||(ne=ro(P,V),ne!=null&&Se.push($o(P,ne,$))),lt)break;P=P.return}0<Se.length&&(G=new H(G,Ce,null,l,te),ie.push({event:G,listeners:Se}))}}if((s&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",H=r==="mouseout"||r==="pointerout",G&&l!==Yu&&(Ce=l.relatedTarget||l.fromElement)&&(Lr(Ce)||Ce[Pr]))break e;if((H||G)&&(G=te.window===te?te:(G=te.ownerDocument)?G.defaultView||G.parentWindow:window,H?(Ce=l.relatedTarget||l.toElement,H=F,Ce=Ce?Lr(Ce):null,Ce!==null&&(lt=a(Ce),Se=Ce.tag,Ce!==lt||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(H=null,Ce=F),H!==Ce)){if(Se=Ph,ne="onMouseLeave",V="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(Se=Oh,ne="onPointerLeave",V="onPointerEnter",P="pointer"),lt=H==null?G:io(H),$=Ce==null?G:io(Ce),G=new Se(ne,P+"leave",H,l,te),G.target=lt,G.relatedTarget=$,ne=null,Lr(te)===F&&(Se=new Se(V,P+"enter",Ce,l,te),Se.target=$,Se.relatedTarget=lt,ne=Se),lt=ne,H&&Ce)t:{for(Se=H,V=Ce,P=0,$=Se;$;$=gs($))P++;for($=0,ne=V;ne;ne=gs(ne))$++;for(;0<P-$;)Se=gs(Se),P--;for(;0<$-P;)V=gs(V),$--;for(;P--;){if(Se===V||V!==null&&Se===V.alternate)break t;Se=gs(Se),V=gs(V)}Se=null}else Se=null;H!==null&&Eg(ie,G,H,Se,!1),Ce!==null&&lt!==null&&Eg(ie,lt,Ce,Se,!0)}}e:{if(G=F?io(F):window,H=G.nodeName&&G.nodeName.toLowerCase(),H==="select"||H==="input"&&G.type==="file")var me=jh;else if(zh(G))if(Hh)me=TT;else{me=xT;var $e=vT}else H=G.nodeName,!H||H.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ju(F.elementType)&&(me=jh):me=_T;if(me&&(me=me(r,F))){Gh(ie,me,l,te);break e}$e&&$e(r,G,F),r==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Hu(G,"number",G.value)}switch($e=F?io(F):window,r){case"focusin":(zh($e)||$e.contentEditable==="true")&&(Hr=$e,ac=F,ho=null);break;case"focusout":ho=ac=Hr=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,em(ie,l,te);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":em(ie,l,te)}var xe;if(ic)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else jr?$h(r,l)&&(we="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(qh&&l.locale!=="ko"&&(jr||we!=="onCompositionStart"?we==="onCompositionEnd"&&jr&&(xe=Uh()):(Ci=te,Xu="value"in Ci?Ci.value:Ci.textContent,jr=!0)),$e=El(F,we),0<$e.length&&(we=new Lh(we,r,null,l,te),ie.push({event:we,listeners:$e}),xe?we.data=xe:(xe=Fh(l),xe!==null&&(we.data=xe)))),(xe=hT?mT(r,l):pT(r,l))&&(we=El(F,"onBeforeInput"),0<we.length&&($e=new Lh("onBeforeInput","beforeinput",null,l,te),ie.push({event:$e,listeners:we}),$e.data=xe)),sS(ie,r,F,l,te)}wg(ie,s)})}function $o(r,s,l){return{instance:r,listener:s,currentTarget:l}}function El(r,s){for(var l=s+"Capture",f=[];r!==null;){var g=r,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=ro(r,l),g!=null&&f.unshift($o(r,g,v)),g=ro(r,s),g!=null&&f.push($o(r,g,v))),r.tag===3)return f;r=r.return}return[]}function gs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Eg(r,s,l,f,g){for(var v=s._reactName,S=[];l!==null&&l!==f;){var C=l,M=C.alternate,F=C.stateNode;if(C=C.tag,M!==null&&M===f)break;C!==5&&C!==26&&C!==27||F===null||(M=F,g?(F=ro(l,v),F!=null&&S.unshift($o(l,F,M))):g||(F=ro(l,v),F!=null&&S.push($o(l,F,M)))),l=l.return}S.length!==0&&r.push({event:s,listeners:S})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function Ag(r){return(typeof r=="string"?r:""+r).replace(uS,`
`).replace(cS,"")}function Ng(r,s){return s=Ag(s),Ag(r)===s}function Al(){}function at(r,s,l,f,g,v){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Fr(r,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Fr(r,""+f);break;case"className":Da(r,"class",f);break;case"tabIndex":Da(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Da(r,l,f);break;case"style":kh(r,f,v);break;case"data":if(s!=="object"){Da(r,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(l);break}f=Pa(""+f),r.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(s!=="input"&&at(r,s,"name",g.name,g,null),at(r,s,"formEncType",g.formEncType,g,null),at(r,s,"formMethod",g.formMethod,g,null),at(r,s,"formTarget",g.formTarget,g,null)):(at(r,s,"encType",g.encType,g,null),at(r,s,"method",g.method,g,null),at(r,s,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(l);break}f=Pa(""+f),r.setAttribute(l,f);break;case"onClick":f!=null&&(r.onclick=Al);break;case"onScroll":f!=null&&je("scroll",r);break;case"onScrollEnd":f!=null&&je("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}l=Pa(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,""+f):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":f===!0?r.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,f):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(l,f):r.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(l):r.setAttribute(l,f);break;case"popover":je("beforetoggle",r),je("toggle",r),Ma(r,"popover",f);break;case"xlinkActuate":ei(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ei(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ei(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ei(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ei(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ei(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ei(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ei(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ei(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ma(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=V_.get(l)||l,Ma(r,l,f))}}function Md(r,s,l,f,g,v){switch(l){case"style":kh(r,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof f=="string"?Fr(r,f):(typeof f=="number"||typeof f=="bigint")&&Fr(r,""+f);break;case"onScroll":f!=null&&je("scroll",r);break;case"onScrollEnd":f!=null&&je("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Al);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xh.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),v=r[tn]||null,v=v!=null?v[l]:null,typeof v=="function"&&r.removeEventListener(s,v,g),typeof f=="function")){typeof v!="function"&&v!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,f,g);break e}l in r?r[l]=f:f===!0?r.setAttribute(l,""):Ma(r,l,f)}}}function Vt(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",r),je("load",r);var f=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var S=l[v];if(S!=null)switch(v){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(r,s,v,S,l,null)}}g&&at(r,s,"srcSet",l.srcSet,l,null),f&&at(r,s,"src",l.src,l,null);return;case"input":je("invalid",r);var C=v=S=g=null,M=null,F=null;for(f in l)if(l.hasOwnProperty(f)){var te=l[f];if(te!=null)switch(f){case"name":g=te;break;case"type":S=te;break;case"checked":M=te;break;case"defaultChecked":F=te;break;case"value":v=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:at(r,s,f,te,l,null)}}Eh(r,v,C,M,F,S,g,!1),Ua(r);return;case"select":je("invalid",r),f=S=v=null;for(g in l)if(l.hasOwnProperty(g)&&(C=l[g],C!=null))switch(g){case"value":v=C;break;case"defaultValue":S=C;break;case"multiple":f=C;default:at(r,s,g,C,l,null)}s=v,l=S,r.multiple=!!f,s!=null?$r(r,!!f,s,!1):l!=null&&$r(r,!!f,l,!0);return;case"textarea":je("invalid",r),v=g=f=null;for(S in l)if(l.hasOwnProperty(S)&&(C=l[S],C!=null))switch(S){case"value":f=C;break;case"defaultValue":g=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:at(r,s,S,C,l,null)}Nh(r,f,g,v),Ua(r);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(f=l[M],f!=null))switch(M){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:at(r,s,M,f,l,null)}return;case"dialog":je("beforetoggle",r),je("toggle",r),je("cancel",r),je("close",r);break;case"iframe":case"object":je("load",r);break;case"video":case"audio":for(f=0;f<Vo.length;f++)je(Vo[f],r);break;case"image":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"embed":case"source":case"link":je("error",r),je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(f=l[F],f!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(r,s,F,f,l,null)}return;default:if(Ju(s)){for(te in l)l.hasOwnProperty(te)&&(f=l[te],f!==void 0&&Md(r,s,te,f,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(f=l[C],f!=null&&at(r,s,C,f,l,null))}function dS(r,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,S=null,C=null,M=null,F=null,te=null;for(H in l){var ie=l[H];if(l.hasOwnProperty(H)&&ie!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":M=ie;default:f.hasOwnProperty(H)||at(r,s,H,null,f,ie)}}for(var G in f){var H=f[G];if(ie=l[G],f.hasOwnProperty(G)&&(H!=null||ie!=null))switch(G){case"type":v=H;break;case"name":g=H;break;case"checked":F=H;break;case"defaultChecked":te=H;break;case"value":S=H;break;case"defaultValue":C=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:H!==ie&&at(r,s,G,H,f,ie)}}ju(r,S,C,M,F,te,v,g);return;case"select":H=S=C=G=null;for(v in l)if(M=l[v],l.hasOwnProperty(v)&&M!=null)switch(v){case"value":break;case"multiple":H=M;default:f.hasOwnProperty(v)||at(r,s,v,null,f,M)}for(g in f)if(v=f[g],M=l[g],f.hasOwnProperty(g)&&(v!=null||M!=null))switch(g){case"value":G=v;break;case"defaultValue":C=v;break;case"multiple":S=v;default:v!==M&&at(r,s,g,v,f,M)}s=C,l=S,f=H,G!=null?$r(r,!!l,G,!1):!!f!=!!l&&(s!=null?$r(r,!!l,s,!0):$r(r,!!l,l?[]:"",!1));return;case"textarea":H=G=null;for(C in l)if(g=l[C],l.hasOwnProperty(C)&&g!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:at(r,s,C,null,f,g)}for(S in f)if(g=f[S],v=l[S],f.hasOwnProperty(S)&&(g!=null||v!=null))switch(S){case"value":G=g;break;case"defaultValue":H=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&at(r,s,S,g,f,v)}Ah(r,G,H);return;case"option":for(var Ce in l)if(G=l[Ce],l.hasOwnProperty(Ce)&&G!=null&&!f.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:at(r,s,Ce,null,f,G)}for(M in f)if(G=f[M],H=l[M],f.hasOwnProperty(M)&&G!==H&&(G!=null||H!=null))switch(M){case"selected":r.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:at(r,s,M,G,f,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in l)G=l[Se],l.hasOwnProperty(Se)&&G!=null&&!f.hasOwnProperty(Se)&&at(r,s,Se,null,f,G);for(F in f)if(G=f[F],H=l[F],f.hasOwnProperty(F)&&G!==H&&(G!=null||H!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:at(r,s,F,G,f,H)}return;default:if(Ju(s)){for(var lt in l)G=l[lt],l.hasOwnProperty(lt)&&G!==void 0&&!f.hasOwnProperty(lt)&&Md(r,s,lt,void 0,f,G);for(te in f)G=f[te],H=l[te],!f.hasOwnProperty(te)||G===H||G===void 0&&H===void 0||Md(r,s,te,G,f,H);return}}for(var V in l)G=l[V],l.hasOwnProperty(V)&&G!=null&&!f.hasOwnProperty(V)&&at(r,s,V,null,f,G);for(ie in f)G=f[ie],H=l[ie],!f.hasOwnProperty(ie)||G===H||G==null&&H==null||at(r,s,ie,G,f,H)}var Dd=null,Ud=null;function Nl(r){return r.nodeType===9?r:r.ownerDocument}function Rg(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kg(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Id(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Pd=null;function fS(){var r=window.event;return r&&r.type==="popstate"?r===Pd?!1:(Pd=r,!0):(Pd=null,!1)}var Mg=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,Dg=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof Dg<"u"?function(r){return Dg.resolve(null).then(r).catch(pS)}:Mg;function pS(r){setTimeout(function(){throw r})}function $i(r){return r==="head"}function Ug(r,s){var l=s,f=0,g=0;do{var v=l.nextSibling;if(r.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<f&&8>f){l=f;var S=r.ownerDocument;if(l&1&&Fo(S.documentElement),l&2&&Fo(S.body),l&4)for(l=S.head,Fo(l),S=l.firstChild;S;){var C=S.nextSibling,M=S.nodeName;S[no]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=C}}if(g===0){r.removeChild(v),Qo(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=v}while(l);Qo(s)}function Ld(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ld(l),$u(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function gS(r,s,l,f){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[no])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Pn(r.nextSibling),r===null)break}return null}function yS(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Pn(r.nextSibling),r===null))return null;return r}function Od(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function vS(r,s){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Pn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var qd=null;function Ig(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}function Pg(r,s,l){switch(s=Nl(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Fo(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);$u(r)}var Rn=new Map,Lg=new Set;function Rl(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var mi=ae.d;ae.d={f:xS,r:_S,D:TS,C:SS,L:bS,m:wS,X:ES,S:CS,M:AS};function xS(){var r=mi.f(),s=_l();return r||s}function _S(r){var s=Or(r);s!==null&&s.tag===5&&s.type==="form"?np(s):mi.r(r)}var ys=typeof document>"u"?null:document;function Og(r,s,l){var f=ys;if(f&&typeof s=="string"&&s){var g=Sn(s);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Lg.has(g)||(Lg.add(g),r={rel:r,crossOrigin:l,href:s},f.querySelector(g)===null&&(s=f.createElement("link"),Vt(s,"link",r),kt(s),f.head.appendChild(s)))}}function TS(r){mi.D(r),Og("dns-prefetch",r,null)}function SS(r,s){mi.C(r,s),Og("preconnect",r,s)}function bS(r,s,l){mi.L(r,s,l);var f=ys;if(f&&r&&s){var g='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Sn(l.imageSizes)+'"]')):g+='[href="'+Sn(r)+'"]';var v=g;switch(s){case"style":v=vs(r);break;case"script":v=xs(r)}Rn.has(v)||(r=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),Rn.set(v,r),f.querySelector(g)!==null||s==="style"&&f.querySelector(zo(v))||s==="script"&&f.querySelector(Go(v))||(s=f.createElement("link"),Vt(s,"link",r),kt(s),f.head.appendChild(s)))}}function wS(r,s){mi.m(r,s);var l=ys;if(l&&r){var f=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Sn(f)+'"][href="'+Sn(r)+'"]',v=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=xs(r)}if(!Rn.has(v)&&(r=y({rel:"modulepreload",href:r},s),Rn.set(v,r),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Go(v)))return}f=l.createElement("link"),Vt(f,"link",r),kt(f),l.head.appendChild(f)}}}function CS(r,s,l){mi.S(r,s,l);var f=ys;if(f&&r){var g=qr(f).hoistableStyles,v=vs(r);s=s||"default";var S=g.get(v);if(!S){var C={loading:0,preload:null};if(S=f.querySelector(zo(v)))C.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},l),(l=Rn.get(v))&&Bd(r,l);var M=S=f.createElement("link");kt(M),Vt(M,"link",r),M._p=new Promise(function(F,te){M.onload=F,M.onerror=te}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,kl(S,s,f)}S={type:"stylesheet",instance:S,count:1,state:C},g.set(v,S)}}}function ES(r,s){mi.X(r,s);var l=ys;if(l&&r){var f=qr(l).hoistableScripts,g=xs(r),v=f.get(g);v||(v=l.querySelector(Go(g)),v||(r=y({src:r,async:!0},s),(s=Rn.get(g))&&Vd(r,s),v=l.createElement("script"),kt(v),Vt(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function AS(r,s){mi.M(r,s);var l=ys;if(l&&r){var f=qr(l).hoistableScripts,g=xs(r),v=f.get(g);v||(v=l.querySelector(Go(g)),v||(r=y({src:r,async:!0,type:"module"},s),(s=Rn.get(g))&&Vd(r,s),v=l.createElement("script"),kt(v),Vt(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function qg(r,s,l,f){var g=(g=Q.current)?Rl(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=vs(l.href),l=qr(g).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=vs(l.href);var v=qr(g).hoistableStyles,S=v.get(r);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,S),(v=g.querySelector(zo(r)))&&!v._p&&(S.instance=v,S.state.loading=5),Rn.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Rn.set(r,l),v||NS(g,r,l,S.state))),s&&f===null)throw Error(i(528,""));return S}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xs(l),l=qr(g).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function vs(r){return'href="'+Sn(r)+'"'}function zo(r){return'link[rel="stylesheet"]['+r+"]"}function Bg(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function NS(r,s,l,f){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=r.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Vt(s,"link",l),kt(s),r.head.appendChild(s))}function xs(r){return'[src="'+Sn(r)+'"]'}function Go(r){return"script[async]"+r}function Vg(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=r.querySelector('style[data-href~="'+Sn(l.href)+'"]');if(f)return s.instance=f,kt(f),f;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),kt(f),Vt(f,"style",g),kl(f,l.precedence,r),s.instance=f;case"stylesheet":g=vs(l.href);var v=r.querySelector(zo(g));if(v)return s.state.loading|=4,s.instance=v,kt(v),v;f=Bg(l),(g=Rn.get(g))&&Bd(f,g),v=(r.ownerDocument||r).createElement("link"),kt(v);var S=v;return S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),Vt(v,"link",f),s.state.loading|=4,kl(v,l.precedence,r),s.instance=v;case"script":return v=xs(l.src),(g=r.querySelector(Go(v)))?(s.instance=g,kt(g),g):(f=l,(g=Rn.get(v))&&(f=y({},l),Vd(f,g)),r=r.ownerDocument||r,g=r.createElement("script"),kt(g),Vt(g,"link",f),r.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,kl(f,l.precedence,r));return s.instance}function kl(r,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,v=g,S=0;S<f.length;S++){var C=f[S];if(C.dataset.precedence===s)v=C;else if(v!==g)break}v?v.parentNode.insertBefore(r,v.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function Bd(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Vd(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Ml=null;function $g(r,s,l){if(Ml===null){var f=new Map,g=Ml=new Map;g.set(l,f)}else g=Ml,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(r))return f;for(f.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var v=l[g];if(!(v[no]||v[zt]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(s)||"";S=r+S;var C=f.get(S);C?C.push(v):f.set(S,[v])}}return f}function Fg(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function RS(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function zg(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var jo=null;function kS(){}function MS(r,s,l){if(jo===null)throw Error(i(475));var f=jo;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=vs(l.href),v=r.querySelector(zo(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=Dl.bind(f),r.then(f,f)),s.state.loading|=4,s.instance=v,kt(v);return}v=r.ownerDocument||r,l=Bg(l),(g=Rn.get(g))&&Bd(l,g),v=v.createElement("link"),kt(v);var S=v;S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),Vt(v,"link",l),s.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Dl.bind(f),r.addEventListener("load",s),r.addEventListener("error",s))}}function DS(){if(jo===null)throw Error(i(475));var r=jo;return r.stylesheets&&r.count===0&&$d(r,r.stylesheets),0<r.count?function(s){var l=setTimeout(function(){if(r.stylesheets&&$d(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(l)}}:null}function Dl(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ul=null;function $d(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ul=new Map,s.forEach(US,r),Ul=null,Dl.call(r))}function US(r,s){if(!(s.state.loading&4)){var l=Ul.get(r);if(l)var f=l.get(null);else{l=new Map,Ul.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var S=g[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),f=S)}f&&l.set(null,f)}g=s.instance,S=g.getAttribute("data-precedence"),v=l.get(S)||f,v===f&&l.set(null,g),l.set(S,g),this.count++,f=Dl.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),v?v.parentNode.insertBefore(g,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),s.state.loading|=4}}var Ho={$$typeof:U,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function IS(r,s,l,f,g,v,S,C){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.hiddenUpdates=Ft(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Gg(r,s,l,f,g,v,S,C,M,F,te,ie){return r=new IS(r,s,l,S,C,M,F,ie),s=1,v===!0&&(s|=24),v=hn(3,null,null,s),r.current=v,v.stateNode=r,s=Sc(),s.refCount++,r.pooledCache=s,s.refCount++,v.memoizedState={element:f,isDehydrated:l,cache:s},Ec(v),r}function jg(r){return r?(r=Qr,r):Qr}function Hg(r,s,l,f,g,v){g=jg(g),f.context===null?f.context=g:f.pendingContext=g,f=Ni(s),f.payload={element:l},v=v===void 0?null:v,v!==null&&(f.callback=v),l=Ri(r,f,s),l!==null&&(vn(l,r,s),So(l,r,s))}function Jg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Fd(r,s){Jg(r,s),(r=r.alternate)&&Jg(r,s)}function Yg(r){if(r.tag===13){var s=Kr(r,67108864);s!==null&&vn(s,r,67108864),Fd(r,67108864)}}var Il=!0;function PS(r,s,l,f){var g=K.T;K.T=null;var v=ae.p;try{ae.p=2,zd(r,s,l,f)}finally{ae.p=v,K.T=g}}function LS(r,s,l,f){var g=K.T;K.T=null;var v=ae.p;try{ae.p=8,zd(r,s,l,f)}finally{ae.p=v,K.T=g}}function zd(r,s,l,f){if(Il){var g=Gd(f);if(g===null)kd(r,s,f,Pl,l),Qg(r,f);else if(qS(g,r,s,l,f))f.stopPropagation();else if(Qg(r,f),s&4&&-1<OS.indexOf(r)){for(;g!==null;){var v=Or(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Qt(v.pendingLanes);if(S!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var M=1<<31-vt(S);C.entanglements[1]|=M,S&=~M}zn(v),(nt&6)===0&&(vl=Pe()+500,Bo(0))}}break;case 13:C=Kr(v,2),C!==null&&vn(C,v,2),_l(),Fd(v,2)}if(v=Gd(f),v===null&&kd(r,s,f,Pl,l),v===g)break;g=v}g!==null&&f.stopPropagation()}else kd(r,s,f,null,l)}}function Gd(r){return r=Ku(r),jd(r)}var Pl=null;function jd(r){if(Pl=null,r=Lr(r),r!==null){var s=a(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=c(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Pl=r,null}function Kg(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case xn:return 2;case ut:return 8;case Le:case Xe:return 32;case pt:return 268435456;default:return 32}default:return 32}}var Hd=!1,Fi=null,zi=null,Gi=null,Jo=new Map,Yo=new Map,ji=[],OS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qg(r,s){switch(r){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Jo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(s.pointerId)}}function Ko(r,s,l,f,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},s!==null&&(s=Or(s),s!==null&&Yg(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),r)}function qS(r,s,l,f,g){switch(s){case"focusin":return Fi=Ko(Fi,r,s,l,f,g),!0;case"dragenter":return zi=Ko(zi,r,s,l,f,g),!0;case"mouseover":return Gi=Ko(Gi,r,s,l,f,g),!0;case"pointerover":var v=g.pointerId;return Jo.set(v,Ko(Jo.get(v)||null,r,s,l,f,g)),!0;case"gotpointercapture":return v=g.pointerId,Yo.set(v,Ko(Yo.get(v)||null,r,s,l,f,g)),!0}return!1}function Zg(r){var s=Lr(r.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){r.blockedOn=s,M_(r.priority,function(){if(l.tag===13){var f=yn();f=to(f);var g=Kr(l,f);g!==null&&vn(g,l,f),Fd(l,f)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ll(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Gd(r.nativeEvent);if(l===null){l=r.nativeEvent;var f=new l.constructor(l.type,l);Yu=f,l.target.dispatchEvent(f),Yu=null}else return s=Or(l),s!==null&&Yg(s),r.blockedOn=l,!1;s.shift()}return!0}function Xg(r,s,l){Ll(r)&&l.delete(s)}function BS(){Hd=!1,Fi!==null&&Ll(Fi)&&(Fi=null),zi!==null&&Ll(zi)&&(zi=null),Gi!==null&&Ll(Gi)&&(Gi=null),Jo.forEach(Xg),Yo.forEach(Xg)}function Ol(r,s){r.blockedOn===s&&(r.blockedOn=null,Hd||(Hd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BS)))}var ql=null;function Wg(r){ql!==r&&(ql=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ql===r&&(ql=null);for(var s=0;s<r.length;s+=3){var l=r[s],f=r[s+1],g=r[s+2];if(typeof f!="function"){if(jd(f||l)===null)continue;break}var v=Or(l);v!==null&&(r.splice(s,3),s-=3,jc(v,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function Qo(r){function s(M){return Ol(M,r)}Fi!==null&&Ol(Fi,r),zi!==null&&Ol(zi,r),Gi!==null&&Ol(Gi,r),Jo.forEach(s),Yo.forEach(s);for(var l=0;l<ji.length;l++){var f=ji[l];f.blockedOn===r&&(f.blockedOn=null)}for(;0<ji.length&&(l=ji[0],l.blockedOn===null);)Zg(l),l.blockedOn===null&&ji.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],v=l[f+1],S=g[tn]||null;if(typeof v=="function")S||Wg(l);else if(S){var C=null;if(v&&v.hasAttribute("formAction")){if(g=v,S=v[tn]||null)C=S.formAction;else if(jd(g)!==null)continue}else C=S.action;typeof C=="function"?l[f+1]=C:(l.splice(f,3),f-=3),Wg(l)}}}function Jd(r){this._internalRoot=r}Bl.prototype.render=Jd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,f=yn();Hg(l,f,r,s,null,null)},Bl.prototype.unmount=Jd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Hg(r.current,2,null,r,null,null),_l(),s[Pr]=null}};function Bl(r){this._internalRoot=r}Bl.prototype.unstable_scheduleHydration=function(r){if(r){var s=gh();r={blockedOn:null,target:r,priority:s};for(var l=0;l<ji.length&&s!==0&&s<ji[l].priority;l++);ji.splice(l,0,r),l===0&&Zg(r)}};var ey=e.version;if(ey!=="19.1.0")throw Error(i(527,ey,"19.1.0"));ae.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var VS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{ge=Vl.inject(VS),_e=Vl}catch{}}return Xo.createRoot=function(r,s){if(!o(r))throw Error(i(299));var l=!1,f="",g=gp,v=yp,S=vp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=Gg(r,1,!1,null,null,l,f,g,v,S,C,null),r[Pr]=s.current,Rd(r),new Jd(s)},Xo.hydrateRoot=function(r,s,l){if(!o(r))throw Error(i(299));var f=!1,g="",v=gp,S=yp,C=vp,M=null,F=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks),l.formState!==void 0&&(F=l.formState)),s=Gg(r,1,!0,s,l??null,f,g,v,S,C,M,F),s.context=jg(null),l=s.current,f=yn(),f=to(f),g=Ni(f),g.callback=null,Ri(l,g,f),l=f,s.current.lanes=l,Wn(s,l),zn(s),r[Pr]=s.current,Rd(r),new Bl(s)},Xo.version="19.1.0",Xo}var cy;function XS(){if(cy)return Kd.exports;cy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kd.exports=ZS(),Kd.exports}var WS=XS(),R=Yf(),Wo={},dy;function eb(){if(dy)return Wo;dy=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.parse=c,Wo.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,w){const b=new a,A=T.length;if(A<2)return b;const E=(w==null?void 0:w.decode)||y;let k=0;do{const I=T.indexOf("=",k);if(I===-1)break;const U=T.indexOf(";",k),D=U===-1?A:U;if(I>D){k=T.lastIndexOf(";",I-1)+1;continue}const q=h(T,k,I),J=p(T,I,q),W=T.slice(q,J);if(b[W]===void 0){let re=h(T,I+1,D),Y=p(T,D,re);const ee=E(T.slice(re,Y));b[W]=ee}k=D+1}while(k<A);return b}function h(T,w,b){do{const A=T.charCodeAt(w);if(A!==32&&A!==9)return w}while(++w<b);return b}function p(T,w,b){for(;w>b;){const A=T.charCodeAt(--w);if(A!==32&&A!==9)return w+1}return b}function m(T,w,b){const A=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(T))throw new TypeError(`argument name is invalid: ${T}`);const E=A(w);if(!e.test(E))throw new TypeError(`argument val is invalid: ${w}`);let k=T+"="+E;if(!b)return k;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);k+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);k+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);k+="; Path="+b.path}if(b.expires){if(!_(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);k+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(k+="; HttpOnly"),b.secure&&(k+="; Secure"),b.partitioned&&(k+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return k}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function _(T){return o.call(T)==="[object Date]"}return Wo}eb();var fy="popstate";function tb(t={}){function e(i,o){let{pathname:a,search:c,hash:h}=i.location;return mf("",{pathname:a,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:ha(o)}return ib(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nb(){return Math.random().toString(36).substring(2,10)}function hy(t,e){return{usr:t.state,key:t.key,idx:e}}function mf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fs(e):e,state:n,key:e&&e.key||i||nb()}}function ha({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function ib(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let E=y(),k=E==null?null:E-m;m=E,p&&p({action:h,location:A.location,delta:k})}function T(E,k){h="PUSH";let I=mf(A.location,E,k);m=y()+1;let U=hy(I,m),D=A.createHref(I);try{c.pushState(U,"",D)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;o.location.assign(D)}a&&p&&p({action:h,location:A.location,delta:1})}function w(E,k){h="REPLACE";let I=mf(A.location,E,k);m=y();let U=hy(I,m),D=A.createHref(I);c.replaceState(U,"",D),a&&p&&p({action:h,location:A.location,delta:0})}function b(E){return rb(E)}let A={get action(){return h},get location(){return t(o,c)},listen(E){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(fy,_),p=E,()=>{o.removeEventListener(fy,_),p=null}},createHref(E){return e(o,E)},createURL:b,encodeLocation(E){let k=b(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:T,replace:w,go(E){return c.go(E)}};return A}function rb(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ha(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function q0(t,e,n="/"){return sb(t,e,n,!1)}function sb(t,e,n,i){let o=typeof e=="string"?Fs(e):e,a=vi(o.pathname||"/",n);if(a==null)return null;let c=B0(t);ob(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=$0(a);h=pb(c[p],m,i)}return h}function B0(t,e=[],n=[],i=""){let o=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(yt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=yi([i,p.relativePath]),y=n.concat(p);a.children&&a.children.length>0&&(yt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),B0(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:hb(m,a.index),routesMeta:y})};return t.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let p of V0(a.path))o(a,c,p)}),e}function V0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=V0(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function ob(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mb(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var ab=/^:[\w-]+$/,lb=3,ub=2,cb=1,db=10,fb=-2,my=t=>t==="*";function hb(t,e){let n=t.split("/"),i=n.length;return n.some(my)&&(i+=fb),e&&(i+=ub),n.filter(o=>!my(o)).reduce((o,a)=>o+(ab.test(a)?lb:a===""?cb:db),i)}function mb(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function pb(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],m=h===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=ma({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),T=p.route;if(!_&&m&&n&&!i[i.length-1].route.index&&(_=ma({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:yi([a,_.pathname]),pathnameBase:_b(yi([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=yi([a,_.pathnameBase]))}return c}function ma(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=gb(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},T)=>{if(y==="*"){let b=h[T]||"";c=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const w=h[T];return _&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:t}}function gb(t,e=!1,n=!0){Kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function $0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function yb(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Fs(t):t;return{pathname:n?n.startsWith("/")?n:vb(n,e):e,search:Tb(i),hash:Sb(o)}}function vb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ef(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function F0(t){let e=xb(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function z0(t,e,n,i=!1){let o;typeof t=="string"?o=Fs(t):(o={...t},yt(!o.pathname||!o.pathname.includes("?"),ef("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),ef("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),ef("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),_-=1;o.pathname=T.join("/")}h=_>=0?e[_]:"/"}let p=yb(o,h),m=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var yi=t=>t.join("/").replace(/\/\/+/g,"/"),_b=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Tb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Sb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var G0=["POST","PUT","PATCH","DELETE"];new Set(G0);var wb=["GET",...G0];new Set(wb);var zs=R.createContext(null);zs.displayName="DataRouter";var vu=R.createContext(null);vu.displayName="DataRouterState";var j0=R.createContext({isTransitioning:!1});j0.displayName="ViewTransition";var Cb=R.createContext(new Map);Cb.displayName="Fetchers";var Eb=R.createContext(null);Eb.displayName="Await";var Zn=R.createContext(null);Zn.displayName="Navigation";var xa=R.createContext(null);xa.displayName="Location";var Xn=R.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Kf=R.createContext(null);Kf.displayName="RouteError";function Ab(t,{relative:e}={}){yt(Gs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=R.useContext(Zn),{hash:o,pathname:a,search:c}=_a(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:yi([n,a])),i.createHref({pathname:h,search:c,hash:o})}function Gs(){return R.useContext(xa)!=null}function er(){return yt(Gs(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(xa).location}function H0(t){yt(Gs(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=er();return R.useMemo(()=>ma(t,$0(e)),[e,t])}var J0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y0(t){R.useContext(Zn).static||R.useLayoutEffect(t)}function _i(){let{isDataRoute:t}=R.useContext(Xn);return t?$b():Nb()}function Nb(){yt(Gs(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(zs),{basename:e,navigator:n}=R.useContext(Zn),{matches:i}=R.useContext(Xn),{pathname:o}=er(),a=JSON.stringify(F0(i)),c=R.useRef(!1);return Y0(()=>{c.current=!0}),R.useCallback((p,m={})=>{if(Kn(c.current,J0),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=z0(p,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:yi([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,a,o,t])}R.createContext(null);function Rb(){let{matches:t}=R.useContext(Xn),e=t[t.length-1];return e?e.params:{}}function _a(t,{relative:e}={}){let{matches:n}=R.useContext(Xn),{pathname:i}=er(),o=JSON.stringify(F0(n));return R.useMemo(()=>z0(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function kb(t,e){return K0(t,e)}function K0(t,e,n,i){var k;yt(Gs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(Zn),{matches:a}=R.useContext(Xn),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let I=y&&y.path||"";Q0(p,!y||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let _=er(),T;if(e){let I=typeof e=="string"?Fs(e):e;yt(m==="/"||((k=I.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${I.pathname}" was given in the \`location\` prop.`),T=I}else T=_;let w=T.pathname||"/",b=w;if(m!=="/"){let I=m.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=q0(t,{pathname:b});Kn(y||A!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Kn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=Pb(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:yi([m,o.encodeLocation?o.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?m:yi([m,o.encodeLocation?o.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),a,n,i);return e&&E?R.createElement(xa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},E):E}function Mb(){let t=Vb(),e=bb(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,c)}var Db=R.createElement(Mb,null),Ub=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(Xn.Provider,{value:this.props.routeContext},R.createElement(Kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ib({routeContext:t,match:e,children:n}){let i=R.useContext(zs);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Xn.Provider,{value:t},n)}function Pb(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let p=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);yt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(n)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:_}=n,T=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||T){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let _,T=!1,w=null,b=null;n&&(_=a&&m.route.id?a[m.route.id]:void 0,w=m.route.errorElement||Db,c&&(h<0&&y===0?(Q0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,b=null):h===y&&(T=!0,b=m.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,y+1)),E=()=>{let k;return _?k=w:T?k=b:m.route.Component?k=R.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=p,R.createElement(Ib,{match:m,routeContext:{outlet:p,matches:A,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?R.createElement(Ub,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):E()},null)}function Qf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lb(t){let e=R.useContext(zs);return yt(e,Qf(t)),e}function Ob(t){let e=R.useContext(vu);return yt(e,Qf(t)),e}function qb(t){let e=R.useContext(Xn);return yt(e,Qf(t)),e}function Zf(t){let e=qb(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Bb(){return Zf("useRouteId")}function Vb(){var i;let t=R.useContext(Kf),e=Ob("useRouteError"),n=Zf("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function $b(){let{router:t}=Lb("useNavigate"),e=Zf("useNavigate"),n=R.useRef(!1);return Y0(()=>{n.current=!0}),R.useCallback(async(o,a={})=>{Kn(n.current,J0),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var py={};function Q0(t,e,n){!e&&!py[t]&&(py[t]=!0,Kn(!1,n))}R.memo(Fb);function Fb({routes:t,future:e,state:n}){return K0(t,void 0,n,e)}function Rt(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zb({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){yt(!Gs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=Fs(n));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:T="default"}=n,w=R.useMemo(()=>{let b=vi(p,c);return b==null?null:{location:{pathname:b,search:m,hash:y,state:_,key:T},navigationType:i}},[c,p,m,y,_,T,i]);return Kn(w!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:R.createElement(Zn.Provider,{value:h},R.createElement(xa.Provider,{children:e,value:w}))}function Gb({children:t,location:e}){return kb(pf(t),e)}function pf(t,e=[]){let n=[];return R.Children.forEach(t,(i,o)=>{if(!R.isValidElement(i))return;let a=[...e,o];if(i.type===R.Fragment){n.push.apply(n,pf(i.props.children,a));return}yt(i.type===Rt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=pf(i.props.children,a)),n.push(c)}),n}var Zl="get",Xl="application/x-www-form-urlencoded";function xu(t){return t!=null&&typeof t.tagName=="string"}function jb(t){return xu(t)&&t.tagName.toLowerCase()==="button"}function Hb(t){return xu(t)&&t.tagName.toLowerCase()==="form"}function Jb(t){return xu(t)&&t.tagName.toLowerCase()==="input"}function Yb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Kb(t,e){return t.button===0&&(!e||e==="_self")&&!Yb(t)}var $l=null;function Qb(){if($l===null)try{new FormData(document.createElement("form"),0),$l=!1}catch{$l=!0}return $l}var Zb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tf(t){return t!=null&&!Zb.has(t)?(Kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xl}"`),null):t}function Xb(t,e){let n,i,o,a,c;if(Hb(t)){let h=t.getAttribute("action");i=h?vi(h,e):null,n=t.getAttribute("method")||Zl,o=tf(t.getAttribute("enctype"))||Xl,a=new FormData(t)}else if(jb(t)||Jb(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(i=p?vi(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Zl,o=tf(t.getAttribute("formenctype"))||tf(h.getAttribute("enctype"))||Xl,a=new FormData(h,t),!Qb()){let{name:m,type:y,value:_}=t;if(y==="image"){let T=m?`${m}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else m&&a.append(m,_)}}else{if(xu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zl,i=null,o=Xl,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:c}}function Xf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Wb(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ew(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function tw(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await Wb(a,n);return c.links?c.links():[]}return[]}));return sw(i.flat(1).filter(ew).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gy(t,e,n,i,o,a){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):a==="data"?e.filter((p,m)=>{var _;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function nw(t,e,{includeHydrateFallback:n}={}){return iw(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function iw(t){return[...new Set(t)]}function rw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function sw(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(rw(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ow=new Set([100,101,204,205]);function aw(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&vi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Z0(){let t=R.useContext(zs);return Xf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lw(){let t=R.useContext(vu);return Xf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wf=R.createContext(void 0);Wf.displayName="FrameworkContext";function X0(){let t=R.useContext(Wf);return Xf(t,"You must render this element inside a <HydratedRouter> element"),t}function uw(t,e){let n=R.useContext(Wf),[i,o]=R.useState(!1),[a,c]=R.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,T=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=k=>{k.forEach(I=>{c(I.isIntersecting)})},E=new IntersectionObserver(A,{threshold:.5});return T.current&&E.observe(T.current),()=>{E.disconnect()}}},[t]),R.useEffect(()=>{if(i){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[i]);let w=()=>{o(!0)},b=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,T,{}]:[a,T,{onFocus:ea(h,w),onBlur:ea(p,b),onMouseEnter:ea(m,w),onMouseLeave:ea(y,b),onTouchStart:ea(_,w)}]:[!1,T,{}]}function ea(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cw({page:t,...e}){let{router:n}=Z0(),i=R.useMemo(()=>q0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?R.createElement(fw,{page:t,matches:i,...e}):null}function dw(t){let{manifest:e,routeModules:n}=X0(),[i,o]=R.useState([]);return R.useEffect(()=>{let a=!1;return tw(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),i}function fw({page:t,matches:e,...n}){let i=er(),{manifest:o,routeModules:a}=X0(),{basename:c}=Z0(),{loaderData:h,matches:p}=lw(),m=R.useMemo(()=>gy(t,e,p,o,i,"data"),[t,e,p,o,i]),y=R.useMemo(()=>gy(t,e,p,o,i,"assets"),[t,e,p,o,i]),_=R.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let b=new Set,A=!1;if(e.forEach(k=>{var U;let I=o.routes[k.route.id];!I||!I.hasLoader||(!m.some(D=>D.route.id===k.route.id)&&k.route.id in h&&((U=a[k.route.id])!=null&&U.shouldRevalidate)||I.hasClientLoader?A=!0:b.add(k.route.id))}),b.size===0)return[];let E=aw(t,c);return A&&b.size>0&&E.searchParams.set("_routes",e.filter(k=>b.has(k.route.id)).map(k=>k.route.id).join(",")),[E.pathname+E.search]},[c,h,i,o,m,e,t,a]),T=R.useMemo(()=>nw(y,o),[y,o]),w=dw(y);return R.createElement(R.Fragment,null,_.map(b=>R.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),T.map(b=>R.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),w.map(({key:b,link:A})=>R.createElement("link",{key:b,...A})))}function hw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var W0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W0&&(window.__reactRouterVersion="7.6.3")}catch{}function mw({basename:t,children:e,window:n}){let i=R.useRef();i.current==null&&(i.current=tb({window:n,v5Compat:!0}));let o=i.current,[a,c]=R.useState({action:o.action,location:o.location}),h=R.useCallback(p=>{R.startTransition(()=>c(p))},[c]);return R.useLayoutEffect(()=>o.listen(h),[o,h]),R.createElement(zb,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=R.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:_,...T},w){let{basename:b}=R.useContext(Zn),A=typeof m=="string"&&ex.test(m),E,k=!1;if(typeof m=="string"&&A&&(E=m,W0))try{let Y=new URL(window.location.href),ee=m.startsWith("//")?new URL(Y.protocol+m):new URL(m),se=vi(ee.pathname,b);ee.origin===Y.origin&&se!=null?m=se+ee.search+ee.hash:k=!0}catch{Kn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=Ab(m,{relative:o}),[U,D,q]=uw(i,T),J=vw(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:o,viewTransition:_});function W(Y){e&&e(Y),Y.defaultPrevented||J(Y)}let re=R.createElement("a",{...T,...q,href:E||I,onClick:k||a?e:W,ref:hw(w,D),target:p,"data-discover":!A&&n==="render"?"true":void 0});return U&&!A?R.createElement(R.Fragment,null,re,R.createElement(cw,{page:I})):re});rt.displayName="Link";var pw=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:h,children:p,...m},y){let _=_a(c,{relative:m.relative}),T=er(),w=R.useContext(vu),{navigator:b,basename:A}=R.useContext(Zn),E=w!=null&&bw(_)&&h===!0,k=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,I=T.pathname,U=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(I=I.toLowerCase(),U=U?U.toLowerCase():null,k=k.toLowerCase()),U&&A&&(U=vi(U,A)||U);const D=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let q=I===k||!o&&I.startsWith(k)&&I.charAt(D)==="/",J=U!=null&&(U===k||!o&&U.startsWith(k)&&U.charAt(k.length)==="/"),W={isActive:q,isPending:J,isTransitioning:E},re=q?e:void 0,Y;typeof i=="function"?Y=i(W):Y=[i,q?"active":null,J?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ee=typeof a=="function"?a(W):a;return R.createElement(rt,{...m,"aria-current":re,className:Y,ref:y,style:ee,to:c,viewTransition:h},typeof p=="function"?p(W):p)});pw.displayName="NavLink";var gw=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:c=Zl,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...T},w)=>{let b=Tw(),A=Sw(h,{relative:m}),E=c.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&ex.test(h),I=U=>{if(p&&p(U),U.defaultPrevented)return;U.preventDefault();let D=U.nativeEvent.submitter,q=(D==null?void 0:D.getAttribute("formmethod"))||c;b(D||U.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:o,state:a,relative:m,preventScrollReset:y,viewTransition:_})};return R.createElement("form",{ref:w,method:E,action:A,onSubmit:i?p:I,...T,"data-discover":!k&&t==="render"?"true":void 0})});gw.displayName="Form";function yw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tx(t){let e=R.useContext(zs);return yt(e,yw(t)),e}function vw(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=_i(),p=er(),m=_a(t,{relative:a});return R.useCallback(y=>{if(Kb(y,e)){y.preventDefault();let _=n!==void 0?n:ha(p)===ha(m);h(t,{replace:_,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,m,n,i,e,t,o,a,c])}var xw=0,_w=()=>`__${String(++xw)}__`;function Tw(){let{router:t}=tx("useSubmit"),{basename:e}=R.useContext(Zn),n=Bb();return R.useCallback(async(i,o={})=>{let{action:a,method:c,encType:h,formData:p,body:m}=Xb(i,e);if(o.navigate===!1){let y=o.fetcherKey||_w();await t.fetch(y,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function Sw(t,{relative:e}={}){let{basename:n}=R.useContext(Zn),i=R.useContext(Xn);yt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={..._a(t||".",{relative:e})},c=er();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:yi([n,a.pathname])),ha(a)}function bw(t,e={}){let n=R.useContext(j0);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tx("useViewTransitionState"),o=_a(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=vi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=vi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ma(o.pathname,c)!=null||ma(o.pathname,a)!=null}[...ow];const ww=({user:t})=>x.jsxs("div",{className:"min-h-screen flex flex-col items-center px-6 py-24 text-center overflow-hidden",children:[x.jsxs("div",{className:"max-w-4xl animate-fade-in-up",children:[x.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white leading-tight mb-6 drop-shadow-md",children:"Welcome to Libertyville High School Science Olympiad"}),x.jsx("p",{className:"text-lg sm:text-xl bg-white/20 text-orange-50 font-medium rounded-xl shadow-lg p-5 max-w-4xl mx-auto mb-15 backdrop-blur-md",children:"Join the community, access events, practice tests, and excel in Science Olympiad!"}),x.jsx("div",{className:"mb-16 animate-fade-in-up animation-delay-200",children:t?x.jsx(rt,{to:"/events",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Events & Resources"}):x.jsx(rt,{to:"/signup",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Get Started"})})]}),x.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 w-full max-w-4xl animate-fade-in-up animation-delay-400",children:[x.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[x.jsx("div",{className:"text-5xl mb-4",children:""}),x.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Track Your Progress"}),x.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Monitor your performance and improve with feedback."})]}),x.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[x.jsx("div",{className:"text-5xl mb-4",children:""}),x.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Practice Tests"}),x.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Access curated practice tests tailored for Science Olympiad events."})]})]})]}),Cw=t=>{const[e,n]=R.useState(""),[i,o]=R.useState(""),a=async c=>{c.preventDefault(),await t.handleSignIn({email:e,password:i})&&(n(""),o(""))};return x.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[x.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign in to LHS Scioly"}),x.jsxs("form",{onSubmit:a,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),x.jsx("input",{value:e,onChange:({target:c})=>n(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),x.jsx("input",{type:"password",value:i,onChange:({target:c})=>o(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),x.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign In"}),x.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline mt-2",children:x.jsx(rt,{to:"/signup",children:"Don't have an account? Sign Up"})}),x.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:x.jsx(rt,{to:"/forgot",children:"Forgot password?"})})]})]})},Ew=t=>{const[e,n]=R.useState(""),[i,o]=R.useState(""),[a,c]=R.useState(""),[h,p]=R.useState(""),[m,y]=R.useState(""),[_,T]=R.useState(""),[w,b]=R.useState(!1);_i();const A=async E=>{if(E.preventDefault(),h!==m){t.setError("passwords do not match"),setTimeout(()=>{t.setError(null)},3e3);return}await t.handleSignUp({email:e,firstName:i,lastName:a,password:h,adminKey:_})&&(n(""),o(""),c(""),p(""),y(""),T(""))};return x.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[x.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign up for LHS Scioly"}),x.jsxs("form",{onSubmit:A,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),x.jsx("input",{value:e,onChange:({target:E})=>n(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"First Name"}),x.jsx("input",{value:i,onChange:({target:E})=>o(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Last Name"}),x.jsx("input",{value:a,onChange:({target:E})=>c(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),x.jsx("input",{type:"password",value:h,onChange:({target:E})=>p(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Confirm Password"}),x.jsx("input",{type:"password",value:m,onChange:({target:E})=>y(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),w?x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Admin Key"}),x.jsx("input",{type:"password",value:_,onChange:({target:E})=>T(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"}),x.jsx("button",{type:"button",onClick:()=>b(!1),className:"text-orange-600 hover:underline",children:"Cancel"})]}):x.jsx("div",{children:x.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-orange-600 hover:underline",children:"I am a Coach or Captain"})}),x.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign Up"}),x.jsxs("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:["Already have an account? ",x.jsx(rt,{to:"/signin",children:"Sign In"})]})]})]})},Aw=t=>{const[e,n]=R.useState(!1),[i,o]=R.useState(t.event.name),[a,c]=R.useState(t.event.block),[h,p]=R.useState(t.event.group),[m,y]=R.useState(t.event.description),[_,T]=R.useState(""),[w,b]=R.useState(t.event.resources),A=async I=>{I.preventDefault(),await t.editEvent(t.event.id,{name:i,group:h,block:a,description:m,resources:w}),n(!1)},E=async()=>{await t.deleteEvent(t.event.id)},k=()=>{_.trim()&&(b(w.concat(_.trim())),T(""))};return e?x.jsx("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:x.jsxs("form",{onSubmit:A,children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("div",{className:"mb-1",children:x.jsx("input",{value:i,onChange:({target:I})=>o(I.value),className:"text-lg font-semibold text-orange-700 px-2 py-1 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",children:"Save"}),x.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:()=>{n(!1),o(t.event.name),c(t.event.block),p(t.event.group),y(t.event.description),T(""),b(t.event.resources)},children:"Cancel"})]})]}),x.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[x.jsx("label",{className:"font-medium block mb-1",children:"Category"}),x.jsxs("select",{name:"category",value:h,onChange:({target:I})=>p(I.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[x.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),x.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),x.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),x.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),x.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),x.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),x.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[x.jsx("label",{className:"font-medium block mb-1",children:"Block"}),x.jsxs("select",{name:"block",value:a,onChange:({target:I})=>c(I.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[x.jsx("option",{value:"",children:"Self Schedule"}),x.jsx("option",{value:"1",children:"Block 1"}),x.jsx("option",{value:"2",children:"Block 2"}),x.jsx("option",{value:"3",children:"Block 3"}),x.jsx("option",{value:"4",children:"Block 4"}),x.jsx("option",{value:"5",children:"Block 5"})]})]}),x.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[x.jsx("label",{className:"font-medium block mb-1",children:"Description:"}),x.jsx("textarea",{value:m,onChange:({target:I})=>y(I.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",rows:4})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(I=>x.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[x.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:I}),x.jsx("button",{type:"button",onClick:()=>b(w.filter(U=>U!==I)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:""})]},I))})]}),x.jsxs("div",{className:"pt-3",children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{value:_,onChange:({target:I})=>T(I.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),x.jsx("button",{onClick:k,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]})]})}):x.jsxs("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-1",children:t.event.name}),t.user&&t.user.admin?x.jsxs("div",{className:"flex justify-between gap-2",children:[x.jsx("button",{className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-orange-700 transition",onClick:()=>n(!0),children:"Edit"}),x.jsx("button",{className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:E,children:"Delete"})]}):null]}),x.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Category:"})," ",t.event.group]}),x.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Block:"})," ",t.event.block===""?"Self Schedule":t.event.block]}),x.jsxs("p",{className:"text-sm text-gray-800 mb-3",children:[x.jsx("span",{className:"font-medium",children:"Description:"})," ",t.event.description]}),t.user?x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:t.event.resources.map(I=>x.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:I},I))})]}):null]})};function nx(t,e){return function(){return t.apply(e,arguments)}}const{toString:Nw}=Object.prototype,{getPrototypeOf:eh}=Object,{iterator:_u,toStringTag:ix}=Symbol,Tu=(t=>e=>{const n=Nw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),qn=t=>(t=t.toLowerCase(),e=>Tu(e)===t),Su=t=>e=>typeof e===t,{isArray:js}=Array,pa=Su("undefined");function Rw(t){return t!==null&&!pa(t)&&t.constructor!==null&&!pa(t.constructor)&&un(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rx=qn("ArrayBuffer");function kw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rx(t.buffer),e}const Mw=Su("string"),un=Su("function"),sx=Su("number"),bu=t=>t!==null&&typeof t=="object",Dw=t=>t===!0||t===!1,Wl=t=>{if(Tu(t)!=="object")return!1;const e=eh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ix in t)&&!(_u in t)},Uw=qn("Date"),Iw=qn("File"),Pw=qn("Blob"),Lw=qn("FileList"),Ow=t=>bu(t)&&un(t.pipe),qw=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||un(t.append)&&((e=Tu(t))==="formdata"||e==="object"&&un(t.toString)&&t.toString()==="[object FormData]"))},Bw=qn("URLSearchParams"),[Vw,$w,Fw,zw]=["ReadableStream","Request","Response","Headers"].map(qn),Gw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ta(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,o;if(typeof t!="object"&&(t=[t]),js(t))for(i=0,o=t.length;i<o;i++)e.call(null,t[i],i,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let h;for(i=0;i<c;i++)h=a[i],e.call(null,t[h],h,t)}}function ox(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,o;for(;i-- >0;)if(o=n[i],e===o.toLowerCase())return o;return null}const wr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ax=t=>!pa(t)&&t!==wr;function gf(){const{caseless:t}=ax(this)&&this||{},e={},n=(i,o)=>{const a=t&&ox(e,o)||o;Wl(e[a])&&Wl(i)?e[a]=gf(e[a],i):Wl(i)?e[a]=gf({},i):js(i)?e[a]=i.slice():e[a]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Ta(arguments[i],n);return e}const jw=(t,e,n,{allOwnKeys:i}={})=>(Ta(e,(o,a)=>{n&&un(o)?t[a]=nx(o,n):t[a]=o},{allOwnKeys:i}),t),Hw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Jw=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Yw=(t,e,n,i)=>{let o,a,c;const h={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)c=o[a],(!i||i(c,t,e))&&!h[c]&&(e[c]=t[c],h[c]=!0);t=n!==!1&&eh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Kw=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},Qw=t=>{if(!t)return null;if(js(t))return t;let e=t.length;if(!sx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Zw=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&eh(Uint8Array)),Xw=(t,e)=>{const i=(t&&t[_u]).call(t);let o;for(;(o=i.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},Ww=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},eC=qn("HTMLFormElement"),tC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),yy=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),nC=qn("RegExp"),lx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Ta(n,(o,a)=>{let c;(c=e(o,a,t))!==!1&&(i[a]=c||o)}),Object.defineProperties(t,i)},iC=t=>{lx(t,(e,n)=>{if(un(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(un(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},rC=(t,e)=>{const n={},i=o=>{o.forEach(a=>{n[a]=!0})};return js(t)?i(t):i(String(t).split(e)),n},sC=()=>{},oC=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function aC(t){return!!(t&&un(t.append)&&t[ix]==="FormData"&&t[_u])}const lC=t=>{const e=new Array(10),n=(i,o)=>{if(bu(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;const a=js(i)?[]:{};return Ta(i,(c,h)=>{const p=n(c,o+1);!pa(p)&&(a[h]=p)}),e[o]=void 0,a}}return i};return n(t,0)},uC=qn("AsyncFunction"),cC=t=>t&&(bu(t)||un(t))&&un(t.then)&&un(t.catch),ux=((t,e)=>t?setImmediate:e?((n,i)=>(wr.addEventListener("message",({source:o,data:a})=>{o===wr&&a===n&&i.length&&i.shift()()},!1),o=>{i.push(o),wr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",un(wr.postMessage)),dC=typeof queueMicrotask<"u"?queueMicrotask.bind(wr):typeof process<"u"&&process.nextTick||ux,fC=t=>t!=null&&un(t[_u]),Z={isArray:js,isArrayBuffer:rx,isBuffer:Rw,isFormData:qw,isArrayBufferView:kw,isString:Mw,isNumber:sx,isBoolean:Dw,isObject:bu,isPlainObject:Wl,isReadableStream:Vw,isRequest:$w,isResponse:Fw,isHeaders:zw,isUndefined:pa,isDate:Uw,isFile:Iw,isBlob:Pw,isRegExp:nC,isFunction:un,isStream:Ow,isURLSearchParams:Bw,isTypedArray:Zw,isFileList:Lw,forEach:Ta,merge:gf,extend:jw,trim:Gw,stripBOM:Hw,inherits:Jw,toFlatObject:Yw,kindOf:Tu,kindOfTest:qn,endsWith:Kw,toArray:Qw,forEachEntry:Xw,matchAll:Ww,isHTMLForm:eC,hasOwnProperty:yy,hasOwnProp:yy,reduceDescriptors:lx,freezeMethods:iC,toObjectSet:rC,toCamelCase:tC,noop:sC,toFiniteNumber:oC,findKey:ox,global:wr,isContextDefined:ax,isSpecCompliantForm:aC,toJSONObject:lC,isAsyncFn:uC,isThenable:cC,setImmediate:ux,asap:dC,isIterable:fC};function De(t,e,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}Z.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const cx=De.prototype,dx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dx[t]={value:t}});Object.defineProperties(De,dx);Object.defineProperty(cx,"isAxiosError",{value:!0});De.from=(t,e,n,i,o,a)=>{const c=Object.create(cx);return Z.toFlatObject(t,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),De.call(c,t.message,e,n,i,o),c.cause=t,c.name=t.name,a&&Object.assign(c,a),c};const hC=null;function yf(t){return Z.isPlainObject(t)||Z.isArray(t)}function fx(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function vy(t,e,n){return t?t.concat(e).map(function(o,a){return o=fx(o),!n&&a?"["+o+"]":o}).join(n?".":""):e}function mC(t){return Z.isArray(t)&&!t.some(yf)}const pC=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function wu(t,e,n){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,E){return!Z.isUndefined(E[A])});const i=n.metaTokens,o=n.visitor||y,a=n.dots,c=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(o))throw new TypeError("visitor must be a function");function m(b){if(b===null)return"";if(Z.isDate(b))return b.toISOString();if(Z.isBoolean(b))return b.toString();if(!p&&Z.isBlob(b))throw new De("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(b)||Z.isTypedArray(b)?p&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function y(b,A,E){let k=b;if(b&&!E&&typeof b=="object"){if(Z.endsWith(A,"{}"))A=i?A:A.slice(0,-2),b=JSON.stringify(b);else if(Z.isArray(b)&&mC(b)||(Z.isFileList(b)||Z.endsWith(A,"[]"))&&(k=Z.toArray(b)))return A=fx(A),k.forEach(function(U,D){!(Z.isUndefined(U)||U===null)&&e.append(c===!0?vy([A],D,a):c===null?A:A+"[]",m(U))}),!1}return yf(b)?!0:(e.append(vy(E,A,a),m(b)),!1)}const _=[],T=Object.assign(pC,{defaultVisitor:y,convertValue:m,isVisitable:yf});function w(b,A){if(!Z.isUndefined(b)){if(_.indexOf(b)!==-1)throw Error("Circular reference detected in "+A.join("."));_.push(b),Z.forEach(b,function(k,I){(!(Z.isUndefined(k)||k===null)&&o.call(e,k,Z.isString(I)?I.trim():I,A,T))===!0&&w(k,A?A.concat(I):[I])}),_.pop()}}if(!Z.isObject(t))throw new TypeError("data must be an object");return w(t),e}function xy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function th(t,e){this._pairs=[],t&&wu(t,this,e)}const hx=th.prototype;hx.append=function(e,n){this._pairs.push([e,n])};hx.toString=function(e){const n=e?function(i){return e.call(this,i,xy)}:xy;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function gC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mx(t,e,n){if(!e)return t;const i=n&&n.encode||gC;Z.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(o?a=o(e,n):a=Z.isURLSearchParams(e)?e.toString():new th(e,n).toString(i),a){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class _y{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(i){i!==null&&e(i)})}}const px={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yC=typeof URLSearchParams<"u"?URLSearchParams:th,vC=typeof FormData<"u"?FormData:null,xC=typeof Blob<"u"?Blob:null,_C={isBrowser:!0,classes:{URLSearchParams:yC,FormData:vC,Blob:xC},protocols:["http","https","file","blob","url","data"]},nh=typeof window<"u"&&typeof document<"u",vf=typeof navigator=="object"&&navigator||void 0,TC=nh&&(!vf||["ReactNative","NativeScript","NS"].indexOf(vf.product)<0),SC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bC=nh&&window.location.href||"http://localhost",wC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nh,hasStandardBrowserEnv:TC,hasStandardBrowserWebWorkerEnv:SC,navigator:vf,origin:bC},Symbol.toStringTag,{value:"Module"})),Jt={...wC,..._C};function CC(t,e){return wu(t,new Jt.classes.URLSearchParams,Object.assign({visitor:function(n,i,o,a){return Jt.isNode&&Z.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function EC(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function AC(t){const e={},n=Object.keys(t);let i;const o=n.length;let a;for(i=0;i<o;i++)a=n[i],e[a]=t[a];return e}function gx(t){function e(n,i,o,a){let c=n[a++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=a>=n.length;return c=!c&&Z.isArray(o)?o.length:c,p?(Z.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!h):((!o[c]||!Z.isObject(o[c]))&&(o[c]=[]),e(n,i,o[c],a)&&Z.isArray(o[c])&&(o[c]=AC(o[c])),!h)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const n={};return Z.forEachEntry(t,(i,o)=>{e(EC(i),o,n,0)}),n}return null}function NC(t,e,n){if(Z.isString(t))try{return(e||JSON.parse)(t),Z.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Sa={transitional:px,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,a=Z.isObject(e);if(a&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return o?JSON.stringify(gx(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return CC(e,this.formSerializer).toString();if((h=Z.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return wu(h?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(n.setContentType("application/json",!1),NC(e)):e}],transformResponse:[function(e){const n=this.transitional||Sa.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(i&&!this.responseType||o)){const c=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?De.from(h,De.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],t=>{Sa.headers[t]={}});const RC=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kC=t=>{const e={};let n,i,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),n=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!n||e[n]&&RC[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Ty=Symbol("internals");function ta(t){return t&&String(t).trim().toLowerCase()}function eu(t){return t===!1||t==null?t:Z.isArray(t)?t.map(eu):String(t)}function MC(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const DC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nf(t,e,n,i,o){if(Z.isFunction(i))return i.call(this,e,n);if(o&&(e=n),!!Z.isString(e)){if(Z.isString(i))return e.indexOf(i)!==-1;if(Z.isRegExp(i))return i.test(e)}}function UC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function IC(t,e){const n=Z.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(o,a,c){return this[i].call(this,e,o,a,c)},configurable:!0})})}let cn=class{constructor(e){e&&this.set(e)}set(e,n,i){const o=this;function a(h,p,m){const y=ta(p);if(!y)throw new Error("header name must be a non-empty string");const _=Z.findKey(o,y);(!_||o[_]===void 0||m===!0||m===void 0&&o[_]!==!1)&&(o[_||p]=eu(h))}const c=(h,p)=>Z.forEach(h,(m,y)=>a(m,y,p));if(Z.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(Z.isString(e)&&(e=e.trim())&&!DC(e))c(kC(e),n);else if(Z.isObject(e)&&Z.isIterable(e)){let h={},p,m;for(const y of e){if(!Z.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[m=y[0]]=(p=h[m])?Z.isArray(p)?[...p,y[1]]:[p,y[1]]:y[1]}c(h,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=ta(e),e){const i=Z.findKey(this,e);if(i){const o=this[i];if(!n)return o;if(n===!0)return MC(o);if(Z.isFunction(n))return n.call(this,o,i);if(Z.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ta(e),e){const i=Z.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||nf(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let o=!1;function a(c){if(c=ta(c),c){const h=Z.findKey(i,c);h&&(!n||nf(i,i[h],h,n))&&(delete i[h],o=!0)}}return Z.isArray(e)?e.forEach(a):a(e),o}clear(e){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const a=n[i];(!e||nf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const n=this,i={};return Z.forEach(this,(o,a)=>{const c=Z.findKey(i,a);if(c){n[c]=eu(o),delete n[a];return}const h=e?UC(a):String(a).trim();h!==a&&delete n[a],n[h]=eu(o),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Z.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=e&&Z.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[Ty]=this[Ty]={accessors:{}}).accessors,o=this.prototype;function a(c){const h=ta(c);i[h]||(IC(o,c),i[h]=!0)}return Z.isArray(e)?e.forEach(a):a(e),this}};cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(cn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Z.freezeMethods(cn);function rf(t,e){const n=this||Sa,i=e||n,o=cn.from(i.headers);let a=i.data;return Z.forEach(t,function(h){a=h.call(n,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function yx(t){return!!(t&&t.__CANCEL__)}function Hs(t,e,n){De.call(this,t??"canceled",De.ERR_CANCELED,e,n),this.name="CanceledError"}Z.inherits(Hs,De,{__CANCEL__:!0});function vx(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new De("Request failed with status code "+n.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function PC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function LC(t,e){t=t||10;const n=new Array(t),i=new Array(t);let o=0,a=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),y=i[a];c||(c=m),n[o]=p,i[o]=m;let _=a,T=0;for(;_!==o;)T+=n[_++],_=_%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),m-c<e)return;const w=y&&m-y;return w?Math.round(T*1e3/w):void 0}}function OC(t,e){let n=0,i=1e3/e,o,a;const c=(m,y=Date.now())=>{n=y,o=null,a&&(clearTimeout(a),a=null),t.apply(null,m)};return[(...m)=>{const y=Date.now(),_=y-n;_>=i?c(m,y):(o=m,a||(a=setTimeout(()=>{a=null,c(o)},i-_)))},()=>o&&c(o)]}const ou=(t,e,n=3)=>{let i=0;const o=LC(50,250);return OC(a=>{const c=a.loaded,h=a.lengthComputable?a.total:void 0,p=c-i,m=o(p),y=c<=h;i=c;const _={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&y?(h-c)/m:void 0,event:a,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(_)},n)},Sy=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},by=t=>(...e)=>Z.asap(()=>t(...e)),qC=Jt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Jt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,BC=Jt.hasStandardBrowserEnv?{write(t,e,n,i,o,a){const c=[t+"="+encodeURIComponent(e)];Z.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Z.isString(i)&&c.push("path="+i),Z.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function VC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $C(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function xx(t,e,n){let i=!VC(e);return t&&(i||n==!1)?$C(t,e):e}const wy=t=>t instanceof cn?{...t}:t;function Ar(t,e){e=e||{};const n={};function i(m,y,_,T){return Z.isPlainObject(m)&&Z.isPlainObject(y)?Z.merge.call({caseless:T},m,y):Z.isPlainObject(y)?Z.merge({},y):Z.isArray(y)?y.slice():y}function o(m,y,_,T){if(Z.isUndefined(y)){if(!Z.isUndefined(m))return i(void 0,m,_,T)}else return i(m,y,_,T)}function a(m,y){if(!Z.isUndefined(y))return i(void 0,y)}function c(m,y){if(Z.isUndefined(y)){if(!Z.isUndefined(m))return i(void 0,m)}else return i(void 0,y)}function h(m,y,_){if(_ in e)return i(m,y);if(_ in t)return i(void 0,m)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(m,y,_)=>o(wy(m),wy(y),_,!0)};return Z.forEach(Object.keys(Object.assign({},t,e)),function(y){const _=p[y]||o,T=_(t[y],e[y],y);Z.isUndefined(T)&&_!==h||(n[y]=T)}),n}const _x=t=>{const e=Ar({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:h}=e;e.headers=c=cn.from(c),e.url=mx(xx(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(Z.isFormData(n)){if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...y]=p?p.split(";").map(_=>_.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...y].join("; "))}}if(Jt.hasStandardBrowserEnv&&(i&&Z.isFunction(i)&&(i=i(e)),i||i!==!1&&qC(e.url))){const m=o&&a&&BC.read(a);m&&c.set(o,m)}return e},FC=typeof XMLHttpRequest<"u",zC=FC&&function(t){return new Promise(function(n,i){const o=_x(t);let a=o.data;const c=cn.from(o.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=o,y,_,T,w,b;function A(){w&&w(),b&&b(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let E=new XMLHttpRequest;E.open(o.method.toUpperCase(),o.url,!0),E.timeout=o.timeout;function k(){if(!E)return;const U=cn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),q={data:!h||h==="text"||h==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:U,config:t,request:E};vx(function(W){n(W),A()},function(W){i(W),A()},q),E=null}"onloadend"in E?E.onloadend=k:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(k)},E.onabort=function(){E&&(i(new De("Request aborted",De.ECONNABORTED,t,E)),E=null)},E.onerror=function(){i(new De("Network Error",De.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let D=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const q=o.transitional||px;o.timeoutErrorMessage&&(D=o.timeoutErrorMessage),i(new De(D,q.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,t,E)),E=null},a===void 0&&c.setContentType(null),"setRequestHeader"in E&&Z.forEach(c.toJSON(),function(D,q){E.setRequestHeader(q,D)}),Z.isUndefined(o.withCredentials)||(E.withCredentials=!!o.withCredentials),h&&h!=="json"&&(E.responseType=o.responseType),m&&([T,b]=ou(m,!0),E.addEventListener("progress",T)),p&&E.upload&&([_,w]=ou(p),E.upload.addEventListener("progress",_),E.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(y=U=>{E&&(i(!U||U.type?new Hs(null,t,E):U),E.abort(),E=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const I=PC(o.url);if(I&&Jt.protocols.indexOf(I)===-1){i(new De("Unsupported protocol "+I+":",De.ERR_BAD_REQUEST,t));return}E.send(a||null)})},GC=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,o;const a=function(m){if(!o){o=!0,h();const y=m instanceof Error?m:this.reason;i.abort(y instanceof De?y:new Hs(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,a(new De(`timeout ${e} of ms exceeded`,De.ETIMEDOUT))},e);const h=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:p}=i;return p.unsubscribe=()=>Z.asap(h),p}},jC=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,o;for(;i<n;)o=i+e,yield t.slice(i,o),i=o},HC=async function*(t,e){for await(const n of JC(t))yield*jC(n,e)},JC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},Cy=(t,e,n,i)=>{const o=HC(t,e);let a=0,c,h=p=>{c||(c=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:y}=await o.next();if(m){h(),p.close();return}let _=y.byteLength;if(n){let T=a+=_;n(T)}p.enqueue(new Uint8Array(y))}catch(m){throw h(m),m}},cancel(p){return h(p),o.return()}},{highWaterMark:2})},Cu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Tx=Cu&&typeof ReadableStream=="function",YC=Cu&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Sx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},KC=Tx&&Sx(()=>{let t=!1;const e=new Request(Jt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Ey=64*1024,xf=Tx&&Sx(()=>Z.isReadableStream(new Response("").body)),au={stream:xf&&(t=>t.body)};Cu&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!au[e]&&(au[e]=Z.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new De(`Response type '${e}' is not supported`,De.ERR_NOT_SUPPORT,i)})})})(new Response);const QC=async t=>{if(t==null)return 0;if(Z.isBlob(t))return t.size;if(Z.isSpecCompliantForm(t))return(await new Request(Jt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(t)||Z.isArrayBuffer(t))return t.byteLength;if(Z.isURLSearchParams(t)&&(t=t+""),Z.isString(t))return(await YC(t)).byteLength},ZC=async(t,e)=>{const n=Z.toFiniteNumber(t.getContentLength());return n??QC(e)},XC=Cu&&(async t=>{let{url:e,method:n,data:i,signal:o,cancelToken:a,timeout:c,onDownloadProgress:h,onUploadProgress:p,responseType:m,headers:y,withCredentials:_="same-origin",fetchOptions:T}=_x(t);m=m?(m+"").toLowerCase():"text";let w=GC([o,a&&a.toAbortSignal()],c),b;const A=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let E;try{if(p&&KC&&n!=="get"&&n!=="head"&&(E=await ZC(y,i))!==0){let q=new Request(e,{method:"POST",body:i,duplex:"half"}),J;if(Z.isFormData(i)&&(J=q.headers.get("content-type"))&&y.setContentType(J),q.body){const[W,re]=Sy(E,ou(by(p)));i=Cy(q.body,Ey,W,re)}}Z.isString(_)||(_=_?"include":"omit");const k="credentials"in Request.prototype;b=new Request(e,{...T,signal:w,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:k?_:void 0});let I=await fetch(b,T);const U=xf&&(m==="stream"||m==="response");if(xf&&(h||U&&A)){const q={};["status","statusText","headers"].forEach(Y=>{q[Y]=I[Y]});const J=Z.toFiniteNumber(I.headers.get("content-length")),[W,re]=h&&Sy(J,ou(by(h),!0))||[];I=new Response(Cy(I.body,Ey,W,()=>{re&&re(),A&&A()}),q)}m=m||"text";let D=await au[Z.findKey(au,m)||"text"](I,t);return!U&&A&&A(),await new Promise((q,J)=>{vx(q,J,{data:D,headers:cn.from(I.headers),status:I.status,statusText:I.statusText,config:t,request:b})})}catch(k){throw A&&A(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,t,b),{cause:k.cause||k}):De.from(k,k&&k.code,t,b)}}),_f={http:hC,xhr:zC,fetch:XC};Z.forEach(_f,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ay=t=>`- ${t}`,WC=t=>Z.isFunction(t)||t===null||t===!1,bx={getAdapter:t=>{t=Z.isArray(t)?t:[t];const{length:e}=t;let n,i;const o={};for(let a=0;a<e;a++){n=t[a];let c;if(i=n,!WC(n)&&(i=_f[(c=String(n)).toLowerCase()],i===void 0))throw new De(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+a]=i}if(!i){const a=Object.entries(o).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(Ay).join(`
`):" "+Ay(a[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:_f};function sf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hs(null,t)}function Ny(t){return sf(t),t.headers=cn.from(t.headers),t.data=rf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),bx.getAdapter(t.adapter||Sa.adapter)(t).then(function(i){return sf(t),i.data=rf.call(t,t.transformResponse,i),i.headers=cn.from(i.headers),i},function(i){return yx(i)||(sf(t),i&&i.response&&(i.response.data=rf.call(t,t.transformResponse,i.response),i.response.headers=cn.from(i.response.headers))),Promise.reject(i)})}const wx="1.10.0",Eu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Eu[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Ry={};Eu.transitional=function(e,n,i){function o(a,c){return"[Axios v"+wx+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,h)=>{if(e===!1)throw new De(o(c," has been removed"+(n?" in "+n:"")),De.ERR_DEPRECATED);return n&&!Ry[c]&&(Ry[c]=!0,console.warn(o(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,c,h):!0}};Eu.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function eE(t,e,n){if(typeof t!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let o=i.length;for(;o-- >0;){const a=i[o],c=e[a];if(c){const h=t[a],p=h===void 0||c(h,a,t);if(p!==!0)throw new De("option "+a+" must be "+p,De.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new De("Unknown option "+a,De.ERR_BAD_OPTION)}}const tu={assertOptions:eE,validators:Eu},Gn=tu.validators;let Cr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _y,response:new _y}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ar(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:a}=n;i!==void 0&&tu.assertOptions(i,{silentJSONParsing:Gn.transitional(Gn.boolean),forcedJSONParsing:Gn.transitional(Gn.boolean),clarifyTimeoutError:Gn.transitional(Gn.boolean)},!1),o!=null&&(Z.isFunction(o)?n.paramsSerializer={serialize:o}:tu.assertOptions(o,{encode:Gn.function,serialize:Gn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),tu.assertOptions(n,{baseUrl:Gn.spelling("baseURL"),withXsrfToken:Gn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&Z.merge(a.common,a[n.method]);a&&Z.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),n.headers=cn.concat(c,a);const h=[];let p=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(p=p&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const m=[];this.interceptors.response.forEach(function(A){m.push(A.fulfilled,A.rejected)});let y,_=0,T;if(!p){const b=[Ny.bind(this),void 0];for(b.unshift.apply(b,h),b.push.apply(b,m),T=b.length,y=Promise.resolve(n);_<T;)y=y.then(b[_++],b[_++]);return y}T=h.length;let w=n;for(_=0;_<T;){const b=h[_++],A=h[_++];try{w=b(w)}catch(E){A.call(this,E);break}}try{y=Ny.call(this,w)}catch(b){return Promise.reject(b)}for(_=0,T=m.length;_<T;)y=y.then(m[_++],m[_++]);return y}getUri(e){e=Ar(this.defaults,e);const n=xx(e.baseURL,e.url,e.allowAbsoluteUrls);return mx(n,e.params,e.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(e){Cr.prototype[e]=function(n,i){return this.request(Ar(i||{},{method:e,url:n,data:(i||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function n(i){return function(a,c,h){return this.request(Ar(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Cr.prototype[e]=n(),Cr.prototype[e+"Form"]=n(!0)});let tE=class Cx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(o=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](o);i._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(h=>{i.subscribe(h),a=h}).then(o);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,h){i.reason||(i.reason=new Hs(a,c,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Cx(function(o){e=o}),cancel:e}}};function nE(t){return function(n){return t.apply(null,n)}}function iE(t){return Z.isObject(t)&&t.isAxiosError===!0}const Tf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tf).forEach(([t,e])=>{Tf[e]=t});function Ex(t){const e=new Cr(t),n=nx(Cr.prototype.request,e);return Z.extend(n,Cr.prototype,e,{allOwnKeys:!0}),Z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return Ex(Ar(t,o))},n}const be=Ex(Sa);be.Axios=Cr;be.CanceledError=Hs;be.CancelToken=tE;be.isCancel=yx;be.VERSION=wx;be.toFormData=wu;be.AxiosError=De;be.Cancel=be.CanceledError;be.all=function(e){return Promise.all(e)};be.spread=nE;be.isAxiosError=iE;be.mergeConfig=Ar;be.AxiosHeaders=cn;be.formToJSON=t=>gx(Z.isHTMLForm(t)?new FormData(t):t);be.getAdapter=bx.getAdapter;be.HttpStatusCode=Tf;be.default=be;const{Axios:gO,AxiosError:yO,CanceledError:vO,isCancel:xO,CancelToken:_O,VERSION:TO,all:SO,Cancel:bO,isAxiosError:wO,spread:CO,toFormData:EO,AxiosHeaders:AO,HttpStatusCode:NO,formToJSON:RO,getAdapter:kO,mergeConfig:MO}=be,Au="/api/events";let Nu=null;const rE=t=>{Nu=`Bearer ${t}`},sE=async()=>(await be.get(Au)).data,oE=async t=>(await be.post(Au,t,{headers:{Authorization:Nu}})).data,aE=async(t,e)=>{const n=`${Au}/${t}`;return(await be.put(n,e,{headers:{Authorization:Nu}})).data},lE=async t=>{const e=`${Au}/${t}`;return(await be.delete(e,{headers:{Authorization:Nu}})).data},Qi={setToken:rE,getAll:sE,createEvent:oE,changeEvent:aE,deleteEvent:lE},Ax=({isOpen:t,onClose:e,title:n,children:i})=>(R.useEffect(()=>{const o=a=>{a.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e]),t?x.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-center z-50",onClick:e,children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg",onClick:o=>o.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:n}),x.jsx("button",{onClick:e,className:"text-gray-600 hover:text-red-600 text-xl font-bold",children:""})]}),x.jsx("div",{children:i})]})}):null),uE=t=>{var Y;const[e,n]=R.useState(null),[i,o]=R.useState(""),[a,c]=R.useState([]),[h,p]=R.useState(""),[m,y]=R.useState(""),[_,T]=R.useState(""),[w,b]=R.useState(""),[A,E]=R.useState(""),[k,I]=R.useState([]),[U,D]=R.useState(!1);R.useEffect(()=>{i.length===0?c(t.events):c(t.events.filter(ee=>ee.name.toLowerCase().includes(i.toLowerCase())))},[i,t.events]);const q=()=>{A.trim()&&(I(k.concat(A.trim())),E(""))},J=async ee=>{var se,z;ee.preventDefault();try{const Ue=await Qi.createEvent({name:h,block:_,group:m,description:w,resources:k});t.setEvents(t.events.concat(Ue)),p(""),T(""),y(""),b(""),E(""),I([]),D(!1),o("")}catch(Ue){(z=(se=Ue.response)==null?void 0:se.data)!=null&&z.error&&Ue.response.data.error==="expected `event name` to be unique"?(n("Event already added"),setTimeout(()=>{n(null)},5e3)):console.error("Failed to add event:",Ue)}},W=async(ee,se)=>{try{const z=await Qi.changeEvent(ee,se);t.setEvents(t.events.map(Ue=>Ue.id===z.id?z:Ue))}catch(z){console.error("Failed to edit event:",z)}},re=async ee=>{try{await Qi.deleteEvent(ee),t.setEvents(t.events.filter(se=>se.id!==ee))}catch(se){console.error("Failed to delete event:",se)}};return x.jsxs("div",{className:"max-w-3xl mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[x.jsx("h2",{className:"text-2xl font-semibold text-orange-800 text-center sm:text-left flex-1",children:"Science Olympiad Events"}),x.jsx("input",{type:"text",placeholder:"Filter events...",value:i,onChange:({target:ee})=>o(ee.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 w-full sm:w-1/3"})]}),((Y=t.user)==null?void 0:Y.admin)&&x.jsx("div",{className:"py-4",children:x.jsx("div",{className:"flex items-center justify-center",children:x.jsx("button",{onClick:()=>D(!0),className:"text-orange-600 text-4xl pt-2 pb-4 py-2 rounded hover:text-orange-700 transition pb-2 w-full border border-orange-300 border-dashed rounded-md hover:bg-orange-100",title:"Add Event",children:"+"})})}),x.jsxs(Ax,{isOpen:U,onClose:()=>{p(""),y(""),b(""),E(""),I([]),D(!1)},title:"Add New Event",children:[e&&x.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[x.jsx("strong",{className:"font-bold",children:"Error: "}),x.jsx("span",{className:"block sm:inline",children:e})]}),x.jsxs("form",{onSubmit:J,className:"space-y-4 bg-orange-50 p-4 rounded-md",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Name"}),x.jsx("input",{value:h,onChange:({target:ee})=>p(ee.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Category"}),x.jsxs("select",{name:"category",value:m,onChange:({target:ee})=>y(ee.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[x.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),x.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),x.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),x.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),x.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),x.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Block"}),x.jsxs("select",{name:"block",value:_,onChange:({target:ee})=>T(ee.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[x.jsx("option",{value:"",children:"Self Schedule"}),x.jsx("option",{value:"1",children:"Block 1"}),x.jsx("option",{value:"2",children:"Block 2"}),x.jsx("option",{value:"3",children:"Block 3"}),x.jsx("option",{value:"4",children:"Block 4"}),x.jsx("option",{value:"4",children:"Block 5"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Description"}),x.jsx("textarea",{value:w,onChange:({target:ee})=>b(ee.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 resize-y min-h-[100px]"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{value:A,onChange:({target:ee})=>E(ee.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),x.jsx("button",{onClick:q,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]}),x.jsx("div",{className:"mt-4 space-y-2",children:k.length>0&&x.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(ee=>x.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[x.jsx("a",{href:ee,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:ee}),x.jsx("button",{onClick:()=>I(k.filter(se=>se!==ee)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:""})]},ee))})}),x.jsx("button",{type:"submit",className:"w-full bg-orange-600 text-white py-2 rounded-md hover:bg-orange-700 transition",children:"Add Event"})]})]}),x.jsx("ul",{className:"space-y-4",children:a.map(ee=>x.jsx(Aw,{user:t.user,event:ee,editEvent:W,deleteEvent:re},ee.id))})]})},cE=t=>{const[e,n]=R.useState(""),i=_i(),o=async a=>{a.preventDefault(),await t.handleForgot(e)&&(n(""),i("/signin"))};return x.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[x.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Forgot Password"}),x.jsxs("form",{onSubmit:o,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"Email Address"}),x.jsx("input",{value:e,onChange:({target:a})=>n(a.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),x.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset Password"}),x.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:x.jsx(rt,{to:"/signin",children:"Cancel"})})]})]})},ih="/api/tests";let Ru=null;const dE=t=>{Ru=`Bearer ${t}`},fE=async()=>(await be.get(ih,{headers:{Authorization:Ru}})).data,hE=async t=>(await be.post(ih,t,{headers:{Authorization:Ru}})).data,mE=async(t,e)=>(await be.put(`${ih}/${t}`,{assignees:e.assignees},{headers:{Authorization:Ru}})).data,kn={setToken:dE,getAll:fE,createTest:hE,updateTest:mE},Nx="/api/questions";let rh=null;const pE=t=>{rh=`Bearer ${t}`},gE=async()=>(await be.get(Nx,{headers:{Authorization:rh}})).data,yE=async t=>(await be.post(Nx,t,{headers:{Authorization:rh}})).data,ks={setToken:pE,getAll:gE,createQuestion:yE},vE="modulepreload",xE=function(t){return"/"+t},ky={},ba=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=c(n.map(m=>{if(m=xE(m),m in ky)return;ky[m]=!0;const y=m.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":vE,y||(T.as="script"),T.crossOrigin="",T.href=m,p&&T.setAttribute("nonce",p),document.head.appendChild(T),y)return new Promise((w,b)=>{T.addEventListener("load",w),T.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},_E=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ba(async()=>{const{default:i}=await Promise.resolve().then(()=>Js);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class sh extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class TE extends sh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class SE extends sh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bE extends sh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sf||(Sf={}));var wE=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class CE{constructor(e,{headers:n={},customFetch:i,region:o=Sf.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=_E(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return wE(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:c}=n;let h={},{region:p}=n;p||(p=this.region),p&&p!=="any"&&(h["x-region"]=p);let m;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)));const y=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:m}).catch(b=>{throw new TE(b)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new SE(y);if(!y.ok)throw new bE(y);let T=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return T==="application/json"?w=yield y.json():T==="application/octet-stream"?w=yield y.blob():T==="text/event-stream"?w=y:T==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null}}catch(o){return{data:null,error:o}}})}}var It={},_s={},Ts={},Ss={},bs={},ws={},EE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ls=EE();const AE=Ls.fetch,Rx=Ls.fetch.bind(Ls),kx=Ls.Headers,NE=Ls.Request,RE=Ls.Response,Js=Object.freeze(Object.defineProperty({__proto__:null,Headers:kx,Request:NE,Response:RE,default:Rx,fetch:AE},Symbol.toStringTag,{value:"Module"})),kE=zS(Js);var Fl={},My;function Mx(){if(My)return Fl;My=1,Object.defineProperty(Fl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Fl.default=t,Fl}var Dy;function Dx(){if(Dy)return ws;Dy=1;var t=ws&&ws.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ws,"__esModule",{value:!0});const e=t(kE),n=t(Mx());class i{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,c){return this.headers=Object.assign({},this.headers),this.headers[a]=c,this}then(a,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,_,T;let w=null,b=null,A=null,E=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const q=await m.text();q===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=q:b=JSON.parse(q))}const U=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),D=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");U&&D&&D.length>1&&(A=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(w={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,A=null,E=406,k="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const U=await m.text();try{w=JSON.parse(U),Array.isArray(w)&&m.status===404&&(b=[],w=null,E=200,k="OK")}catch{m.status===404&&U===""?(E=204,k="No Content"):w={message:U}}if(w&&this.isMaybeSingle&&(!((T=w==null?void 0:w.details)===null||T===void 0)&&T.includes("0 rows"))&&(w=null,E=200,k="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:b,count:A,status:E,statusText:k}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,_,T;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(_=m==null?void 0:m.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(T=m==null?void 0:m.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),p.then(a,c)}returns(){return this}overrideTypes(){return this}}return ws.default=i,ws}var Uy;function Ux(){if(Uy)return bs;Uy=1;var t=bs&&bs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bs,"__esModule",{value:!0});const e=t(Dx());class n extends e.default{select(o){let a=!1;const c=(o??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:a=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${o}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:c=a}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,a,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(m,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:a=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var y;const _=[o?"analyze":null,a?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),T=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${T}"; options=${_};`,m==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return bs.default=n,bs}var Iy;function oh(){if(Iy)return Ss;Iy=1;var t=Ss&&Ss.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ss,"__esModule",{value:!0});const e=t(Ux());class n extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const c=Array.from(new Set(a)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${p}fts${m}.${a}`),this}match(o){return Object.entries(o).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(o,a,c){return this.url.searchParams.append(o,`not.${a}.${c}`),this}or(o,{foreignTable:a,referencedTable:c=a}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,a,c){return this.url.searchParams.append(o,`${a}.${c}`),this}}return Ss.default=n,Ss}var Py;function Ix(){if(Py)return Ts;Py=1;var t=Ts&&Ts.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ts,"__esModule",{value:!0});const e=t(oh());class n{constructor(o,{headers:a={},schema:c,fetch:h}){this.url=o,this.headers=a,this.schema=c,this.fetch=h}select(o,{head:a=!1,count:c}={}){const h=a?"HEAD":"GET";let p=!1;const m=(o??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:a,defaultToNull:c=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),a&&p.push(`count=${a}`),c||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const m=o.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(m.length>0){const y=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:a,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){const m="POST",y=[`resolution=${c?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),p||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(o)){const _=o.reduce((T,w)=>T.concat(Object.keys(w)),[]);if(_.length>0){const T=[...new Set(_)].map(w=>`"${w}"`);this.url.searchParams.set("columns",T.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:a}={}){const c="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),this.headers.Prefer=h.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const a="DELETE",c=[];return o&&c.push(`count=${o}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ts.default=n,Ts}var na={},ia={},Ly;function ME(){return Ly||(Ly=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.version=void 0,ia.version="0.0.0-automated"),ia}var Oy;function DE(){if(Oy)return na;Oy=1,Object.defineProperty(na,"__esModule",{value:!0}),na.DEFAULT_HEADERS=void 0;const t=ME();return na.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},na}var qy;function UE(){if(qy)return _s;qy=1;var t=_s&&_s.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(_s,"__esModule",{value:!0});const e=t(Ix()),n=t(oh()),i=DE();class o{constructor(c,{headers:h={},schema:p,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:m=!1,count:y}={}){let _;const T=new URL(`${this.url}/rpc/${c}`);let w;p||m?(_=p?"HEAD":"GET",Object.entries(h).filter(([A,E])=>E!==void 0).map(([A,E])=>[A,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([A,E])=>{T.searchParams.append(A,E)})):(_="POST",w=h);const b=Object.assign({},this.headers);return y&&(b.Prefer=`count=${y}`),new n.default({method:_,url:T,headers:b,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return _s.default=o,_s}var By;function IE(){if(By)return It;By=1;var t=It&&It.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(It,"__esModule",{value:!0}),It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const e=t(UE());It.PostgrestClient=e.default;const n=t(Ix());It.PostgrestQueryBuilder=n.default;const i=t(oh());It.PostgrestFilterBuilder=i.default;const o=t(Ux());It.PostgrestTransformBuilder=o.default;const a=t(Dx());It.PostgrestBuilder=a.default;const c=t(Mx());return It.PostgrestError=c.default,It.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:c.default},It}var PE=IE();const LE=FS(PE),{PostgrestClient:OE,PostgrestQueryBuilder:DO,PostgrestFilterBuilder:UO,PostgrestTransformBuilder:IO,PostgrestBuilder:PO,PostgrestError:LO}=LE;function qE(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const BE=qE(),VE="2.11.15",$E=`realtime-js/${VE}`,FE="1.0.0",Px=1e4,zE=1e3;var la;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(la||(la={}));var Ht;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ht||(Ht={}));var On;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(On||(On={}));var bf;(function(t){t.websocket="websocket"})(bf||(bf={}));var br;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(br||(br={}));class GE{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const o=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(e.slice(c,c+o));c=c+o;const p=i.decode(e.slice(c,c+a));c=c+a;const m=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class Lx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ft||(ft={}));const Vy=(t,e,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((a,c)=>(a[c]=jE(c,t,e,o),a),{})},jE=(t,e,n,i)=>{const o=e.find(h=>h.name===t),a=o==null?void 0:o.type,c=n[t];return a&&!i.includes(a)?Ox(a,c):wf(c)},Ox=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return KE(e,n)}switch(t){case ft.bool:return HE(e);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return JE(e);case ft.json:case ft.jsonb:return YE(e);case ft.timestamp:return QE(e);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return wf(e);default:return wf(e)}},wf=t=>t,HE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},JE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},YE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},KE=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let a;const c=t.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(h=>Ox(e,h))}return t},QE=t=>typeof t=="string"?t.replace(" ","T"):t,qx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class of{constructor(e,n,i={},o=Px){this.channel=e,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $y;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($y||($y={}));class ua{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ua.syncState(this.state,o,a,c),this.pendingDiffs.forEach(p=>{this.state=ua.syncDiff(this.state,p,a,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ua.syncDiff(this.state,o,a,c),h())}),this.onJoin((o,a,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:c})}),this.onLeave((o,a,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,o){const a=this.cloneDeep(e),c=this.transformState(n),h={},p={};return this.map(a,(m,y)=>{c[m]||(p[m]=y)}),this.map(c,(m,y)=>{const _=a[m];if(_){const T=y.map(E=>E.presence_ref),w=_.map(E=>E.presence_ref),b=y.filter(E=>w.indexOf(E.presence_ref)<0),A=_.filter(E=>T.indexOf(E.presence_ref)<0);b.length>0&&(h[m]=b),A.length>0&&(p[m]=A)}else h[m]=y}),this.syncDiff(a,{joins:h,leaves:p},i,o)}static syncDiff(e,n,i,o){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(h,p)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),y.length>0){const _=e[h].map(w=>w.presence_ref),T=y.filter(w=>_.indexOf(w.presence_ref)<0);e[h].unshift(...T)}i(h,y,p)}),this.map(c,(h,p)=>{let m=e[h];if(!m)return;const y=p.map(_=>_.presence_ref);m=m.filter(_=>y.indexOf(_.presence_ref)<0),e[h]=m,o(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const o=e[i];return"metas"in o?n[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fy||(Fy={}));var zy;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zy||(zy={}));var gi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gi||(gi={}));class ah{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new of(this,On.join,this.params,this.timeout),this.rejoinTimer=new Lx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(On.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ua(this),this.broadcastEndpointURL=qx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ht.closed){const{config:{broadcast:a,presence:c,private:h}}=this.params;this._onError(y=>e==null?void 0:e(gi.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(gi.CLOSED));const p={},m={broadcast:a,presence:c,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket.setAuth(),y===void 0){e==null||e(gi.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,w=(_=T==null?void 0:T.length)!==null&&_!==void 0?_:0,b=[];for(let A=0;A<w;A++){const E=T[A],{filter:{event:k,schema:I,table:U,filter:D}}=E,q=y&&y[A];if(q&&q.event===k&&q.schema===I&&q.table===U&&q.filter===D)b.push(Object.assign(Object.assign({},E),{id:q.id}));else{this.unsubscribe(),this.state=Ht.errored,e==null||e(gi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(gi.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ht.errored,e==null||e(gi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(On.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new of(this,On.leave,{},e),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new of(this,e,n,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var o,a;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:y}=On;if(i&&[h,p,m,y].indexOf(c)>=0&&i!==this._joinRef())return;let T=this._onMessage(c,n,i);if(n&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var b,A,E;return((b=w.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(A=w.filter)===null||A===void 0?void 0:A.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(w=>w.callback(T,i)):(a=this.bindings[c])===null||a===void 0||a.filter(w=>{var b,A,E,k,I,U;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const D=w.id,q=(b=w.filter)===null||b===void 0?void 0:b.event;return D&&((A=n.ids)===null||A===void 0?void 0:A.includes(D))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const D=(I=(k=w==null?void 0:w.filter)===null||k===void 0?void 0:k.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return D==="*"||D===((U=n==null?void 0:n.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof T=="object"&&"ids"in T){const b=T.data,{schema:A,table:E,commit_timestamp:k,type:I,errors:U}=b;T=Object.assign(Object.assign({},{schema:A,table:E,commit_timestamp:k,eventType:I,new:{},old:{},errors:U}),this._getPayloadRecords(b))}w.callback(T,i)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&ah.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(On.close,{},e)}_onError(e){this._on(On.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Vy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Vy(e.columns,e.old_record)),n}}const Gy=()=>{},ZE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XE{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Px,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gy,this.ref=0,this.logger=Gy,this.conn=null,this.sendBuffer=[],this.serializer=new GE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...h)=>ba(async()=>{const{default:p}=await Promise.resolve().then(()=>Js);return{default:p}},void 0).then(({default:p})=>p(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${e}/${bf.websocket}`,this.httpEndpoint=qx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,c)=>c(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Lx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=BE),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FE}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case la.connecting:return br.Connecting;case la.open:return br.Open;case la.closing:return br.Closing;default:return br.Closed}}isConnected(){return this.connectionState()===br.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new ah(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:i,payload:o,ref:a}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${a})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:$E};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(On.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(zE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:o,payload:a,ref:c}=n;i==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${i} ${o} ${c&&"("+c+")"||""}`,a),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(o,a,c)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(On.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${i}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([ZE],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class lh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class WE extends lh{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cf extends lh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var eA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const Bx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ba(async()=>{const{default:i}=await Promise.resolve().then(()=>Js);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},tA=()=>eA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ba(()=>Promise.resolve().then(()=>Js),void 0)).Response:Response}),Ef=t=>{if(Array.isArray(t))return t.map(n=>Ef(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Ef(i)}),e};var Dr=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const af=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nA=(t,e,n)=>Dr(void 0,void 0,void 0,function*(){const i=yield tA();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{e(new WE(af(o),t.status||500))}).catch(o=>{e(new Cf(af(o),o))}):e(new Cf(af(t),t))}),iA=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),n))};function wa(t,e,n,i,o,a){return Dr(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(n,iA(e,i,o,a)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>nA(p,h,i))})})}function lu(t,e,n,i){return Dr(this,void 0,void 0,function*(){return wa(t,"GET",e,n,i)})}function Yi(t,e,n,i,o){return Dr(this,void 0,void 0,function*(){return wa(t,"POST",e,i,o,n)})}function rA(t,e,n,i,o){return Dr(this,void 0,void 0,function*(){return wa(t,"PUT",e,i,o,n)})}function sA(t,e,n,i){return Dr(this,void 0,void 0,function*(){return wa(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Vx(t,e,n,i,o){return Dr(this,void 0,void 0,function*(){return wa(t,"DELETE",e,i,o,n)})}var an=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const oA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aA{constructor(e,n={},i,o){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Bx(o)}uploadOrUpdate(e,n,i,o){return an(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},jy),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),p&&a.append("metadata",this.encodeMetadata(p)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",c.cacheControl),p&&a.append("metadata",this.encodeMetadata(p))):(a=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const m=this._removeEmptyFolders(n),y=this._getFinalPath(m),_=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:e,body:a,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),T=yield _.json();return _.ok?{data:{path:m,id:T.Id,fullPath:T.Key},error:null}:{data:null,error:T}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}upload(e,n,i){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,o){return an(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),c=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:jy.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const _=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:y}),T=yield _.json();return _.ok?{data:{path:a,fullPath:T.Key},error:null}:{data:null,error:T}}catch(p){if(Pt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return an(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield Yi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),c=new URL(this.url+a.url),h=c.searchParams.get("token");if(!h)throw new lh("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}update(e,n,i){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return an(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Pt(o))return{data:null,error:o};throw o}})}copy(e,n,i){return an(this,void 0,void 0,function*(){try{return{data:{path:(yield Yi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Pt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,i){return an(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Yi(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(o){if(Pt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,i){return an(this,void 0,void 0,function*(){try{const o=yield Yi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(o){if(Pt(o))return{data:null,error:o};throw o}})}download(e,n){return an(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield lu(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Pt(h))return{data:null,error:h};throw h}})}info(e){return an(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield lu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ef(i),error:null}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}exists(e){return an(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield sA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Pt(i)&&i instanceof Cf){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&o.push(p);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(e){return an(this,void 0,void 0,function*(){try{return{data:yield Vx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}list(e,n,i){return an(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},oA),n),{prefix:e||""});return{data:yield Yi(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(Pt(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const lA="2.7.1",uA={"X-Client-Info":`storage-js/${lA}`};var Cs=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class cA{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},uA),n),this.fetch=Bx(i)}listBuckets(){return Cs(this,void 0,void 0,function*(){try{return{data:yield lu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Pt(e))return{data:null,error:e};throw e}})}getBucket(e){return Cs(this,void 0,void 0,function*(){try{return{data:yield lu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Cs(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Cs(this,void 0,void 0,function*(){try{return{data:yield rA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Cs(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Cs(this,void 0,void 0,function*(){try{return{data:yield Vx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}}class dA extends cA{constructor(e,n={},i){super(e,n,i)}from(e){return new aA(this.url,this.headers,e,this.fetch)}}const fA="2.50.2";let sa="";typeof Deno<"u"?sa="deno":typeof document<"u"?sa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sa="react-native":sa="node";const hA={"X-Client-Info":`supabase-js-${sa}/${fA}`},mA={headers:hA},pA={schema:"public"},gA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yA={};var vA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const xA=t=>{let e;return t?e=t:typeof fetch>"u"?e=Rx:e=fetch,(...n)=>e(...n)},_A=()=>typeof Headers>"u"?kx:Headers,TA=(t,e,n)=>{const i=xA(n),o=_A();return(a,c)=>vA(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:t;let m=new o(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(a,Object.assign(Object.assign({},c),{headers:m}))})};var SA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};function bA(t){return t.endsWith("/")?t:t+"/"}function wA(t,e){var n,i;const{db:o,auth:a,realtime:c,global:h}=t,{db:p,auth:m,realtime:y,global:_}=e,T={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},y),c),global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>SA(this,void 0,void 0,function*(){return""})};return t.accessToken?T.accessToken=t.accessToken:delete T.accessToken,T}const $x="2.70.0",Ms=30*1e3,Af=3,lf=Af*Ms,CA="http://localhost:9999",EA="supabase.auth.token",AA={"X-Client-Info":`gotrue-js/${$x}`},Nf="X-Supabase-Api-Version",Fx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RA=6e5;class uh extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class kA extends uh{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function MA(t){return Me(t)&&t.name==="AuthApiError"}class zx extends uh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class tr extends uh{constructor(e,n,i,o){super(e,i,o),this.name=n,this.status=i}}class Ji extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DA(t){return Me(t)&&t.name==="AuthSessionMissingError"}class zl extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gl extends tr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class jl extends tr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UA(t){return Me(t)&&t.name==="AuthImplicitGrantRedirectError"}class Hy extends tr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rf extends tr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function uf(t){return Me(t)&&t.name==="AuthRetryableFetchError"}class Jy extends tr{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class ca extends tr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yy=` 	
\r=`.split(""),IA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Yy.length;e+=1)t[Yy[e].charCodeAt(0)]=-2;for(let e=0;e<uu.length;e+=1)t[uu[e].charCodeAt(0)]=e;return t})();function Ky(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(uu[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(uu[i]),e.queuedBits-=6}}function Gx(t,e,n){const i=IA[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Qy(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=c=>{OA(c,i,n)};for(let c=0;c<t.length;c+=1)Gx(t.charCodeAt(c),o,a);return e.join("")}function PA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function LA(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}PA(i,e)}}function OA(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function qA(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Gx(t.charCodeAt(o),n,i);return new Uint8Array(e)}function BA(t){const e=[];return LA(t,n=>e.push(n)),new Uint8Array(e)}function VA(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>Ky(o,n,i)),Ky(null,n,i),e.join("")}function $A(t){return Math.round(Date.now()/1e3)+t}function FA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ln=()=>typeof window<"u"&&typeof document<"u",_r={tested:!1,writable:!1},da=()=>{if(!Ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_r.tested)return _r.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_r.tested=!0,_r.writable=!0}catch{_r.tested=!0,_r.writable=!1}return _r.writable};function zA(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((i,o)=>{e[o]=i}),e}const jx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ba(async()=>{const{default:i}=await Promise.resolve().then(()=>Js);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},GA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Hx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Hl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Jl=async(t,e)=>{await t.removeItem(e)};class ku{constructor(){this.promise=new ku.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ku.promiseConstructor=Promise;function cf(t){const e=t.split(".");if(e.length!==3)throw new ca("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!NA.test(e[i]))throw new ca("JWT not in base64url format");return{header:JSON.parse(Qy(e[0])),payload:JSON.parse(Qy(e[1])),signature:qA(e[2]),raw:{header:e[0],payload:e[1]}}}async function jA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function HA(t,e){return new Promise((i,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await t(a);if(!e(a,null,c)){i(c);return}}catch(c){if(!e(a,c)){o(c);return}}})()})}function JA(t){return("0"+t.toString(16)).substr(-2)}function YA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,JA).join("")}async function KA(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function QA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await KA(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Es(t,e,n=!1){const i=YA();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await Hx(t,`${e}-code-verifier`,o);const a=await QA(i);return[a,i===a?"plain":"s256"]}const ZA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XA(t){const e=t.headers.get(Nf);if(!e||!e.match(ZA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function WA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function eN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function As(t){if(!tN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var nN=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};const Sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iN=[502,503,504];async function Zy(t){var e;if(!GA(t))throw new Rf(Sr(t),0);if(iN.includes(t.status))throw new Rf(Sr(t),t.status);let n;try{n=await t.json()}catch(a){throw new zx(Sr(a),a)}let i;const o=XA(t);if(o&&o.getTime()>=Fx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Jy(Sr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ji}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Jy(Sr(n),t.status,n.weak_password.reasons);throw new kA(Sr(n),t.status||500,i)}const rN=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function He(t,e,n,i){var o;const a=Object.assign({},i==null?void 0:i.headers);a[Nf]||(a[Nf]=Fx["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const c=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await sN(t,e,n+h,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function sN(t,e,n,i,o,a){const c=rN(e,i,o,a);let h;try{h=await t(n,Object.assign({},c))}catch(p){throw console.error(p),new Rf(Sr(p),0)}if(h.ok||await Zy(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await Zy(p)}}function pi(t){var e;let n=null;uN(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=$A(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function Xy(t){const e=pi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function oN(t){return{data:t,error:null}}function aN(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a}=t,c=nN(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function lN(t){return t}function uN(t){return t.access_token&&t.refresh_token&&t.expires_in}const df=["global","local","others"];var cN=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};class dN{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=jx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=df[0]){if(df.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${df.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zi})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=cN(e,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:aN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zi})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,o,a,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},y=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:lN});if(y.error)throw y.error;const _=await y.json(),T=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(b=>{const A=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);m[`${E}Page`]=A}),m.total=parseInt(T)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(Me(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){As(e);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zi})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){As(e);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Zi})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){As(e);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zi})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){As(e.userId);try{const{data:n,error:i}=await He(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteFactor(e){As(e.userId),As(e.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}}const fN={getItem:t=>da()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{da()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{da()&&globalThis.localStorage.removeItem(t)}};function Wy(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function hN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ns={debug:!!(globalThis&&da()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mN extends Jx{}async function pN(t,e,n){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ns.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}hN();const gN={url:CA,storageKey:EA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ev(t,e,n){return await n()}class ga{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ga.nextInstanceID,ga.nextInstanceID+=1,this.instanceID>0&&Ln()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},gN),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new dN({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=jx(o.fetch),this.lock=o.lock||ev,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ln()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pN:this.lock=ev,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:da()?this.storage=fN:(this.memoryStorage={},this.storage=Wy(this.memoryStorage)):(this.memoryStorage={},this.storage=Wy(this.memoryStorage)),Ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$x}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=zA(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Ln()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),UA(a)){const p=(e=a.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Me(n)?{error:n}:{error:new zx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,o;try{const a=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:pi}),{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(Me(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,i,o;try{let a;if("email"in e){const{email:y,password:_,options:T}=e;let w=null,b=null;this.flowType==="pkce"&&([w,b]=await Es(this.storage,this.storageKey)),a=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:y,password:_,data:(n=T==null?void 0:T.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:w,code_challenge_method:b},xform:pi})}else if("phone"in e){const{phone:y,password:_,options:T}=e;a=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(i=T==null?void 0:T.data)!==null&&i!==void 0?i:{},channel:(o=T==null?void 0:T.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:pi})}else throw new Gl("You must provide either an email or phone number and a password");const{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(Me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:c,options:h}=e;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xy})}else if("phone"in e){const{phone:a,password:c,options:h}=e;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xy})}else throw new Gl("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new zl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,o,a,c,h,p,m,y,_,T,w;let b,A;if("message"in e)b=e.message,A=e.signature;else{const{chain:E,wallet:k,statement:I,options:U}=e;let D;if(Ln())if(typeof k=="object")D=k;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))D=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=k}const q=new URL((n=U==null?void 0:U.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const J=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),I?{statement:I}:null));let W;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")W=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)W=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)b=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),A=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${q.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(o=(i=U==null?void 0:U.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=U==null?void 0:U.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U==null?void 0:U.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((p=U==null?void 0:U.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((m=U==null?void 0:U.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((_=(y=U==null?void 0:U.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...U.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const J=await D.signMessage(new TextEncoder().encode(b),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=J}}try{const{data:E,error:k}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:VA(A)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:pi});if(k)throw k;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new zl}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:k})}catch(E){if(Me(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const n=await Hl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{const{data:a,error:c}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:pi});if(await Jl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new zl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:c})}catch(a){if(Me(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:i,token:o,access_token:a,nonce:c}=e,h=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pi}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new zl}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,o,a,c;try{if("email"in e){const{email:h,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Es(this.storage,this.storageKey));const{error:_}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:y}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new Gl("You must provide either an email or phone number.")}catch(h){if(Me(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,i;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:pi});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(o){if(Me(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,i,o;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Es(this.storage,this.storageKey)),await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:oN})}catch(a){if(Me(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Ji;const{error:o}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:a}=e,{error:c}=await He(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:o,options:a}=e,{data:c,error:h}=await He(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Gl("You must provide either an email or phone number and a type")}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Hl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<lf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,y)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,y))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zi}):await this._useSession(async n=>{var i,o,a;const{data:c,error:h}=n;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ji}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Zi})})}catch(n){if(Me(n))return DA(n)&&(await this._removeSession(),await Jl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new Ji;const c=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Es(this.storage,this.storageKey));const{data:m,error:y}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:Zi});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ji;const n=Date.now()/1e3;let i=n,o=!0,a=null;const{payload:c}=cf(e.access_token);if(c.exp&&(i=c.exp,o=i<=n),o){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Ji;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ln())throw new jl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Hy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hy("No code detected.");const{data:I,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=e;if(!a||!h||!c||!m)throw new jl("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(h);let T=y+_;p&&(T=parseInt(p));const w=T-y;w*1e3<=Ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);const b=T-_;y-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,T,y):y-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,T,y);const{data:A,error:E}=await this._getUser(a);if(E)throw E;const k={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:_,expires_at:T,refresh_token:c,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(i){if(Me(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Hl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{error:a};const c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(MA(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Jl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=FA(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,o;try{const{data:{session:a},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Es(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Me(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:o}=await this._useSession(async a=>{var c,h,p,m,y;const{data:_,error:T}=a;if(T)throw T;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Ln()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Me(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:c}=n;if(c)throw c;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await HA(async o=>(o>0&&await jA(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pi})),(o,a)=>{const c=200*Math.pow(2,o);return a&&uf(a)&&Date.now()+c-i<Ms})}catch(i){if(this._debug(n,"error",i),Me(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Ln()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Hl(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<lf;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${lf}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),uf(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ku;const{data:a,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!a.session)throw new Ji;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),Me(a)){const c={session:null,error:a};return uf(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){a.push(p)}});if(await Promise.all(c),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Hx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Jl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ms);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ms}ms, refresh threshold is ${Af} ticks`),o<=Af&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Jx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,c]=await Es(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await He(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:m}=await He(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:c,error:h}=await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(Me(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Me(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],o=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=cf(o.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i||(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+RA>Date.now()))return i;const{data:o,error:a}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!o.keys||o.keys.length===0)throw new ca("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),i=o.keys.find(c=>c.kid===e),!i)throw new ca("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:w,error:b}=await this.getSession();if(b||!w.session)return{data:null,error:b};i=w.session.access_token}const{header:o,payload:a,signature:c,raw:{header:h,payload:p}}=cf(i);if(WA(a.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:a,header:o,signature:c},error:null}}const m=eN(o.alg),y=await this.fetchJwk(o.kid,n),_=await crypto.subtle.importKey("jwk",y,m,!0,["verify"]);if(!await crypto.subtle.verify(m,_,c,BA(`${h}.${p}`)))throw new ca("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}}}ga.nextInstanceID=0;const yN=ga;class vN extends yN{constructor(e){super(e)}}var xN=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class _N{constructor(e,n,i){var o,a,c;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=bA(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:pA,realtime:yA,auth:Object.assign(Object.assign({},gA),{storageKey:m}),global:mA},_=wA(i??{},y);this.storageKey=(o=_.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=_.global.headers)!==null&&a!==void 0?a:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(T,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=_.auth)!==null&&c!==void 0?c:{},this.headers,_.global.fetch),this.fetch=TA(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new OE(new URL("rest/v1",p).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),_.accessToken||this._listenForAuthEvents()}get functions(){return new CE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new dA(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return xN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,storageKey:a,flowType:c,lock:h,debug:p},m,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vN({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),m),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,flowType:c,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new XE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const TN=(t,e,n)=>new _N(t,e,n),tv=TN("https://zazwsuhcsscuxbvyiuwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphendzdWhjc3NjdXhidnlpdXdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA4MjExMjMsImV4cCI6MjA2NjM5NzEyM30.lt7ZjnkOKJdLW_oiJ-3Nu4YoeLWFGlmcuwMkMmrTqY0"),SN=async t=>{if(!t)return null;const e=t.name.split(".").pop(),i=`images/${`${Math.random().toString(36).slice(2)}.${e}`}`,{data:o,error:a}=await tv.storage.from("images").upload(i,t);if(a)return console.error(a),null;const{data:c,error:h}=tv.storage.from("images").getPublicUrl(i);if(h)return console.error("Public URL error:",h),null;if(c)return c.publicUrl},bN={getImageUrl:SN};var et;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const a={};for(const c of o)a[c]=c;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(h=>typeof o[o[h]]!="number"),c={};for(const h of a)c[h]=o[h];return t.objectValues(c)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&a.push(c);return a},t.find=(o,a)=>{for(const c of o)if(a(c))return c},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,a=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}t.joinValues=i,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(et||(et={}));var nv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(nv||(nv={}));const pe=et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ki=t=>{switch(typeof t){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(t)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(t)?pe.array:t===null?pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pe.promise:typeof Map<"u"&&t instanceof Map?pe.map:typeof Set<"u"&&t instanceof Set?pe.set:typeof Date<"u"&&t instanceof Date?pe.date:pe.object;default:return pe.unknown}},le=et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},i={_errors:[]},o=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)i._errors.push(n(c));else{let h=i,p=0;for(;p<c.path.length;){const m=c.path[p];p===c.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(n(c))):h[m]=h[m]||{_errors:[]},h=h[m],p++}}};return o(this),i}static assert(e){if(!(e instanceof xi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):i.push(e(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}xi.create=t=>new xi(t);const kf=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===pe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,et.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${et.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${et.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${et.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:et.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,et.assertNever(t)}return{message:n}};let wN=kf;function CN(){return wN}const EN=t=>{const{data:e,path:n,errorMaps:i,issueData:o}=t,a=[...n,...o.path||[]],c={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let h="";const p=i.filter(m=>!!m).slice().reverse();for(const m of p)h=m(c,{data:e,defaultError:h}).message;return{...o,path:a,message:h}};function he(t,e){const n=CN(),i=EN({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===kf?void 0:kf].filter(o=>!!o)});t.common.issues.push(i)}class Xt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const o of n){if(o.status==="aborted")return Ne;o.status==="dirty"&&e.dirty(),i.push(o.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const o of n){const a=await o.key,c=await o.value;i.push({key:a,value:c})}return Xt.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const o of n){const{key:a,value:c}=o;if(a.status==="aborted"||c.status==="aborted")return Ne;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(i[a.value]=c.value)}return{status:e.value,value:i}}}const Ne=Object.freeze({status:"aborted"}),oa=t=>({status:"dirty",value:t}),Dn=t=>({status:"valid",value:t}),iv=t=>t.status==="aborted",rv=t=>t.status==="dirty",Os=t=>t.status==="valid",cu=t=>typeof Promise<"u"&&t instanceof Promise;var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));class Qn{constructor(e,n,i,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sv=(t,e)=>{if(Os(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new xi(t.common.issues);return this._error=n,this._error}}};function qe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:o}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,h)=>{const{message:p}=t;return c.code==="invalid_enum_value"?{message:p??h.defaultError}:typeof h.data>"u"?{message:p??i??h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:p??n??h.defaultError}},description:o}}class Ye{get description(){return this._def.description}_getType(e){return Ki(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ki(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xt,ctx:{common:e.parent.common,data:e.data,parsedType:Ki(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(cu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ki(e)},o=this._parseSync({data:e,path:i.path,parent:i});return sv(i,o)}"~validate"(e){var i,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ki(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Os(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(o=(i=a==null?void 0:a.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Os(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ki(e)},o=this._parse({data:e,path:i.path,parent:i}),a=await(cu(o)?o:Promise.resolve(o));return sv(i,a)}refine(e,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,a)=>{const c=e(o),h=()=>a.addIssue({code:le.custom,...i(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(p=>p?!0:(h(),!1)):c?!0:(h(),!1)})}refinement(e,n){return this._refinement((i,o)=>e(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(e){return new Vs({schema:this,typeName:Ae.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Xi.create(this,this._def)}nullable(){return $s.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yn.create(this)}promise(){return pu.create(this,this._def)}or(e){return fu.create([this,e],this._def)}and(e){return hu.create(this,e,this._def)}transform(e){return new Vs({...qe(this._def),schema:this,typeName:Ae.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new If({...qe(this._def),innerType:this,defaultValue:n,typeName:Ae.ZodDefault})}brand(){return new KN({typeName:Ae.ZodBranded,type:this,...qe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Pf({...qe(this._def),innerType:this,catchValue:n,typeName:Ae.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ch.create(this,e)}readonly(){return Lf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const AN=/^c[^\s-]{8,}$/i,NN=/^[0-9a-z]+$/,RN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,MN=/^[a-z0-9_-]{21}$/i,DN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,PN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ff;const LN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ON=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,BN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$N=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Yx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",FN=new RegExp(`^${Yx}$`);function Kx(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function zN(t){return new RegExp(`^${Kx(t)}$`)}function GN(t){let e=`${Yx}T${Kx(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function jN(t,e){return!!((e==="v4"||!e)&&LN.test(t)||(e==="v6"||!e)&&qN.test(t))}function HN(t,e){if(!DN.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function JN(t,e){return!!((e==="v4"||!e)&&ON.test(t)||(e==="v6"||!e)&&BN.test(t))}class Hn extends Ye{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){const a=this._getOrReturnCtx(e);return he(a,{code:le.invalid_type,expected:pe.string,received:a.parsedType}),Ne}const i=new Xt;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),he(o,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),he(o,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,h=e.data.length<a.value;(c||h)&&(o=this._getOrReturnCtx(e,o),c?he(o,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):h&&he(o,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")IN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"email",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")ff||(ff=new RegExp(PN,"u")),ff.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"emoji",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")kN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"uuid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")MN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"nanoid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")AN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"cuid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")NN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"cuid2",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")RN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"ulid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),he(o,{validation:"url",code:le.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"regex",code:le.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),he(o,{code:le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),he(o,{code:le.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),he(o,{code:le.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?GN(a).test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{code:le.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?FN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{code:le.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?zN(a).test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{code:le.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?UN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"duration",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?jN(e.data,a.version)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"ip",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?HN(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"jwt",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?JN(e.data,a.version)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"cidr",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?VN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"base64",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?$N.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"base64url",code:le.invalid_string,message:a.message}),i.dirty()):et.assertNever(a);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(o=>e.test(o),{validation:n,code:le.invalid_string,...ve.errToObj(i)})}_addCheck(e){return new Hn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ve.errToObj(n)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hn.create=t=>new Hn({checks:[],typeName:Ae.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...qe(t)});function YN(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=n>i?n:i,a=Number.parseInt(t.toFixed(o).replace(".","")),c=Number.parseInt(e.toFixed(o).replace(".",""));return a%c/10**o}class Nr extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){const a=this._getOrReturnCtx(e);return he(a,{code:le.invalid_type,expected:pe.number,received:a.parsedType}),Ne}let i;const o=new Xt;for(const a of this._def.checks)a.kind==="int"?et.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?YN(e.data,a.value)!==0&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.not_finite,message:a.message}),o.dirty()):et.assertNever(a);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,i,o){return new Nr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:ve.toString(o)}]})}_addCheck(e){return new Nr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&et.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Nr.create=t=>new Nr({checks:[],typeName:Ae.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class Rr extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pe.bigint)return this._getInvalidInput(e);let i;const o=new Xt;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):et.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return he(n,{code:le.invalid_type,expected:pe.bigint,received:n.parsedType}),Ne}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,i,o){return new Rr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:ve.toString(o)}]})}_addCheck(e){return new Rr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Rr.create=t=>new Rr({checks:[],typeName:Ae.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...qe(t)});class du extends Ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:pe.boolean,received:i.parsedType}),Ne}return Dn(e.data)}}du.create=t=>new du({typeName:Ae.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class qs extends Ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){const a=this._getOrReturnCtx(e);return he(a,{code:le.invalid_type,expected:pe.date,received:a.parsedType}),Ne}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return he(a,{code:le.invalid_date}),Ne}const i=new Xt;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),he(o,{code:le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),he(o,{code:le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):et.assertNever(a);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new qs({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}qs.create=t=>new qs({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ae.ZodDate,...qe(t)});class ov extends Ye{_parse(e){if(this._getType(e)!==pe.symbol){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:pe.symbol,received:i.parsedType}),Ne}return Dn(e.data)}}ov.create=t=>new ov({typeName:Ae.ZodSymbol,...qe(t)});class av extends Ye{_parse(e){if(this._getType(e)!==pe.undefined){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:pe.undefined,received:i.parsedType}),Ne}return Dn(e.data)}}av.create=t=>new av({typeName:Ae.ZodUndefined,...qe(t)});class lv extends Ye{_parse(e){if(this._getType(e)!==pe.null){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:pe.null,received:i.parsedType}),Ne}return Dn(e.data)}}lv.create=t=>new lv({typeName:Ae.ZodNull,...qe(t)});class uv extends Ye{constructor(){super(...arguments),this._any=!0}_parse(e){return Dn(e.data)}}uv.create=t=>new uv({typeName:Ae.ZodAny,...qe(t)});class Mf extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Dn(e.data)}}Mf.create=t=>new Mf({typeName:Ae.ZodUnknown,...qe(t)});class Wi extends Ye{_parse(e){const n=this._getOrReturnCtx(e);return he(n,{code:le.invalid_type,expected:pe.never,received:n.parsedType}),Ne}}Wi.create=t=>new Wi({typeName:Ae.ZodNever,...qe(t)});class cv extends Ye{_parse(e){if(this._getType(e)!==pe.undefined){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:pe.void,received:i.parsedType}),Ne}return Dn(e.data)}}cv.create=t=>new cv({typeName:Ae.ZodVoid,...qe(t)});class Yn extends Ye{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),o=this._def;if(n.parsedType!==pe.array)return he(n,{code:le.invalid_type,expected:pe.array,received:n.parsedType}),Ne;if(o.exactLength!==null){const c=n.data.length>o.exactLength.value,h=n.data.length<o.exactLength.value;(c||h)&&(he(n,{code:c?le.too_big:le.too_small,minimum:h?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(he(n,{code:le.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(he(n,{code:le.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((c,h)=>o.type._parseAsync(new Qn(n,c,n.path,h)))).then(c=>Xt.mergeArray(i,c));const a=[...n.data].map((c,h)=>o.type._parseSync(new Qn(n,c,n.path,h)));return Xt.mergeArray(i,a)}get element(){return this._def.type}min(e,n){return new Yn({...this._def,minLength:{value:e,message:ve.toString(n)}})}max(e,n){return new Yn({...this._def,maxLength:{value:e,message:ve.toString(n)}})}length(e,n){return new Yn({...this._def,exactLength:{value:e,message:ve.toString(n)}})}nonempty(e){return this.min(1,e)}}Yn.create=(t,e)=>new Yn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ae.ZodArray,...qe(e)});function Ds(t){if(t instanceof Et){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=Xi.create(Ds(i))}return new Et({...t._def,shape:()=>e})}else return t instanceof Yn?new Yn({...t._def,type:Ds(t.element)}):t instanceof Xi?Xi.create(Ds(t.unwrap())):t instanceof $s?$s.create(Ds(t.unwrap())):t instanceof kr?kr.create(t.items.map(e=>Ds(e))):t}class Et extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=et.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==pe.object){const m=this._getOrReturnCtx(e);return he(m,{code:le.invalid_type,expected:pe.object,received:m.parsedType}),Ne}const{status:i,ctx:o}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof Wi&&this._def.unknownKeys==="strip"))for(const m in o.data)c.includes(m)||h.push(m);const p=[];for(const m of c){const y=a[m],_=o.data[m];p.push({key:{status:"valid",value:m},value:y._parse(new Qn(o,_,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof Wi){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of h)p.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(m==="strict")h.length>0&&(he(o,{code:le.unrecognized_keys,keys:h}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of h){const _=o.data[y];p.push({key:{status:"valid",value:y},value:m._parse(new Qn(o,_,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of p){const _=await y.key,T=await y.value;m.push({key:_,value:T,alwaysSet:y.alwaysSet})}return m}).then(m=>Xt.mergeObjectSync(i,m)):Xt.mergeObjectSync(i,p)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new Et({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var a,c;const o=((c=(a=this._def).errorMap)==null?void 0:c.call(a,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:ve.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Et({...this._def,unknownKeys:"strip"})}passthrough(){return new Et({...this._def,unknownKeys:"passthrough"})}extend(e){return new Et({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Et({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ae.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Et({...this._def,catchall:e})}pick(e){const n={};for(const i of et.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Et({...this._def,shape:()=>n})}omit(e){const n={};for(const i of et.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new Et({...this._def,shape:()=>n})}deepPartial(){return Ds(this)}partial(e){const n={};for(const i of et.objectKeys(this.shape)){const o=this.shape[i];e&&!e[i]?n[i]=o:n[i]=o.optional()}return new Et({...this._def,shape:()=>n})}required(e){const n={};for(const i of et.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof Xi;)a=a._def.innerType;n[i]=a}return new Et({...this._def,shape:()=>n})}keyof(){return Qx(et.objectKeys(this.shape))}}Et.create=(t,e)=>new Et({shape:()=>t,unknownKeys:"strip",catchall:Wi.create(),typeName:Ae.ZodObject,...qe(e)});Et.strictCreate=(t,e)=>new Et({shape:()=>t,unknownKeys:"strict",catchall:Wi.create(),typeName:Ae.ZodObject,...qe(e)});Et.lazycreate=(t,e)=>new Et({shape:t,unknownKeys:"strip",catchall:Wi.create(),typeName:Ae.ZodObject,...qe(e)});class fu extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function o(a){for(const h of a)if(h.result.status==="valid")return h.result;for(const h of a)if(h.result.status==="dirty")return n.common.issues.push(...h.ctx.common.issues),h.result;const c=a.map(h=>new xi(h.ctx.common.issues));return he(n,{code:le.invalid_union,unionErrors:c}),Ne}if(n.common.async)return Promise.all(i.map(async a=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(o);{let a;const c=[];for(const p of i){const m={...n,common:{...n.common,issues:[]},parent:null},y=p._parseSync({data:n.data,path:n.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!a&&(a={result:y,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const h=c.map(p=>new xi(p));return he(n,{code:le.invalid_union,unionErrors:h}),Ne}}get options(){return this._def.options}}fu.create=(t,e)=>new fu({options:t,typeName:Ae.ZodUnion,...qe(e)});function Df(t,e){const n=Ki(t),i=Ki(e);if(t===e)return{valid:!0,data:t};if(n===pe.object&&i===pe.object){const o=et.objectKeys(e),a=et.objectKeys(t).filter(h=>o.indexOf(h)!==-1),c={...t,...e};for(const h of a){const p=Df(t[h],e[h]);if(!p.valid)return{valid:!1};c[h]=p.data}return{valid:!0,data:c}}else if(n===pe.array&&i===pe.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const c=t[a],h=e[a],p=Df(c,h);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return n===pe.date&&i===pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class hu extends Ye{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=(a,c)=>{if(iv(a)||iv(c))return Ne;const h=Df(a.value,c.value);return h.valid?((rv(a)||rv(c))&&n.dirty(),{status:n.value,value:h.data}):(he(i,{code:le.invalid_intersection_types}),Ne)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,c])=>o(a,c)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}hu.create=(t,e,n)=>new hu({left:t,right:e,typeName:Ae.ZodIntersection,...qe(n)});class kr extends Ye{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==pe.array)return he(i,{code:le.invalid_type,expected:pe.array,received:i.parsedType}),Ne;if(i.data.length<this._def.items.length)return he(i,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ne;!this._def.rest&&i.data.length>this._def.items.length&&(he(i,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((c,h)=>{const p=this._def.items[h]||this._def.rest;return p?p._parse(new Qn(i,c,i.path,h)):null}).filter(c=>!!c);return i.common.async?Promise.all(a).then(c=>Xt.mergeArray(n,c)):Xt.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new kr({...this._def,rest:e})}}kr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new kr({items:t,typeName:Ae.ZodTuple,rest:null,...qe(e)})};class mu extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==pe.object)return he(i,{code:le.invalid_type,expected:pe.object,received:i.parsedType}),Ne;const o=[],a=this._def.keyType,c=this._def.valueType;for(const h in i.data)o.push({key:a._parse(new Qn(i,h,i.path,h)),value:c._parse(new Qn(i,i.data[h],i.path,h)),alwaysSet:h in i.data});return i.common.async?Xt.mergeObjectAsync(n,o):Xt.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof Ye?new mu({keyType:e,valueType:n,typeName:Ae.ZodRecord,...qe(i)}):new mu({keyType:Hn.create(),valueType:e,typeName:Ae.ZodRecord,...qe(n)})}}class dv extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==pe.map)return he(i,{code:le.invalid_type,expected:pe.map,received:i.parsedType}),Ne;const o=this._def.keyType,a=this._def.valueType,c=[...i.data.entries()].map(([h,p],m)=>({key:o._parse(new Qn(i,h,i.path,[m,"key"])),value:a._parse(new Qn(i,p,i.path,[m,"value"]))}));if(i.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const p of c){const m=await p.key,y=await p.value;if(m.status==="aborted"||y.status==="aborted")return Ne;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}})}else{const h=new Map;for(const p of c){const m=p.key,y=p.value;if(m.status==="aborted"||y.status==="aborted")return Ne;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}}}}dv.create=(t,e,n)=>new dv({valueType:e,keyType:t,typeName:Ae.ZodMap,...qe(n)});class ya extends Ye{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==pe.set)return he(i,{code:le.invalid_type,expected:pe.set,received:i.parsedType}),Ne;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(he(i,{code:le.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(he(i,{code:le.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const a=this._def.valueType;function c(p){const m=new Set;for(const y of p){if(y.status==="aborted")return Ne;y.status==="dirty"&&n.dirty(),m.add(y.value)}return{status:n.value,value:m}}const h=[...i.data.values()].map((p,m)=>a._parse(new Qn(i,p,i.path,m)));return i.common.async?Promise.all(h).then(p=>c(p)):c(h)}min(e,n){return new ya({...this._def,minSize:{value:e,message:ve.toString(n)}})}max(e,n){return new ya({...this._def,maxSize:{value:e,message:ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ya.create=(t,e)=>new ya({valueType:t,minSize:null,maxSize:null,typeName:Ae.ZodSet,...qe(e)});class Uf extends Ye{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Uf.create=(t,e)=>new Uf({getter:t,typeName:Ae.ZodLazy,...qe(e)});class fv extends Ye{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return he(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Ne}return{status:"valid",value:e.data}}get value(){return this._def.value}}fv.create=(t,e)=>new fv({value:t,typeName:Ae.ZodLiteral,...qe(e)});function Qx(t,e){return new Bs({values:t,typeName:Ae.ZodEnum,...qe(e)})}class Bs extends Ye{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return he(n,{expected:et.joinValues(i),received:n.parsedType,code:le.invalid_type}),Ne}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return he(n,{received:n.data,code:le.invalid_enum_value,options:i}),Ne}return Dn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Bs.create(e,{...this._def,...n})}exclude(e,n=this._def){return Bs.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}Bs.create=Qx;class hv extends Ye{_parse(e){const n=et.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==pe.string&&i.parsedType!==pe.number){const o=et.objectValues(n);return he(i,{expected:et.joinValues(o),received:i.parsedType,code:le.invalid_type}),Ne}if(this._cache||(this._cache=new Set(et.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=et.objectValues(n);return he(i,{received:i.data,code:le.invalid_enum_value,options:o}),Ne}return Dn(e.data)}get enum(){return this._def.values}}hv.create=(t,e)=>new hv({values:t,typeName:Ae.ZodNativeEnum,...qe(e)});class pu extends Ye{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.promise&&n.common.async===!1)return he(n,{code:le.invalid_type,expected:pe.promise,received:n.parsedType}),Ne;const i=n.parsedType===pe.promise?n.data:Promise.resolve(n.data);return Dn(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}pu.create=(t,e)=>new pu({type:t,typeName:Ae.ZodPromise,...qe(e)});class Vs extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:c=>{he(i,c),c.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const c=o.transform(i.data,a);if(i.common.async)return Promise.resolve(c).then(async h=>{if(n.value==="aborted")return Ne;const p=await this._def.schema._parseAsync({data:h,path:i.path,parent:i});return p.status==="aborted"?Ne:p.status==="dirty"||n.value==="dirty"?oa(p.value):p});{if(n.value==="aborted")return Ne;const h=this._def.schema._parseSync({data:c,path:i.path,parent:i});return h.status==="aborted"?Ne:h.status==="dirty"||n.value==="dirty"?oa(h.value):h}}if(o.type==="refinement"){const c=h=>{const p=o.refinement(h,a);if(i.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(i.common.async===!1){const h=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return h.status==="aborted"?Ne:(h.status==="dirty"&&n.dirty(),c(h.value),{status:n.value,value:h.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(h=>h.status==="aborted"?Ne:(h.status==="dirty"&&n.dirty(),c(h.value).then(()=>({status:n.value,value:h.value}))))}if(o.type==="transform")if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Os(c))return Ne;const h=o.transform(c.value,a);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:h}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>Os(c)?Promise.resolve(o.transform(c.value,a)).then(h=>({status:n.value,value:h})):Ne);et.assertNever(o)}}Vs.create=(t,e,n)=>new Vs({schema:t,typeName:Ae.ZodEffects,effect:e,...qe(n)});Vs.createWithPreprocess=(t,e,n)=>new Vs({schema:e,effect:{type:"preprocess",transform:t},typeName:Ae.ZodEffects,...qe(n)});class Xi extends Ye{_parse(e){return this._getType(e)===pe.undefined?Dn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xi.create=(t,e)=>new Xi({innerType:t,typeName:Ae.ZodOptional,...qe(e)});class $s extends Ye{_parse(e){return this._getType(e)===pe.null?Dn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$s.create=(t,e)=>new $s({innerType:t,typeName:Ae.ZodNullable,...qe(e)});class If extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===pe.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}If.create=(t,e)=>new If({innerType:t,typeName:Ae.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...qe(e)});class Pf extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return cu(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new xi(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new xi(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Pf.create=(t,e)=>new Pf({innerType:t,typeName:Ae.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...qe(e)});class mv extends Ye{_parse(e){if(this._getType(e)!==pe.nan){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:pe.nan,received:i.parsedType}),Ne}return{status:"valid",value:e.data}}}mv.create=t=>new mv({typeName:Ae.ZodNaN,...qe(t)});class KN extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class ch extends Ye{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Ne:a.status==="dirty"?(n.dirty(),oa(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Ne:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(e,n){return new ch({in:e,out:n,typeName:Ae.ZodPipeline})}}class Lf extends Ye{_parse(e){const n=this._def.innerType._parse(e),i=o=>(Os(o)&&(o.value=Object.freeze(o.value)),o);return cu(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}Lf.create=(t,e)=>new Lf({innerType:t,typeName:Ae.ZodReadonly,...qe(e)});var Ae;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ae||(Ae={}));const Tr=Hn.create,pv=Nr.create;Rr.create;const QN=du.create;qs.create;const gv=Mf.create;Wi.create;const aa=Yn.create,ZN=Et.create,XN=fu.create;hu.create;kr.create;const WN=mu.create,eR=Uf.create,tR=Bs.create;pu.create;Xi.create;$s.create;const Rs={string:t=>Hn.create({...t,coerce:!0}),number:t=>Nr.create({...t,coerce:!0}),boolean:t=>du.create({...t,coerce:!0}),bigint:t=>Rr.create({...t,coerce:!0}),date:t=>qs.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nR,iR;function rR(){return{geminiUrl:nR,vertexUrl:iR}}function sR(t,e,n){var i,o,a;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const c=rR();return t.vertexai?(o=c.vertexUrl)!==null&&o!==void 0?o:e:(a=c.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ur{}function Te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function d(t,e,n){for(let a=0;a<e.length-1;a++){const c=e[a];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(n))for(let m=0;m<p.length;m++){const y=p[m];d(y,e.slice(a+1),n[m])}else for(const m of p)d(m,e.slice(a+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];d(p[0],e.slice(a+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(c=>u(c,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yv||(yv={}));var vv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(vv||(vv={}));var Jn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Jn||(Jn={}));var xv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(xv||(xv={}));var _v;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(_v||(_v={}));var Tv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Tv||(Tv={}));var Sv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Sv||(Sv={}));var bv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(bv||(bv={}));var wv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(wv||(wv={}));var Cv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Cv||(Cv={}));var Ev;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ev||(Ev={}));var Av;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Av||(Av={}));var Nv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Nv||(Nv={}));var gu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(gu||(gu={}));var Rv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Rv||(Rv={}));var Of;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Of||(Of={}));var kv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(kv||(kv={}));var Mv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Mv||(Mv={}));var Dv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Dv||(Dv={}));var Uv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Uv||(Uv={}));var Iv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Iv||(Iv={}));var Pv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Pv||(Pv={}));var Lv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Lv||(Lv={}));var Ov;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ov||(Ov={}));var qv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(qv||(qv={}));var Bv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Bv||(Bv={}));var Vv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Vv||(Vv={}));var $v;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($v||($v={}));var Fv;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Fv||(Fv={}));var zv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(zv||(zv={}));var Gv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Gv||(Gv={}));var jv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(jv||(jv={}));var Hv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Hv||(Hv={}));var Jv;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Jv||(Jv={}));var Yv;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Yv||(Yv={}));var Kv;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Kv||(Kv={}));var Qv;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Qv||(Qv={}));var Zv;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Zv||(Zv={}));var Xv;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Xv||(Xv={}));var Us;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Us||(Us={}));function Wv(t,e){return{fileData:{fileUri:t,mimeType:e}}}class qf{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ra{get text(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const _=[];for(const T of(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[w,b]of Object.entries(T))w!=="text"&&w!=="thought"&&(b!==null||b!==void 0)&&_.push(w);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;y=!0,m+=T.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const _ of(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[T,w]of Object.entries(_))T!=="inlineData"&&(w!==null||w!==void 0)&&y.push(T);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,o,a,c,h,p,m;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,o,a,c,h,p,m;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class e0{}class t0{}class oR{}class aR{}class n0{}class i0{}class r0{}class lR{}class s0{}class o0{}class a0{}class uR{}class cR{}class dR{}class l0{}class fR{get text(){var e,n,i;let o="",a=!1;const c=[];for(const h of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&c.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;a=!0,o+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,i;let o="";const a=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(c))h!=="inlineData"&&p!==null&&a.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class hR{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function st(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Zx(t,e){const n=st(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Xx(t){return Array.isArray(t)?t.map(e=>yu(e)):[yu(t)]}function yu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function mR(t){const e=yu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pR(t){const e=yu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function u0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Wx(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>u0(e)):[u0(t)]}function Bf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function c0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function d0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Yt(t){if(t==null)throw new Error("ContentUnion is required");return Bf(t)?t:{role:"user",parts:Wx(t)}}function e_(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Yt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Yt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Yt(n)):[Yt(e)]}function Mn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(c0(t)||d0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Yt(t)]}const e=[],n=[],i=Bf(t[0]);for(const o of t){const a=Bf(o);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(c0(o)||d0(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Wx(n)}),e}const gR=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),f0=tR(["string","number","integer","object","array","boolean","null"]),yR=XN([f0,aa(f0)]);function vR(t=!0){const e=eR(()=>{const n=ZN({type:yR.optional(),format:Tr().optional(),title:Tr().optional(),description:Tr().optional(),default:gv().optional(),items:e.optional(),minItems:Rs.string().optional(),maxItems:Rs.string().optional(),enum:aa(gv()).optional(),properties:WN(Tr(),e).optional(),required:aa(Tr()).optional(),minProperties:Rs.string().optional(),maxProperties:Rs.string().optional(),propertyOrdering:aa(Tr()).optional(),minimum:pv().optional(),maximum:pv().optional(),minLength:Rs.string().optional(),maxLength:Rs.string().optional(),pattern:Tr().optional(),anyOf:aa(e).optional(),additionalProperties:QN().optional()});return t?n.strict():n});return e}function xR(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Jn).includes(n[0].toUpperCase())?n[0].toUpperCase():Jn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Jn).includes(i.toUpperCase())?i.toUpperCase():Jn.TYPE_UNSPECIFIED})}}function Is(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&xR(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Jn).includes(h.toUpperCase())?h.toUpperCase():Jn.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=Is(h);else if(i.includes(c)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(Is(m))}e[c]=p}else if(o.includes(c)){const p={};for(const[m,y]of Object.entries(h))p[m]=Is(y);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=h}return e}function va(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=vR().parse(t);return Is(e)}else return Is(t)}function dh(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function fh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ys(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=va(e.parameters)),e.response&&(e.response=va(e.response));return t}function Ks(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function _R(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Ti(t,e){if(typeof e!="string")throw new Error("name must be a string");return _R(t,e,"cachedContents")}function t_(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Si(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function TR(t){return t!=null&&typeof t=="object"&&"name"in t}function SR(t){return t!=null&&typeof t=="object"&&"video"in t}function bR(t){return t!=null&&typeof t=="object"&&"uri"in t}function n_(t){var e;let n;if(TR(t)&&(n=t.name),!(bR(t)&&(n=t.uri,n===void 0))&&!(SR(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function i_(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function r_(t){for(const e of["models","tunedModels","publisherModels"])if(wR(t,e))return t[e];return[]}function wR(t,e){return t!==null&&typeof t=="object"&&e in t}function CR(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:Is(Mu(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function ER(t,e={}){const n=[],i=new Set;for(const o of t){const a=o.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const c=CR(o,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function AR(t){const e=[];for(const n of t)e.push(Mu(n));return e}function NR(t){const e={};for(const[n,i]of Object.entries(t)){const o=i;e[n]=Mu(o)}return e}function Mu(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),o={};for(const[a,c]of Object.entries(t))if(e.has(a))o[a]=Mu(c);else if(n.has(a))o[a]=AR(c);else if(i.has(a))o[a]=NR(c);else if(a==="type"){const h=c.toUpperCase();o[a]=Object.values(Jn).includes(h)?h:Jn.TYPE_UNSPECIFIED}else gR.has(a)&&(o[a]=c);return o}function s_(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function RR(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Du(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function o_(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kR(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function MR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function DR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function UR(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],kR(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],MR(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],DR(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function a_(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>UR(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function IR(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const _=u(t,["maxProperties"]);_!=null&&d(e,["maxProperties"],_);const T=u(t,["maximum"]);T!=null&&d(e,["maximum"],T);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const b=u(t,["minLength"]);b!=null&&d(e,["minLength"],b);const A=u(t,["minProperties"]);A!=null&&d(e,["minProperties"],A);const E=u(t,["minimum"]);E!=null&&d(e,["minimum"],E);const k=u(t,["nullable"]);k!=null&&d(e,["nullable"],k);const I=u(t,["pattern"]);I!=null&&d(e,["pattern"],I);const U=u(t,["properties"]);U!=null&&d(e,["properties"],U);const D=u(t,["propertyOrdering"]);D!=null&&d(e,["propertyOrdering"],D);const q=u(t,["required"]);q!=null&&d(e,["required"],q);const J=u(t,["title"]);J!=null&&d(e,["title"],J);const W=u(t,["type"]);return W!=null&&d(e,["type"],W),e}function PR(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&d(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&d(e,["threshold"],i),e}function LR(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function OR(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function qR(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],OR(n)),e}function BR(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function VR(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],BR(n)),e}function $R(){return{}}function FR(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>LR(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],qR(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],VR(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],$R());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function zR(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function GR(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function jR(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],GR(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function HR(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],zR(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],jR(i)),e}function JR(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function l_(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],JR(n)),e}function YR(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],l_(i)),e}function KR(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>YR(o))),d(e,["speakerVoiceConfigs"],i)}return e}function QR(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],l_(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],KR(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function ZR(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function XR(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],a_(Yt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const _=u(e,["responseLogprobs"]);_!=null&&d(i,["responseLogprobs"],_);const T=u(e,["logprobs"]);T!=null&&d(i,["logprobs"],T);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const b=u(e,["frequencyPenalty"]);b!=null&&d(i,["frequencyPenalty"],b);const A=u(e,["seed"]);A!=null&&d(i,["seed"],A);const E=u(e,["responseMimeType"]);E!=null&&d(i,["responseMimeType"],E);const k=u(e,["responseSchema"]);k!=null&&d(i,["responseSchema"],IR(va(k)));const I=u(e,["responseJsonSchema"]);if(I!=null&&d(i,["responseJsonSchema"],I),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=u(e,["safetySettings"]);if(n!==void 0&&U!=null){let se=U;Array.isArray(se)&&(se=se.map(z=>PR(z))),d(n,["safetySettings"],se)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let se=Ks(D);Array.isArray(se)&&(se=se.map(z=>FR(Ys(z)))),d(n,["tools"],se)}const q=u(e,["toolConfig"]);if(n!==void 0&&q!=null&&d(n,["toolConfig"],HR(q)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=u(e,["cachedContent"]);n!==void 0&&J!=null&&d(n,["cachedContent"],Ti(t,J));const W=u(e,["responseModalities"]);W!=null&&d(i,["responseModalities"],W);const re=u(e,["mediaResolution"]);re!=null&&d(i,["mediaResolution"],re);const Y=u(e,["speechConfig"]);if(Y!=null&&d(i,["speechConfig"],QR(dh(Y))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=u(e,["thinkingConfig"]);return ee!=null&&d(i,["thinkingConfig"],ZR(ee)),i}function WR(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["request","model"],st(t,i));const o=u(e,["contents"]);if(o!=null){let c=Mn(o);Array.isArray(c)&&(c=c.map(h=>a_(h))),d(n,["request","contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["request","generationConfig"],XR(t,a,n)),n}function ek(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&d(n,["fileName"],i);const o=u(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>WR(t,c))),d(n,["requests","requests"],a)}return n}function tk(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&d(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function nk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["src"]);o!=null&&d(n,["batch","inputConfig"],ek(t,s_(t,o)));const a=u(e,["config"]);return a!=null&&d(n,["config"],tk(a,n)),n}function ik(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Du(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function rk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Du(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function sk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);if(e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ok(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],sk(n,e)),e}function ak(t){const e={},n=u(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&d(e,["gcsSource","uris"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&d(e,["bigquerySource","inputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function lk(t){const e={},n=u(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&d(e,["gcsDestination","outputUriPrefix"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&d(e,["bigqueryDestination","outputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function uk(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["dest"]);return e!==void 0&&o!=null&&d(e,["outputConfig"],lk(RR(o))),n}function ck(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],st(t,i));const o=u(e,["src"]);o!=null&&d(n,["inputConfig"],ak(s_(t,o)));const a=u(e,["config"]);return a!=null&&d(n,["config"],uk(a,n)),n}function dk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Du(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function fk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Du(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function hk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function mk(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],hk(n,e)),e}function pk(){return{}}function gk(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function yk(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function vk(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function xk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],gk(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],yk(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],vk(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function _k(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>xk(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function Tk(t){const e={},n=u(t,["citationSources"]);return n!=null&&d(e,["citations"],n),e}function Sk(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function bk(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Sk(o))),d(e,["urlMetadata"],i)}return e}function wk(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],_k(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],Tk(i));const o=u(t,["tokenCount"]);o!=null&&d(e,["tokenCount"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],bk(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const _=u(t,["safetyRatings"]);return _!=null&&d(e,["safetyRatings"],_),e}function Ck(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>wk(h))),d(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=u(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function Ek(t){const e={},n=u(t,["response"]);return n!=null&&d(e,["response"],Ck(n)),u(t,["error"])!=null&&d(e,["error"],pk()),e}function Ak(t){const e={},n=u(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ek(a))),d(e,["inlinedResponses"],o)}return e}function Vf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["metadata","state"]);o!=null&&d(e,["state"],o_(o));const a=u(t,["metadata","createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["metadata","endTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["metadata","updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["metadata","model"]);p!=null&&d(e,["model"],p);const m=u(t,["metadata","output"]);return m!=null&&d(e,["dest"],Ak(m)),e}function Nk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Vf(a))),d(e,["batchJobs"],o)}return e}function Rk(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["code"]);i!=null&&d(e,["code"],i);const o=u(t,["message"]);return o!=null&&d(e,["message"],o),e}function kk(t){const e={},n=u(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&d(e,["gcsUri"],i);const o=u(t,["bigquerySource","inputUri"]);return o!=null&&d(e,["bigqueryUri"],o),e}function Mk(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&d(e,["gcsUri"],i);const o=u(t,["bigqueryDestination","outputUri"]);return o!=null&&d(e,["bigqueryUri"],o),e}function $f(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["state"]);o!=null&&d(e,["state"],o_(o));const a=u(t,["error"]);a!=null&&d(e,["error"],Rk(a));const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["startTime"]);h!=null&&d(e,["startTime"],h);const p=u(t,["endTime"]);p!=null&&d(e,["endTime"],p);const m=u(t,["updateTime"]);m!=null&&d(e,["updateTime"],m);const y=u(t,["model"]);y!=null&&d(e,["model"],y);const _=u(t,["inputConfig"]);_!=null&&d(e,["src"],kk(_));const T=u(t,["outputConfig"]);return T!=null&&d(e,["dest"],Mk(T)),e}function Dk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>$f(a))),d(e,["batchJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Mr||(Mr={}));class Ca{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};i?typeof i=="object"?c=Object.assign({},i):c=i:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(a=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uk extends Ur{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Ca(Mr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=ck(this.apiClient,e);return h=Te("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>$f(y))}else{const m=nk(this.apiClient,e);return h=Te("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Vf(y))}}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=dk(this.apiClient,e);return h=Te("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>$f(y))}else{const m=ik(this.apiClient,e);return h=Te("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Vf(y))}}async cancel(e){var n,i,o,a;let c="",h={};if(this.apiClient.isVertexAI()){const p=fk(this.apiClient,e);c=Te("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=rk(this.apiClient,e);c=Te("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=mk(e);return h=Te("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=Dk(y),T=new l0;return Object.assign(T,_),T})}else{const m=ok(e);return h=Te("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=Nk(y),T=new l0;return Object.assign(T,_),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ik(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function Pk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Lk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Ok(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],Ik(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],Pk(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],Lk(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function h0(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Ok(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function qk(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function Bk(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function Vk(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],Bk(n)),e}function $k(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function Fk(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],$k(n)),e}function zk(){return{}}function Gk(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>qk(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],Vk(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],Fk(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],zk());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function jk(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function Hk(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function Jk(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],Hk(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function Yk(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],jk(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],Jk(i)),e}function Kk(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const a=u(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let y=Mn(c);Array.isArray(y)&&(y=y.map(_=>h0(_))),d(e,["contents"],y)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],h0(Yt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>Gk(_))),d(e,["tools"],y)}const m=u(t,["toolConfig"]);if(e!==void 0&&m!=null&&d(e,["toolConfig"],Yk(m)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Qk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],Zx(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],Kk(o,n)),n}function Zk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Ti(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function Xk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Ti(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function Wk(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),n}function eM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Ti(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],Wk(o,n)),n}function tM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function nM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],tM(n,e)),e}function iM(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function rM(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function sM(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function oM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],iM(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],rM(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],sM(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function m0(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>oM(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function aM(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function lM(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function uM(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],lM(n)),e}function cM(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function dM(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],cM(n)),e}function fM(){return{}}function hM(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function mM(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],hM(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function pM(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],mM(n)),e}function gM(){return{}}function yM(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>aM(_))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],uM(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],dM(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],fM());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],pM(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],gM());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function vM(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function xM(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function _M(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],xM(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function TM(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],vM(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],_M(i)),e}function SM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const a=u(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let _=Mn(c);Array.isArray(_)&&(_=_.map(T=>m0(T))),d(e,["contents"],_)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],m0(Yt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let _=p;Array.isArray(_)&&(_=_.map(T=>yM(T))),d(e,["tools"],_)}const m=u(t,["toolConfig"]);e!==void 0&&m!=null&&d(e,["toolConfig"],TM(m));const y=u(t,["kmsKeyName"]);return e!==void 0&&y!=null&&d(e,["encryption_spec","kmsKeyName"],y),n}function bM(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],Zx(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],SM(o,n)),n}function wM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Ti(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function CM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Ti(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function EM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),n}function AM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Ti(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],EM(o,n)),n}function NM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function RM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],NM(n,e)),e}function nu(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["model"]);o!=null&&d(e,["model"],o);const a=u(t,["createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&d(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function kM(){return{}}function MM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>nu(a))),d(e,["cachedContents"],o)}return e}function iu(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["model"]);o!=null&&d(e,["model"],o);const a=u(t,["createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&d(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function DM(){return{}}function UM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>iu(a))),d(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IM extends Ur{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ca(Mr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=bM(this.apiClient,e);return h=Te("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>iu(y))}else{const m=Qk(this.apiClient,e);return h=Te("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>nu(y))}}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=wM(this.apiClient,e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>iu(y))}else{const m=Zk(this.apiClient,e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>nu(y))}}async delete(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=CM(this.apiClient,e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=DM(),_=new o0;return Object.assign(_,y),_})}else{const m=Xk(this.apiClient,e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=kM(),_=new o0;return Object.assign(_,y),_})}}async update(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=AM(this.apiClient,e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>iu(y))}else{const m=eM(this.apiClient,e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>nu(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=RM(e);return h=Te("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=UM(y),T=new a0;return Object.assign(T,_),T})}else{const m=nM(e);return h=Te("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=MM(y),T=new a0;return Object.assign(T,_),T})}}}function p0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ht(t){return this instanceof ht?(this.v=t,this):new ht(t)}function Ps(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(w){return function(b){return Promise.resolve(b).then(w,_)}}function h(w,b){i[w]&&(o[w]=function(A){return new Promise(function(E,k){a.push([w,A,E,k])>1||p(w,A)})},b&&(o[w]=b(o[w])))}function p(w,b){try{m(i[w](b))}catch(A){T(a[0][3],A)}}function m(w){w.value instanceof ht?Promise.resolve(w.value.v).then(y,_):T(a[0][2],w)}function y(w){p("next",w)}function _(w){p("throw",w)}function T(w,b){w(b),a.shift(),a.length&&p(a[0][0],a[0][1])}}function fa(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof p0=="function"?p0(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(c){return new Promise(function(h,p){c=t[a](c),o(h,p,c.done,c.value)})}}function o(a,c,h,p){Promise.resolve(p).then(function(m){a({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PM(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:u_(n)}function u_(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function LM(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function g0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let a=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),a&&!u_(t[i])&&(a=!1),i++;a?e.push(...o):e.pop()}return e}class OM{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new qM(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class qM{constructor(e,n,i,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),LM(a)}async sendMessage(e){var n;await this.sendPromise;const i=Yt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,c,h;const p=await o,m=(c=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content,y=p.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let T=[];y!=null&&(T=(h=y.slice(_))!==null&&h!==void 0?h:[]);const w=m?[m]:[];this.recordHistory(i,w,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Yt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?g0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return Ps(this,arguments,function*(){var c,h,p,m;const y=[];try{for(var _=!0,T=fa(e),w;w=yield ht(T.next()),c=w.done,!c;_=!0){m=w.value,_=!1;const b=m;if(PM(b)){const A=(o=(i=b.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;A!==void 0&&y.push(A)}yield yield ht(b)}}catch(b){h={error:b}}finally{try{!_&&!c&&(p=T.return)&&(yield ht(p.call(T)))}finally{if(h)throw h.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...g0(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Uu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function VM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],BM(n,e)),e}function $M(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["message"]);i!=null&&d(e,["message"],i);const o=u(t,["code"]);return o!=null&&d(e,["code"],o),e}function FM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&d(e,["mimeType"],o);const a=u(t,["sizeBytes"]);a!=null&&d(e,["sizeBytes"],a);const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&d(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&d(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&d(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&d(e,["uri"],y);const _=u(t,["downloadUri"]);_!=null&&d(e,["downloadUri"],_);const T=u(t,["state"]);T!=null&&d(e,["state"],T);const w=u(t,["source"]);w!=null&&d(e,["source"],w);const b=u(t,["videoMetadata"]);b!=null&&d(e,["videoMetadata"],b);const A=u(t,["error"]);return A!=null&&d(e,["error"],$M(A)),e}function zM(t){const e={},n=u(t,["file"]);n!=null&&d(e,["file"],FM(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function GM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","file"],n_(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function jM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","file"],n_(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function HM(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["message"]);i!=null&&d(e,["message"],i);const o=u(t,["code"]);return o!=null&&d(e,["code"],o),e}function Ff(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&d(e,["mimeType"],o);const a=u(t,["sizeBytes"]);a!=null&&d(e,["sizeBytes"],a);const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&d(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&d(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&d(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&d(e,["uri"],y);const _=u(t,["downloadUri"]);_!=null&&d(e,["downloadUri"],_);const T=u(t,["state"]);T!=null&&d(e,["state"],T);const w=u(t,["source"]);w!=null&&d(e,["source"],w);const b=u(t,["videoMetadata"]);b!=null&&d(e,["videoMetadata"],b);const A=u(t,["error"]);return A!=null&&d(e,["error"],HM(A)),e}function JM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ff(a))),d(e,["files"],o)}return e}function YM(){return{}}function KM(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QM extends Ur{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ca(Mr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ff(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=VM(e);return a=Te("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=JM(p),y=new uR;return Object.assign(y,m),y})}}async createInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=zM(e);return a=Te("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(()=>{const p=YM(),m=new cR;return Object.assign(m,p),m})}}async get(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=GM(e);return a=Te("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>Ff(p))}}async delete(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=jM(e);return a=Te("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(()=>{const p=KM(),m=new dR;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZM(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function XM(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function c_(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],ZM(n)),e}function WM(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],XM(n)),e}function e1(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],c_(i)),e}function t1(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>e1(o))),d(e,["speakerVoiceConfigs"],i)}return e}function n1(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],c_(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],t1(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function i1(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],WM(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function r1(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function s1(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function o1(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function a1(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function l1(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function u1(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function c1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],r1(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],o1(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],l1(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function d1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],s1(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],a1(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],u1(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function f1(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>c1(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function h1(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>d1(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function m1(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function p1(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function g1(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function y1(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function v1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],g1(n)),e}function x1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],y1(n)),e}function _1(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function T1(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function S1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],_1(n)),e}function b1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],T1(n)),e}function w1(){return{}}function C1(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function E1(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],C1(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function A1(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],E1(n)),e}function N1(){return{}}function R1(){return{}}function k1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>m1(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],v1(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],S1(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],N1());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function M1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>p1(_))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],x1(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],b1(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],w1());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],A1(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],R1());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function D1(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function U1(t){const e={},n=u(t,["handle"]);n!=null&&d(e,["handle"],n);const i=u(t,["transparent"]);return i!=null&&d(e,["transparent"],i),e}function y0(){return{}}function v0(){return{}}function I1(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function P1(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function L1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],I1(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function O1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],P1(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function q1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function B1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function V1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],q1(i)),e}function $1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],B1(i)),e}function F1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function z1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function G1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],n1(fh(_)));const T=u(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],T);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],f1(Yt(w)));const b=u(t,["tools"]);if(e!==void 0&&b!=null){let q=Ks(b);Array.isArray(q)&&(q=q.map(J=>k1(Ys(J)))),d(e,["setup","tools"],q)}const A=u(t,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],D1(A));const E=u(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&d(e,["setup","inputAudioTranscription"],y0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","outputAudioTranscription"],y0());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&d(e,["setup","realtimeInputConfig"],L1(I));const U=u(t,["contextWindowCompression"]);e!==void 0&&U!=null&&d(e,["setup","contextWindowCompression"],V1(U));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&d(e,["setup","proactivity"],F1(D)),n}function j1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],i1(fh(_)));const T=u(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],T);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],h1(Yt(w)));const b=u(t,["tools"]);if(e!==void 0&&b!=null){let q=Ks(b);Array.isArray(q)&&(q=q.map(J=>M1(Ys(J)))),d(e,["setup","tools"],q)}const A=u(t,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],U1(A));const E=u(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&d(e,["setup","inputAudioTranscription"],v0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","outputAudioTranscription"],v0());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&d(e,["setup","realtimeInputConfig"],O1(I));const U=u(t,["contextWindowCompression"]);e!==void 0&&U!=null&&d(e,["setup","contextWindowCompression"],$1(U));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&d(e,["setup","proactivity"],z1(D)),n}function H1(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],st(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],G1(o,n)),n}function J1(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],st(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],j1(o,n)),n}function Y1(){return{}}function K1(){return{}}function Q1(){return{}}function Z1(){return{}}function X1(t){const e={},n=u(t,["media"]);n!=null&&d(e,["mediaChunks"],Xx(n));const i=u(t,["audio"]);i!=null&&d(e,["audio"],pR(i));const o=u(t,["audioStreamEnd"]);o!=null&&d(e,["audioStreamEnd"],o);const a=u(t,["video"]);a!=null&&d(e,["video"],mR(a));const c=u(t,["text"]);return c!=null&&d(e,["text"],c),u(t,["activityStart"])!=null&&d(e,["activityStart"],Y1()),u(t,["activityEnd"])!=null&&d(e,["activityEnd"],Q1()),e}function W1(t){const e={},n=u(t,["media"]);if(n!=null&&d(e,["mediaChunks"],Xx(n)),u(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=u(t,["audioStreamEnd"]);if(i!=null&&d(e,["audioStreamEnd"],i),u(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(t,["activityStart"])!=null&&d(e,["activityStart"],K1()),u(t,["activityEnd"])!=null&&d(e,["activityEnd"],Z1()),e}function d_(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["weight"]);return i!=null&&d(e,["weight"],i),e}function eD(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>d_(o))),d(e,["weightedPrompts"],i)}return e}function f_(t){const e={},n=u(t,["temperature"]);n!=null&&d(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&d(e,["topK"],i);const o=u(t,["seed"]);o!=null&&d(e,["seed"],o);const a=u(t,["guidance"]);a!=null&&d(e,["guidance"],a);const c=u(t,["bpm"]);c!=null&&d(e,["bpm"],c);const h=u(t,["density"]);h!=null&&d(e,["density"],h);const p=u(t,["brightness"]);p!=null&&d(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&d(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&d(e,["muteBass"],y);const _=u(t,["muteDrums"]);_!=null&&d(e,["muteDrums"],_);const T=u(t,["onlyBassAndDrums"]);return T!=null&&d(e,["onlyBassAndDrums"],T),e}function tD(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],f_(n)),e}function h_(t){const e={},n=u(t,["model"]);return n!=null&&d(e,["model"],n),e}function m_(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>d_(o))),d(e,["weightedPrompts"],i)}return e}function zf(t){const e={},n=u(t,["setup"]);n!=null&&d(e,["setup"],h_(n));const i=u(t,["clientContent"]);i!=null&&d(e,["clientContent"],m_(i));const o=u(t,["musicGenerationConfig"]);o!=null&&d(e,["musicGenerationConfig"],f_(o));const a=u(t,["playbackControl"]);return a!=null&&d(e,["playbackControl"],a),e}function nD(){return{}}function iD(){return{}}function rD(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function sD(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function oD(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function aD(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function lD(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function uD(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function cD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],rD(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],oD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],lD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function dD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],sD(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],aD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],uD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function fD(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>cD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function hD(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>dD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function x0(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["finished"]);return i!=null&&d(e,["finished"],i),e}function _0(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["finished"]);return i!=null&&d(e,["finished"],i),e}function mD(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function pD(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mD(o))),d(e,["urlMetadata"],i)}return e}function gD(t){const e={},n=u(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],fD(n));const i=u(t,["turnComplete"]);i!=null&&d(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&d(e,["interrupted"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const c=u(t,["generationComplete"]);c!=null&&d(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&d(e,["inputTranscription"],x0(h));const p=u(t,["outputTranscription"]);p!=null&&d(e,["outputTranscription"],x0(p));const m=u(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],pD(m)),e}function yD(t){const e={},n=u(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],hD(n));const i=u(t,["turnComplete"]);i!=null&&d(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&d(e,["interrupted"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const c=u(t,["generationComplete"]);c!=null&&d(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&d(e,["inputTranscription"],_0(h));const p=u(t,["outputTranscription"]);return p!=null&&d(e,["outputTranscription"],_0(p)),e}function vD(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const i=u(t,["args"]);i!=null&&d(e,["args"],i);const o=u(t,["name"]);return o!=null&&d(e,["name"],o),e}function xD(t){const e={},n=u(t,["args"]);n!=null&&d(e,["args"],n);const i=u(t,["name"]);return i!=null&&d(e,["name"],i),e}function _D(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vD(o))),d(e,["functionCalls"],i)}return e}function TD(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xD(o))),d(e,["functionCalls"],i)}return e}function SD(t){const e={},n=u(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function bD(t){const e={},n=u(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function Yl(t){const e={},n=u(t,["modality"]);n!=null&&d(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&d(e,["tokenCount"],i),e}function Kl(t){const e={},n=u(t,["modality"]);n!=null&&d(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&d(e,["tokenCount"],i),e}function wD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&d(e,["cachedContentTokenCount"],i);const o=u(t,["responseTokenCount"]);o!=null&&d(e,["responseTokenCount"],o);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&d(e,["toolUsePromptTokenCount"],a);const c=u(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(w=>Yl(w))),d(e,["promptTokensDetails"],T)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(w=>Yl(w))),d(e,["cacheTokensDetails"],T)}const y=u(t,["responseTokensDetails"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(w=>Yl(w))),d(e,["responseTokensDetails"],T)}const _=u(t,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(w=>Yl(w))),d(e,["toolUsePromptTokensDetails"],T)}return e}function CD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&d(e,["cachedContentTokenCount"],i);const o=u(t,["candidatesTokenCount"]);o!=null&&d(e,["responseTokenCount"],o);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&d(e,["toolUsePromptTokenCount"],a);const c=u(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(b=>Kl(b))),d(e,["promptTokensDetails"],w)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(b=>Kl(b))),d(e,["cacheTokensDetails"],w)}const y=u(t,["candidatesTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(b=>Kl(b))),d(e,["responseTokensDetails"],w)}const _=u(t,["toolUsePromptTokensDetails"]);if(_!=null){let w=_;Array.isArray(w)&&(w=w.map(b=>Kl(b))),d(e,["toolUsePromptTokensDetails"],w)}const T=u(t,["trafficType"]);return T!=null&&d(e,["trafficType"],T),e}function ED(t){const e={},n=u(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function AD(t){const e={},n=u(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function ND(t){const e={},n=u(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&d(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&d(e,["lastConsumedClientMessageIndex"],o),e}function RD(t){const e={},n=u(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&d(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&d(e,["lastConsumedClientMessageIndex"],o),e}function kD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],nD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],gD(i));const o=u(t,["toolCall"]);o!=null&&d(e,["toolCall"],_D(o));const a=u(t,["toolCallCancellation"]);a!=null&&d(e,["toolCallCancellation"],SD(a));const c=u(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],wD(c));const h=u(t,["goAway"]);h!=null&&d(e,["goAway"],ED(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&d(e,["sessionResumptionUpdate"],ND(p)),e}function MD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],iD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],yD(i));const o=u(t,["toolCall"]);o!=null&&d(e,["toolCall"],TD(o));const a=u(t,["toolCallCancellation"]);a!=null&&d(e,["toolCallCancellation"],bD(a));const c=u(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],CD(c));const h=u(t,["goAway"]);h!=null&&d(e,["goAway"],AD(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&d(e,["sessionResumptionUpdate"],RD(p)),e}function DD(){return{}}function UD(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["weight"]);return i!=null&&d(e,["weight"],i),e}function ID(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>UD(o))),d(e,["weightedPrompts"],i)}return e}function PD(t){const e={},n=u(t,["temperature"]);n!=null&&d(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&d(e,["topK"],i);const o=u(t,["seed"]);o!=null&&d(e,["seed"],o);const a=u(t,["guidance"]);a!=null&&d(e,["guidance"],a);const c=u(t,["bpm"]);c!=null&&d(e,["bpm"],c);const h=u(t,["density"]);h!=null&&d(e,["density"],h);const p=u(t,["brightness"]);p!=null&&d(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&d(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&d(e,["muteBass"],y);const _=u(t,["muteDrums"]);_!=null&&d(e,["muteDrums"],_);const T=u(t,["onlyBassAndDrums"]);return T!=null&&d(e,["onlyBassAndDrums"],T),e}function LD(t){const e={},n=u(t,["clientContent"]);n!=null&&d(e,["clientContent"],ID(n));const i=u(t,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],PD(i)),e}function OD(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);i!=null&&d(e,["mimeType"],i);const o=u(t,["sourceMetadata"]);return o!=null&&d(e,["sourceMetadata"],LD(o)),e}function qD(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>OD(o))),d(e,["audioChunks"],i)}return e}function BD(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["filteredReason"]);return i!=null&&d(e,["filteredReason"],i),e}function VD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],DD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],qD(i));const o=u(t,["filteredPrompt"]);return o!=null&&d(e,["filteredPrompt"],BD(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $D(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function FD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function zD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function GD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],$D(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],FD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],zD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function Iu(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>GD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function jD(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const _=u(t,["maxProperties"]);_!=null&&d(e,["maxProperties"],_);const T=u(t,["maximum"]);T!=null&&d(e,["maximum"],T);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const b=u(t,["minLength"]);b!=null&&d(e,["minLength"],b);const A=u(t,["minProperties"]);A!=null&&d(e,["minProperties"],A);const E=u(t,["minimum"]);E!=null&&d(e,["minimum"],E);const k=u(t,["nullable"]);k!=null&&d(e,["nullable"],k);const I=u(t,["pattern"]);I!=null&&d(e,["pattern"],I);const U=u(t,["properties"]);U!=null&&d(e,["properties"],U);const D=u(t,["propertyOrdering"]);D!=null&&d(e,["propertyOrdering"],D);const q=u(t,["required"]);q!=null&&d(e,["required"],q);const J=u(t,["title"]);J!=null&&d(e,["title"],J);const W=u(t,["type"]);return W!=null&&d(e,["type"],W),e}function HD(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&d(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&d(e,["threshold"],i),e}function JD(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function YD(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function KD(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],YD(n)),e}function QD(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function ZD(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],QD(n)),e}function XD(){return{}}function WD(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>JD(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],KD(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],ZD(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],XD());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function e2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function t2(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function n2(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],t2(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function i2(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],e2(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],n2(i)),e}function r2(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function p_(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],r2(n)),e}function s2(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],p_(i)),e}function o2(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>s2(o))),d(e,["speakerVoiceConfigs"],i)}return e}function a2(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],p_(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],o2(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function l2(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function u2(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],Iu(Yt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const _=u(e,["responseLogprobs"]);_!=null&&d(i,["responseLogprobs"],_);const T=u(e,["logprobs"]);T!=null&&d(i,["logprobs"],T);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const b=u(e,["frequencyPenalty"]);b!=null&&d(i,["frequencyPenalty"],b);const A=u(e,["seed"]);A!=null&&d(i,["seed"],A);const E=u(e,["responseMimeType"]);E!=null&&d(i,["responseMimeType"],E);const k=u(e,["responseSchema"]);k!=null&&d(i,["responseSchema"],jD(va(k)));const I=u(e,["responseJsonSchema"]);if(I!=null&&d(i,["responseJsonSchema"],I),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=u(e,["safetySettings"]);if(n!==void 0&&U!=null){let se=U;Array.isArray(se)&&(se=se.map(z=>HD(z))),d(n,["safetySettings"],se)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let se=Ks(D);Array.isArray(se)&&(se=se.map(z=>WD(Ys(z)))),d(n,["tools"],se)}const q=u(e,["toolConfig"]);if(n!==void 0&&q!=null&&d(n,["toolConfig"],i2(q)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=u(e,["cachedContent"]);n!==void 0&&J!=null&&d(n,["cachedContent"],Ti(t,J));const W=u(e,["responseModalities"]);W!=null&&d(i,["responseModalities"],W);const re=u(e,["mediaResolution"]);re!=null&&d(i,["mediaResolution"],re);const Y=u(e,["speechConfig"]);if(Y!=null&&d(i,["speechConfig"],a2(dh(Y))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=u(e,["thinkingConfig"]);return ee!=null&&d(i,["thinkingConfig"],l2(ee)),i}function T0(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["contents"]);if(o!=null){let c=Mn(o);Array.isArray(c)&&(c=c.map(h=>Iu(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["generationConfig"],u2(t,a,n)),n}function c2(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&d(e,["requests[]","taskType"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&d(e,["requests[]","title"],o);const a=u(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&d(e,["requests[]","outputDimensionality"],a),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function d2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["contents"]);o!=null&&d(n,["requests[]","content"],e_(t,o));const a=u(e,["config"]);a!=null&&d(n,["config"],c2(a,n));const c=u(e,["model"]);return c!==void 0&&d(n,["requests[]","model"],st(t,c)),n}function f2(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const a=u(t,["guidanceScale"]);if(e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const p=u(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&d(e,["parameters","includeSafetyAttributes"],p);const m=u(t,["includeRaiReason"]);e!==void 0&&m!=null&&d(e,["parameters","includeRaiReason"],m);const y=u(t,["language"]);e!==void 0&&y!=null&&d(e,["parameters","language"],y);const _=u(t,["outputMimeType"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","mimeType"],_);const T=u(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function h2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["config"]);return a!=null&&d(n,["config"],f2(a,n)),n}function m2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],st(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function p2(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&d(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&d(n,["_url","models_url"],i_(t,h)),i}function g2(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],p2(t,i,n)),n}function y2(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&d(e,["defaultCheckpointId"],a),n}function v2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],st(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],y2(o,n)),n}function x2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],st(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function _2(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function T2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["contents"]);if(o!=null){let c=Mn(o);Array.isArray(c)&&(c=c.map(h=>Iu(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],_2(a)),n}function S2(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],Si(n));const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function b2(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=u(t,["durationSeconds"]);if(e!==void 0&&o!=null&&d(e,["parameters","durationSeconds"],o),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=u(t,["aspectRatio"]);if(e!==void 0&&a!=null&&d(e,["parameters","aspectRatio"],a),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=u(t,["personGeneration"]);if(e!==void 0&&c!=null&&d(e,["parameters","personGeneration"],c),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(t,["negativePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","negativePrompt"],h);const p=u(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&d(e,["parameters","enhancePrompt"],p),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function w2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["image"]);if(a!=null&&d(n,["instances[0]","image"],S2(a)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const c=u(e,["config"]);return c!=null&&d(n,["config"],b2(c,n)),n}function C2(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function E2(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function A2(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function N2(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],C2(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],E2(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],A2(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function Qs(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>N2(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function R2(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const _=u(t,["maxProperties"]);_!=null&&d(e,["maxProperties"],_);const T=u(t,["maximum"]);T!=null&&d(e,["maximum"],T);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const b=u(t,["minLength"]);b!=null&&d(e,["minLength"],b);const A=u(t,["minProperties"]);A!=null&&d(e,["minProperties"],A);const E=u(t,["minimum"]);E!=null&&d(e,["minimum"],E);const k=u(t,["nullable"]);k!=null&&d(e,["nullable"],k);const I=u(t,["pattern"]);I!=null&&d(e,["pattern"],I);const U=u(t,["properties"]);U!=null&&d(e,["properties"],U);const D=u(t,["propertyOrdering"]);D!=null&&d(e,["propertyOrdering"],D);const q=u(t,["required"]);q!=null&&d(e,["required"],q);const J=u(t,["title"]);J!=null&&d(e,["title"],J);const W=u(t,["type"]);return W!=null&&d(e,["type"],W),e}function k2(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&d(e,["featureSelectionPreference"],n),e}function M2(t){const e={},n=u(t,["method"]);n!=null&&d(e,["method"],n);const i=u(t,["category"]);i!=null&&d(e,["category"],i);const o=u(t,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function D2(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function U2(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function I2(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],U2(n)),e}function P2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function L2(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],P2(n)),e}function O2(){return{}}function q2(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function B2(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],q2(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function V2(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],B2(n)),e}function $2(){return{}}function g_(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>D2(_))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],I2(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],L2(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],O2());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],V2(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],$2());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function F2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function z2(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function G2(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],z2(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function j2(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],F2(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],G2(i)),e}function H2(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function J2(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],H2(n)),e}function Y2(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],J2(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function K2(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function Q2(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],Qs(Yt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const _=u(e,["responseLogprobs"]);_!=null&&d(i,["responseLogprobs"],_);const T=u(e,["logprobs"]);T!=null&&d(i,["logprobs"],T);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const b=u(e,["frequencyPenalty"]);b!=null&&d(i,["frequencyPenalty"],b);const A=u(e,["seed"]);A!=null&&d(i,["seed"],A);const E=u(e,["responseMimeType"]);E!=null&&d(i,["responseMimeType"],E);const k=u(e,["responseSchema"]);k!=null&&d(i,["responseSchema"],R2(va(k)));const I=u(e,["responseJsonSchema"]);I!=null&&d(i,["responseJsonSchema"],I);const U=u(e,["routingConfig"]);U!=null&&d(i,["routingConfig"],U);const D=u(e,["modelSelectionConfig"]);D!=null&&d(i,["modelConfig"],k2(D));const q=u(e,["safetySettings"]);if(n!==void 0&&q!=null){let Ie=q;Array.isArray(Ie)&&(Ie=Ie.map(K=>M2(K))),d(n,["safetySettings"],Ie)}const J=u(e,["tools"]);if(n!==void 0&&J!=null){let Ie=Ks(J);Array.isArray(Ie)&&(Ie=Ie.map(K=>g_(Ys(K)))),d(n,["tools"],Ie)}const W=u(e,["toolConfig"]);n!==void 0&&W!=null&&d(n,["toolConfig"],j2(W));const re=u(e,["labels"]);n!==void 0&&re!=null&&d(n,["labels"],re);const Y=u(e,["cachedContent"]);n!==void 0&&Y!=null&&d(n,["cachedContent"],Ti(t,Y));const ee=u(e,["responseModalities"]);ee!=null&&d(i,["responseModalities"],ee);const se=u(e,["mediaResolution"]);se!=null&&d(i,["mediaResolution"],se);const z=u(e,["speechConfig"]);z!=null&&d(i,["speechConfig"],Y2(dh(z)));const Ue=u(e,["audioTimestamp"]);Ue!=null&&d(i,["audioTimestamp"],Ue);const Ze=u(e,["thinkingConfig"]);return Ze!=null&&d(i,["thinkingConfig"],K2(Ze)),i}function S0(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["contents"]);if(o!=null){let c=Mn(o);Array.isArray(c)&&(c=c.map(h=>Qs(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["generationConfig"],Q2(t,a,n)),n}function Z2(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&d(e,["instances[]","task_type"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&d(e,["instances[]","title"],o);const a=u(t,["outputDimensionality"]);e!==void 0&&a!=null&&d(e,["parameters","outputDimensionality"],a);const c=u(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const h=u(t,["autoTruncate"]);return e!==void 0&&h!=null&&d(e,["parameters","autoTruncate"],h),n}function X2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["contents"]);o!=null&&d(n,["instances[]","content"],e_(t,o));const a=u(e,["config"]);return a!=null&&d(n,["config"],Z2(a,n)),n}function W2(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const _=u(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&d(e,["parameters","includeSafetyAttributes"],_);const T=u(t,["includeRaiReason"]);e!==void 0&&T!=null&&d(e,["parameters","includeRaiReason"],T);const w=u(t,["language"]);e!==void 0&&w!=null&&d(e,["parameters","language"],w);const b=u(t,["outputMimeType"]);e!==void 0&&b!=null&&d(e,["parameters","outputOptions","mimeType"],b);const A=u(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","compressionQuality"],A);const E=u(t,["addWatermark"]);e!==void 0&&E!=null&&d(e,["parameters","addWatermark"],E);const k=u(t,["enhancePrompt"]);return e!==void 0&&k!=null&&d(e,["parameters","enhancePrompt"],k),n}function eU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["config"]);return a!=null&&d(n,["config"],W2(a,n)),n}function Pu(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],Si(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function tU(t){const e={},n=u(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&d(e,["maskClasses"],i);const o=u(t,["maskDilation"]);return o!=null&&d(e,["dilation"],o),e}function nU(t){const e={},n=u(t,["controlType"]);n!=null&&d(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&d(e,["computeControl"],i),e}function iU(t){const e={},n=u(t,["styleDescription"]);return n!=null&&d(e,["styleDescription"],n),e}function rU(t){const e={},n=u(t,["subjectType"]);n!=null&&d(e,["subjectType"],n);const i=u(t,["subjectDescription"]);return i!=null&&d(e,["subjectDescription"],i),e}function sU(t){const e={},n=u(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],Pu(n));const i=u(t,["referenceId"]);i!=null&&d(e,["referenceId"],i);const o=u(t,["referenceType"]);o!=null&&d(e,["referenceType"],o);const a=u(t,["maskImageConfig"]);a!=null&&d(e,["maskImageConfig"],tU(a));const c=u(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],nU(c));const h=u(t,["styleImageConfig"]);h!=null&&d(e,["styleImageConfig"],iU(h));const p=u(t,["subjectImageConfig"]);return p!=null&&d(e,["subjectImageConfig"],rU(p)),e}function oU(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const _=u(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&d(e,["parameters","includeSafetyAttributes"],_);const T=u(t,["includeRaiReason"]);e!==void 0&&T!=null&&d(e,["parameters","includeRaiReason"],T);const w=u(t,["language"]);e!==void 0&&w!=null&&d(e,["parameters","language"],w);const b=u(t,["outputMimeType"]);e!==void 0&&b!=null&&d(e,["parameters","outputOptions","mimeType"],b);const A=u(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","compressionQuality"],A);const E=u(t,["editMode"]);e!==void 0&&E!=null&&d(e,["parameters","editMode"],E);const k=u(t,["baseSteps"]);return e!==void 0&&k!=null&&d(e,["parameters","editConfig","baseSteps"],k),n}function aU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["referenceImages"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>sU(p))),d(n,["instances[0]","referenceImages"],h)}const c=u(e,["config"]);return c!=null&&d(n,["config"],oU(c,n)),n}function lU(t,e){const n={},i=u(t,["includeRaiReason"]);e!==void 0&&i!=null&&d(e,["parameters","includeRaiReason"],i);const o=u(t,["outputMimeType"]);e!==void 0&&o!=null&&d(e,["parameters","outputOptions","mimeType"],o);const a=u(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&d(e,["parameters","outputOptions","compressionQuality"],a);const c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],c);const h=u(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=u(t,["numberOfImages"]);e!==void 0&&p!=null&&d(e,["parameters","sampleCount"],p);const m=u(t,["mode"]);return e!==void 0&&m!=null&&d(e,["parameters","mode"],m),n}function uU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["image"]);o!=null&&d(n,["instances[0]","image"],Pu(o));const a=u(e,["upscaleFactor"]);a!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],a);const c=u(e,["config"]);return c!=null&&d(n,["config"],lU(c,n)),n}function cU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],st(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function dU(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&d(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&d(n,["_url","models_url"],i_(t,h)),i}function fU(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],dU(t,i,n)),n}function hU(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&d(e,["defaultCheckpointId"],a),n}function mU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],hU(o,n)),n}function pU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],st(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function gU(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&d(e,["systemInstruction"],Qs(Yt(i)));const o=u(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>g_(h))),d(e,["tools"],c)}const a=u(t,["generationConfig"]);return e!==void 0&&a!=null&&d(e,["generationConfig"],a),n}function yU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["contents"]);if(o!=null){let c=Mn(o);Array.isArray(c)&&(c=c.map(h=>Qs(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],gU(a,n)),n}function vU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["contents"]);if(o!=null){let c=Mn(o);Array.isArray(c)&&(c=c.map(h=>Qs(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],a),n}function xU(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&d(e,["bytesBase64Encoded"],Si(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function _U(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const a=u(t,["fps"]);e!==void 0&&a!=null&&d(e,["parameters","fps"],a);const c=u(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const p=u(t,["aspectRatio"]);e!==void 0&&p!=null&&d(e,["parameters","aspectRatio"],p);const m=u(t,["resolution"]);e!==void 0&&m!=null&&d(e,["parameters","resolution"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const _=u(t,["pubsubTopic"]);e!==void 0&&_!=null&&d(e,["parameters","pubsubTopic"],_);const T=u(t,["negativePrompt"]);e!==void 0&&T!=null&&d(e,["parameters","negativePrompt"],T);const w=u(t,["enhancePrompt"]);e!==void 0&&w!=null&&d(e,["parameters","enhancePrompt"],w);const b=u(t,["generateAudio"]);e!==void 0&&b!=null&&d(e,["parameters","generateAudio"],b);const A=u(t,["lastFrame"]);e!==void 0&&A!=null&&d(e,["instances[0]","lastFrame"],Pu(A));const E=u(t,["compressionQuality"]);return e!==void 0&&E!=null&&d(e,["parameters","compressionQuality"],E),n}function TU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],st(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["image"]);a!=null&&d(n,["instances[0]","image"],Pu(a));const c=u(e,["video"]);c!=null&&d(n,["instances[0]","video"],xU(c));const h=u(e,["config"]);return h!=null&&d(n,["config"],_U(h,n)),n}function SU(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function bU(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function wU(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function CU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],SU(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],bU(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],wU(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function EU(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>CU(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function AU(t){const e={},n=u(t,["citationSources"]);return n!=null&&d(e,["citations"],n),e}function NU(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function RU(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>NU(o))),d(e,["urlMetadata"],i)}return e}function kU(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],EU(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],AU(i));const o=u(t,["tokenCount"]);o!=null&&d(e,["tokenCount"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],RU(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const _=u(t,["safetyRatings"]);return _!=null&&d(e,["safetyRatings"],_),e}function b0(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>kU(h))),d(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=u(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function MU(t){const e={},n=u(t,["values"]);return n!=null&&d(e,["values"],n),e}function DU(){return{}}function UU(t){const e={},n=u(t,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>MU(a))),d(e,["embeddings"],o)}return u(t,["metadata"])!=null&&d(e,["metadata"],DU()),e}function IU(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],Si(n));const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function y_(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&d(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function PU(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],IU(n));const i=u(t,["raiFilteredReason"]);i!=null&&d(e,["raiFilteredReason"],i);const o=u(t,["_self"]);return o!=null&&d(e,["safetyAttributes"],y_(o)),e}function LU(t){const e={},n=u(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>PU(a))),d(e,["generatedImages"],o)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],y_(i)),e}function OU(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function Gf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["version"]);a!=null&&d(e,["version"],a);const c=u(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],OU(c));const h=u(t,["inputTokenLimit"]);h!=null&&d(e,["inputTokenLimit"],h);const p=u(t,["outputTokenLimit"]);p!=null&&d(e,["outputTokenLimit"],p);const m=u(t,["supportedGenerationMethods"]);return m!=null&&d(e,["supportedActions"],m),e}function qU(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=u(e,["_self"]);if(o!=null){let a=r_(o);Array.isArray(a)&&(a=a.map(c=>Gf(c))),d(n,["models"],a)}return n}function BU(){return{}}function VU(t){const e={},n=u(t,["totalTokens"]);n!=null&&d(e,["totalTokens"],n);const i=u(t,["cachedContentTokenCount"]);return i!=null&&d(e,["cachedContentTokenCount"],i),e}function $U(t){const e={},n=u(t,["video","uri"]);n!=null&&d(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&d(e,["videoBytes"],Si(i));const o=u(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function FU(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],$U(n)),e}function zU(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>FU(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function GU(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],zU(c)),e}function jU(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function HU(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function JU(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function YU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],jU(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],HU(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],JU(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function KU(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>YU(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function QU(t){const e={},n=u(t,["citations"]);return n!=null&&d(e,["citations"],n),e}function ZU(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function XU(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ZU(o))),d(e,["urlMetadata"],i)}return e}function WU(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],KU(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],QU(i));const o=u(t,["finishMessage"]);o!=null&&d(e,["finishMessage"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],XU(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const _=u(t,["safetyRatings"]);return _!=null&&d(e,["safetyRatings"],_),e}function w0(t){const e={},n=u(t,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>WU(m))),d(e,["candidates"],p)}const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["responseId"]);o!=null&&d(e,["responseId"],o);const a=u(t,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const c=u(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const h=u(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function eI(t){const e={},n=u(t,["truncated"]);n!=null&&d(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&d(e,["tokenCount"],i),e}function tI(t){const e={},n=u(t,["values"]);n!=null&&d(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&d(e,["statistics"],eI(i)),e}function nI(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&d(e,["billableCharacterCount"],n),e}function iI(t){const e={},n=u(t,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>tI(a))),d(e,["embeddings"],o)}const i=u(t,["metadata"]);return i!=null&&d(e,["metadata"],nI(i)),e}function rI(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],Si(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function v_(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&d(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function hh(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],rI(n));const i=u(t,["raiFilteredReason"]);i!=null&&d(e,["raiFilteredReason"],i);const o=u(t,["_self"]);o!=null&&d(e,["safetyAttributes"],v_(o));const a=u(t,["prompt"]);return a!=null&&d(e,["enhancedPrompt"],a),e}function sI(t){const e={},n=u(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>hh(a))),d(e,["generatedImages"],o)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],v_(i)),e}function oI(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hh(o))),d(e,["generatedImages"],i)}return e}function aI(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hh(o))),d(e,["generatedImages"],i)}return e}function lI(t){const e={},n=u(t,["endpoint"]);n!=null&&d(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&d(e,["deployedModelId"],i),e}function uI(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function cI(t){const e={},n=u(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&d(e,["epoch"],i);const o=u(t,["step"]);return o!=null&&d(e,["step"],o),e}function jf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["versionId"]);a!=null&&d(e,["version"],a);const c=u(t,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(T=>lI(T))),d(e,["endpoints"],_)}const h=u(t,["labels"]);h!=null&&d(e,["labels"],h);const p=u(t,["_self"]);p!=null&&d(e,["tunedModelInfo"],uI(p));const m=u(t,["defaultCheckpointId"]);m!=null&&d(e,["defaultCheckpointId"],m);const y=u(t,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>cI(T))),d(e,["checkpoints"],_)}return e}function dI(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=u(e,["_self"]);if(o!=null){let a=r_(o);Array.isArray(a)&&(a=a.map(c=>jf(c))),d(n,["models"],a)}return n}function fI(){return{}}function hI(t){const e={},n=u(t,["totalTokens"]);return n!=null&&d(e,["totalTokens"],n),e}function mI(t){const e={},n=u(t,["tokensInfo"]);return n!=null&&d(e,["tokensInfo"],n),e}function pI(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["videoBytes"],Si(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function gI(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],pI(n)),e}function yI(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>gI(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function vI(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],yI(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xI="Content-Type",_I="X-Server-Timeout",TI="User-Agent",Hf="x-goog-api-client",SI="1.7.0",bI=`google-genai-sdk/${SI}`,wI="v1beta1",CI="v1beta",C0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class EI{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:wI,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:CI,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))o.searchParams.append(c,String(h));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?i[o]=Object.assign(Object.assign({},i[o]),a):a!==void 0&&(i[o]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&AI(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await E0(o),new qf(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await E0(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return Ps(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:p}=yield ht(o.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(p);try{const _=JSON.parse(m);if("error"in _){const T=JSON.parse(JSON.stringify(_.error)),w=T.status,b=T.code,A=`got status: ${w}. ${JSON.stringify(_)}`;if(b>=400&&b<600)throw new Uu({message:A,status:b})}}catch(_){if(_.name==="ApiError")throw _}c+=m;let y=c.match(C0);for(;y;){const _=y[1];try{const T=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ht(new qf(T)),c=c.slice(y[0].length),y=c.match(C0)}catch(T){throw new Error(`exception parsing stream chunk ${_}. ${T}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=bI+" "+this.clientOptions.userAgentExtra;return e[TI]=n,e[Hf]=n,e[xI]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(_I,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,c=await a.stat(e);o.sizeBytes=String(c.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=h;const p=await this.fetchUploadUrl(o,n);return a.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},c=await this.request({path:Te("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:o});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function E0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Uu({message:o,status:n}):new Error(o)}}function AI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,c){const h=Object.assign({},a);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const m=c[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NI="mcp_used/unknown";function x_(t){for(const e of t)if(mh(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function __(t){var e;const n=(e=t[Hf])!==null&&e!==void 0?e:"";t[Hf]=(n+` ${NI}`).trimStart()}function RI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>mh(o)))!==null&&i!==void 0?i:!1}function kI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!mh(o)))!==null&&i!==void 0?i:!1}function mh(t){return t!==null&&typeof t=="object"&&t instanceof ph}function MI(t,e=100){return Ps(this,arguments,function*(){let i,o=0;for(;o<e;){const a=yield ht(t.listTools({cursor:i}));for(const c of a.tools)yield yield ht(c),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class ph{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ph(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const a={},c=[];for(const y of this.mcpClients)try{for(var h=!0,p=(n=void 0,fa(MI(y))),m;m=await p.next(),e=m.done,!e;h=!0){o=m.value,h=!1;const _=o;c.push(_);const T=_.name;if(a[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);a[T]=y}}catch(_){n={error:_}}finally{try{!h&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),ER(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const c=await o.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function DI(t,e,n){const i=new hR;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const a=VD(o);Object.assign(i,a),e(i)}class UI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),c=LI(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(U=>{m=U}),_=e.callbacks,T=function(){m({})},w=this.apiClient,b={onopen:T,onmessage:U=>{DI(w,_.onmessage,U)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(U){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(U){}},A=this.webSocketFactory.create(p,PI(c),b);A.connect(),await y;const E=st(this.apiClient,e.model),k=h_({model:E}),I=zf({setup:k});return A.send(JSON.stringify(I)),new II(A,this.apiClient)}}class II{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=eD(e),i=m_(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=tD(e),i=zf(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=zf({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Us.PLAY)}pause(){this.sendPlaybackControl(Us.PAUSE)}stop(){this.sendPlaybackControl(Us.STOP)}resetContext(){this.sendPlaybackControl(Us.RESET_CONTEXT)}close(){this.conn.close()}}function PI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function LI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qI(t,e,n){const i=new fR;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const c=MD(a);Object.assign(i,c)}else{const c=kD(a);Object.assign(i,c)}e(i)}class BI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new UI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,a,c,h;const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const _=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&x_(e.config.tools)&&__(_);const T=zI(_);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T);else{const Y=this.apiClient.getApiKey();let ee="BidiGenerateContent",se="key";Y!=null&&Y.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ee="BidiGenerateContentConstrained",se="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ee}?${se}=${Y}`}let w=()=>{};const b=new Promise(Y=>{w=Y}),A=e.callbacks,E=function(){var Y;(Y=A==null?void 0:A.onopen)===null||Y===void 0||Y.call(A),w({})},k=this.apiClient,I={onopen:E,onmessage:Y=>{qI(k,A.onmessage,Y)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(Y){},onclose:(i=A==null?void 0:A.onclose)!==null&&i!==void 0?i:function(Y){}},U=this.webSocketFactory.create(y,FI(T),I);U.connect(),await b;let D=st(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const Y=this.apiClient.getProject(),ee=this.apiClient.getLocation();D=`projects/${Y}/locations/${ee}/`+D}let q={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[gu.AUDIO]}:e.config.responseModalities=[gu.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const J=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],W=[];for(const Y of J)if(this.isCallableTool(Y)){const ee=Y;W.push(await ee.tool())}else W.push(Y);W.length>0&&(e.config.tools=W);const re={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=J1(this.apiClient,re):q=H1(this.apiClient,re),delete q.config,U.send(JSON.stringify(q)),new $I(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const VI={turnComplete:!0};class $I{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Mn(n.turns),e.isVertexAI()?i=i.map(o=>Qs(o)):i=i.map(o=>Iu(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(OI)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},VI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:W1(e)}:n={realtimeInput:X1(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function FI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function zI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A0=10;function N0(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ru(c)){o=!0;break}if(!o)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ru(t){return"callTool"in t&&typeof t.callTool=="function"}function R0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GI extends Ur{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,a,c,h;const p=await this.processParamsForMcpUsage(n);if(!RI(n)||N0(n.config))return await this.generateContentInternal(p);if(kI(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const _=Mn(p.contents),T=(a=(o=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:A0;let w=0;for(;w<T&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const b=m.candidates[0].content,A=[];for(const E of(h=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(ru(E)){const I=await E.callTool(m.functionCalls);A.push(...I)}w++,y={role:"user",parts:A},p.contents=Mn(p.contents),p.contents.push(b),p.contents.push(y),R0(p.config)&&(_.push(b),_.push(y))}return R0(p.config)&&(m.automaticFunctionCallingHistory=_),m},this.generateContentStream=async n=>{if(N0(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let a;const c=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=p==null?void 0:p.safetyAttributes:c.push(p);let h;return a?h={generatedImages:c,positivePromptSafetyAttributes:a}:h={generatedImages:c},h}),this.list=async n=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Ca(Mr.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var n,i,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const c=await Promise.all(a.map(async p=>ru(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&x_(e.config.tools)){const p=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),__(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var n,i,o;const a=new Map;for(const c of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(ru(c)){const h=c,p=await h.tool();for(const m of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!m.name)throw new Error("Function declaration name is required.");if(a.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);a.set(m.name,h)}}return a}async processAfcStream(e){var n,i,o;const a=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:A0;let c=!1,h=0;const p=await this.initAfcToolsMap(e);return function(m,y,_){var T,w;return Ps(this,arguments,function*(){for(var b,A,E,k;h<a;){c&&(h++,c=!1);const q=yield ht(m.processParamsForMcpUsage(_)),J=yield ht(m.generateContentStreamInternal(q)),W=[],re=[];try{for(var I=!0,U=(A=void 0,fa(J)),D;D=yield ht(U.next()),b=D.done,!b;I=!0){k=D.value,I=!1;const Y=k;if(yield yield ht(Y),Y.candidates&&(!((T=Y.candidates[0])===null||T===void 0)&&T.content)){re.push(Y.candidates[0].content);for(const ee of(w=Y.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(h<a&&ee.functionCall){if(!ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ee.functionCall.name)){const se=yield ht(y.get(ee.functionCall.name).callTool([ee.functionCall]));W.push(...se)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ee.functionCall.name}`)}}}}catch(Y){A={error:Y}}finally{try{!I&&!b&&(E=U.return)&&(yield ht(E.call(U)))}finally{if(A)throw A.error}}if(W.length>0){c=!0;const Y=new ra;Y.candidates=[{content:{role:"user",parts:W}}],yield yield ht(Y);const ee=[];ee.push(...re),ee.push({role:"user",parts:W});const se=Mn(_.contents).concat(ee);_.contents=se}else break}})}(this,p,e)}async generateContentInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=S0(this.apiClient,e);return h=Te("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=w0(y),T=new ra;return Object.assign(T,_),T})}else{const m=T0(this.apiClient,e);return h=Te("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=b0(y),T=new ra;return Object.assign(T,_),T})}}async generateContentStreamInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=S0(this.apiClient,e);return h=Te("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(_){return Ps(this,arguments,function*(){var T,w,b,A;try{for(var E=!0,k=fa(_),I;I=yield ht(k.next()),T=I.done,!T;E=!0){A=I.value,E=!1;const D=w0(yield ht(A.json())),q=new ra;Object.assign(q,D),yield yield ht(q)}}catch(U){w={error:U}}finally{try{!E&&!T&&(b=k.return)&&(yield ht(b.call(k)))}finally{if(w)throw w.error}}})})}else{const m=T0(this.apiClient,e);return h=Te("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(_){return Ps(this,arguments,function*(){var T,w,b,A;try{for(var E=!0,k=fa(_),I;I=yield ht(k.next()),T=I.done,!T;E=!0){A=I.value,E=!1;const D=b0(yield ht(A.json())),q=new ra;Object.assign(q,D),yield yield ht(q)}}catch(U){w={error:U}}finally{try{!E&&!T&&(b=k.return)&&(yield ht(b.call(k)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=X2(this.apiClient,e);return h=Te("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=iI(y),T=new e0;return Object.assign(T,_),T})}else{const m=d2(this.apiClient,e);return h=Te("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=UU(y),T=new e0;return Object.assign(T,_),T})}}async generateImagesInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=eU(this.apiClient,e);return h=Te("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=sI(y),T=new t0;return Object.assign(T,_),T})}else{const m=h2(this.apiClient,e);return h=Te("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=LU(y),T=new t0;return Object.assign(T,_),T})}}async editImageInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=aU(this.apiClient,e);return a=Te("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=oI(p),y=new oR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=uU(this.apiClient,e);return a=Te("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=aI(p),y=new aR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=cU(this.apiClient,e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>jf(y))}else{const m=m2(this.apiClient,e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Gf(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=fU(this.apiClient,e);return h=Te("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=dI(this.apiClient,y),T=new n0;return Object.assign(T,_),T})}else{const m=g2(this.apiClient,e);return h=Te("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=qU(this.apiClient,y),T=new n0;return Object.assign(T,_),T})}}async update(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=mU(this.apiClient,e);return h=Te("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>jf(y))}else{const m=v2(this.apiClient,e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Gf(y))}}async delete(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=pU(this.apiClient,e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=fI(),_=new i0;return Object.assign(_,y),_})}else{const m=x2(this.apiClient,e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=BU(),_=new i0;return Object.assign(_,y),_})}}async countTokens(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=yU(this.apiClient,e);return h=Te("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=hI(y),T=new r0;return Object.assign(T,_),T})}else{const m=T2(this.apiClient,e);return h=Te("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=VU(y),T=new r0;return Object.assign(T,_),T})}}async computeTokens(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=vU(this.apiClient,e);return a=Te("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=mI(p),y=new lR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=TU(this.apiClient,e);return h=Te("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>vI(y))}else{const m=w2(this.apiClient,e);return h=Te("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>GU(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function HI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function JI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["operationName"],n);const i=u(t,["resourceName"]);i!=null&&d(e,["_url","resourceName"],i);const o=u(t,["config"]);return o!=null&&d(e,["config"],o),e}function YI(t){const e={},n=u(t,["video","uri"]);n!=null&&d(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&d(e,["videoBytes"],Si(i));const o=u(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function KI(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],YI(n)),e}function QI(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>KI(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function ZI(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],QI(c)),e}function XI(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["videoBytes"],Si(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function WI(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],XI(n)),e}function eP(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>WI(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function k0(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],eP(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tP extends Ur{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;return i&&"httpOptions"in i&&(a=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=HI(e);return h=Te("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>k0(y))}else{const m=jI(e);return h=Te("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>ZI(y))}}async fetchPredictVideosOperationInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=JI(e);return a=Te("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>k0(p))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nP(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function T_(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],nP(n)),e}function iP(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],T_(i)),e}function rP(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>iP(o))),d(e,["speakerVoiceConfigs"],i)}return e}function sP(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],T_(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],rP(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function oP(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function aP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function lP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function uP(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],oP(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],aP(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],lP(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&d(e,["text"],_),e}function cP(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>uP(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function dP(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function fP(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function hP(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],fP(n)),e}function mP(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function pP(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],mP(n)),e}function gP(){return{}}function yP(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>dP(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],hP(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],pP(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],gP());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function vP(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function M0(){return{}}function xP(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function _P(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],xP(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function TP(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function SP(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],TP(i)),e}function bP(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function wP(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],sP(fh(_)));const T=u(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],T);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],cP(Yt(w)));const b=u(t,["tools"]);if(e!==void 0&&b!=null){let q=Ks(b);Array.isArray(q)&&(q=q.map(J=>yP(Ys(J)))),d(e,["setup","tools"],q)}const A=u(t,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],vP(A));const E=u(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&d(e,["setup","inputAudioTranscription"],M0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","outputAudioTranscription"],M0());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&d(e,["setup","realtimeInputConfig"],_P(I));const U=u(t,["contextWindowCompression"]);e!==void 0&&U!=null&&d(e,["setup","contextWindowCompression"],SP(U));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&d(e,["setup","proactivity"],bP(D)),n}function CP(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],st(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],wP(o,n)),n}function EP(t,e,n){const i={},o=u(e,["expireTime"]);n!==void 0&&o!=null&&d(n,["expireTime"],o);const a=u(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&d(n,["newSessionExpireTime"],a);const c=u(e,["uses"]);n!==void 0&&c!=null&&d(n,["uses"],c);const h=u(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&d(n,["bidiGenerateContentSetup"],CP(t,h));const p=u(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&d(n,["fieldMask"],p),i}function AP(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],EP(t,i,n)),n}function NP(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RP(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function kP(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=RP(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];o.length>0&&(h=o.map(m=>c.includes(m)?`generationConfig.${m}`:m));const p=[];a&&p.push(a),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class MP extends Ur{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=AP(this.apiClient,e);a=Te("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const p=kP(h,e.config);return o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),o.then(m=>NP(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function UP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function IP(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],UP(n,e)),e}function PP(t){const e={},n=u(t,["textInput"]);n!=null&&d(e,["textInput"],n);const i=u(t,["output"]);return i!=null&&d(e,["output"],i),e}function LP(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>PP(o))),d(e,["examples","examples"],i)}return e}function OP(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&d(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=u(t,["epochCount"]);e!==void 0&&o!=null&&d(e,["tuningTask","hyperparameters","epochCount"],o);const a=u(t,["learningRateMultiplier"]);if(a!=null&&d(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=u(t,["batchSize"]);e!==void 0&&c!=null&&d(e,["tuningTask","hyperparameters","batchSize"],c);const h=u(t,["learningRate"]);return e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","learningRate"],h),n}function qP(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&d(e,["tuningTask","trainingData"],LP(i));const o=u(t,["config"]);return o!=null&&d(e,["config"],OP(o,e)),e}function BP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function VP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function $P(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],VP(n,e)),e}function FP(t,e){const n={},i=u(t,["gcsUri"]);if(e!==void 0&&i!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],i),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function zP(t){const e={},n=u(t,["gcsUri"]);return n!=null&&d(e,["validationDatasetUri"],n),e}function GP(t,e){const n={},i=u(t,["validationDataset"]);e!==void 0&&i!=null&&d(e,["supervisedTuningSpec"],zP(i));const o=u(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&d(e,["tunedModelDisplayName"],o);const a=u(t,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const c=u(t,["epochCount"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const h=u(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=u(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=u(t,["adapterSize"]);if(e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function jP(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],FP(i,e));const o=u(t,["config"]);return o!=null&&d(e,["config"],GP(o,e)),e}function HP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["model"],n);const i=u(t,["name"]);return i!=null&&d(e,["endpoint"],i),e}function S_(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["state"]);i!=null&&d(e,["state"],t_(i));const o=u(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=u(t,["tuningTask","startTime"]);a!=null&&d(e,["startTime"],a);const c=u(t,["tuningTask","completeTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["description"]);p!=null&&d(e,["description"],p);const m=u(t,["baseModel"]);m!=null&&d(e,["baseModel"],m);const y=u(t,["_self"]);y!=null&&d(e,["tunedModel"],HP(y));const _=u(t,["distillationSpec"]);_!=null&&d(e,["distillationSpec"],_);const T=u(t,["experiment"]);T!=null&&d(e,["experiment"],T);const w=u(t,["labels"]);w!=null&&d(e,["labels"],w);const b=u(t,["pipelineJob"]);b!=null&&d(e,["pipelineJob"],b);const A=u(t,["serviceAccount"]);A!=null&&d(e,["serviceAccount"],A);const E=u(t,["tunedModelDisplayName"]);return E!=null&&d(e,["tunedModelDisplayName"],E),e}function JP(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>S_(a))),d(e,["tuningJobs"],o)}return e}function YP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);return a!=null&&d(e,["error"],a),e}function KP(t){const e={},n=u(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&d(e,["epoch"],i);const o=u(t,["step"]);o!=null&&d(e,["step"],o);const a=u(t,["endpoint"]);return a!=null&&d(e,["endpoint"],a),e}function QP(t){const e={},n=u(t,["model"]);n!=null&&d(e,["model"],n);const i=u(t,["endpoint"]);i!=null&&d(e,["endpoint"],i);const o=u(t,["checkpoints"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>KP(c))),d(e,["checkpoints"],a)}return e}function Jf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["state"]);i!=null&&d(e,["state"],t_(i));const o=u(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=u(t,["startTime"]);a!=null&&d(e,["startTime"],a);const c=u(t,["endTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["error"]);p!=null&&d(e,["error"],p);const m=u(t,["description"]);m!=null&&d(e,["description"],m);const y=u(t,["baseModel"]);y!=null&&d(e,["baseModel"],y);const _=u(t,["tunedModel"]);_!=null&&d(e,["tunedModel"],QP(_));const T=u(t,["supervisedTuningSpec"]);T!=null&&d(e,["supervisedTuningSpec"],T);const w=u(t,["tuningDataStats"]);w!=null&&d(e,["tuningDataStats"],w);const b=u(t,["encryptionSpec"]);b!=null&&d(e,["encryptionSpec"],b);const A=u(t,["partnerModelTuningSpec"]);A!=null&&d(e,["partnerModelTuningSpec"],A);const E=u(t,["distillationSpec"]);E!=null&&d(e,["distillationSpec"],E);const k=u(t,["experiment"]);k!=null&&d(e,["experiment"],k);const I=u(t,["labels"]);I!=null&&d(e,["labels"],I);const U=u(t,["pipelineJob"]);U!=null&&d(e,["pipelineJob"],U);const D=u(t,["serviceAccount"]);D!=null&&d(e,["serviceAccount"],D);const q=u(t,["tunedModelDisplayName"]);return q!=null&&d(e,["tunedModelDisplayName"],q),e}function ZP(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Jf(a))),d(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XP extends Ur{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ca(Mr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:Of.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=BP(e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Jf(y))}else{const m=DP(e);return h=Te("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>S_(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=$P(e);return h=Te("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=ZP(y),T=new s0;return Object.assign(T,_),T})}else{const m=IP(e);return h=Te("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=JP(y),T=new s0;return Object.assign(T,_),T})}}async tuneInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=jP(e);return a=Te("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>Jf(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=qP(e);return a=Te("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>YP(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WP{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const eL=1024*1024*8,tL=3,nL=1e3,iL=2,hf="x-goog-upload-status";async function rL(t,e,n){var i,o,a;let c=0,h=0,p=new qf(new Response),m="upload";for(c=t.size;h<c;){const _=Math.min(eL,c-h),T=t.slice(h,h+_);h+_>=c&&(m+=", finalize");let w=0,b=nL;for(;w<tL&&(p=await n.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(_)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[hf]));)w++,await oL(b),b=b*iL;if(h+=_,((o=p==null?void 0:p.headers)===null||o===void 0?void 0:o[hf])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[hf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function sL(t){return{size:t.size,type:t.type}}function oL(t){return new Promise(e=>setTimeout(e,t))}class aL{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rL(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await sL(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lL{create(e,n,i){return new uL(e,n,i)}}class uL{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D0="x-goog-api-key";class cL{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(D0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(D0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dL="gl-node/";class fL{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=sR(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new cL(this.apiKey);this.apiClient=new EI({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:dL+"web",uploader:new aL,downloader:new WP}),this.models=new GI(this.apiClient),this.live=new BI(this.apiClient,o,new lL),this.batches=new Uk(this.apiClient),this.chats=new OM(this.models,this.apiClient),this.caches=new IM(this.apiClient),this.files=new QM(this.apiClient),this.operations=new tP(this.apiClient),this.authTokens=new MP(this.apiClient),this.tunings=new XP(this.apiClient)}}const su=new fL({apiKey:"AIzaSyA-6iYToU_byydoAlucPvc0qnZXciaSI2A"}),hL=`
    # The following files given to you are a science olympiad invitational test and the answer/solutions.
    # Take all the questions and return them in an array of question JSON objects.
    # Each question object should have the following details: 
    {
      type,
      question,
      points,
      choices,
      answer,
      group,
    }

    # Go through the pdf, and identify the type of each question.
    # The type can be either mcq, saq, or leq, NOTHING ELSE!! 
    # mcq: multiple choice, saq: short answer (so one word, objective answers), leq: (longer answers where you have to explain or show your work)
    # If it's a matching question, the questions should be mcqs and just make as many questions as there are things to match
    # And the things to match are the choices
    # If it's a question where you have a few items/facts with letters, and each following question requires you to pull from that answer bank, then make the question an mcq, with the answer bank as choices, and each question as its own question.
    # Choices can be null if the question is not multiple choice
    # The question attribute is the question itself, so for example "What is blah"
    # The points are the points assigned to the question. Some tests will have this and others won't.
    # For tests that don't assign points, assign 1 point to each mcq and saq, and 5 for each leq.
    # For choices, don't label A, B, C (I'll do that myself). Choices is an array of strings, where the strings are the choices themselves without any other attachments.
    # For answers look at the answers pdf. For mcqs, the answer is the choice letter, so A, B, C, D, etc. If the test has the choices labeled differently still use A, B, C, and consecutive letters as the answer
    # If for mcqs the test answer refers to the actual answer, change it so the test answer is the correct letter instead. So for example if the test choices were labeled 1 through 10, and the answer was 1, your answer will be A.
    # Just to reiterate, the answer to mcqs will always be the correct LETTER choice and nothing else!
    # For questions that ask to order something, make that an mcq as well. For the choices, include the correct answer, and make up other orders of that order.
    # Make true-false questions mcqs with true and false as the two choices. 
    # The answer to an mcq should always be an option letter so even though the options for true and false are true or false, the answer will either be A or B
    # If a question is in a set, and there is context given pertaining to all questions in the beginning, then put that context in the question string of each question
    # If a question is in a set where they all refer to the same image, then you should also give a group attribute in the question object with a unique identifer for all questions in that group
    # The group attribute is optional, and ONLY for questions who have the same image used. So ONLY give and it and DEFINITELY give it when you have that situation where a bunch of questions use the same image, chart, drawing, etc 
    # Do not describe images for the test taker! 
    # For saqs, simply write down the one word or short phrase answer
    # If there are multiple answers for mcqs and saqs separate them with a comma and a space.
    # For leqs, put whatever the answer key for that test has in the answer, as a string, including directions to grade the problem if there are those.
    # Do not care about any images in the test. I will handle those later.
    # Only send the valid JSON array and no other words, because your response has to be JSON parsable
    # To reiterate, send an array of objects that have the property, type, which is either mcq, saq, or leq, question, which is a string, points, which is a number, choices, which is an array of strings (only if the q is multiple choice), and answer, which is either a singuler string or a string with comma separated values
    # In the case you are not given an answers pdf, or the answer might be unclear, you may generate the answer to the best of your knowledge. Ensure that none of the answers are anything such as "this will be determined later." For those type of "lab-based" questions, provide a range if you can from the best of your knowledge. 
    # ONLY GENERATE AN ANSWER WHEN IT IS CLEARLY NOT CLEAR OR NOT PRESENT. OTHERWISE DO NOT INTERFERE!
    # Do NOT generate your own questions!!
    # Make sure to return a **complete and valid JSON array**.
    # Your response should start with a left bracket [ and end with a right bracket ].
    # Once you end your triple quotes STOP!
    # Every question should stand on its own without other questions. So if any question refers to a previous question, ensure that the relevant context is in this question without needing the previous question.
    # Do not have wording such as "previous question" or "next question" because the order might change, so make the question so it can stand without having done other questions.
    # If you have an leq, then you can put all the parts that depend on each other as one question
    # If you have mcqs or saqs that refer to other questions, put that relevant information in the current question so it stands alone.
    # DO NOT PUT CHOICES IN THE QUESTION!! If you have choices, no matter how the test pdf has it, make the question an mcq and put choices as strings in an array
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), then all questions should be an leq! Make sure to use spaces and newlines properly as it is in the test. So put spaces between characters, words, and lines where appropriate so there's space for users to write in their answers or for me to put in boxes.
    # IF AND ONLY IF the test is Codebusters, then make sure that if a question is a special bonus question you add special bonus to it, and if the question has points listed, put those points in the points attribute.
    # IF AND ONLY IF the test is Codebusters, ensure that the question that might say (decode this) is separated from the cipher (the actual words) through new lines and such. Clearly separate the question from the cipher. 
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), the answer should be the solution to the cipher, with proper spaces. Do not add newlines or anything like that to the answer key. That should just be the simple answer.
    # FINAL INSTRUCTION: Your response must be *only* a valid JSON array, starting with '[' and ending with ']'. No explanations, no formatting, no extra text.
`;async function U0(t){const e=await su.files.upload({file:t,config:{displayName:t.name}});let n=await su.files.get({name:e.name});for(;n.state==="PROCESSING";)n=await su.files.get({name:e.name}),console.log(`current file status: ${n.state}`),console.log("File is still processing, retrying in 5 seconds"),await new Promise(i=>{setTimeout(i,5e3)});if(e.state==="FAILED")throw new Error("File processing failed.");return e}async function mL(t,e){const n=[hL];let i=await U0(t);if(i.uri&&i.mimeType){const c=Wv(i.uri,i.mimeType);n.push(c)}let o=await U0(e);if(o.uri&&o.mimeType){const c=Wv(o.uri,o.mimeType);n.push(c)}const a=await su.models.generateContent({model:"gemini-2.5-flash",contents:n});return console.log(a.text),a.text}const pL={createQuestions:mL},gL=({q:t,index:e,onEdit:n,onDelete:i})=>{const[o,a]=R.useState(!1),[c,h]=R.useState({...t}),p=()=>{a(!1),n(e,c)};return x.jsx("div",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:o?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Question"}),x.jsx("input",{value:c.question,onChange:m=>h({...c,question:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),x.jsxs("select",{value:c.type,onChange:m=>h({...c,type:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[x.jsx("option",{value:"mcq",children:"Multiple Choice"}),x.jsx("option",{value:"saq",children:"Short Answer"}),x.jsx("option",{value:"leq",children:"Long Answer"})]})]}),c.type==="mcq"&&x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Choices"}),x.jsx("div",{className:"space-y-2",children:c.choices.map((m,y)=>x.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[x.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+y),"."]}),x.jsx("input",{value:m,onChange:_=>{const T=[...c.choices];T[y]=_.target.value,h({...c,choices:T})},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}),x.jsx("button",{type:"button",className:"text-orange-600 font-medium",onClick:()=>{const _=c.choices.filter((T,w)=>w!==y);h({...c,choices:_})},children:"Remove"})]},y))}),x.jsx("button",{type:"button",className:"mt-2 text-orange-600 hover:underline",onClick:()=>h({...c,choices:[...c.choices,""]}),children:"+ Add Choice"})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),c.type==="leq"?x.jsx("textarea",{value:c.answer,onChange:m=>h({...c,answer:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}):x.jsx("input",{value:c.answer,onChange:m=>h({...c,answer:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),x.jsx("input",{type:"number",value:c.points,onChange:m=>h({...c,points:+m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),c.selectedFile?x.jsxs("div",{className:"mt-4 w-full",children:[x.jsxs("div",{className:"flex justify-between items-center pb-2",children:[x.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),x.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>h({...c,selectedFile:null}),children:""})]}),x.jsx("img",{src:URL.createObjectURL(c.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):x.jsxs("label",{htmlFor:`file-upload-${e}`,className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[x.jsx("input",{id:`file-upload-${e}`,type:"file",className:"hidden",onChange:m=>{m.target.files&&m.target.files.length>0&&h({...c,selectedFile:m.target.files[0]})}}),x.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]}),x.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[x.jsx("button",{onClick:()=>a(!1),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Cancel"}),x.jsx("button",{onClick:p,className:"bg-orange-600 text-black px-4 py-1 rounded-md hover:bg-orange-700",children:"Save"})]})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex justify-between items-center mb-3",children:x.jsxs("div",{className:"mb-2 font-medium text-orange-900",children:["Q",e+1,": ",t.question]})}),t.type==="mcq"&&t.choices.map((m,y)=>x.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[x.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+y),"."]}),x.jsx("span",{className:"text-gray-800",children:m})]},`${m}-${y}`)),x.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",x.jsx("span",{className:"font-semibold",children:t.points})]}),x.jsxs("div",{className:"text-sm text-gray-700",children:["Answer (s): ",x.jsx("span",{className:"font-semibold",children:t.answer})]}),t.selectedFile&&x.jsx("div",{className:"mt-4 w-full",children:x.jsx("img",{src:URL.createObjectURL(t.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})}),x.jsx("div",{className:"flex justify-end py-2",children:x.jsxs("div",{className:"flex justify-between gap-3",children:[x.jsx("button",{onClick:()=>a(!0),className:"bg-orange-500 hover:bg-orange-600 px-4 py-1 rounded-md",children:"Edit"}),x.jsx("button",{onClick:()=>i(e),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Delete"})]})})]})})},yL=t=>{const[e,n]=R.useState(!0),[i,o]=R.useState([]),[a,c]=R.useState(""),[h,p]=R.useState(""),[m,y]=R.useState(""),[_,T]=R.useState(1),[w,b]=R.useState([]),[A,E]=R.useState(""),[k,I]=R.useState(""),[U,D]=R.useState(""),[q,J]=R.useState(""),[W,re]=R.useState(null),[Y,ee]=R.useState(""),[se,z]=R.useState(""),[Ue,Ze]=R.useState(!1),Ie=B=>B.split(",").map(N=>N.trim()).every(N=>/^[A-Za-z]$/.test(N)),K=()=>{if(m.length===0){t.setError("Type of question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(a.length===0)t.setError("Question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);else if(h.length===0){t.setError("Answer required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(m==="mcq"){if(!w||w.length<2){t.setError("Choices required for multiple choice question!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(!Ie(h)){t.setError("Invalid formatting of answers. Separate multiple answers with commas."),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}o(i.concat({type:m,question:a,choices:w,points:_,answer:h,selectedFile:W})),c(""),p(""),y(""),T(1),b([]),re(null)},ae=async B=>{if(B.preventDefault(),q)if(k)if(U){if(i.length===0){t.setError("Questions are required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}else{t.setError("Test year required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Tournament name required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Event required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}if(t.tests.find(L=>L.school===k&&L.year===U)){t.setError("Test already uploaded to bank"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}const N=[];t.setNotif("Processing Test...");for(const L of i){let X;L.selectedFile&&(X=await bN.getImageUrl(L.selectedFile)),console.log(X);const oe=await ks.createQuestion({event:q,school:k,year:U,type:L.type,question:L.question,points:L.points,choices:L.choices,answer:L.answer,imageUrl:X});oe&&N.push(oe.id)}const O=await kn.createTest({event:q,random:!1,school:k,year:U,questions:N});console.log("Added Test"),t.setNotif("Added Test",O),t.setTests(t.tests.concat(O)),o([]),c(""),p(""),y(""),T(1),b([]),re(null),J(""),I(""),D(""),setTimeout(()=>{t.setNotif(null)},5e3)},j=async B=>{B.preventDefault(),Ze(!1),n(!1),window.scrollTo({top:0,behavior:"smooth"}),t.setNotif("Processing PDFs...");let O=(await pL.createQuestions(Y,se)).trim();O.startsWith("```json")?O=O.replace(/^```json/,"").replace(/```$/,"").trim():O.startsWith("```")&&(O=O.replace(/^```/,"").replace(/```$/,"").trim());try{const L=JSON.parse(O);o(L),ee(!1),z(!1),t.setNotif("Questions loaded!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch(L){t.setNotif(null),t.setError("Error loading questions"),setTimeout(()=>{t.setError(null)},5e3),console.log("Error",L)}};return t.user?x.jsxs("div",{className:"max-w-3xl mx-auto mt-10 p-6 bg-white rounded-md shadow-md",children:[x.jsxs("form",{className:"space-y-6",onSubmit:ae,children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Test"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Save Test"}),x.jsx(rt,{to:"/tests",className:"bg-amber-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Test Bank"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Tournament Name"}),x.jsx("input",{value:k,onChange:({target:B})=>I(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: Libertyville High School"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Year"}),x.jsx("input",{value:U,onChange:({target:B})=>D(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: 2025"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Event"}),x.jsxs("select",{value:q,onChange:({target:B})=>J(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[x.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select Event"}),t.events.map(B=>x.jsx("option",{value:B.name,children:B.name},B.name))]})]}),e?x.jsx("div",{children:x.jsxs("div",{className:"bg-orange-50 p-6 rounded-md border border-orange-200",children:[x.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-4",children:"Add Question"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Question"}),x.jsx("input",{value:a,onChange:({target:B})=>c(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"What is ..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),x.jsxs("select",{value:m,onChange:({target:B})=>y(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[x.jsx("option",{value:"",disabled:!0,children:"Select question type"}),x.jsx("option",{value:"mcq",children:"Multiple Choice"}),x.jsx("option",{value:"saq",children:"Short Answer"}),x.jsx("option",{value:"leq",children:"Paragraph/Long Answer"})]})]}),m==="mcq"&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Choices"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{value:A,onChange:({target:B})=>E(B.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: H20"}),x.jsx("button",{type:"button",onClick:()=>{A.trim()!==""&&(b([...w,A.trim()]),E(""))},className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]}),w.length>0&&x.jsx("div",{className:"space-y-2 mt-3",children:w.map((B,N)=>x.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+N),"."]}),x.jsx("span",{className:"text-gray-800",children:B})]}),x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{className:"text-orange-600 font-medium",onClick:()=>b(w.filter(O=>O!==B)),children:"Remove"})})]},B))})]}),m==="leq"?x.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer"}),x.jsx("textarea",{value:h,onChange:({target:B})=>p(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),x.jsx("input",{type:"number",value:_,onChange:({target:B})=>T(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}):x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),x.jsx("input",{value:h,onChange:({target:B})=>p(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: A, B"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),x.jsx("input",{type:"number",value:_,onChange:({target:B})=>T(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),W?x.jsxs("div",{className:"mt-4 w-full",children:[x.jsxs("div",{className:"flex justify-between items-center pb-2",children:[x.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),x.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>re(null),children:""})]}),x.jsx("img",{src:URL.createObjectURL(W),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):x.jsxs("label",{htmlFor:"file-upload-add",className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[x.jsx("input",{id:"file-upload-add",type:"file",className:"hidden",onChange:B=>{B.target.files&&B.target.files.length>0&&re(B.target.files[0])}}),x.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]})]}),x.jsxs("div",{className:"flex justify-between mt-6",children:[x.jsx("button",{type:"button",onClick:K,className:"bg-orange-600 text-white px-6 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Save Question"}),x.jsx("button",{type:"button",onClick:()=>n(!1),className:"bg-orange-50 mb-2 text-orange-700 font-semibold hover:underline",children:"Close Question Editor"})]})]})}):x.jsx("button",{type:"button",onClick:()=>n(!0),className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Open Question Editor"})]}),x.jsxs("div",{className:"mt-5",children:[x.jsx("button",{onClick:()=>{Ze(!0),ee(null),z(null)},className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Add Questions From PDF"}),x.jsx(Ax,{isOpen:Ue,onClose:()=>{Ze(!1)},title:"Add Questions From PDF",children:x.jsxs("form",{onSubmit:j,className:"max-w-md mx-auto space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question PDF"}),x.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:B})=>ee(B.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer PDF"}),x.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:B})=>z(B.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),x.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg shadow-md transition duration-200",children:"Upload"})]})})]}),x.jsx("ul",{className:"mb-8 mt-10 space-y-4",children:i.length>0?i.map((B,N)=>x.jsx(gL,{q:B,index:N,onEdit:(O,L)=>{o(i.map((X,oe)=>oe===O?L:X))},onDelete:O=>{o(i.filter((L,X)=>X!==O))}},N)):x.jsx("div",{className:"border-2 border-dashed border-orange-300 rounded-md p-6 text-center text-orange-700 italic bg-orange-50",children:"No questions added yet. Use the forms above to add questions."})})]}):null},vL=t=>{const[e,n]=R.useState([]),[i,o]=R.useState(""),[a,c]=R.useState(""),[h,p]=R.useState("");R.useEffect(()=>{const y=t.tests.filter(_=>!_.random&&_.event.includes(i)&&_.school.includes(a)&&_.year.toString().includes(h));n(y)},[i,a,h,t.tests]);const m=()=>{o(""),c(""),p("")};return t.user?x.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:x.jsxs("div",{className:"bg-white border border-orange-200 rounded-md p-6 shadow-md",children:[x.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-6",children:"Test Bank"}),x.jsxs("div",{className:"mb-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Event"}),x.jsxs("select",{value:i,onChange:({target:y})=>o(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[x.jsx("option",{value:"",children:"All"},"all"),t.events.map(y=>x.jsx("option",{value:y.name,children:y.name},y.name))]})]}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"School"}),x.jsxs("select",{value:a,onChange:({target:y})=>c(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[x.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.school))].map(y=>x.jsx("option",{value:y,children:y},y))]})]}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Year"}),x.jsxs("select",{value:h,onChange:({target:y})=>p(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[x.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.year))].map(y=>x.jsx("option",{value:y,children:y},y))]})]}),x.jsx("div",{className:"flex items-end",children:x.jsx("button",{onClick:m,className:"bg-orange-200 hover:bg-orange-300 text-orange-900 font-medium px-4 py-2 rounded-md transition w-full",children:"Reset Filters"})})]}),e.length>0?x.jsx("div",{className:"flex flex-col space-y-3",children:e.map(y=>x.jsx(rt,{to:`/tests/${y.id}`,children:x.jsx("div",{className:"flex justify-between items-center border border-orange-200 border-2 rounded-lg p-4 hover:bg-orange-100 transition",children:x.jsxs("div",{children:[x.jsxs("p",{className:"text-base font-semibold text-orange-800",children:[y.school," ",y.year]}),x.jsx("p",{className:"text-sm text-orange-700",children:y.event})]})})},y.id))}):x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-orange-700 mb-3 italic",children:"No tests found."}),x.jsx(rt,{to:"/tests/create",className:"inline-block bg-orange-200 text-orange-800 font-medium px-4 py-2 rounded-md hover:bg-orange-300 transition",children:"Add a Test"})]})]})}):null},xL=({tests:t,user:e,teams:n,setError:i,setNotif:o,setTests:a})=>{const[c,h]=R.useState(null),p=H0("/tests/:id"),m=_i();if(R.useEffect(()=>{if(p&&t){const _=t.find(T=>String(T.id)===p.params.id);h(_||null)}},[p,t]),!e)return;if(!t||!p)return x.jsx("div",{className:"flex justify-center items-center h-48",children:x.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(!c)return t.map(_=>_.id).includes(p.params.id.toString())?x.jsx("div",{className:"flex justify-center items-center h-48",children:x.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):x.jsx("div",{className:"text-center max-w-4xl mx-auto bg-white rounded-lg px-2 py-5 mt-10 font-medium text-orange-600",children:"Test not found."});const y=async()=>{if(!e||!c)return;if(!n||n.length===0){i("No teams available to assign this test."),setTimeout(()=>{i(null)},5e3);return}let _;try{_=await kn.updateTest(c.id,{assignees:n.filter(T=>T.event===c.event).map(T=>T.id)})}catch(T){console.error("Error assigning test:",T);return}_&&a(t.map(T=>T.id===c.id?_:T)),o("Test assigned successfully!"),setTimeout(()=>{o(null)},5e3),m("/tests")};return x.jsxs("div",{className:"max-w-4xl mx-auto mt-10 p-6 bg-white rounded-md shadow",children:[x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx(rt,{to:"/tests",className:"text-sm sm:text-base text-orange-600 font-semibold hover:text-orange-700 hover:underline transition",children:" Return to Test Bank"}),x.jsx("button",{onClick:y,className:"bg-orange-500 hover:bg-orange-600 text-white font-medium px-4 py-2 rounded shadow transition",children:"Assign"})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("h2",{className:"text-2xl font-semibold text-orange-700",children:[c.school," Science Olympiad ",c.year]}),x.jsx("h3",{className:"text-lg font-medium text-gray-700 mt-1",children:c.event})]})]}),x.jsx("ul",{className:"space-y-6 mt-8",children:c.questions&&c.questions.length>0?c.questions.map((_,T)=>{var w;return x.jsxs("li",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:[x.jsxs("div",{className:"mb-3 font-medium text-orange-900",children:["Q",T+1,": ",_.question]}),_.type==="mcq"&&((w=_.choices)==null?void 0:w.map((b,A)=>x.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[x.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+A),"."]}),x.jsx("span",{className:"text-gray-800",children:b})]},A))),x.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",x.jsx("span",{className:"font-semibold",children:_.points})]}),x.jsxs("div",{className:"text-sm text-gray-700",children:["Answer: ",x.jsx("span",{className:"font-semibold",children:_.answer})]}),_.imageUrl&&x.jsx("div",{className:"mt-4 w-full flex justify-center",children:x.jsx("img",{src:_.imageUrl,alt:"Attached",className:"max-w-lg border border-orange-300 rounded-md shadow"})})]},T)}):x.jsx("div",{className:"text-center italic text-orange-500",children:"No questions available for this test."})})]})},_L=t=>{const[e,n]=R.useState(""),[i,o]=R.useState([]),[a,c]=R.useState("20"),[h,p]=R.useState("20"),[m,y]=R.useState("10");if(!t.user)return null;if(!t.questions||t.questions.length===0)return x.jsx("div",{className:"flex justify-center items-center h-48",children:x.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});const _=async()=>{if(!e){t.setError("Please select an event."),setTimeout(()=>t.setError(null),5e3);return}if(a.length===0||h.length===0||m.length===0){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}if(isNaN(Number(a))||isNaN(Number(h))||isNaN(Number(m))){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}try{const w=t.questions.filter(k=>k.event===e&&k.type==="mcq"),b=t.questions.filter(k=>k.event===e&&k.type==="saq"),A=t.questions.filter(k=>k.event===e&&k.type==="leq"),E=[...w.sort(()=>.5-Math.random()).slice(0,Number(a)),...b.sort(()=>.5-Math.random()).slice(0,Number(h)),...A.sort(()=>.5-Math.random()).slice(0,Number(m))];o(E)}catch(w){console.error("Error creating test:",w)}},T=async()=>{if(i.length===0){t.setError("No questions generated to assign."),setTimeout(()=>{t.setError(null)},5e3);return}const w={event:e,random:!0,questions:i.map(b=>b.id)};try{if(!t.teams||t.teams.length===0){t.setError("No teams available to assign this test."),setTimeout(()=>{t.setError(null)},5e3);return}const b=await kn.createTest(w);if(b){const A=await kn.updateTest(b.id,{assignees:t.teams.filter(E=>E.event===e).map(E=>E.id)});t.setNotif("Test assigned successfully!"),setTimeout(()=>{t.setNotif(null)},5e3),t.setTests(t.tests.concat(A))}o([])}catch(b){console.error("Error assigning test:",b)}};return x.jsxs("div",{className:"max-w-3xl mx-auto mt-12 p-6 bg-white rounded-lg shadow-md space-y-6",children:[x.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Random Practice Test"}),x.jsxs("div",{className:"grid-cols-2 gap-4",children:[x.jsx("label",{className:"text-sm font-medium text-orange-700",children:"Event"}),x.jsxs("select",{value:e,onChange:({target:w})=>n(w.value),className:"w-full px-4 py-2 mt-2 mb-4 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[x.jsx("option",{value:"",children:"Select Event"}),t.events.map(w=>x.jsx("option",{value:w.name,children:w.name},w.name))]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of MCQs"}),x.jsx("input",{type:"number",min:"0",value:a,onChange:w=>c(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of SAQs"}),x.jsx("input",{type:"number",min:"0",value:h,onChange:w=>p(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of LEQs"}),x.jsx("input",{type:"number",min:"0",value:m,onChange:w=>y(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]})]})]}),x.jsx("div",{className:"text-center",children:x.jsx("button",{onClick:_,className:"bg-orange-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-orange-700 transition",children:"Generate"})}),i.length>0&&x.jsxs("div",{className:"mt-8",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:"Generated Questions"}),x.jsx("button",{onClick:T,className:"bg-amber-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-amber-700 transition",children:"Assign Test"})]}),x.jsx("ul",{className:"space-y-3 mb-6",children:i.map((w,b)=>x.jsxs("li",{className:"bg-orange-50 border border-orange-200 rounded-md p-4 text-gray-800 shadow-sm",children:["Q",b+1,": ",w.question]},b))})]})]})},TL=({event:t,users:e,teams:n,onSave:i,user:o})=>{const[a,c]=R.useState({orange:[],black:[],white:[]}),[h,p]=R.useState({orange:[],black:[],white:[]}),[m,y]=R.useState({orange:"",black:"",white:""}),[_,T]=R.useState(!1),[w,b]=R.useState(!1),[A,E]=R.useState(!1);R.useEffect(()=>{var J,W,re;const D={orange:[],black:[],white:[]};D.orange=((J=n.find(Y=>Y.name==="Varsity"))==null?void 0:J.students)||[],D.black=((W=n.find(Y=>Y.name==="JV"))==null?void 0:W.students)||[],D.white=((re=n.find(Y=>Y.name==="JV2"))==null?void 0:re.students)||[],c({...D}),p({...D});const q=D.white.length>0;T(q),b(q)},[n]);const k=D=>{const q=m[D].trim().toLowerCase(),J=e.find(W=>W.firstName.toLowerCase().includes(q)||`${W.firstName} ${W.lastName}`.toLowerCase().includes(q));J&&!a[D].some(W=>W.id===J.id)&&(c(W=>({...W,[D]:[...W[D],J]})),y(W=>({...W,[D]:""})))},I=(D,q)=>{c(J=>({...J,[D]:J[D].filter(W=>W.id!==q)}))},U=(D,q,J,W)=>x.jsxs("div",{className:"w-full",children:[x.jsx("div",{className:`text-[10px] font-bold py-1 px-1 rounded-t text-center ${J} ${W}`,children:q}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-b px-1 py-1 space-y-1 min-h-[40px]",onClick:()=>{var re;return A&&((re=document.getElementById(`${t.id}-${D}-input`))==null?void 0:re.focus())},children:[a[D].map(re=>x.jsxs("div",{className:"flex justify-between items-center text-[10px] bg-orange-50 px-1 py-[2px] rounded",children:[x.jsxs("span",{className:"truncate",children:[re.firstName," ",re.lastName]}),A&&x.jsx("button",{className:"text-gray-400 hover:text-red-500 ml-1 text-xs",onClick:Y=>{Y.stopPropagation(),I(D,re.id)},children:""})]},re.id)),A&&x.jsx("input",{id:`${t.id}-${D}-input`,value:m[D],onChange:re=>y(Y=>({...Y,[D]:re.target.value})),onKeyDown:re=>re.key==="Enter"&&k(D),placeholder:"Enter name and press enter",className:"w-full mt-1 px-1 py-[2px] text-[10px] border border-orange-300 rounded focus:outline-none focus:ring-1 focus:ring-orange-500"})]})]});return x.jsxs("div",{className:"border border-orange-200 rounded p-2 bg-orange-50 shadow-sm text-xs",children:[x.jsx("h4",{className:"font-semibold text-orange-700 text-center mb-2 truncate",children:t.name}),x.jsxs("div",{className:"flex gap-2 justify-center",children:[U("orange","Varsity","bg-orange-600","text-white"),U("black","JV","bg-black","text-white"),_&&U("white","JV2","bg-white","text-black")]}),(o==null?void 0:o.admin)&&A&&x.jsx("div",{className:"text-center mt-2",children:_?x.jsx("button",{className:"text-[10px] text-red-500 hover:underline",onClick:()=>{c(D=>({...D,white:[]})),T(!1)},children:"Remove JV2"}):x.jsx("button",{className:"text-orange-600 text-[10px] hover:underline",onClick:()=>T(!0),children:"+ Add JV2"})}),x.jsxs("div",{className:"text-center mt-3 space-x-2",children:[(o==null?void 0:o.admin)&&!A&&x.jsx("button",{onClick:()=>E(!0),className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Edit"}),(o==null?void 0:o.admin)&&A&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>{console.log("Saving assignment for",t.name,a),p(a),b(_),E(!1),i(t.name,a)},className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Save"}),x.jsx("button",{onClick:()=>{c(h),T(w),y({orange:"",black:"",white:""}),E(!1)},className:"bg-gray-200 text-gray-700 px-3 py-1 rounded text-xs hover:bg-gray-300 transition",children:"Cancel"})]})]})]})},Lu="/api/teams";let Ea=null;const SL=t=>{Ea=`Bearer ${t}`},bL=async()=>(await be.get(Lu,{headers:{Authorization:Ea}})).data,wL=async t=>(await be.post(Lu,t,{headers:{Authorization:Ea}})).data,CL=async(t,e)=>{const n=`${Lu}/${t}`;return(await be.put(n,e,{headers:{Authorization:Ea}})).data},EL=async t=>{const e=`${Lu}/${t}`;if((await be.delete(e,{headers:{Authorization:Ea}})).status===204)return{id:t}},ln={setToken:SL,getAll:bL,createTeam:wL,changeTeam:CL,deleteTeam:EL},AL=({user:t,users:e,events:n,teams:i,setTeams:o})=>{const[a,c]=R.useState([]),[h,p]=R.useState([]),[m,y]=R.useState([]),[_,T]=R.useState([]),[w,b]=R.useState([]),[A,E]=R.useState([]),k=(D,q)=>{if(D.length!==q.length)return!1;const J=[...D].sort(),W=[...q].sort();return J.every((re,Y)=>re===W[Y])},I=async(D,q)=>{const J=i.find(Y=>Y.event===D&&Y.name==="Varsity"),W=i.find(Y=>Y.event===D&&Y.name==="JV"),re=i.find(Y=>Y.event===D&&Y.name==="JV2");try{if(q.orange.length>0)if(J){if(k(J.students,q.orange.map(ee=>ee.id)))return;const Y=await ln.changeTeam(J.id,{students:q.orange.map(ee=>ee.id)});o(i.map(ee=>ee.id===J.id?Y:ee))}else{const Y=await ln.createTeam({event:D,name:"Varsity",students:q.orange.map(ee=>ee.id)});o(i.concat(Y))}else if(J){const Y=await ln.deleteTeam(J.id);Y&&o(i.filter(ee=>ee.id!==Y.id))}if(q.black.length>0)if(W){if(k(W.students,q.black.map(ee=>ee.id)))return;const Y=await ln.changeTeam(W.id,{students:q.black.map(ee=>ee.id)});o(i.map(ee=>ee.id===W.id?Y:ee))}else{const Y=await ln.createTeam({event:D,name:"JV",students:q.black.map(ee=>ee.id)});o(i.concat(Y))}else if(W){const Y=await ln.deleteTeam(W.id);Y&&o(i.filter(ee=>ee.id!==Y.id))}if(q.white.length>0)if(re){if(k(re.students,q.white.map(ee=>ee.id)))return;const Y=await ln.changeTeam(re.id,{students:q.white.map(ee=>ee.id)});o(i.map(ee=>ee.id===re.id?Y:ee))}else{const Y=await ln.createTeam({event:D,name:"JV2",students:q.white.map(ee=>ee.id)});o(i.concat(Y))}else if(re){const Y=await ln.deleteTeam(re.id);Y&&o(i.filter(ee=>ee.id!==Y.id))}}catch(Y){Y.response&&Y.response.data?console.error(`Error: ${Y.response.data.error}`):console.error("An unexpected error occurred while saving team assignments:",Y)}};R.useEffect(()=>{n&&(c(n.filter(D=>D.block==="1")),p(n.filter(D=>D.block==="2")),y(n.filter(D=>D.block==="3")),T(n.filter(D=>D.block==="4")),b(n.filter(D=>D.block==="5")),E(n.filter(D=>D.block==="")))},[n]);const U=(D,q)=>x.jsxs("div",{className:"bg-white shadow rounded-lg p-4 flex flex-col",children:[x.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-3 text-center border-b border-orange-200 pb-1",children:D}),x.jsx("div",{className:"space-y-3 min-h-[360px]",children:q.map(J=>x.jsx(TL,{event:J,users:e,teams:i.filter(W=>W.event===J.name),user:t,onSave:I},J.id))})]},D);if(t)return!e||!i||!n?x.jsx("div",{className:"flex justify-center items-center h-48",children:x.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):x.jsxs("div",{className:"px-4 py-8 space-y-10",children:[x.jsx("h2",{className:"w-full text-center font-semibold text-2xl text-orange-800 mb-6 bg-white rounded-lg shadow-lg p-4",children:"Team Lineup"}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[U("Block 1",a),U("Block 2",h),U("Block 3",m)]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[U("Block 4",_),U("Block 5",w),U("Self Schedule",A)]}),x.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mt-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-orange-700 border-b border-orange-200 pb-2 mb-4 text-center",children:"Events Per Student"}),x.jsx("div",{className:"flex flex-wrap gap-3",children:e.filter(D=>D.teams&&D.teams.length>0).map(D=>x.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-md px-3 py-2 text-sm text-orange-800 shadow-sm",children:[x.jsxs("span",{className:"font-medium",children:[D.firstName," ",D.lastName]}),": ",D.teams.length]},D.id))})]})]})},Aa="/api/answers";let b_=null;const NL=t=>{b_=`Bearer ${t}`},Na=()=>({headers:{Authorization:b_}}),RL=async t=>(await be.post(Aa,t,Na())).data,kL=async(t,e)=>(await be.get(`${Aa}/${t}/${e}`,Na())).data,ML=async(t,e,n)=>(await be.put(`${Aa}/${t}/${e}`,n,Na())).data,DL=async(t,e,{questionId:n,answer:i,drawing:o})=>(await be.patch(`${Aa}/${t}/${e}`,{questionId:n,answer:i,drawing:o},Na())).data,UL=async()=>(await be.get(Aa,Na())).data,$t={setToken:NL,create:RL,getByTestAndTeam:kL,update:ML,updateSpecific:DL,getAll:UL},Zs="/api/submissions";let w_=null;const IL=t=>{w_=`Bearer ${t}`},Xs=()=>({headers:{Authorization:w_}}),PL=async t=>(await be.post(Zs,t,Xs())).data,LL=async()=>(await be.get(Zs,Xs())).data,OL=async t=>(await be.get(`${Zs}/${t}`,Xs())).data,qL=async(t,e)=>(await be.get(`${Zs}/check/${t}/${e}`,Xs())).data,BL=async t=>(await be.get(`${Zs}/team/${t}`,Xs())).data,VL=async(t,e)=>(await be.put(`${Zs}/${t}`,e,Xs())).data,Lt={setToken:IL,create:PL,getAll:LL,getById:OL,checkSubmission:qL,getByTeam:BL,update:VL},$L=({tests:t,user:e,users:n,teams:i})=>{const[o,a]=R.useState([]),[c,h]=R.useState({});return R.useEffect(()=>{var p;if(t&&e&&n){const m=n.find(T=>T.id===e.id),y=((p=m==null?void 0:m.teams)==null?void 0:p.map(T=>T.id))||[];console.log(y),console.log(t);const _=t.filter(T=>{var w;return(w=T.assignees)==null?void 0:w.some(b=>y.includes(b))});a(_)}},[t,e,n]),R.useEffect(()=>{(async()=>{if(o.length>0&&i&&e){const m=localStorage.getItem("loggedAppUser");if(m){const _=JSON.parse(m);$t.setToken(_.token),Lt.setToken(_.token)}const y={};for(const _ of o){const T=i.find(w=>w&&w.event===_.event&&w.students&&Array.isArray(w.students)&&w.students.some(b=>b&&b.id===e.id));if(T)try{if((await Lt.checkSubmission(_.id,T.id)).submitted)y[_.id]="submitted";else{const b=await $t.getByTestAndTeam(_.id,T.id);y[_.id]=b?"started":"not_started"}}catch{y[_.id]="not_started"}else y[_.id]="no_team"}h(y)}})()},[o,i,e]),e?x.jsxs("div",{className:"max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[x.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"Assigned Tests"}),o.length===0?x.jsx("p",{className:"text-center text-gray-500 italic",children:"You dont have any assigned tests yet."}):x.jsx("ul",{className:"space-y-3",children:o.map(p=>x.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:p.random?`Random Test - ${p.event}`:`${p.school} ${p.year} - ${p.event}`}),c[p.id]==="submitted"&&x.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Submitted"})]}),c[p.id]==="submitted"?x.jsx("span",{className:"text-sm text-green-600 font-medium",children:" Completed"}):x.jsxs(rt,{to:`/assigned/${p.id}`,className:"text-sm text-orange-600 hover:underline",children:[c[p.id]==="started"?"Continue Test":"Take Test"," "]})]})},p.id))})]}):null};function I0(t,e,n,i,o,a,c){try{var h=t[a](c),p=h.value}catch(m){n(m);return}h.done?e(p):Promise.resolve(p).then(i,o)}function FL(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function c(p){I0(a,i,o,c,h,"next",p)}function h(p){I0(a,i,o,c,h,"throw",p)}c(void 0)})}}function Er(){return Er=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Er.apply(this,arguments)}var C_={exports:{}};(function(t){var e=function(n){var i=Object.prototype,o=i.hasOwnProperty,a,c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",m=c.toStringTag||"@@toStringTag";function y(j,B,N){return Object.defineProperty(j,B,{value:N,enumerable:!0,configurable:!0,writable:!0}),j[B]}try{y({},"")}catch{y=function(B,N,O){return B[N]=O}}function _(j,B,N,O){var L=B&&B.prototype instanceof I?B:I,X=Object.create(L.prototype),oe=new Ie(O||[]);return X._invoke=se(j,N,oe),X}n.wrap=_;function T(j,B,N){try{return{type:"normal",arg:j.call(B,N)}}catch(O){return{type:"throw",arg:O}}}var w="suspendedStart",b="suspendedYield",A="executing",E="completed",k={};function I(){}function U(){}function D(){}var q={};y(q,h,function(){return this});var J=Object.getPrototypeOf,W=J&&J(J(K([])));W&&W!==i&&o.call(W,h)&&(q=W);var re=D.prototype=I.prototype=Object.create(q);U.prototype=D,y(re,"constructor",D),y(D,"constructor",U),U.displayName=y(D,m,"GeneratorFunction");function Y(j){["next","throw","return"].forEach(function(B){y(j,B,function(N){return this._invoke(B,N)})})}n.isGeneratorFunction=function(j){var B=typeof j=="function"&&j.constructor;return B?B===U||(B.displayName||B.name)==="GeneratorFunction":!1},n.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,D):(j.__proto__=D,y(j,m,"GeneratorFunction")),j.prototype=Object.create(re),j},n.awrap=function(j){return{__await:j}};function ee(j,B){function N(X,oe,fe,Q){var ue=T(j[X],j,oe);if(ue.type==="throw")Q(ue.arg);else{var de=ue.arg,ce=de.value;return ce&&typeof ce=="object"&&o.call(ce,"__await")?B.resolve(ce.__await).then(function(Re){N("next",Re,fe,Q)},function(Re){N("throw",Re,fe,Q)}):B.resolve(ce).then(function(Re){de.value=Re,fe(de)},function(Re){return N("throw",Re,fe,Q)})}}var O;function L(X,oe){function fe(){return new B(function(Q,ue){N(X,oe,Q,ue)})}return O=O?O.then(fe,fe):fe()}this._invoke=L}Y(ee.prototype),y(ee.prototype,p,function(){return this}),n.AsyncIterator=ee,n.async=function(j,B,N,O,L){L===void 0&&(L=Promise);var X=new ee(_(j,B,N,O),L);return n.isGeneratorFunction(B)?X:X.next().then(function(oe){return oe.done?oe.value:X.next()})};function se(j,B,N){var O=w;return function(X,oe){if(O===A)throw new Error("Generator is already running");if(O===E){if(X==="throw")throw oe;return ae()}for(N.method=X,N.arg=oe;;){var fe=N.delegate;if(fe){var Q=z(fe,N);if(Q){if(Q===k)continue;return Q}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(O===w)throw O=E,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);O=A;var ue=T(j,B,N);if(ue.type==="normal"){if(O=N.done?E:b,ue.arg===k)continue;return{value:ue.arg,done:N.done}}else ue.type==="throw"&&(O=E,N.method="throw",N.arg=ue.arg)}}}function z(j,B){var N=j.iterator[B.method];if(N===a){if(B.delegate=null,B.method==="throw"){if(j.iterator.return&&(B.method="return",B.arg=a,z(j,B),B.method==="throw"))return k;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var O=T(N,j.iterator,B.arg);if(O.type==="throw")return B.method="throw",B.arg=O.arg,B.delegate=null,k;var L=O.arg;if(!L)return B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,k;if(L.done)B[j.resultName]=L.value,B.next=j.nextLoc,B.method!=="return"&&(B.method="next",B.arg=a);else return L;return B.delegate=null,k}Y(re),y(re,m,"Generator"),y(re,h,function(){return this}),y(re,"toString",function(){return"[object Generator]"});function Ue(j){var B={tryLoc:j[0]};1 in j&&(B.catchLoc=j[1]),2 in j&&(B.finallyLoc=j[2],B.afterLoc=j[3]),this.tryEntries.push(B)}function Ze(j){var B=j.completion||{};B.type="normal",delete B.arg,j.completion=B}function Ie(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(Ue,this),this.reset(!0)}n.keys=function(j){var B=[];for(var N in j)B.push(N);return B.reverse(),function O(){for(;B.length;){var L=B.pop();if(L in j)return O.value=L,O.done=!1,O}return O.done=!0,O}};function K(j){if(j){var B=j[h];if(B)return B.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var N=-1,O=function L(){for(;++N<j.length;)if(o.call(j,N))return L.value=j[N],L.done=!1,L;return L.value=a,L.done=!0,L};return O.next=O}}return{next:ae}}n.values=K;function ae(){return{value:a,done:!0}}return Ie.prototype={constructor:Ie,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Ze),!j)for(var B in this)B.charAt(0)==="t"&&o.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=a)},stop:function(){this.done=!0;var j=this.tryEntries[0],B=j.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var B=this;function N(Q,ue){return X.type="throw",X.arg=j,B.next=Q,ue&&(B.method="next",B.arg=a),!!ue}for(var O=this.tryEntries.length-1;O>=0;--O){var L=this.tryEntries[O],X=L.completion;if(L.tryLoc==="root")return N("end");if(L.tryLoc<=this.prev){var oe=o.call(L,"catchLoc"),fe=o.call(L,"finallyLoc");if(oe&&fe){if(this.prev<L.catchLoc)return N(L.catchLoc,!0);if(this.prev<L.finallyLoc)return N(L.finallyLoc)}else if(oe){if(this.prev<L.catchLoc)return N(L.catchLoc,!0)}else if(fe){if(this.prev<L.finallyLoc)return N(L.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,B){for(var N=this.tryEntries.length-1;N>=0;--N){var O=this.tryEntries[N];if(O.tryLoc<=this.prev&&o.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var L=O;break}}L&&(j==="break"||j==="continue")&&L.tryLoc<=B&&B<=L.finallyLoc&&(L=null);var X=L?L.completion:{};return X.type=j,X.arg=B,L?(this.method="next",this.next=L.finallyLoc,k):this.complete(X)},complete:function(j,B){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&B&&(this.next=B),k},finish:function(j){for(var B=this.tryEntries.length-1;B>=0;--B){var N=this.tryEntries[B];if(N.finallyLoc===j)return this.complete(N.completion,N.afterLoc),Ze(N),k}},catch:function(j){for(var B=this.tryEntries.length-1;B>=0;--B){var N=this.tryEntries[B];if(N.tryLoc===j){var O=N.completion;if(O.type==="throw"){var L=O.arg;Ze(N)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(j,B,N){return this.delegate={iterator:K(j),resultName:B,nextLoc:N},this.method==="next"&&(this.arg=a),k}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(C_);var P0=C_.exports,E_=function(e){var n=e.paths,i=e.id,o=e.strokeWidth,a=e.strokeColor,c=e.command,h=c===void 0?A_:c;if(n.length===1){var p=n[0],m=p.x,y=p.y,_=o/2;return R.createElement("circle",{key:i,id:i,cx:m,cy:y,r:_,stroke:a,fill:a})}var T=n.reduce(function(w,b,A,E){return A===0?"M "+b.x+","+b.y:w+" "+h(b,A,E)},"");return R.createElement("path",{key:i,id:i,d:T,fill:"none",strokeLinecap:"round",stroke:a,strokeWidth:o})},zL=function(e,n){var i=n.x-e.x,o=n.y-e.y;return{length:Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),angle:Math.atan2(o,i)}},Ql=function(e){var n=e.current,i=e.next,o=e.previous,a=e.reverse,c=o||n,h=i||n,p=.2,m=zL(c,h),y=m.angle+(a?Math.PI:0),_=m.length*p,T=n.x+Math.cos(y)*_,w=n.y+Math.sin(y)*_;return[T,w]},A_=function(e,n,i){var o=null,a=null;switch(n){case 0:var c=Ql({current:e});o=c[0],a=c[1];break;case 1:var h=Ql({current:i[n-1],next:e});o=h[0],a=h[1];break;default:var p=Ql({current:i[n-1],previous:i[n-2],next:e});o=p[0],a=p[1];break}var m=Ql({current:e,previous:i[n-1],next:i[n+1],reverse:!0}),y=m[0],_=m[1];return"C "+o+","+a+" "+y+","+_+" "+e.x+", "+e.y},GL=function(e){var n=e.id,i=e.paths;return R.createElement(R.Fragment,null,i.map(function(o,a){return R.createElement(E_,{key:n+"__"+a,paths:o.paths,id:n+"__"+a,strokeWidth:o.strokeWidth,strokeColor:o.strokeColor,command:A_})}))},L0=function(e){return new Promise(function(n,i){var o=new Image;o.addEventListener("load",function(){o.width>0&&n(o),i("Image not found")}),o.addEventListener("error",function(a){return i(a)}),o.src=e,o.setAttribute("crossorigin","anonymous")})};function O0(t){var e,n=(e=t.firstChild)==null?void 0:e.cloneNode(!0),i=t.offsetWidth,o=t.offsetHeight;return n.setAttribute("viewBox","0 0 "+i+" "+o),n.setAttribute("width",i.toString()),n.setAttribute("height",o.toString()),{svgCanvas:n,width:i,height:o}}var jL=R.forwardRef(function(t,e){var n=t.paths,i=t.isDrawing,o=t.onPointerDown,a=t.onPointerMove,c=t.onPointerUp,h=t.id,p=h===void 0?"react-sketch-canvas":h,m=t.width,y=m===void 0?"100%":m,_=t.height,T=_===void 0?"100%":_,w=t.className,b=w===void 0?"react-sketch-canvas":w,A=t.canvasColor,E=A===void 0?"red":A,k=t.backgroundImage,I=k===void 0?"":k,U=t.exportWithBackgroundImage,D=U===void 0?!1:U,q=t.preserveBackgroundImageAspectRatio,J=q===void 0?"none":q,W=t.allowOnlyPointerType,re=W===void 0?"all":W,Y=t.style,ee=Y===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:Y,se=t.svgStyle,z=se===void 0?{}:se,Ue=R.useRef(null),Ze=function(L){var X,oe,fe,Q=(X=Ue.current)==null?void 0:X.getBoundingClientRect(),ue=(oe=window.scrollX)!=null?oe:0,de=(fe=window.scrollY)!=null?fe:0;if(!Q)return{x:0,y:0};var ce={x:L.pageX-Q.left-ue,y:L.pageY-Q.top-de};return ce},Ie=function(L){if(!(re!=="all"&&L.pointerType!==re)&&!(L.pointerType==="mouse"&&L.button!==0)){var X=Ze(L);o(X)}},K=function(L){if(i&&!(re!=="all"&&L.pointerType!==re)){var X=Ze(L);a(X)}},ae=function(L){L.pointerType==="mouse"&&L.button!==0||re!=="all"&&L.pointerType!==re||c()};R.useImperativeHandle(e,function(){return{exportImage:function(L){return new Promise(function(){var X=FL(P0.mark(function oe(fe,Q){var ue,de,ce,Re,Ee,Ke,Je,Fe;return P0.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:if(ke.prev=0,ue=Ue.current,ue){ke.next=4;break}throw Error("Canvas not rendered yet");case 4:return de=O0(ue),ce=de.svgCanvas,Re=de.width,Ee=de.height,Ke="data:image/svg+xml;base64,"+btoa(ce.outerHTML),ke.next=8,L0(Ke);case 8:if(ke.t0=ke.sent,Je=[ke.t0],!D){ke.next=21;break}return ke.prev=11,ke.next=14,L0(I);case 14:Fe=ke.sent,Je.push(Fe),ke.next=21;break;case 18:ke.prev=18,ke.t1=ke.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(Je).then(function(Pe){var mt=document.createElement("canvas");mt.setAttribute("width",Re.toString()),mt.setAttribute("height",Ee.toString());var xn=mt.getContext("2d");if(!xn)throw Error("Canvas not rendered yet");Pe.reverse().forEach(function(ut){xn.drawImage(ut,0,0)}),fe(mt.toDataURL("image/"+L))}).catch(function(Pe){throw Pe}),ke.next=27;break;case 24:ke.prev=24,ke.t2=ke.catch(0),Q(ke.t2);case 27:case"end":return ke.stop()}},oe,null,[[0,24],[11,18]])}));return function(oe,fe){return X.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(L,X){try{var oe,fe=(oe=Ue.current)!=null?oe:null;if(fe!==null){var Q,ue,de=O0(fe),ce=de.svgCanvas;if(D){L(ce.outerHTML);return}(Q=ce.querySelector("#"+p+"__background"))==null||Q.remove(),(ue=ce.querySelector("#"+p+"__canvas-background"))==null||ue.setAttribute("fill",E),L(ce.outerHTML)}X(new Error("Canvas not loaded"))}catch(Re){X(Re)}})}}}),R.useEffect(function(){return document.addEventListener("pointerup",ae),function(){document.removeEventListener("pointerup",ae)}},[ae]);var j=n.filter(function(O){return!O.drawMode}),B=0,N=n.reduce(function(O,L){return L.drawMode?(O[B]===void 0&&(O[B]=[]),O[B].push(L),O):(B+=1,O)},[[]]);return R.createElement("div",{role:"presentation",ref:Ue,className:b,style:Er({touchAction:"none",width:y,height:T},ee),"touch-action":"none",onPointerDown:Ie,onPointerMove:K,onPointerUp:ae},R.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:Er({width:"100%",height:"100%"},z),id:p},R.createElement("g",{id:p+"__eraser-stroke-group",display:"none"},R.createElement("rect",{id:p+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),j.map(function(O,L){return R.createElement(E_,{key:p+"__eraser-"+L,id:p+"__eraser-"+L,paths:O.paths,strokeColor:"#000000",strokeWidth:O.strokeWidth})})),R.createElement("defs",null,I&&R.createElement("pattern",{id:p+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},R.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:I,preserveAspectRatio:J})),j.map(function(O,L){return R.createElement("mask",{id:p+"__eraser-mask-"+L,key:p+"__eraser-mask-"+L,maskUnits:"userSpaceOnUse"},R.createElement("use",{href:"#"+p+"__mask-background"}),Array.from({length:j.length-L},function(X,oe){return oe+L}).map(function(X){return R.createElement("use",{key:X.toString(),href:"#"+p+"__eraser-"+X.toString()})}))})),R.createElement("g",{id:p+"__canvas-background-group"},R.createElement("rect",{id:p+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:I?"url(#"+p+"__background)":E})),N.map(function(O,L){return R.createElement("g",{id:p+"__stroke-group-"+L,key:p+"__stroke-group-"+L,mask:"url(#"+p+"__eraser-mask-"+L+")"},R.createElement(GL,{id:p,paths:O}))})))}),N_=R.forwardRef(function(t,e){var n=t.id,i=n===void 0?"react-sketch-canvas":n,o=t.width,a=o===void 0?"100%":o,c=t.height,h=c===void 0?"100%":c,p=t.className,m=p===void 0?"":p,y=t.canvasColor,_=y===void 0?"white":y,T=t.strokeColor,w=T===void 0?"red":T,b=t.backgroundImage,A=b===void 0?"":b,E=t.exportWithBackgroundImage,k=E===void 0?!1:E,I=t.preserveBackgroundImageAspectRatio,U=I===void 0?"none":I,D=t.strokeWidth,q=D===void 0?4:D,J=t.eraserWidth,W=J===void 0?8:J,re=t.allowOnlyPointerType,Y=re===void 0?"all":re,ee=t.style,se=ee===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:ee,z=t.svgStyle,Ue=z===void 0?{}:z,Ze=t.onChange,Ie=Ze===void 0?function(ut){}:Ze,K=t.onStroke,ae=K===void 0?function(ut,Le){}:K,j=t.withTimestamp,B=j===void 0?!1:j,N=R.createRef(),O=R.useState(!0),L=O[0],X=O[1],oe=R.useState(!1),fe=oe[0],Q=oe[1],ue=R.useState([]),de=ue[0],ce=ue[1],Re=R.useState([]),Ee=Re[0],Ke=Re[1],Je=R.useState([]),Fe=Je[0],ze=Je[1],ke=R.useCallback(function(){var ut,Le,Xe=(ut=(Le=Fe.slice(-1))==null?void 0:Le[0])!=null?ut:null;if(Xe===null){console.warn("No stroke found!");return}ae(Xe,!Xe.drawMode)},[fe]);R.useEffect(function(){ke()},[fe]),R.useEffect(function(){Ie(Fe)},[Fe]),R.useImperativeHandle(e,function(){return{eraseMode:function(Le){X(!Le)},clearCanvas:function(){ce([].concat(Fe)),ze([])},undo:function(){if(de.length!==0){ze([].concat(de)),ce([]);return}Ke(function(Le){return[].concat(Le,Fe.slice(-1))}),ze(function(Le){return Le.slice(0,-1)})},redo:function(){Ee.length!==0&&(ze(function(Le){return[].concat(Le,Ee.slice(-1))}),Ke(function(Le){return Le.slice(0,-1)}))},exportImage:function(Le){var Xe,pt=(Xe=N.current)==null?void 0:Xe.exportImage;if(pt)return pt(Le);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(Le,Xe){var pt,Ot=(pt=N.current)==null?void 0:pt.exportSvg;Ot?Ot().then(function(ye){Le(ye)}).catch(function(ye){Xe(ye)}):Xe(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(Le,Xe){try{Le(Fe)}catch(pt){Xe(pt)}})},loadPaths:function(Le){ze(function(Xe){return[].concat(Xe,Le)})},getSketchingTime:function(){return new Promise(function(Le,Xe){B||Xe(new Error("Set 'withTimestamp' prop to get sketching time"));try{var pt=Fe.reduce(function(Ot,ye){var ge,_e,Ve=(ge=ye.startTimestamp)!=null?ge:0,vt=(_e=ye.endTimestamp)!=null?_e:0;return Ot+(vt-Ve)},0);Le(pt)}catch(Ot){Xe(Ot)}})},resetCanvas:function(){ce([]),Ke([]),ze([])}}});var Pe=function(Le){Q(!0),Ke([]);var Xe={drawMode:L,strokeColor:L?w:"#000000",strokeWidth:L?q:W,paths:[Le]};B&&(Xe=Er({},Xe,{startTimestamp:Date.now(),endTimestamp:0})),ze(function(pt){return[].concat(pt,[Xe])})},mt=function(Le){if(fe){var Xe=Fe.slice(-1)[0],pt=Er({},Xe,{paths:[].concat(Xe.paths,[Le])});ze(function(Ot){return[].concat(Ot.slice(0,-1),[pt])})}},xn=function(){var Le,Xe;if(fe&&(Q(!1),!!B)){var pt=(Le=(Xe=Fe.slice(-1))==null?void 0:Xe[0])!=null?Le:null;if(pt!==null){var Ot=Er({},pt,{endTimestamp:Date.now()});ze(function(ye){return[].concat(ye.slice(0,-1),[Ot])})}}};return R.createElement(jL,{ref:N,id:i,width:a,height:h,className:m,canvasColor:_,backgroundImage:A,exportWithBackgroundImage:k,preserveBackgroundImageAspectRatio:U,allowOnlyPointerType:Y,style:se,svgStyle:Ue,paths:Fe,isDrawing:fe,onPointerDown:Pe,onPointerMove:mt,onPointerUp:xn})});const R_=({questions:t,currentIdx:e,setCurrentIdx:n,bookmarked:i,answers:o})=>x.jsx("div",{className:"p-3 space-y-2",children:t.map((a,c)=>x.jsxs("button",{onClick:()=>n(c),className:`w-full px-3 py-2 rounded text-left border text-sm ${c===e?"bg-orange-300 border-orange-600":"bg-white border-orange-200"} ${o[a.id]?"font-bold":""}`,children:["Q",c+1,i.includes(a.id)&&x.jsx("span",{className:"ml-2 text-yellow-700",children:""})]},a.id||c))}),HL=({idx:t,question:e,answer:n,onChange:i,onBookmark:o,isBookmarked:a})=>{const c=e.type==="mcq"&&e.answer.includes(", "),h=e.type==="saq",p=m=>{const y=Array.isArray(n)?n:[],_=y.includes(m)?y.filter(T=>T!==m):[...y,m];i(e.id,_)};return x.jsxs("div",{className:"relative",children:[x.jsxs("div",{className:"sticky top-0 bg-white z-40 flex justify-between items-center mb-3 pb-2 border-b border-orange-200",children:[x.jsxs("h4",{className:"text-lg font-semibold text-orange-700",children:["Question ",t+1]}),x.jsx("button",{onClick:()=>o(e.id),className:"text-yellow-600 hover:text-yellow-700",children:a?" Bookmarked":" Bookmark"})]}),x.jsxs("div",{className:"pt-2",children:[x.jsx("p",{className:"mb-4 text-orange-900",children:e.question}),e.imageUrl&&x.jsx("img",{src:e.imageUrl,alt:"Question Visual",className:"mb-4 border rounded max-w-md"}),e.type==="mcq"&&e.choices?e.choices.map((m,y)=>x.jsxs("label",{className:"block bg-orange-100 border border-orange-200 rounded px-4 py-2 mb-2 cursor-pointer",children:[x.jsx("input",{type:c?"checkbox":"radio",name:`q-${e.id}`,value:m,checked:c?(n||[]).includes(m):n===m,onChange:()=>c?p(m):i(e.id,m),className:"mr-2"}),String.fromCharCode(65+y),". ",m]},y)):h?x.jsx("input",{type:"text",className:"w-full border border-orange-300 rounded p-2",placeholder:"Short answer...",value:n||"",onChange:m=>i(e.id,m.target.value)}):x.jsx("textarea",{rows:4,className:"w-full border border-orange-300 rounded p-2",placeholder:"Type your answer...",value:n||"",onChange:m=>i(e.id,m.target.value)})]})]})},JL=(t,e,n)=>{if(n<1e3)return!0;if(t===e)return!1;const i=o=>o==null?!0:typeof o=="string"?o.trim()==="":typeof o=="number"||typeof o=="boolean"?!1:Array.isArray(o)?o.length===0:!1;return i(t)&&!i(e)?!0:i(e)&&!i(t)?!1:n<1500},YL=(t,e,n)=>{if(n<1e3)return!0;if(JSON.stringify(t)===JSON.stringify(e))return!1;const i=o=>o?Array.isArray(o)?o.length===0:typeof o=="object"?Object.keys(o).length===0:!1:!0;return i(t)&&!i(e)?!0:i(e)&&!i(t)?!1:n<1500},KL=({tests:t,user:e,users:n,teams:i,setNotif:o,setError:a,setTests:c})=>{var Ot;const h=H0("/assigned/:id"),p=(Ot=h==null?void 0:h.params)==null?void 0:Ot.id,m=_i(),[y,_]=R.useState(null),[T,w]=R.useState(!1),[b,A]=R.useState(50*60),[E,k]=R.useState({}),[I,U]=R.useState([]),[D,q]=R.useState(0),[J,W]=R.useState(!1),[re,Y]=R.useState(!1),[ee,se]=R.useState({}),[z,Ue]=R.useState(null),[Ze,Ie]=R.useState(!1),[K,ae]=R.useState(!0),[j,B]=R.useState(null),[N,O]=R.useState(0),[L,X]=R.useState(!1),oe=R.useRef(null),fe=R.useRef(null),Q=R.useRef(null),ue=R.useRef(null),[de,ce]=R.useState({width:0,height:0});R.useEffect(()=>{if(t&&p){const ye=t.find(ge=>String(ge.id)===p);_(ye||null)}},[t,p]),R.useEffect(()=>{if(e&&y&&i&&Array.isArray(i)){const ye=i.find(ge=>ge&&ge.event===y.event&&ge.students&&Array.isArray(ge.students)&&ge.students.some(_e=>_e&&_e.id===e.id));ye&&Ue(ye.id)}},[e,y,i]),R.useEffect(()=>{(async()=>{if(p&&z){const ge=localStorage.getItem("loggedAppUser");if(ge){const _e=JSON.parse(ge);$t.setToken(_e.token),Lt.setToken(_e.token)}try{if((await Lt.checkSubmission(p,z)).submitted){a&&(a("This test has already been submitted."),setTimeout(()=>a(null),5e3)),m("/assigned");return}const Ve=await $t.getByTestAndTeam(p,z);Ve&&(k(Ve.answers||{}),se(Ve.drawings||{}),A(Ve.timeLeft||3e3),w(!0))}catch{console.log("No existing answers found, starting fresh")}finally{ae(!1)}}else p&&ae(!1)})()},[p,z,m,a]),R.useEffect(()=>(T&&b>0&&!L?oe.current=setTimeout(()=>{A(ye=>Math.max(0,ye-1))},1e3):T&&b===0&&!L&&Pe(),()=>clearTimeout(oe.current)),[T,b,L]),R.useLayoutEffect(()=>{function ye(){if(fe.current){const ge=fe.current.getBoundingClientRect();ce({width:Math.floor(ge.width),height:Math.floor(ge.height)})}}return ye(),window.addEventListener("resize",ye),()=>window.removeEventListener("resize",ye)},[J,D]),R.useEffect(()=>{ue.current&&ue.current.scrollIntoView({behavior:"smooth",block:"start"})},[T,D]),R.useEffect(()=>{const ye=async()=>{var ge;if(j&&p&&z&&T&&!L){const _e=localStorage.getItem("loggedAppUser");if(_e){const Ve=JSON.parse(_e);$t.setToken(Ve.token)}try{const Ve=await $t.updateSpecific(p,z,j);B(null),A(Ve.timeLeft)}catch(Ve){if(console.error("Failed to sync specific answer:",Ve),((ge=Ve.response)==null?void 0:ge.status)===404)try{await $t.create({testId:p,teamId:z,answers:E,drawings:ee,timeLeft:3e3}),B(null)}catch(vt){console.error("Failed to create answer document:",vt)}}}};if(j&&!L){const ge=setTimeout(ye,500);return()=>clearTimeout(ge)}},[j,p,z,T,E,ee,L]),R.useEffect(()=>{const ye=async()=>{if(p&&z&&T&&!L){if(Date.now()-N<1e3)return;const _e=localStorage.getItem("loggedAppUser");if(_e){const Ve=JSON.parse(_e);$t.setToken(Ve.token),Lt.setToken(Ve.token)}try{const Ve=await $t.getByTestAndTeam(p,z);if(Ve){try{if((await Lt.checkSubmission(p,z)).submitted&&!L){X(!0),w(!1),clearTimeout(oe.current),o&&(o("Test has been submitted by another team member!"),setTimeout(()=>o(null),5e3));return}}catch(Kt){console.log("Could not check submission status:",Kt)}const vt=Ve.answers||{},Ou=Ve.drawings||{},Ra=Ve.answerTimestamps||{},ka=Ve.drawingTimestamps||{};k(Kt=>{const _n={...Kt};let Qt=!1;for(const[dn,Wt]of Object.entries(vt)){const bi=Kt[dn],nr=Ra[dn]?new Date(Ra[dn]):new Date(0),en=Date.now()-nr.getTime();en<2e3&&bi!==Wt?JL(bi,Wt,en)&&(_n[dn]=Wt,Qt=!0):bi!==Wt&&en>=2e3&&(_n[dn]=Wt,Qt=!0)}return Qt?_n:Kt}),se(Kt=>{var dn,Wt,bi,nr;const _n={...Kt};let Qt=!1;for(const[en,Ft]of Object.entries(Ou)){const Wn=Kt[en],qu=ka[en]?new Date(ka[en]):new Date(0),Ir=Date.now()-qu.getTime();if(Ir<2e3&&JSON.stringify(Wn)!==JSON.stringify(Ft)){if(YL(Wn,Ft,Ir)){_n[en]=Ft,Qt=!0;const to=(Wt=(dn=y==null?void 0:y.questions)==null?void 0:dn[D])==null?void 0:Wt.id;J&&to===en&&Q.current&&setTimeout(()=>{Ft&&Ft.length>0?Q.current.loadPaths(Ft):Q.current.clearCanvas()},100)}}else if(JSON.stringify(Wn)!==JSON.stringify(Ft)&&Ir>=2e3){_n[en]=Ft,Qt=!0;const eo=(nr=(bi=y==null?void 0:y.questions)==null?void 0:bi[D])==null?void 0:nr.id;J&&eo===en&&Q.current&&setTimeout(()=>{Ft&&Ft.length>0?Q.current.loadPaths(Ft):Q.current.clearCanvas()},100)}}return Qt?_n:Kt}),A(Ve.timeLeft)}}catch(Ve){console.error("Failed to sync from backend:",Ve)}}};if(T&&!L){const ge=setInterval(ye,2e3);return()=>clearInterval(ge)}},[p,z,T,J,D,y,N,L]);const Re=ye=>{const ge=String(Math.floor(ye/60)).padStart(2,"0"),_e=String(ye%60).padStart(2,"0");return`${ge}:${_e}`},Ee=(ye,ge)=>{k(_e=>({..._e,[ye]:ge})),O(Date.now()),B({questionId:ye,answer:ge})},Ke=ye=>{U(ge=>ge.includes(ye)?ge.filter(_e=>_e!==ye):[...ge,ye])},Je=async()=>{if(J&&Q.current){const ye=await Q.current.exportPaths(),ge=y.questions[D].id;se(_e=>({..._e,[ge]:ye})),O(Date.now()),B({questionId:ge,drawing:ye})}},Fe=async ye=>{await Je(),W(!1),q(ye)},ze=async()=>{await Je(),W(!1),q(ye=>ye+1)},ke=async()=>{await Je(),W(!1),q(ye=>ye-1)},Pe=async()=>{if(Ze)return;Ie(!0),await Je();const ye=localStorage.getItem("loggedAppUser");if(ye){const ge=JSON.parse(ye);$t.setToken(ge.token),Lt.setToken(ge.token),kn.setToken(ge.token)}try{if(p&&z){await $t.update(p,z,{answers:E,drawings:ee,timeLeft:b}),await Lt.create({testId:p,teamId:z,finalTimeLeft:b});const ge=t.find(_e=>String(_e.id)===p);if(ge){const _e=ge.assignees.filter(Ve=>Ve!==z);await kn.updateTest(p,{assignees:_e}),c&&c(Ve=>Ve.map(vt=>String(vt.id)===p?{...vt,assignees:_e}:vt))}w(!1),X(!0),clearTimeout(oe.current),o&&(o("Test submitted successfully!"),setTimeout(()=>o(null),5e3)),console.log("Test submitted successfully!")}}catch(ge){console.error("Failed to submit test:",ge),a&&(a("Failed to submit test. Please try again."),setTimeout(()=>a(null),5e3))}finally{Ie(!1)}},mt=async()=>{var ge;w(!0),W(!1),Y(!1);const ye=localStorage.getItem("loggedAppUser");if(ye){const _e=JSON.parse(ye);$t.setToken(_e.token),kn.setToken(_e.token)}if(p&&z)try{const _e=await $t.create({testId:p,teamId:z,answers:{},drawings:{},timeLeft:3e3});A(_e.timeLeft)}catch(_e){((ge=_e.response)==null?void 0:ge.status)!==409&&console.error("Failed to create initial answers:",_e)}},xn=async()=>{const ye=y.questions[D].id;if(J){if(Q.current){const ge=await Q.current.exportPaths();se(_e=>({..._e,[ye]:ge})),O(Date.now()),B({questionId:ye,drawing:ge})}W(!1)}else W(!0),setTimeout(()=>{if(Q.current){const ge=ee[ye];ge?Q.current.loadPaths(ge):Q.current.clearCanvas()}},100)},ut=()=>{if(Q.current){Q.current.clearCanvas();const ye=y.questions[D].id;se(ge=>{const _e={...ge};return delete _e[ye],_e}),O(Date.now()),B({questionId:ye,drawing:null})}},Le=()=>{Q.current&&(Q.current.eraseMode(!re),Y(ye=>!ye))};if(!e||!y||K)return x.jsx("div",{className:"flex justify-center items-center h-screen",children:x.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(L)return x.jsx("div",{className:"flex flex-col justify-center items-center p-20 bg-white space-y-10 rounded-lg",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),x.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-2",children:"Test Submitted Successfully!"}),x.jsx("p",{className:"text-gray-600",children:"Your answers have been saved and submitted for grading."}),x.jsx("div",{className:"pt-10",children:x.jsx(rt,{to:"/review",className:"text-white bg-orange-500 font-semibold text-md py-3 px-4 rounded-lg hover:bg-orange-600",children:"Review Test"})})]})});if(!T)return x.jsxs("div",{className:"flex flex-col justify-center items-center p-20 bg-white space-y-10 rounded-lg",children:[x.jsxs("h1",{className:"text-3xl font-bold text-orange-800",children:[y.random?"Random Test":`${y.school} ${y.year}`,"  ",y.event," Practice Test"]}),z?x.jsx("button",{onClick:mt,className:"bg-orange-500 text-white px-6 py-2 rounded-lg shadow-lg text-lg hover:bg-orange-600 transition",children:"Start Test"}):x.jsx("p",{className:"text-red-600",children:"You are not assigned to a team for this event."})]});const Xe=y.questions[D],pt=Xe.id;return x.jsx("div",{ref:ue,className:"w-full min-h-screen bg-transparent py-5 px-4",children:x.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow-md py-6 px-8 space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("h2",{className:"text-2xl font-bold text-orange-800",children:[y.school," ",y.year,"  ",y.event]}),x.jsxs("div",{className:"text-orange-600 font-semibold text-lg",children:["Time Left: ",Re(b)]})]}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsxs("div",{className:"w-64 h-[500px] overflow-y-auto pr-2 scrollbar-hide bg-gray-100 rounded-lg",children:[x.jsx("div",{className:"sticky top-0 bg-gray-100 z-10 pb-2 pt-3",children:x.jsx("h3",{className:"text-lg font-semibold text-orange-700 text-center",children:"Questions"})}),x.jsx(R_,{questions:y.questions,currentIdx:D,setCurrentIdx:Fe,bookmarked:I,answers:E})]}),x.jsxs("div",{ref:fe,className:"flex-1 relative max-h-[500px] overflow-auto pr-2 scrollbar-hide",children:[x.jsx(HL,{idx:D,question:Xe,answer:E[pt],onChange:Ee,onBookmark:Ke,isBookmarked:I.includes(pt)}),J&&x.jsx("div",{className:"absolute top-0 left-0 bg-transparent z-30",style:{width:de.width,height:de.height},children:x.jsx(N_,{ref:Q,width:de.width,height:de.height,strokeWidth:"2",eraserWidth:"30",strokeColor:"#000",canvasColor:"transparent",className:"touch-none select-none",style:{border:"none",outline:"none"}})})]})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex gap-2 items-center",children:[J&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:Le,className:`px-3 py-1 rounded ${re?"bg-gray-300":"bg-orange-600 text-white"}`,children:"Pencil"}),x.jsx("button",{onClick:Le,className:`px-3 py-1 rounded ${re?"bg-orange-600 text-white":"bg-gray-300"}`,children:"Eraser"}),x.jsx("button",{onClick:ut,className:"px-3 py-1 rounded bg-red-500 text-white",children:"Clear"})]}),x.jsx("button",{onClick:xn,className:`rounded shadow text-white ${J?"px-3 py-1 bg-gray-500 hover:bg-gray-600":"px-4 py-2 bg-amber-600 hover:bg-amber-700"}`,children:J?"Hide Drawing":"Show Drawing"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{disabled:D===0,onClick:ke,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Previous"}),x.jsx("button",{disabled:D===y.questions.length-1,onClick:ze,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Next"}),x.jsx("button",{onClick:Pe,disabled:Ze||L,className:`px-6 py-2 rounded shadow transition ${Ze||L?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"} text-white`,children:Ze?"Submitting...":L?"Submitted":"Submit Test"})]})]})]})})},QL=t=>{const[e,n]=R.useState("");if(!t.user)return;const i=async o=>{o.preventDefault(),await t.handleReset(e),n("")};return x.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[x.jsx("div",{children:x.jsxs("p",{className:"text-xl font-semibold text-orange-800 mb-2",children:[t.user.firstName," ",t.user.lastName,"'s Settings"]})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-medium text-orange-700 mb-2",children:"Password Reset"}),x.jsxs("form",{onSubmit:i,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),x.jsx("input",{type:"password",value:e,onChange:({target:o})=>n(o.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),x.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})]}),x.jsx("button",{type:"button",onClick:t.handleLogout,className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700 transition",children:"Logout"})]})},ZL=({user:t,users:e,teams:n})=>{const[i,o]=R.useState([]),[a,c]=R.useState(!0);R.useEffect(()=>{(async()=>{if(t&&e&&n){const y=localStorage.getItem("loggedAppUser");if(y){const _=JSON.parse(y);Lt.setToken(_.token)}try{const _=e.find(b=>b.id===t.id),T=(_==null?void 0:_.teams)||[],w=[];for(const b of T)try{const A=await Lt.getByTeam(b.id);w.push(...A)}catch{console.log(`No submissions found for team ${b.id}`)}o(w)}catch(_){console.error("Error fetching submissions:",_)}finally{c(!1)}}else c(!1)})()},[t,e,n]);const h=i.filter(m=>m.graded),p=i.filter(m=>!m.graded);return t?a?x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):x.jsxs("div",{className:"max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md space-y-8",children:[x.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"Review Tests"}),i.length===0?x.jsx("p",{className:"text-center text-gray-500 italic",children:"You haven't submitted any tests yet."}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsxs("h3",{className:"text-xl font-medium text-green-700 mb-4 text-left border-b border-green-200 pb-2",children:["Graded Tests (",h.length,")"]}),h.length===0?x.jsx("p",{className:"text-gray-500 italic pl-4",children:"No graded tests yet."}):x.jsx("ul",{className:"space-y-3",children:h.map(m=>{var y,_,T,w,b,A;return x.jsx("li",{className:"bg-green-50 border border-green-200 rounded-md px-4 py-3 shadow-sm",children:x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-green-700 font-semibold",children:(y=m.test)!=null&&y.random?`Random Test - ${(_=m.test)==null?void 0:_.event}`:`${(T=m.test)==null?void 0:T.school} ${(w=m.test)==null?void 0:w.year} - ${(b=m.test)==null?void 0:b.event}`}),x.jsxs("p",{className:"text-xs text-green-600",children:["Team: ",(A=m.team)==null?void 0:A.name,"  Score: ",m.totalScore,"/",m.maxScore]}),x.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(m.submittedAt).toLocaleDateString()]})]}),x.jsx(rt,{to:`/review/${m.id}`,className:"text-sm text-green-600 hover:underline font-medium",children:"View Results "})]})},m.id)})})]}),x.jsxs("div",{children:[x.jsxs("h3",{className:"text-xl font-medium text-orange-700 mb-4 text-left border-b border-orange-200 pb-2",children:["Pending Grading (",p.length,")"]}),p.length===0?x.jsx("p",{className:"text-gray-500 italic pl-4",children:"No tests pending grading."}):x.jsx("ul",{className:"space-y-3",children:p.map(m=>{var y,_,T,w,b,A;return x.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:(y=m.test)!=null&&y.random?`Random Test - ${(_=m.test)==null?void 0:_.event}`:`${(T=m.test)==null?void 0:T.school} ${(w=m.test)==null?void 0:w.year} - ${(b=m.test)==null?void 0:b.event}`}),x.jsxs("p",{className:"text-xs text-orange-600",children:["Team: ",(A=m.team)==null?void 0:A.name]}),x.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(m.submittedAt).toLocaleDateString()]})]}),x.jsx(rt,{to:`/review/${m.id}`,className:"text-sm text-orange-600 hover:underline font-medium",children:"View Submission "})]})},m.id)})})]})]})]}):null},XL=({idx:t,question:e,userAnswer:n,isCorrect:i,isGraded:o,onSelfGrade:a,selfGradedScore:c,selfGradedComment:h,showCanvas:p=!1,actualQuestionNumber:m,drawings:y={}})=>{const _=e.type==="mcq"&&e.answer&&e.answer.includes(", "),T=e.type==="saq",w=e.type==="leq",b=e.answer&&e.choices?_?e.answer.split(", ").map(k=>{var D;const I=k.trim(),U=I.charCodeAt(0)-65;return((D=e.choices[U])==null?void 0:D.trim())||I}):(()=>{var D;const k=e.answer.trim(),I=k.charCodeAt(0)-65,U=(D=e.choices[I])==null?void 0:D.trim();return U?[U]:[k]})():[],A=Array.isArray(n)?n.map(k=>k.toString().trim()):n?[n.toString().trim()]:[],E=k=>{const I=k.trim(),U=A.some(q=>q.trim()===I),D=b.some(q=>q.trim()===I);return D&&U?"bg-green-200 border-green-400":D?"bg-green-100 border-green-300":U?"bg-red-200 border-red-400":"bg-gray-100 border-gray-300"};return x.jsxs("div",{className:"relative",children:[x.jsxs("div",{className:"sticky top-0 bg-white z-40 flex justify-between items-center mb-3 pb-2 border-b border-orange-200",children:[x.jsxs("h4",{className:"text-lg font-semibold text-orange-700",children:["Question ",m||t+1," (",e.points," pts)"]}),e.type==="mcq"&&x.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${i?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i?" Correct":" Incorrect"})]}),x.jsxs("div",{className:"pt-2",children:[x.jsx("p",{className:"mb-4 text-orange-900",children:e.question}),e.imageUrl&&x.jsx("img",{src:e.imageUrl,alt:"Question Visual",className:"mb-4 border rounded max-w-md"}),e.type==="mcq"&&e.choices?x.jsx("div",{className:"space-y-2 mb-4",children:e.choices.map((k,I)=>{const U=k.trim(),D=A.some(J=>J.trim()===U),q=b.some(J=>J.trim()===U);return x.jsx("div",{className:`border rounded px-4 py-2 ${E(k)}`,children:x.jsxs("div",{className:"flex justify-between items-start gap-3",children:[x.jsxs("span",{className:"font-medium flex-1",children:[String.fromCharCode(65+I),". ",k]}),x.jsxs("div",{className:"flex flex-col gap-1 items-end flex-shrink-0 min-w-0",children:[D&&x.jsx("span",{className:"text-xs font-medium text-blue-700 whitespace-nowrap",children:"Your answer"}),q&&x.jsx("span",{className:"text-xs font-medium text-green-700 whitespace-nowrap",children:"Correct answer"})]})]})},I)})}):T||w?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Answer:"}),x.jsx("div",{className:"w-full border border-gray-300 rounded p-2 bg-gray-50 min-h-[3rem]",children:n||x.jsx("em",{className:"text-gray-500",children:"No answer provided"})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sample Answer:"}),x.jsx("div",{className:"w-full border border-green-300 rounded p-2 bg-green-50 min-h-[3rem]",children:e.answer})]}),!o&&x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-4",children:[x.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Self-Grade This Question"}),(!n||n.trim()==="")&&(!y[e.id]||y[e.id].length===0)&&c==="0"&&x.jsxs("div",{className:"mb-3 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700",children:[x.jsx("span",{className:"font-medium",children:"Auto-scored:"})," This question was automatically scored as 0 (no answer or drawing provided)."]}),(!n||n.trim()==="")&&(!y[e.id]||y[e.id].length===0)&&(!c||c==="")&&x.jsxs("div",{className:"mb-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-800",children:[x.jsx("span",{className:"font-medium",children:"Note:"})," This question has no answer or drawing and will be auto-scored as 0 when you finish grading."]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:["Your Score (out of ",e.points," points):"]}),x.jsx("input",{type:"number",min:"0",max:e.points,className:"w-20 border border-blue-300 rounded px-2 py-1",value:c||"",onChange:k=>a(e.id,"score",k.target.value),placeholder:!n||n.trim()===""?"0":""})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Comments (optional):"}),x.jsx("textarea",{rows:2,className:"w-full border border-blue-300 rounded px-2 py-1",placeholder:"Add comments about your answer...",value:h||"",onChange:k=>a(e.id,"comment",k.target.value)})]})]})]}),o&&(c!==void 0||h)&&x.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded p-4",children:[x.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Your Self-Assessment"}),x.jsxs("div",{className:"space-y-1",children:[c!==void 0&&x.jsxs("p",{className:"text-sm",children:[x.jsx("span",{className:"font-medium",children:"Score:"})," ",c,"/",e.points," points"]}),h&&x.jsxs("p",{className:"text-sm",children:[x.jsx("span",{className:"font-medium",children:"Comments:"})," ",h]})]})]})]}):null]})]})},WL=()=>{const{id:t}=Rb(),e=_i(),[n,i]=R.useState(null),[o,a]=R.useState(null),[c,h]=R.useState({}),[p,m]=R.useState({}),[y,_]=R.useState(0),[T,w]=R.useState(!0),[b,A]=R.useState(!1),[E,k]=R.useState("all"),[I,U]=R.useState({}),[D,q]=R.useState({}),[J,W]=R.useState(!1),[re,Y]=R.useState(""),ee=R.useRef(null),se=R.useRef(null),[z,Ue]=R.useState({width:0,height:0});R.useEffect(()=>{(async()=>{var ue,de,ce;if(t){const Re=localStorage.getItem("loggedAppUser");if(Re){const Ee=JSON.parse(Re);Lt.setToken(Ee.token)}try{const Ee=await Lt.getById(t);i(Ee),a(Ee.test),h(((ue=Ee.answer)==null?void 0:ue.answers)||{}),m(((de=Ee.answer)==null?void 0:de.drawings)||{});const Ke=Ee.selfGradedScores||{},Je={},Fe={};if(Object.entries(Ke).forEach(([ze,ke])=>{ke.score!==void 0&&(Je[ze]=ke.score),ke.comment&&(Fe[ze]=ke.comment)}),U(Je),q(Fe),(ce=Ee.test)!=null&&ce.questions){const ze={...Je};let ke=!1;Ee.test.questions.forEach(Pe=>{var mt,xn,ut,Le;if(Pe.type==="saq"||Pe.type==="leq"){const Xe=((xn=(mt=Ee.answer)==null?void 0:mt.answers)==null?void 0:xn[Pe.id])&&Ee.answer.answers[Pe.id].trim()!=="",pt=((Le=(ut=Ee.answer)==null?void 0:ut.drawings)==null?void 0:Le[Pe.id])&&Ee.answer.drawings[Pe.id].length>0,Ot=ze[Pe.id]!==void 0&&ze[Pe.id]!=="";!Xe&&!pt&&!Ot&&(ze[Pe.id]="0",ke=!0)}}),ke&&U(ze)}}catch(Ee){console.error("Error fetching submission:",Ee),e("/review")}finally{w(!1)}}})()},[t,e]),R.useLayoutEffect(()=>{function Q(){if(ee.current){const ue=ee.current.getBoundingClientRect();Ue({width:Math.floor(ue.width),height:Math.floor(ue.height)})}}return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[b,y]);const Ze=()=>{if(n!=null&&n.graded&&(n==null?void 0:n.totalScore)!==void 0&&(n==null?void 0:n.maxScore)!==void 0){let ce=0,Re=0;o!=null&&o.questions&&o.questions.forEach(Je=>{if(Je.type==="saq"||Je.type==="leq"){Re+=Je.points||1;const Fe=I[Je.id];Fe!==void 0&&Fe!==""&&(ce+=parseFloat(Fe)||0)}});const Ee=Math.max(0,n.totalScore-ce),Ke=Math.max(0,n.maxScore-Re);return{score:Ee,total:Ke}}if(!(o!=null&&o.questions))return{score:0,total:0};const Q=o.questions.filter(ce=>ce.type==="mcq");let ue=0,de=0;return Q.forEach(ce=>{de+=ce.points||1;const Re=c[ce.id],Ee=ce.answer;if(!Ee||!ce.choices)return;const Ke=Ee.includes(", "),Je=Ke?Ee.split(", ").map(ze=>{var mt;const ke=ze.trim(),Pe=ke.charCodeAt(0)-65;return((mt=ce.choices[Pe])==null?void 0:mt.trim())||ke}):(()=>{var mt;const ze=Ee.trim(),ke=ze.charCodeAt(0)-65,Pe=(mt=ce.choices[ke])==null?void 0:mt.trim();return Pe?[Pe]:[ze]})(),Fe=Array.isArray(Re)?Re.map(ze=>ze.toString().trim()).sort():Re?[Re.toString().trim()]:[];Ke?JSON.stringify(Je.sort())===JSON.stringify(Fe)&&(ue+=ce.points||1):Fe.length===1&&Fe[0]===Je[0]&&(ue+=ce.points||1)}),{score:ue,total:de}},Ie=()=>{if(!(o!=null&&o.questions))return{score:0,total:0};const Q=Ze();let ue=0,de=0;return o.questions.forEach(ce=>{if(ce.type==="saq"||ce.type==="leq"){de+=ce.points||1;const Re=I[ce.id];Re!==void 0&&(ue+=parseFloat(Re)||0)}}),{score:Q.score+ue,total:Q.total+de,mcqScore:Q.score,mcqTotal:Q.total,saqLeqScore:ue,saqLeqTotal:de}},K=()=>o!=null&&o.questions?o.questions.filter(Q=>{if(E==="all")return!0;if(E==="saq")return Q.type==="saq";if(E==="leq")return Q.type==="leq";if(E==="unanswered"){if(Q.type==="mcq"){const ue=c[Q.id];return!ue||Array.isArray(ue)&&ue.length===0}else if(Q.type==="saq"||Q.type==="leq"){const ue=c[Q.id]&&c[Q.id].trim()!=="",de=p[Q.id]&&p[Q.id].length>0;return!ue&&!de}return!1}if(E==="correct"||E==="incorrect"){if(Q.type!=="mcq")return!1;const ue=ae(Q);return E==="correct"?ue:!ue}return!0}):[],ae=Q=>{const ue=c[Q.id],de=Q.answer;if(!de||!Q.choices)return!1;const ce=de.includes(", "),Re=ce?de.split(", ").map(Ke=>{var ze;const Je=Ke.trim(),Fe=Je.charCodeAt(0)-65;return((ze=Q.choices[Fe])==null?void 0:ze.trim())||Je}):(()=>{var ze;const Ke=de.trim(),Je=Ke.charCodeAt(0)-65,Fe=(ze=Q.choices[Je])==null?void 0:ze.trim();return Fe?[Fe]:[Ke]})(),Ee=Array.isArray(ue)?ue.map(Ke=>Ke.toString().trim()).sort():ue?[ue.toString().trim()]:[];return ce?JSON.stringify(Re.sort())===JSON.stringify(Ee):Ee.length===1&&Ee[0]===Re[0]},j=(Q,ue,de)=>{re&&Y(""),ue==="score"?U(ce=>({...ce,[Q]:de})):ue==="comment"&&q(ce=>({...ce,[Q]:de}))},B=async()=>{Y("");const Q=o.questions.filter(ce=>ce.type==="saq"||ce.type==="leq"),ue={...I};Q.forEach(ce=>{const Re=c[ce.id]&&c[ce.id].trim()!=="",Ee=p[ce.id]&&p[ce.id].length>0,Ke=ue[ce.id]!==void 0&&ue[ce.id]!=="";!Re&&!Ee&&!Ke&&(ue[ce.id]="0")}),U(ue);const de=Q.filter(ce=>{const Re=c[ce.id]&&c[ce.id].trim()!=="",Ee=p[ce.id]&&p[ce.id].length>0,Ke=ue[ce.id]!==void 0&&ue[ce.id]!=="";return(Re||Ee)&&!Ke});if(de.length>0){Y(`Please provide scores for all answered SAQ/LEQ questions. Missing scores for ${de.length} question(s).`);return}W(!0);try{const ce={},Re=ue;let Ee=0,Ke=0;o.questions.forEach(Pe=>{if(Pe.type==="saq"||Pe.type==="leq"){Ke+=Pe.points||1;const mt=Re[Pe.id];mt!==void 0&&mt!==""&&(Ee+=parseFloat(mt)||0,ce[Pe.id]={score:parseFloat(mt)||0,comment:D[Pe.id]||""})}});const Je=Ze(),Fe=Je.score+Ee,ze=Je.total+Ke;await Lt.update(t,{selfGradedScores:ce,totalScore:Fe,maxScore:ze,graded:!0});const ke=await Lt.getById(t);i(ke)}catch(ce){console.error("Error submitting grades:",ce),Y("Failed to submit grades. Please try again.")}finally{W(!1)}},N=Q=>{A(!1),_(Q)};R.useEffect(()=>{A(!1)},[E]);const O=()=>{var ue;const Q=(ue=L[y])==null?void 0:ue.id;b?A(!1):(A(!0),setTimeout(()=>{if(se.current&&Q){const de=p[Q];de&&de.length>0?se.current.loadPaths(de):se.current.clearCanvas()}},100))};if(T)return x.jsx("div",{className:"flex justify-center items-center h-screen",children:x.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(!n||!o)return x.jsx("div",{className:"flex justify-center items-center h-screen",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Submission not found"}),x.jsx("button",{onClick:()=>e("/review"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Back to Reviews"})]})});if(!o.questions||o.questions.length===0)return x.jsx("div",{className:"flex justify-center items-center h-screen",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"No questions found for this test"}),x.jsx("p",{className:"text-gray-600 mt-2",children:"The test data may be incomplete."}),x.jsx("button",{onClick:()=>e("/review"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Back to Reviews"})]})});const L=K(),X=L[y],oe=Ie(),fe=Ze();return X?x.jsx("div",{className:"w-full min-h-screen bg-transparent py-5 px-4",children:x.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow-md py-6 px-8 space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("h2",{className:"text-2xl font-bold text-orange-800",children:[o.random?"Random Test":`${o.school} ${o.year}`,"  ",o.event," Review"]}),x.jsx("div",{className:"text-right",children:n.graded?x.jsxs("div",{className:"text-orange-600 font-semibold",children:[x.jsxs("div",{children:["Total Score: ",oe.score,"/",oe.total," (",(oe.score/oe.total*100).toFixed(1),"%)"]}),x.jsxs("div",{className:"text-sm",children:["MCQ: ",fe.score,"/",fe.total,"  SAQ/LEQ: ",oe.saqLeqScore,"/",oe.saqLeqTotal]})]}):x.jsxs("div",{className:"text-orange-600 font-semibold",children:[x.jsxs("div",{children:["MCQ Score: ",fe.score,"/",fe.total]}),x.jsx("div",{className:"text-sm text-orange-500",children:"Complete self-grading to see total score"})]})})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),["all","correct","incorrect","unanswered","saq","leq"].map(Q=>x.jsx("button",{onClick:()=>{k(Q),_(0),A(!1)},className:`px-3 py-1 rounded text-sm ${E===Q?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:Q.toUpperCase()},Q))]}),re&&x.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:x.jsx("div",{className:"flex items-center",children:x.jsxs("div",{className:"text-red-800",children:[x.jsx("p",{className:"font-medium",children:"Error"}),x.jsx("p",{className:"text-sm",children:re})]})})}),!n.graded&&x.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"font-medium text-blue-800",children:"Self-Grading Required"}),x.jsx("p",{className:"text-sm text-blue-600",children:"Grade your SAQ and LEQ responses to complete your review."})]}),x.jsx("button",{onClick:B,disabled:J,className:`px-4 py-2 rounded font-medium ${J?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:J?"Submitting...":"Finish Grading"})]})}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsxs("div",{className:"w-64 h-[500px] overflow-y-auto pr-2 scrollbar-hide bg-gray-100 rounded-lg",children:[x.jsx("div",{className:"sticky top-0 bg-gray-100 z-10 pb-2 pt-3",children:x.jsx("h3",{className:"text-lg font-semibold text-orange-700 text-center",children:"Questions"})}),x.jsx(R_,{questions:L,currentIdx:y,setCurrentIdx:N,bookmarked:[],answers:c})]}),x.jsxs("div",{ref:ee,className:"flex-1 relative max-h-[500px] overflow-auto pr-2 scrollbar-hide",children:[x.jsx(XL,{idx:o.questions.findIndex(Q=>Q.id===X.id),question:X,userAnswer:c[X.id],isCorrect:X.type==="mcq"?ae(X):null,isGraded:n.graded,onSelfGrade:j,selfGradedScore:I[X.id],selfGradedComment:D[X.id],showCanvas:b,actualQuestionNumber:o.questions.findIndex(Q=>Q.id===X.id)+1,drawings:p}),b&&x.jsx("div",{className:"absolute top-0 left-0 bg-transparent z-20 pointer-events-none",style:{width:z.width,height:z.height},children:x.jsx(N_,{ref:se,width:z.width,height:z.height,strokeWidth:"2",strokeColor:"#000",canvasColor:"transparent",className:"touch-none select-none",style:{border:"none",outline:"none"},readOnly:!0})})]})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("div",{className:"flex gap-2 items-center min-w-[120px]",children:L[y]&&p[L[y].id]&&p[L[y].id].length>0&&x.jsx("button",{onClick:O,className:`rounded shadow text-white ${b?"px-3 py-1 bg-gray-500 hover:bg-gray-600":"px-4 py-2 bg-amber-600 hover:bg-amber-700"}`,children:b?"Hide Drawing":"Show Drawing"})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{disabled:y===0,onClick:()=>N(y-1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Previous"}),x.jsx("button",{disabled:y===L.length-1,onClick:()=>N(y+1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Next"}),x.jsx("button",{onClick:()=>e("/review"),className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded shadow transition",children:"Back to Reviews"})]})]})]})}):x.jsx("div",{className:"flex justify-center items-center h-screen",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"No questions match the current filter"}),x.jsx("button",{onClick:()=>k("all"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Show All Questions"})]})})},eO=t=>{const[e,n]=R.useState(""),i=_i(),a=new URLSearchParams(window.location.search).get("token");if(!a)return;const c=h=>{h.preventDefault(),t.handleEmailReset(a,e)&&(n(""),i("/signin"))};return x.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[x.jsx("div",{children:x.jsx("p",{className:"text-xl font-semibold text-orange-800 text-center",children:"Reset Your Password"})}),x.jsx("div",{children:x.jsxs("form",{onSubmit:c,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),x.jsx("input",{type:"password",value:e,onChange:({target:h})=>n(h.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),x.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})})]})},Ws="/api/users";let k_=null;const tO=t=>{k_=`Bearer ${t}`},nO=async()=>(await be.get(Ws)).data,iO=async t=>(await be.post(Ws,t)).data,rO=async t=>{const e=`${Ws}/reset/${t.id}`;return(await be.put(e,{password:t.password},{headers:{Authorization:k_}})).data},sO=async t=>{const e=`${Ws}/forgot`;return(await be.post(e,{email:t})).data},oO=async(t,e)=>{const n=`${Ws}/reset`;return(await be.post(n,{token:t,password:e})).data},aO=async t=>{const e=`${Ws}/verify?token=${t}`;return(await be.get(e)).data},jn={setToken:tO,getAll:nO,createUser:iO,resetPass:rO,forgot:sO,resetEmailPass:oO,verify:aO},lO=t=>{const e=_i();R.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("token");i?(async()=>{try{await jn.verify(i),t.setNotif("Email verified successfully!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch(a){a.response.data.error&&a.response.data.error==="Invalid or expired token"&&(t.setError("Invalid or expired verification token"),setTimeout(()=>{t.setError(null)},5e3))}})():(t.setError("No token provided"),setTimeout(()=>{t.setError(null)},5e3)),e("/")},[])},uO=()=>x.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-[60vh] bg-white max-w-md mx-auto p-8 shadow-lg rounded-lg",children:[x.jsx("h1",{className:"text-6xl font-bold text-orange-600 mb-4",children:"404"}),x.jsx("h2",{className:"text-2xl font-semibold mb-2 text-orange-800",children:"Page Not Found"}),x.jsx("p",{className:"text-orange-700 mb-6",children:"Sorry, the page you are looking for does not exist."}),x.jsx(rt,{to:"/",className:"px-6 py-2 bg-orange-200 text-orange-800 rounded hover:bg-orange-300 transition",children:"Go Home"})]}),cO="/api/login",dO=async t=>(await be.post(cO,t)).data,fO={login:dO};function hO(){var W,re,Y,ee;const[t,e]=R.useState(null),[n,i]=R.useState(null),[o,a]=R.useState(null),[c,h]=R.useState([]),[p,m]=R.useState([]),[y,_]=R.useState([]),[T,w]=R.useState([]),[b,A]=R.useState([]),E=_i();R.useEffect(()=>{const se=localStorage.getItem("loggedAppUser");if(se){const z=JSON.parse(se);e(z),jn.setToken(z.token),Qi.setToken(z.token),kn.setToken(z.token),ks.setToken(z.token),ln.setToken(z.token),$t.setToken(z.token),Lt.setToken(z.token)}},[]),R.useEffect(()=>{(async()=>{try{const z=await Qi.getAll();z&&h(z)}catch(z){console.error("Failed to fetch events:",z)}})()},[]),R.useEffect(()=>{const se=async()=>{try{const z=await kn.getAll();z&&m(z)}catch(z){console.error("Failed to fetch tests:",z)}};t&&p.length===0&&se()},[t]),R.useEffect(()=>{t&&(async()=>{try{const z=await jn.getAll();z&&_(z)}catch(z){console.error("Failed to fetch users:",z)}})()},[t,b]),R.useEffect(()=>{const se=async()=>{try{const z=await ks.getAll();z&&w(z)}catch(z){console.error("Failed to fetch questions:",z)}};t&&T.length===0&&se()},[t]),R.useEffect(()=>{const se=async()=>{try{const z=await ln.getAll();z&&A(z)}catch(z){console.error("Failed to fetch teams:",z)}};t&&b.length===0&&se()},[t]);const k=async se=>{try{const z=await jn.createUser(se);return window.localStorage.setItem("loggedAppUser",JSON.stringify(z)),e(z),jn.setToken(z.token),Qi.setToken(z.token),kn.setToken(z.token),ks.setToken(z.token),ln.setToken(z.token),$t.setToken(z.token),Lt.setToken(z.token),E("/"),console.log("Sign Up"),a("signed up successfully, please check your email to verify your email"),setTimeout(()=>{a(null)},5e3),!0}catch(z){z.response.data.error?z.response.data.error==="Invalid admin key"?i("Invalid admin key!"):z.response.data.error==="Path `password` is required"?i("Password is required!"):z.response.data.error.includes("Path `email` is required")?i("Email is required!"):z.response.data.error.includes("Path `firstName` is required")?i("First name is required!"):z.response.data.error.includes("Path `lastName` is required")?i("Last name is required!"):z.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):z.response.data.error==="expected `email` to be unique"?i("Email already taken"):z.response.data.error==="expected `name` to be unique"?i("Name already taken. Please add your middle name/initial to your first name"):console.log(z.response.data.error):console.log(z.message),setTimeout(()=>{i(null)},5e3)}},I=()=>{window.localStorage.removeItem("loggedAppUser"),e(null),jn.setToken(""),Qi.setToken(""),kn.setToken(""),ks.setToken(""),ln.setToken(""),$t.setToken(""),Lt.setToken(""),E("/signin"),a("Logged out successfully"),setTimeout(()=>{a(null)},5e3)},U=async se=>{try{const z=await fO.login(se);return window.localStorage.setItem("loggedAppUser",JSON.stringify(z)),e(z),jn.setToken(z.token),Qi.setToken(z.token),kn.setToken(z.token),ks.setToken(z.token),ln.setToken(z.token),$t.setToken(z.token),Lt.setToken(z.token),console.log("Sign In"),E("/"),a("Logged in successfully"),setTimeout(()=>{a(null)},5e3),!0}catch(z){z.status===401?(i("Invalid username or password"),setTimeout(()=>{i(null)},5e3)):z.status===403&&(i("Cannot sign in. Please verify your account first!"),setTimeout(()=>{i(null)},5e3))}},D=async se=>{try{await jn.resetPass({id:t.id,password:se}),a("Reset password successfully"),setTimeout(()=>{a(null)},5e3)}catch(z){z.response.data.error?z.response.data.error==="Path `password` is required"?i("Password is required!"):z.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):z.status===403?i("Unauthorized!"):console.log(z.response.data.error):console.log(z),setTimeout(()=>{i(null)},5e3)}},q=async se=>{try{return await jn.forgot(se),a("Check your email for the reset link!"),setTimeout(()=>{a(null)},5e3),!0}catch(z){z.status===404?(i("Email not found"),setTimeout(()=>{i(null)},5e3)):console.log(z)}},J=async(se,z)=>{try{await jn.resetEmailPass(se,z),a("Password reset successfully"),setTimeout(()=>{a(null)},5e3)}catch(Ue){Ue.response.data.error?Ue.response.data.error==="Path `password` is required"?i("Password is required!"):Ue.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):Ue.response.data.error==="Invalid or expired token"?i("Invalid or expired token!"):console.log(Ue.response.data.error):console.log(Ue.message),setTimeout(()=>{i(null)},5e3)}};return x.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-repeat-y bg-[url('/radiant-combined.svg')] bg-[length:100%]",children:[x.jsx("nav",{className:"bg-white shadow-md",children:x.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"flex justify-between h-16 items-center",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx(rt,{to:"/",className:"flex items-center space-x-2",children:x.jsx("img",{src:"/lville.png",alt:"Logo",className:"h-8 transition-transform duration-200 hover:scale-110"})}),x.jsx(rt,{to:"/",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Home"}),x.jsx(rt,{to:"/events",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Events"}),t&&x.jsxs("div",{className:"relative inline-block text-left group z-2",children:[x.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Meetings"}),x.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:x.jsxs("ul",{className:"py-1",children:[x.jsx("li",{children:x.jsx(rt,{to:"/lineup",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Lineup"})}),((re=(W=y.find(se=>se.id===t.id))==null?void 0:W.teams)==null?void 0:re.length)>0&&x.jsx("li",{children:x.jsx(rt,{to:"/assigned",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Assigned Tests"})}),((ee=(Y=y.find(se=>se.id===t.id))==null?void 0:Y.teams)==null?void 0:ee.length)>0&&x.jsx("li",{children:x.jsx(rt,{to:"/review",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Review Tests"})})]})})]}),t&&t.admin&&x.jsxs("div",{className:"relative inline-block text-left group",children:[x.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Tests"}),x.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:x.jsxs("ul",{className:"py-1",children:[x.jsx("li",{children:x.jsx(rt,{to:"/tests",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Test Bank"})}),x.jsx("li",{children:x.jsx(rt,{to:"/tests/create",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Test"})}),x.jsx("li",{children:x.jsx(rt,{to:"/tests/random",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Random Test"})})]})})]})]}),x.jsx("div",{className:"flex space-x-4",children:t?x.jsxs(x.Fragment,{children:[x.jsx(rt,{to:"/settings",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Settings"}),x.jsx("button",{onClick:I,className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-red-600 hover:text-white transition",children:"Logout"})]}):x.jsxs(x.Fragment,{children:[x.jsx(rt,{to:"/signin",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign In"}),x.jsx(rt,{to:"/signup",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign Up"})]})})]})})}),x.jsx("div",{className:"flex-grow pt-6 pb-24",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n&&x.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[x.jsx("strong",{className:"font-bold",children:"Error: "}),x.jsx("span",{className:"block sm:inline",children:n})]}),o&&x.jsxs("div",{className:"mb-4 rounded-md bg-green-100 border border-green-500 text-green-800 px-4 py-3 shadow-md",role:"alert",children:[x.jsx("strong",{className:"font-bold",children:"Notice: "}),x.jsx("span",{className:"block sm:inline",children:o})]}),x.jsxs(Gb,{children:[x.jsx(Rt,{path:"/",element:x.jsx(ww,{user:t})}),x.jsx(Rt,{path:"/signin",element:x.jsx(Cw,{handleSignIn:U,setError:i})}),x.jsx(Rt,{path:"/signup",element:x.jsx(Ew,{handleSignUp:k,setError:i})}),x.jsx(Rt,{path:"/events",element:x.jsx(uE,{user:t,events:c,setEvents:h})}),x.jsx(Rt,{path:"/settings",element:x.jsx(QL,{handleReset:D,user:t,handleLogout:I})}),x.jsx(Rt,{path:"/forgot",element:x.jsx(cE,{handleForgot:q})}),x.jsx(Rt,{path:"/reset",element:x.jsx(eO,{handleEmailReset:J})}),x.jsx(Rt,{path:"/verify",element:x.jsx(lO,{setError:i,setNotif:a})}),x.jsx(Rt,{path:"/tests",element:x.jsx(vL,{tests:p,events:c,user:t,teams:b,setTests:m})}),x.jsx(Rt,{path:"/tests/create",element:x.jsx(yL,{setNotif:a,events:c,tests:p,setTests:m,setError:i,user:t})}),x.jsx(Rt,{path:"/tests/random",element:x.jsx(_L,{tests:p,questions:T,user:t,events:c,setError:i,setNotif:a,teams:b,setTests:m})}),x.jsx(Rt,{path:"/tests/:id",element:x.jsx(xL,{tests:p,user:t,teams:b,setError:i,setNotif:a,setTests:m})}),x.jsx(Rt,{path:"/lineup",element:x.jsx(AL,{setTeams:A,events:c,users:y,teams:b,user:t})}),x.jsx(Rt,{path:"/assigned",element:x.jsx($L,{tests:p,user:t,users:y,teams:b})}),x.jsx(Rt,{path:"/assigned/:id",element:x.jsx(KL,{tests:p,user:t,users:y,teams:b,setNotif:a,setError:i,setTests:m})}),x.jsx(Rt,{path:"/review",element:x.jsx(ZL,{user:t,users:y,teams:b})}),x.jsx(Rt,{path:"*",element:x.jsx(uO,{})}),x.jsx(Rt,{path:"/review/:id",element:x.jsx(WL,{})})]})]})}),x.jsxs("footer",{className:"bg-orange-100 text-orange-700 py-6 text-center text-sm",children:[" ",new Date().getFullYear()," Libertyville High School Science Olympiad"]})]})}WS.createRoot(document.getElementById("root")).render(x.jsx(mw,{children:x.jsx(hO,{})}));
