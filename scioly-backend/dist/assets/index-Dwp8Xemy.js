(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Jb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yb(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}),n}var Kd={exports:{}},Xo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function Kb(){if(oy)return Xo;oy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,a){var c=null;if(a!==void 0&&(c=""+a),o.key!==void 0&&(c=""+o.key),"key"in o){a={};for(var h in o)h!=="key"&&(a[h]=o[h])}else a=o;return o=a.ref,{$$typeof:t,type:i,key:c,ref:o!==void 0?o:null,props:a}}return Xo.Fragment=e,Xo.jsx=n,Xo.jsxs=n,Xo}var ay;function Zb(){return ay||(ay=1,Kd.exports=Kb()),Kd.exports}var v=Zb(),Zd={exports:{}},Wo={},Qd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function Qb(){return ly||(ly=1,function(t){function e(Z,ae){var G=Z.length;Z.push(ae);e:for(;0<G;){var B=G-1>>>1,R=Z[B];if(0<o(R,ae))Z[B]=ae,Z[G]=R,G=B;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ae=Z[0],G=Z.pop();if(G!==ae){Z[0]=G;e:for(var B=0,R=Z.length,O=R>>>1;B<O;){var q=2*(B+1)-1,W=Z[q],re=q+1,fe=Z[re];if(0>o(W,G))re<R&&0>o(fe,W)?(Z[B]=fe,Z[re]=G,B=re):(Z[B]=W,Z[q]=G,B=q);else if(re<R&&0>o(fe,G))Z[B]=fe,Z[re]=G,B=re;else break e}}return ae}function o(Z,ae){var G=Z.sortIndex-ae.sortIndex;return G!==0?G:Z.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,T=null,_=3,w=!1,S=!1,A=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function M(Z){for(var ae=n(m);ae!==null;){if(ae.callback===null)i(m);else if(ae.startTime<=Z)i(m),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(m)}}function L(Z){if(A=!1,M(Z),!S)if(n(p)!==null)S=!0,Y||(Y=!0,F());else{var ae=n(m);ae!==null&&Le(L,ae.startTime-Z)}}var Y=!1,X=-1,ie=5,J=-1;function K(){return E?!0:!(t.unstable_now()-J<ie)}function se(){if(E=!1,Y){var Z=t.unstable_now();J=Z;var ae=!0;try{e:{S=!1,A&&(A=!1,I(X),X=-1),w=!0;var G=_;try{t:{for(M(Z),T=n(p);T!==null&&!(T.expirationTime>Z&&K());){var B=T.callback;if(typeof B=="function"){T.callback=null,_=T.priorityLevel;var R=B(T.expirationTime<=Z);if(Z=t.unstable_now(),typeof R=="function"){T.callback=R,M(Z),ae=!0;break t}T===n(p)&&i(p),M(Z)}else i(p);T=n(p)}if(T!==null)ae=!0;else{var O=n(m);O!==null&&Le(L,O.startTime-Z),ae=!1}}break e}finally{T=null,_=G,w=!1}ae=void 0}}finally{ae?F():Y=!1}}}var F;if(typeof U=="function")F=function(){U(se)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,it=Pe.port2;Pe.port1.onmessage=se,F=function(){it.postMessage(null)}}else F=function(){k(se,0)};function Le(Z,ae){X=k(function(){Z(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var G=_;_=ae;try{return Z()}finally{_=G}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var G=_;_=Z;try{return ae()}finally{_=G}},t.unstable_scheduleCallback=function(Z,ae,G){var B=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?B+G:B):G=B,Z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=G+R,Z={id:y++,callback:ae,priorityLevel:Z,startTime:G,expirationTime:R,sortIndex:-1},G>B?(Z.sortIndex=G,e(m,Z),n(p)===null&&Z===n(m)&&(A?(I(X),X=-1):A=!0,Le(L,G-B))):(Z.sortIndex=R,e(p,Z),S||w||(S=!0,Y||(Y=!0,F()))),Z},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(Z){var ae=_;return function(){var G=_;_=ae;try{return Z.apply(this,arguments)}finally{_=G}}}}(Xd)),Xd}var uy;function Xb(){return uy||(uy=1,Qd.exports=Qb()),Qd.exports}var Wd={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function Wb(){if(cy)return Be;cy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=T&&R[T]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function E(R,O,q){this.props=R,this.context=O,this.refs=A,this.updater=q||w}E.prototype.isReactComponent={},E.prototype.setState=function(R,O){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,O,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=E.prototype;function I(R,O,q){this.props=R,this.context=O,this.refs=A,this.updater=q||w}var U=I.prototype=new k;U.constructor=I,S(U,E.prototype),U.isPureReactComponent=!0;var M=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function X(R,O,q,W,re,fe){return q=fe.ref,{$$typeof:t,type:R,key:O,ref:q!==void 0?q:null,props:fe}}function ie(R,O){return X(R.type,O,void 0,void 0,void 0,R.props)}function J(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function K(R){var O={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(q){return O[q]})}var se=/\/+/g;function F(R,O){return typeof R=="object"&&R!==null&&R.key!=null?K(""+R.key):O.toString(36)}function Pe(){}function it(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Pe,Pe):(R.status="pending",R.then(function(O){R.status==="pending"&&(R.status="fulfilled",R.value=O)},function(O){R.status==="pending"&&(R.status="rejected",R.reason=O)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Le(R,O,q,W,re){var fe=typeof R;(fe==="undefined"||fe==="boolean")&&(R=null);var oe=!1;if(R===null)oe=!0;else switch(fe){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(R.$$typeof){case t:case e:oe=!0;break;case y:return oe=R._init,Le(oe(R._payload),O,q,W,re)}}if(oe)return re=re(R),oe=W===""?"."+F(R,0):W,M(re)?(q="",oe!=null&&(q=oe.replace(se,"$&/")+"/"),Le(re,O,q,"",function(ue){return ue})):re!=null&&(J(re)&&(re=ie(re,q+(re.key==null||R&&R.key===re.key?"":(""+re.key).replace(se,"$&/")+"/")+oe)),O.push(re)),1;oe=0;var Ce=W===""?".":W+":";if(M(R))for(var Ae=0;Ae<R.length;Ae++)W=R[Ae],fe=Ce+F(W,Ae),oe+=Le(W,O,q,fe,re);else if(Ae=_(R),typeof Ae=="function")for(R=Ae.call(R),Ae=0;!(W=R.next()).done;)W=W.value,fe=Ce+F(W,Ae++),oe+=Le(W,O,q,fe,re);else if(fe==="object"){if(typeof R.then=="function")return Le(it(R),O,q,W,re);throw O=String(R),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return oe}function Z(R,O,q){if(R==null)return R;var W=[],re=0;return Le(R,W,"","",function(fe){return O.call(q,fe,re++)}),W}function ae(R){if(R._status===-1){var O=R._result;O=O(),O.then(function(q){(R._status===0||R._status===-1)&&(R._status=1,R._result=q)},function(q){(R._status===0||R._status===-1)&&(R._status=2,R._result=q)}),R._status===-1&&(R._status=0,R._result=O)}if(R._status===1)return R._result.default;throw R._result}var G=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function B(){}return Be.Children={map:Z,forEach:function(R,O,q){Z(R,function(){O.apply(this,arguments)},q)},count:function(R){var O=0;return Z(R,function(){O++}),O},toArray:function(R){return Z(R,function(O){return O})||[]},only:function(R){if(!J(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Be.Component=E,Be.Fragment=n,Be.Profiler=o,Be.PureComponent=I,Be.StrictMode=i,Be.Suspense=p,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Be.__COMPILER_RUNTIME={__proto__:null,c:function(R){return L.H.useMemoCache(R)}},Be.cache=function(R){return function(){return R.apply(null,arguments)}},Be.cloneElement=function(R,O,q){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var W=S({},R.props),re=R.key,fe=void 0;if(O!=null)for(oe in O.ref!==void 0&&(fe=void 0),O.key!==void 0&&(re=""+O.key),O)!Y.call(O,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&O.ref===void 0||(W[oe]=O[oe]);var oe=arguments.length-2;if(oe===1)W.children=q;else if(1<oe){for(var Ce=Array(oe),Ae=0;Ae<oe;Ae++)Ce[Ae]=arguments[Ae+2];W.children=Ce}return X(R.type,re,void 0,void 0,fe,W)},Be.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:a,_context:R},R},Be.createElement=function(R,O,q){var W,re={},fe=null;if(O!=null)for(W in O.key!==void 0&&(fe=""+O.key),O)Y.call(O,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(re[W]=O[W]);var oe=arguments.length-2;if(oe===1)re.children=q;else if(1<oe){for(var Ce=Array(oe),Ae=0;Ae<oe;Ae++)Ce[Ae]=arguments[Ae+2];re.children=Ce}if(R&&R.defaultProps)for(W in oe=R.defaultProps,oe)re[W]===void 0&&(re[W]=oe[W]);return X(R,fe,void 0,void 0,null,re)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(R){return{$$typeof:h,render:R}},Be.isValidElement=J,Be.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:ae}},Be.memo=function(R,O){return{$$typeof:m,type:R,compare:O===void 0?null:O}},Be.startTransition=function(R){var O=L.T,q={};L.T=q;try{var W=R(),re=L.S;re!==null&&re(q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(B,G)}catch(fe){G(fe)}finally{L.T=O}},Be.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Be.use=function(R){return L.H.use(R)},Be.useActionState=function(R,O,q){return L.H.useActionState(R,O,q)},Be.useCallback=function(R,O){return L.H.useCallback(R,O)},Be.useContext=function(R){return L.H.useContext(R)},Be.useDebugValue=function(){},Be.useDeferredValue=function(R,O){return L.H.useDeferredValue(R,O)},Be.useEffect=function(R,O,q){var W=L.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(R,O)},Be.useId=function(){return L.H.useId()},Be.useImperativeHandle=function(R,O,q){return L.H.useImperativeHandle(R,O,q)},Be.useInsertionEffect=function(R,O){return L.H.useInsertionEffect(R,O)},Be.useLayoutEffect=function(R,O){return L.H.useLayoutEffect(R,O)},Be.useMemo=function(R,O){return L.H.useMemo(R,O)},Be.useOptimistic=function(R,O){return L.H.useOptimistic(R,O)},Be.useReducer=function(R,O,q){return L.H.useReducer(R,O,q)},Be.useRef=function(R){return L.H.useRef(R)},Be.useState=function(R){return L.H.useState(R)},Be.useSyncExternalStore=function(R,O,q){return L.H.useSyncExternalStore(R,O,q)},Be.useTransition=function(){return L.H.useTransition()},Be.version="19.1.0",Be}var dy;function Zf(){return dy||(dy=1,Wd.exports=Wb()),Wd.exports}var ef={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function eS(){if(fy)return Ht;fy=1;var t=Zf();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(p,m,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ht.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(p,m,null,y)},Ht.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},Ht.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Ht.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Ht.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:_,fetchPriority:w}):y==="script"&&i.d.X(p,{crossOrigin:T,integrity:_,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ht.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Ht.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ht.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Ht.requestFormReset=function(p){i.d.r(p)},Ht.unstable_batchedUpdates=function(p,m){return p(m)},Ht.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},Ht.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ht.version="19.1.0",Ht}var hy;function tS(){if(hy)return ef.exports;hy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ef.exports=eS(),ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function nS(){if(my)return Wo;my=1;var t=Xb(),e=Zf(),n=tS();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=a(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,f=r;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return h(g),s;if(x===f)return h(g),r;x=x.sibling}throw Error(i(188))}if(l.return!==f.return)l=g,f=x;else{for(var b=!1,C=g.child;C;){if(C===l){b=!0,l=g,f=x;break}if(C===f){b=!0,f=g,l=x;break}C=C.sibling}if(!b){for(C=x.child;C;){if(C===l){b=!0,l=x,f=g;break}if(C===f){b=!0,f=x,l=g;break}C=C.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function m(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=m(s),r!==null)return r;s=s.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),U=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var Pe=Symbol.for("react.client.reference");function it(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Pe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case Y:return"SuspenseList";case J:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case U:return(s.displayName||"Context")+".Provider";case I:return(s._context.displayName||"Context")+".Consumer";case M:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case X:return r=s.displayName||null,r!==null?r:it(s.type)||"Memo";case ie:r=s._payload,s=s._init;try{return it(s(r))}catch{}}return null}var Le=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},B=[],R=-1;function O(s){return{current:s}}function q(s){0>R||(s.current=B[R],B[R]=null,R--)}function W(s,r){R++,B[R]=s.current,s.current=r}var re=O(null),fe=O(null),oe=O(null),Ce=O(null);function Ae(s,r){switch(W(oe,r),W(fe,s),W(re,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Ig(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Ig(r),s=Pg(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}q(re),W(re,s)}function ue(){q(re),q(fe),q(oe)}function de(s){s.memoizedState!==null&&W(Ce,s);var r=re.current,l=Pg(r,s.type);r!==l&&(W(fe,s),W(re,l))}function Me(s){fe.current===s&&(q(re),q(fe)),Ce.current===s&&(q(Ce),Jo._currentValue=G)}var he=Object.prototype.hasOwnProperty,je=t.unstable_scheduleCallback,Se=t.unstable_cancelCallback,Ke=t.unstable_shouldYield,Re=t.unstable_requestPaint,Ge=t.unstable_now,We=t.unstable_getCurrentPriorityLevel,yt=t.unstable_ImmediatePriority,De=t.unstable_UserBlockingPriority,we=t.unstable_NormalPriority,Qe=t.unstable_LowPriority,mt=t.unstable_IdlePriority,Mt=t.log,ye=t.unstable_setDisableYieldValue,me=null,xe=null;function Fe(s){if(typeof Mt=="function"&&ye(s),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(me,s)}catch{}}var xt=Math.clz32?Math.clz32:Ma,qu=Math.log,ka=Math.LN2;function Ma(s){return s>>>=0,s===0?32:31-(qu(s)/ka|0)|0}var Qt=256,Tn=4194304;function Xt(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function fn(s,r,l){var f=s.pendingLanes;if(f===0)return 0;var g=0,x=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var C=f&134217727;return C!==0?(f=C&~x,f!==0?g=Xt(f):(b&=C,b!==0?g=Xt(b):l||(l=C&~s,l!==0&&(g=Xt(l))))):(C=f&~x,C!==0?g=Xt(C):b!==0?g=Xt(b):l||(l=f&~s,l!==0&&(g=Xt(l)))),g===0?0:r!==0&&r!==g&&(r&x)===0&&(x=g&-g,l=r&-r,x>=l||x===32&&(l&4194048)!==0)?r:g}function tn(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ci(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function is(){var s=Qt;return Qt<<=1,(Qt&4194048)===0&&(Qt=256),s}function nn(){var s=Tn;return Tn<<=1,(Tn&62914560)===0&&(Tn=4194304),s}function Ft(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function ti(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Bu(s,r,l,f,g,x){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var C=s.entanglements,D=s.expirationTimes,j=s.hiddenUpdates;for(l=b&~l;0<l;){var ee=31-xt(l),ne=1<<ee;C[ee]=0,D[ee]=-1;var z=j[ee];if(z!==null)for(j[ee]=null,ee=0;ee<z.length;ee++){var H=z[ee];H!==null&&(H.lane&=-536870913)}l&=~ne}f!==0&&Ls(s,f,0),x!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=x&~(b&~r))}function Ls(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var f=31-xt(r);s.entangledLanes|=r,s.entanglements[f]=s.entanglements[f]|1073741824|l&4194090}function to(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var f=31-xt(l),g=1<<f;g&r|s[f]&r&&(s[f]|=r),l&=~g}}function no(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Vu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function _h(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:ey(s.type))}function LT(s,r){var l=ae.p;try{return ae.p=s,r()}finally{ae.p=l}}var Ei=Math.random().toString(36).slice(2),zt="__reactFiber$"+Ei,sn="__reactProps$"+Ei,Os="__reactContainer$"+Ei,$u="__reactEvents$"+Ei,OT="__reactListeners$"+Ei,qT="__reactHandles$"+Ei,bh="__reactResources$"+Ei,io="__reactMarker$"+Ei;function ju(s){delete s[zt],delete s[sn],delete s[$u],delete s[OT],delete s[qT]}function qs(s){var r=s[zt];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Os]||l[zt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=Bg(s);s!==null;){if(l=s[zt])return l;s=Bg(s)}return r}s=l,l=s.parentNode}return null}function Bs(s){if(s=s[zt]||s[Os]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function so(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Vs(s){var r=s[bh];return r||(r=s[bh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(s){s[io]=!0}var Sh=new Set,wh={};function ss(s,r){$s(s,r),$s(s+"Capture",r)}function $s(s,r){for(wh[s]=r,s=0;s<r.length;s++)Sh.add(r[s])}var BT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ch={},Eh={};function VT(s){return he.call(Eh,s)?!0:he.call(Ch,s)?!1:BT.test(s)?Eh[s]=!0:(Ch[s]=!0,!1)}function Da(s,r,l){if(VT(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Ua(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function ni(s,r,l,f){if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+f)}}var Fu,Ah;function js(s){if(Fu===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Fu=r&&r[1]||"",Ah=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fu+s+Ah}var zu=!1;function Gu(s,r){if(!s||zu)return"";zu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(H){var z=H}Reflect.construct(s,[],ne)}else{try{ne.call()}catch(H){z=H}s.call(ne.prototype)}}else{try{throw Error()}catch(H){z=H}(ne=s())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),b=x[0],C=x[1];if(b&&C){var D=b.split(`
`),j=C.split(`
`);for(g=f=0;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;for(;g<j.length&&!j[g].includes("DetermineComponentFrameRoot");)g++;if(f===D.length||g===j.length)for(f=D.length-1,g=j.length-1;1<=f&&0<=g&&D[f]!==j[g];)g--;for(;1<=f&&0<=g;f--,g--)if(D[f]!==j[g]){if(f!==1||g!==1)do if(f--,g--,0>g||D[f]!==j[g]){var ee=`
`+D[f].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=f&&0<=g);break}}}finally{zu=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?js(l):""}function $T(s){switch(s.tag){case 26:case 27:case 5:return js(s.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 15:return Gu(s.type,!1);case 11:return Gu(s.type.render,!1);case 1:return Gu(s.type,!0);case 31:return js("Activity");default:return""}}function Nh(s){try{var r="";do r+=$T(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function _n(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Rh(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jT(s){var r=Rh(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),f=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,x=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(b){f=""+b,x.call(this,b)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(b){f=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Ia(s){s._valueTracker||(s._valueTracker=jT(s))}function kh(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),f="";return s&&(f=Rh(s)?s.checked?"true":"false":s.value),s=f,s!==l?(r.setValue(s),!0):!1}function Pa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var FT=/[\n"\\]/g;function bn(s){return s.replace(FT,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Hu(s,r,l,f,g,x,b,C){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+_n(r)):s.value!==""+_n(r)&&(s.value=""+_n(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?Ju(s,b,_n(r)):l!=null?Ju(s,b,_n(l)):f!=null&&s.removeAttribute("value"),g==null&&x!=null&&(s.defaultChecked=!!x),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+_n(C):s.removeAttribute("name")}function Mh(s,r,l,f,g,x,b,C){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),r!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||r!=null))return;l=l!=null?""+_n(l):"",r=r!=null?""+_n(r):l,C||r===s.value||(s.value=r),s.defaultValue=r}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=C?s.checked:!!f,s.defaultChecked=!!f,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b)}function Ju(s,r,l){r==="number"&&Pa(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Fs(s,r,l,f){if(s=s.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=r.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&f&&(s[l].defaultSelected=!0)}else{for(l=""+_n(l),r=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function Dh(s,r,l){if(r!=null&&(r=""+_n(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+_n(l):""}function Uh(s,r,l,f){if(r==null){if(f!=null){if(l!=null)throw Error(i(92));if(Le(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),r=l}l=_n(r),s.defaultValue=l,f=s.textContent,f===l&&f!==""&&f!==null&&(s.value=f)}function zs(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var zT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ih(s,r,l){var f=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":f?s.setProperty(r,l):typeof l!="number"||l===0||zT.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Ph(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var g in r)f=r[g],r.hasOwnProperty(g)&&l[g]!==f&&Ih(s,g,f)}else for(var x in r)r.hasOwnProperty(x)&&Ih(s,x,r[x])}function Yu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(s){return HT.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ku=null;function Zu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gs=null,Hs=null;function Lh(s){var r=Bs(s);if(r&&(s=r.stateNode)){var l=s[sn]||null;e:switch(s=r.stateNode,r.type){case"input":if(Hu(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var f=l[r];if(f!==s&&f.form===s.form){var g=f[sn]||null;if(!g)throw Error(i(90));Hu(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)f=l[r],f.form===s.form&&kh(f)}break e;case"textarea":Dh(s,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Fs(s,!!l.multiple,r,!1)}}}var Qu=!1;function Oh(s,r,l){if(Qu)return s(r,l);Qu=!0;try{var f=s(r);return f}finally{if(Qu=!1,(Gs!==null||Hs!==null)&&(_l(),Gs&&(r=Gs,s=Hs,Hs=Gs=null,Lh(r),s)))for(r=0;r<s.length;r++)Lh(s[r])}}function ro(s,r){var l=s.stateNode;if(l===null)return null;var f=l[sn]||null;if(f===null)return null;l=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=!1;if(ii)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Xu=!1}var Ai=null,Wu=null,Oa=null;function qh(){if(Oa)return Oa;var s,r=Wu,l=r.length,f,g="value"in Ai?Ai.value:Ai.textContent,x=g.length;for(s=0;s<l&&r[s]===g[s];s++);var b=l-s;for(f=1;f<=b&&r[l-f]===g[x-f];f++);return Oa=g.slice(s,1<f?1-f:void 0)}function qa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ba(){return!0}function Bh(){return!1}function rn(s){function r(l,f,g,x,b){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=b,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(l=s[C],this[C]=l?l(x):x[C]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ba:Bh,this.isPropagationStopped=Bh,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),r}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=rn(rs),ao=y({},rs,{view:0,detail:0}),JT=rn(ao),ec,tc,lo,$a=y({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==lo&&(lo&&s.type==="mousemove"?(ec=s.screenX-lo.screenX,tc=s.screenY-lo.screenY):tc=ec=0,lo=s),ec)},movementY:function(s){return"movementY"in s?s.movementY:tc}}),Vh=rn($a),YT=y({},$a,{dataTransfer:0}),KT=rn(YT),ZT=y({},ao,{relatedTarget:0}),nc=rn(ZT),QT=y({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),XT=rn(QT),WT=y({},rs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),e_=rn(WT),t_=y({},rs,{data:0}),$h=rn(t_),n_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r_(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=s_[s])?!!r[s]:!1}function ic(){return r_}var o_=y({},ao,{key:function(s){if(s.key){var r=n_[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=qa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?i_[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(s){return s.type==="keypress"?qa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),a_=rn(o_),l_=y({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=rn(l_),u_=y({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),c_=rn(u_),d_=y({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),f_=rn(d_),h_=y({},$a,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),m_=rn(h_),p_=y({},rs,{newState:0,oldState:0}),g_=rn(p_),y_=[9,13,27,32],sc=ii&&"CompositionEvent"in window,uo=null;ii&&"documentMode"in document&&(uo=document.documentMode);var v_=ii&&"TextEvent"in window&&!uo,Fh=ii&&(!sc||uo&&8<uo&&11>=uo),zh=" ",Gh=!1;function Hh(s,r){switch(s){case"keyup":return y_.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Js=!1;function x_(s,r){switch(s){case"compositionend":return Jh(r);case"keypress":return r.which!==32?null:(Gh=!0,zh);case"textInput":return s=r.data,s===zh&&Gh?null:s;default:return null}}function T_(s,r){if(Js)return s==="compositionend"||!sc&&Hh(s,r)?(s=qh(),Oa=Wu=Ai=null,Js=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Fh&&r.locale!=="ko"?null:r.data;default:return null}}var __={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!__[s.type]:r==="textarea"}function Kh(s,r,l,f){Gs?Hs?Hs.push(f):Hs=[f]:Gs=f,r=Al(r,"onChange"),0<r.length&&(l=new Va("onChange","change",null,l,f),s.push({event:l,listeners:r}))}var co=null,fo=null;function b_(s){Rg(s,0)}function ja(s){var r=so(s);if(kh(r))return s}function Zh(s,r){if(s==="change")return r}var Qh=!1;if(ii){var rc;if(ii){var oc="oninput"in document;if(!oc){var Xh=document.createElement("div");Xh.setAttribute("oninput","return;"),oc=typeof Xh.oninput=="function"}rc=oc}else rc=!1;Qh=rc&&(!document.documentMode||9<document.documentMode)}function Wh(){co&&(co.detachEvent("onpropertychange",em),fo=co=null)}function em(s){if(s.propertyName==="value"&&ja(fo)){var r=[];Kh(r,fo,s,Zu(s)),Oh(b_,r)}}function S_(s,r,l){s==="focusin"?(Wh(),co=r,fo=l,co.attachEvent("onpropertychange",em)):s==="focusout"&&Wh()}function w_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ja(fo)}function C_(s,r){if(s==="click")return ja(r)}function E_(s,r){if(s==="input"||s==="change")return ja(r)}function A_(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var hn=typeof Object.is=="function"?Object.is:A_;function ho(s,r){if(hn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),f=Object.keys(r);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!he.call(r,g)||!hn(s[g],r[g]))return!1}return!0}function tm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nm(s,r){var l=tm(s);s=0;for(var f;l;){if(l.nodeType===3){if(f=s+l.textContent.length,s<=r&&f>=r)return{node:l,offset:r-s};s=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tm(l)}}function im(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?im(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function sm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Pa(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Pa(s.document)}return r}function ac(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var N_=ii&&"documentMode"in document&&11>=document.documentMode,Ys=null,lc=null,mo=null,uc=!1;function rm(s,r,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;uc||Ys==null||Ys!==Pa(f)||(f=Ys,"selectionStart"in f&&ac(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),mo&&ho(mo,f)||(mo=f,f=Al(lc,"onSelect"),0<f.length&&(r=new Va("onSelect","select",null,r,l),s.push({event:r,listeners:f}),r.target=Ys)))}function os(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Ks={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},cc={},om={};ii&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function as(s){if(cc[s])return cc[s];if(!Ks[s])return s;var r=Ks[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in om)return cc[s]=r[l];return s}var am=as("animationend"),lm=as("animationiteration"),um=as("animationstart"),R_=as("transitionrun"),k_=as("transitionstart"),M_=as("transitioncancel"),cm=as("transitionend"),dm=new Map,dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dc.push("scrollEnd");function Pn(s,r){dm.set(s,r),ss(r,[s])}var fm=new WeakMap;function Sn(s,r){if(typeof s=="object"&&s!==null){var l=fm.get(s);return l!==void 0?l:(r={value:s,source:r,stack:Nh(r)},fm.set(s,r),r)}return{value:s,source:r,stack:Nh(r)}}var wn=[],Zs=0,fc=0;function Fa(){for(var s=Zs,r=fc=Zs=0;r<s;){var l=wn[r];wn[r++]=null;var f=wn[r];wn[r++]=null;var g=wn[r];wn[r++]=null;var x=wn[r];if(wn[r++]=null,f!==null&&g!==null){var b=f.pending;b===null?g.next=g:(g.next=b.next,b.next=g),f.pending=g}x!==0&&hm(l,g,x)}}function za(s,r,l,f){wn[Zs++]=s,wn[Zs++]=r,wn[Zs++]=l,wn[Zs++]=f,fc|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function hc(s,r,l,f){return za(s,r,l,f),Ga(s)}function Qs(s,r){return za(s,null,null,r),Ga(s)}function hm(s,r,l){s.lanes|=l;var f=s.alternate;f!==null&&(f.lanes|=l);for(var g=!1,x=s.return;x!==null;)x.childLanes|=l,f=x.alternate,f!==null&&(f.childLanes|=l),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(g=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,g&&r!==null&&(g=31-xt(l),s=x.hiddenUpdates,f=s[g],f===null?s[g]=[r]:f.push(r),r.lane=l|536870912),x):null}function Ga(s){if(50<Bo)throw Bo=0,xd=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Xs={};function D_(s,r,l,f){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(s,r,l,f){return new D_(s,r,l,f)}function mc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function si(s,r){var l=s.alternate;return l===null?(l=mn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function mm(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Ha(s,r,l,f,g,x){var b=0;if(f=s,typeof s=="function")mc(s)&&(b=1);else if(typeof s=="string")b=Ib(s,l,re.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case J:return s=mn(31,l,r,g),s.elementType=J,s.lanes=x,s;case S:return ls(l.children,g,x,r);case A:b=8,g|=24;break;case E:return s=mn(12,l,r,g|2),s.elementType=E,s.lanes=x,s;case L:return s=mn(13,l,r,g),s.elementType=L,s.lanes=x,s;case Y:return s=mn(19,l,r,g),s.elementType=Y,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:case U:b=10;break e;case I:b=9;break e;case M:b=11;break e;case X:b=14;break e;case ie:b=16,f=null;break e}b=29,l=Error(i(130,s===null?"null":typeof s,"")),f=null}return r=mn(b,l,r,g),r.elementType=s,r.type=f,r.lanes=x,r}function ls(s,r,l,f){return s=mn(7,s,f,r),s.lanes=l,s}function pc(s,r,l){return s=mn(6,s,null,r),s.lanes=l,s}function gc(s,r,l){return r=mn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Ws=[],er=0,Ja=null,Ya=0,Cn=[],En=0,us=null,ri=1,oi="";function cs(s,r){Ws[er++]=Ya,Ws[er++]=Ja,Ja=s,Ya=r}function pm(s,r,l){Cn[En++]=ri,Cn[En++]=oi,Cn[En++]=us,us=s;var f=ri;s=oi;var g=32-xt(f)-1;f&=~(1<<g),l+=1;var x=32-xt(r)+g;if(30<x){var b=g-g%5;x=(f&(1<<b)-1).toString(32),f>>=b,g-=b,ri=1<<32-xt(r)+g|l<<g|f,oi=x+s}else ri=1<<x|l<<g|f,oi=s}function yc(s){s.return!==null&&(cs(s,1),pm(s,1,0))}function vc(s){for(;s===Ja;)Ja=Ws[--er],Ws[er]=null,Ya=Ws[--er],Ws[er]=null;for(;s===us;)us=Cn[--En],Cn[En]=null,oi=Cn[--En],Cn[En]=null,ri=Cn[--En],Cn[En]=null}var Wt=null,_t=null,st=!1,ds=null,zn=!1,xc=Error(i(519));function fs(s){var r=Error(i(418,""));throw yo(Sn(r,s)),xc}function gm(s){var r=s.stateNode,l=s.type,f=s.memoizedProps;switch(r[zt]=s,r[sn]=f,l){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(l=0;l<$o.length;l++)Je($o[l],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":Je("invalid",r),Mh(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ia(r);break;case"select":Je("invalid",r);break;case"textarea":Je("invalid",r),Uh(r,f.value,f.defaultValue,f.children),Ia(r)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||f.suppressHydrationWarning===!0||Ug(r.textContent,l)?(f.popover!=null&&(Je("beforetoggle",r),Je("toggle",r)),f.onScroll!=null&&Je("scroll",r),f.onScrollEnd!=null&&Je("scrollend",r),f.onClick!=null&&(r.onclick=Nl),r=!0):r=!1,r||fs(s)}function ym(s){for(Wt=s.return;Wt;)switch(Wt.tag){case 5:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Wt=Wt.return}}function po(s){if(s!==Wt)return!1;if(!st)return ym(s),st=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Pd(s.type,s.memoizedProps)),l=!l),l&&_t&&fs(s),ym(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){_t=On(s.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}_t=null}}else r===27?(r=_t,Fi(s.type)?(s=Bd,Bd=null,_t=s):_t=r):_t=Wt?On(s.stateNode.nextSibling):null;return!0}function go(){_t=Wt=null,st=!1}function vm(){var s=ds;return s!==null&&(ln===null?ln=s:ln.push.apply(ln,s),ds=null),s}function yo(s){ds===null?ds=[s]:ds.push(s)}var Tc=O(null),hs=null,ai=null;function Ni(s,r,l){W(Tc,r._currentValue),r._currentValue=l}function li(s){s._currentValue=Tc.current,q(Tc)}function _c(s,r,l){for(;s!==null;){var f=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),s===l)break;s=s.return}}function bc(s,r,l,f){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var x=g.dependencies;if(x!==null){var b=g.child;x=x.firstContext;e:for(;x!==null;){var C=x;x=g;for(var D=0;D<r.length;D++)if(C.context===r[D]){x.lanes|=l,C=x.alternate,C!==null&&(C.lanes|=l),_c(x.return,l,s),f||(b=null);break e}x=C.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(i(341));b.lanes|=l,x=b.alternate,x!==null&&(x.lanes|=l),_c(b,l,s),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function vo(s,r,l,f){s=null;for(var g=r,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var C=g.type;hn(g.pendingProps.value,b.value)||(s!==null?s.push(C):s=[C])}}else if(g===Ce.current){if(b=g.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Jo):s=[Jo])}g=g.return}s!==null&&bc(r,s,l,f),r.flags|=262144}function Ka(s){for(s=s.firstContext;s!==null;){if(!hn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ms(s){hs=s,ai=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Gt(s){return xm(hs,s)}function Za(s,r){return hs===null&&ms(s),xm(s,r)}function xm(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},ai===null){if(s===null)throw Error(i(308));ai=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ai=ai.next=r;return l}var U_=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,f){s.push(f)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},I_=t.unstable_scheduleCallback,P_=t.unstable_NormalPriority,Rt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new U_,data:new Map,refCount:0}}function xo(s){s.refCount--,s.refCount===0&&I_(P_,function(){s.controller.abort()})}var To=null,wc=0,tr=0,nr=null;function L_(s,r){if(To===null){var l=To=[];wc=0,tr=Ed(),nr={status:"pending",value:void 0,then:function(f){l.push(f)}}}return wc++,r.then(Tm,Tm),r}function Tm(){if(--wc===0&&To!==null){nr!==null&&(nr.status="fulfilled");var s=To;To=null,tr=0,nr=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function O_(s,r){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){f.status="fulfilled",f.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var _m=Z.S;Z.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&L_(s,r),_m!==null&&_m(s,r)};var ps=O(null);function Cc(){var s=ps.current;return s!==null?s:ft.pooledCache}function Qa(s,r){r===null?W(ps,ps.current):W(ps,r.pool)}function bm(){var s=Cc();return s===null?null:{parent:Rt._currentValue,pool:s}}var _o=Error(i(460)),Sm=Error(i(474)),Xa=Error(i(542)),Ec={then:function(){}};function wm(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Wa(){}function Cm(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Wa,Wa),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Am(s),s;default:if(typeof r.status=="string")r.then(Wa,Wa);else{if(s=ft,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(f){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=f}},function(f){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Am(s),s}throw bo=r,_o}}var bo=null;function Em(){if(bo===null)throw Error(i(459));var s=bo;return bo=null,s}function Am(s){if(s===_o||s===Xa)throw Error(i(483))}var Ri=!1;function Ac(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nc(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ki(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Mi(s,r,l){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(rt&2)!==0){var g=f.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),f.pending=r,r=Ga(s),hm(s,null,l),r}return za(s,f,r,l),Ga(s)}function So(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,to(s,l)}}function Rc(s,r){var l=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=b:x=x.next=b,l=l.next}while(l!==null);x===null?g=x=r:x=x.next=r}else g=x=r;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var kc=!1;function wo(){if(kc){var s=nr;if(s!==null)throw s}}function Co(s,r,l,f){kc=!1;var g=s.updateQueue;Ri=!1;var x=g.firstBaseUpdate,b=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var D=C,j=D.next;D.next=null,b===null?x=j:b.next=j,b=D;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==b&&(C===null?ee.firstBaseUpdate=j:C.next=j,ee.lastBaseUpdate=D))}if(x!==null){var ne=g.baseState;b=0,ee=j=D=null,C=x;do{var z=C.lane&-536870913,H=z!==C.lane;if(H?(Xe&z)===z:(f&z)===z){z!==0&&z===tr&&(kc=!0),ee!==null&&(ee=ee.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ke=s,Ee=C;z=r;var ct=l;switch(Ee.tag){case 1:if(ke=Ee.payload,typeof ke=="function"){ne=ke.call(ct,ne,z);break e}ne=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ee.payload,z=typeof ke=="function"?ke.call(ct,ne,z):ke,z==null)break e;ne=y({},ne,z);break e;case 2:Ri=!0}}z=C.callback,z!==null&&(s.flags|=64,H&&(s.flags|=8192),H=g.callbacks,H===null?g.callbacks=[z]:H.push(z))}else H={lane:z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?(j=ee=H,D=ne):ee=ee.next=H,b|=z;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;H=C,C=H.next,H.next=null,g.lastBaseUpdate=H,g.shared.pending=null}}while(!0);ee===null&&(D=ne),g.baseState=D,g.firstBaseUpdate=j,g.lastBaseUpdate=ee,x===null&&(g.shared.lanes=0),Bi|=b,s.lanes=b,s.memoizedState=ne}}function Nm(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Rm(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Nm(l[s],r)}var ir=O(null),el=O(0);function km(s,r){s=pi,W(el,s),W(ir,r),pi=s|r.baseLanes}function Mc(){W(el,pi),W(ir,ir.current)}function Dc(){pi=el.current,q(ir),q(el)}var Di=0,$e=null,lt=null,Et=null,tl=!1,sr=!1,gs=!1,nl=0,Eo=0,rr=null,q_=0;function St(){throw Error(i(321))}function Uc(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!hn(s[l],r[l]))return!1;return!0}function Ic(s,r,l,f,g,x){return Di=x,$e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=s===null||s.memoizedState===null?hp:mp,gs=!1,x=l(f,g),gs=!1,sr&&(x=Dm(r,l,f,g)),Mm(s),x}function Mm(s){Z.H=ll;var r=lt!==null&&lt.next!==null;if(Di=0,Et=lt=$e=null,tl=!1,Eo=0,rr=null,r)throw Error(i(300));s===null||Ut||(s=s.dependencies,s!==null&&Ka(s)&&(Ut=!0))}function Dm(s,r,l,f){$e=s;var g=0;do{if(sr&&(rr=null),Eo=0,sr=!1,25<=g)throw Error(i(301));if(g+=1,Et=lt=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Z.H=G_,x=r(l,f)}while(sr);return x}function B_(){var s=Z.H,r=s.useState()[0];return r=typeof r.then=="function"?Ao(r):r,s=s.useState()[0],(lt!==null?lt.memoizedState:null)!==s&&($e.flags|=1024),r}function Pc(){var s=nl!==0;return nl=0,s}function Lc(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Oc(s){if(tl){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}tl=!1}Di=0,Et=lt=$e=null,sr=!1,Eo=nl=0,rr=null}function on(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?$e.memoizedState=Et=s:Et=Et.next=s,Et}function At(){if(lt===null){var s=$e.alternate;s=s!==null?s.memoizedState:null}else s=lt.next;var r=Et===null?$e.memoizedState:Et.next;if(r!==null)Et=r,lt=s;else{if(s===null)throw $e.alternate===null?Error(i(467)):Error(i(310));lt=s,s={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Et===null?$e.memoizedState=Et=s:Et=Et.next=s}return Et}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(s){var r=Eo;return Eo+=1,rr===null&&(rr=[]),s=Cm(rr,s,r),r=$e,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?hp:mp),s}function il(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ao(s);if(s.$$typeof===U)return Gt(s)}throw Error(i(438,String(s)))}function Bc(s){var r=null,l=$e.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var f=$e.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=qc(),$e.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),f=0;f<s;f++)l[f]=K;return r.index++,l}function ui(s,r){return typeof r=="function"?r(s):r}function sl(s){var r=At();return Vc(r,lt,s)}function Vc(s,r,l){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var g=s.baseQueue,x=f.pending;if(x!==null){if(g!==null){var b=g.next;g.next=x.next,x.next=b}r.baseQueue=g=x,f.pending=null}if(x=s.baseState,g===null)s.memoizedState=x;else{r=g.next;var C=b=null,D=null,j=r,ee=!1;do{var ne=j.lane&-536870913;if(ne!==j.lane?(Xe&ne)===ne:(Di&ne)===ne){var z=j.revertLane;if(z===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ne===tr&&(ee=!0);else if((Di&z)===z){j=j.next,z===tr&&(ee=!0);continue}else ne={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(C=D=ne,b=x):D=D.next=ne,$e.lanes|=z,Bi|=z;ne=j.action,gs&&l(x,ne),x=j.hasEagerState?j.eagerState:l(x,ne)}else z={lane:ne,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(C=D=z,b=x):D=D.next=z,$e.lanes|=ne,Bi|=ne;j=j.next}while(j!==null&&j!==r);if(D===null?b=x:D.next=C,!hn(x,s.memoizedState)&&(Ut=!0,ee&&(l=nr,l!==null)))throw l;s.memoizedState=x,s.baseState=b,s.baseQueue=D,f.lastRenderedState=x}return g===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function $c(s){var r=At(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var f=l.dispatch,g=l.pending,x=r.memoizedState;if(g!==null){l.pending=null;var b=g=g.next;do x=s(x,b.action),b=b.next;while(b!==g);hn(x,r.memoizedState)||(Ut=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),l.lastRenderedState=x}return[x,f]}function Um(s,r,l){var f=$e,g=At(),x=st;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=r();var b=!hn((lt||g).memoizedState,l);b&&(g.memoizedState=l,Ut=!0),g=g.queue;var C=Lm.bind(null,f,g,s);if(No(2048,8,C,[s]),g.getSnapshot!==r||b||Et!==null&&Et.memoizedState.tag&1){if(f.flags|=2048,or(9,rl(),Pm.bind(null,f,g,l,r),null),ft===null)throw Error(i(349));x||(Di&124)!==0||Im(f,r,l)}return l}function Im(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=$e.updateQueue,r===null?(r=qc(),$e.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function Pm(s,r,l,f){r.value=l,r.getSnapshot=f,Om(r)&&qm(s)}function Lm(s,r,l){return l(function(){Om(r)&&qm(s)})}function Om(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!hn(s,l)}catch{return!0}}function qm(s){var r=Qs(s,2);r!==null&&xn(r,s,2)}function jc(s){var r=on();if(typeof s=="function"){var l=s;if(s=l(),gs){Fe(!0);try{l()}finally{Fe(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:s},r}function Bm(s,r,l,f){return s.baseState=l,Vc(s,lt,typeof f=="function"?f:ui)}function V_(s,r,l,f,g){if(al(s))throw Error(i(485));if(s=r.action,s!==null){var x={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){x.listeners.push(b)}};Z.T!==null?l(!0):x.isTransition=!1,f(x),l=r.pending,l===null?(x.next=r.pending=x,Vm(r,x)):(x.next=l.next,r.pending=l.next=x)}}function Vm(s,r){var l=r.action,f=r.payload,g=s.state;if(r.isTransition){var x=Z.T,b={};Z.T=b;try{var C=l(g,f),D=Z.S;D!==null&&D(b,C),$m(s,r,C)}catch(j){Fc(s,r,j)}finally{Z.T=x}}else try{x=l(g,f),$m(s,r,x)}catch(j){Fc(s,r,j)}}function $m(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){jm(s,r,f)},function(f){return Fc(s,r,f)}):jm(s,r,l)}function jm(s,r,l){r.status="fulfilled",r.value=l,Fm(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,Vm(s,l)))}function Fc(s,r,l){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=l,Fm(r),r=r.next;while(r!==f)}s.action=null}function Fm(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function zm(s,r){return r}function Gm(s,r){if(st){var l=ft.formState;if(l!==null){e:{var f=$e;if(st){if(_t){t:{for(var g=_t,x=zn;g.nodeType!==8;){if(!x){g=null;break t}if(g=On(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){_t=On(g.nextSibling),f=g.data==="F!";break e}}fs(f)}f=!1}f&&(r=l[0])}}return l=on(),l.memoizedState=l.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:r},l.queue=f,l=cp.bind(null,$e,f),f.dispatch=l,f=jc(!1),x=Yc.bind(null,$e,!1,f.queue),f=on(),g={state:r,dispatch:null,action:s,pending:null},f.queue=g,l=V_.bind(null,$e,g,x,l),g.dispatch=l,f.memoizedState=s,[r,l,!1]}function Hm(s){var r=At();return Jm(r,lt,s)}function Jm(s,r,l){if(r=Vc(s,r,zm)[0],s=sl(ui)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=Ao(r)}catch(b){throw b===_o?Xa:b}else f=r;r=At();var g=r.queue,x=g.dispatch;return l!==r.memoizedState&&($e.flags|=2048,or(9,rl(),$_.bind(null,g,l),null)),[f,x,s]}function $_(s,r){s.action=r}function Ym(s){var r=At(),l=lt;if(l!==null)return Jm(r,l,s);At(),r=r.memoizedState,l=At();var f=l.queue.dispatch;return l.memoizedState=s,[r,f,!1]}function or(s,r,l,f){return s={tag:s,create:l,deps:f,inst:r,next:null},r=$e.updateQueue,r===null&&(r=qc(),$e.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(f=l.next,l.next=s,s.next=f,r.lastEffect=s),s}function rl(){return{destroy:void 0,resource:void 0}}function Km(){return At().memoizedState}function ol(s,r,l,f){var g=on();f=f===void 0?null:f,$e.flags|=s,g.memoizedState=or(1|r,rl(),l,f)}function No(s,r,l,f){var g=At();f=f===void 0?null:f;var x=g.memoizedState.inst;lt!==null&&f!==null&&Uc(f,lt.memoizedState.deps)?g.memoizedState=or(r,x,l,f):($e.flags|=s,g.memoizedState=or(1|r,x,l,f))}function Zm(s,r){ol(8390656,8,s,r)}function Qm(s,r){No(2048,8,s,r)}function Xm(s,r){return No(4,2,s,r)}function Wm(s,r){return No(4,4,s,r)}function ep(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function tp(s,r,l){l=l!=null?l.concat([s]):null,No(4,4,ep.bind(null,r,s),l)}function zc(){}function np(s,r){var l=At();r=r===void 0?null:r;var f=l.memoizedState;return r!==null&&Uc(r,f[1])?f[0]:(l.memoizedState=[s,r],s)}function ip(s,r){var l=At();r=r===void 0?null:r;var f=l.memoizedState;if(r!==null&&Uc(r,f[1]))return f[0];if(f=s(),gs){Fe(!0);try{s()}finally{Fe(!1)}}return l.memoizedState=[f,r],f}function Gc(s,r,l){return l===void 0||(Di&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=og(),$e.lanes|=s,Bi|=s,l)}function sp(s,r,l,f){return hn(l,r)?l:ir.current!==null?(s=Gc(s,l,f),hn(s,r)||(Ut=!0),s):(Di&42)===0?(Ut=!0,s.memoizedState=l):(s=og(),$e.lanes|=s,Bi|=s,r)}function rp(s,r,l,f,g){var x=ae.p;ae.p=x!==0&&8>x?x:8;var b=Z.T,C={};Z.T=C,Yc(s,!1,r,l);try{var D=g(),j=Z.S;if(j!==null&&j(C,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ee=O_(D,f);Ro(s,r,ee,vn(s))}else Ro(s,r,f,vn(s))}catch(ne){Ro(s,r,{then:function(){},status:"rejected",reason:ne},vn())}finally{ae.p=x,Z.T=b}}function j_(){}function Hc(s,r,l,f){if(s.tag!==5)throw Error(i(476));var g=op(s).queue;rp(s,g,r,G,l===null?j_:function(){return ap(s),l(f)})}function op(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:G},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function ap(s){var r=op(s).next.queue;Ro(s,r,{},vn())}function Jc(){return Gt(Jo)}function lp(){return At().memoizedState}function up(){return At().memoizedState}function F_(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=vn();s=ki(l);var f=Mi(r,s,l);f!==null&&(xn(f,r,l),So(f,r,l)),r={cache:Sc()},s.payload=r;return}r=r.return}}function z_(s,r,l){var f=vn();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},al(s)?dp(r,l):(l=hc(s,r,l,f),l!==null&&(xn(l,s,f),fp(l,r,f)))}function cp(s,r,l){var f=vn();Ro(s,r,l,f)}function Ro(s,r,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(al(s))dp(r,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var b=r.lastRenderedState,C=x(b,l);if(g.hasEagerState=!0,g.eagerState=C,hn(C,b))return za(s,r,g,0),ft===null&&Fa(),!1}catch{}finally{}if(l=hc(s,r,g,f),l!==null)return xn(l,s,f),fp(l,r,f),!0}return!1}function Yc(s,r,l,f){if(f={lane:2,revertLane:Ed(),action:f,hasEagerState:!1,eagerState:null,next:null},al(s)){if(r)throw Error(i(479))}else r=hc(s,l,f,2),r!==null&&xn(r,s,2)}function al(s){var r=s.alternate;return s===$e||r!==null&&r===$e}function dp(s,r){sr=tl=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function fp(s,r,l){if((l&4194048)!==0){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,to(s,l)}}var ll={readContext:Gt,use:il,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},hp={readContext:Gt,use:il,useCallback:function(s,r){return on().memoizedState=[s,r===void 0?null:r],s},useContext:Gt,useEffect:Zm,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,ol(4194308,4,ep.bind(null,r,s),l)},useLayoutEffect:function(s,r){return ol(4194308,4,s,r)},useInsertionEffect:function(s,r){ol(4,2,s,r)},useMemo:function(s,r){var l=on();r=r===void 0?null:r;var f=s();if(gs){Fe(!0);try{s()}finally{Fe(!1)}}return l.memoizedState=[f,r],f},useReducer:function(s,r,l){var f=on();if(l!==void 0){var g=l(r);if(gs){Fe(!0);try{l(r)}finally{Fe(!1)}}}else g=r;return f.memoizedState=f.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},f.queue=s,s=s.dispatch=z_.bind(null,$e,s),[f.memoizedState,s]},useRef:function(s){var r=on();return s={current:s},r.memoizedState=s},useState:function(s){s=jc(s);var r=s.queue,l=cp.bind(null,$e,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:zc,useDeferredValue:function(s,r){var l=on();return Gc(l,s,r)},useTransition:function(){var s=jc(!1);return s=rp.bind(null,$e,s.queue,!0,!1),on().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var f=$e,g=on();if(st){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),ft===null)throw Error(i(349));(Xe&124)!==0||Im(f,r,l)}g.memoizedState=l;var x={value:l,getSnapshot:r};return g.queue=x,Zm(Lm.bind(null,f,x,s),[s]),f.flags|=2048,or(9,rl(),Pm.bind(null,f,x,l,r),null),l},useId:function(){var s=on(),r=ft.identifierPrefix;if(st){var l=oi,f=ri;l=(f&~(1<<32-xt(f)-1)).toString(32)+l,r="«"+r+"R"+l,l=nl++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=q_++,r="«"+r+"r"+l.toString(32)+"»";return s.memoizedState=r},useHostTransitionStatus:Jc,useFormState:Gm,useActionState:Gm,useOptimistic:function(s){var r=on();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Yc.bind(null,$e,!0,l),l.dispatch=r,[s,r]},useMemoCache:Bc,useCacheRefresh:function(){return on().memoizedState=F_.bind(null,$e)}},mp={readContext:Gt,use:il,useCallback:np,useContext:Gt,useEffect:Qm,useImperativeHandle:tp,useInsertionEffect:Xm,useLayoutEffect:Wm,useMemo:ip,useReducer:sl,useRef:Km,useState:function(){return sl(ui)},useDebugValue:zc,useDeferredValue:function(s,r){var l=At();return sp(l,lt.memoizedState,s,r)},useTransition:function(){var s=sl(ui)[0],r=At().memoizedState;return[typeof s=="boolean"?s:Ao(s),r]},useSyncExternalStore:Um,useId:lp,useHostTransitionStatus:Jc,useFormState:Hm,useActionState:Hm,useOptimistic:function(s,r){var l=At();return Bm(l,lt,s,r)},useMemoCache:Bc,useCacheRefresh:up},G_={readContext:Gt,use:il,useCallback:np,useContext:Gt,useEffect:Qm,useImperativeHandle:tp,useInsertionEffect:Xm,useLayoutEffect:Wm,useMemo:ip,useReducer:$c,useRef:Km,useState:function(){return $c(ui)},useDebugValue:zc,useDeferredValue:function(s,r){var l=At();return lt===null?Gc(l,s,r):sp(l,lt.memoizedState,s,r)},useTransition:function(){var s=$c(ui)[0],r=At().memoizedState;return[typeof s=="boolean"?s:Ao(s),r]},useSyncExternalStore:Um,useId:lp,useHostTransitionStatus:Jc,useFormState:Ym,useActionState:Ym,useOptimistic:function(s,r){var l=At();return lt!==null?Bm(l,lt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Bc,useCacheRefresh:up},ar=null,ko=0;function ul(s){var r=ko;return ko+=1,ar===null&&(ar=[]),Cm(ar,s,r)}function Mo(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function cl(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function pp(s){var r=s._init;return r(s._payload)}function gp(s){function r(V,P){if(s){var $=V.deletions;$===null?(V.deletions=[P],V.flags|=16):$.push(P)}}function l(V,P){if(!s)return null;for(;P!==null;)r(V,P),P=P.sibling;return null}function f(V){for(var P=new Map;V!==null;)V.key!==null?P.set(V.key,V):P.set(V.index,V),V=V.sibling;return P}function g(V,P){return V=si(V,P),V.index=0,V.sibling=null,V}function x(V,P,$){return V.index=$,s?($=V.alternate,$!==null?($=$.index,$<P?(V.flags|=67108866,P):$):(V.flags|=67108866,P)):(V.flags|=1048576,P)}function b(V){return s&&V.alternate===null&&(V.flags|=67108866),V}function C(V,P,$,te){return P===null||P.tag!==6?(P=pc($,V.mode,te),P.return=V,P):(P=g(P,$),P.return=V,P)}function D(V,P,$,te){var pe=$.type;return pe===S?ee(V,P,$.props.children,te,$.key):P!==null&&(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ie&&pp(pe)===P.type)?(P=g(P,$.props),Mo(P,$),P.return=V,P):(P=Ha($.type,$.key,$.props,null,V.mode,te),Mo(P,$),P.return=V,P)}function j(V,P,$,te){return P===null||P.tag!==4||P.stateNode.containerInfo!==$.containerInfo||P.stateNode.implementation!==$.implementation?(P=gc($,V.mode,te),P.return=V,P):(P=g(P,$.children||[]),P.return=V,P)}function ee(V,P,$,te,pe){return P===null||P.tag!==7?(P=ls($,V.mode,te,pe),P.return=V,P):(P=g(P,$),P.return=V,P)}function ne(V,P,$){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=pc(""+P,V.mode,$),P.return=V,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return $=Ha(P.type,P.key,P.props,null,V.mode,$),Mo($,P),$.return=V,$;case w:return P=gc(P,V.mode,$),P.return=V,P;case ie:var te=P._init;return P=te(P._payload),ne(V,P,$)}if(Le(P)||F(P))return P=ls(P,V.mode,$,null),P.return=V,P;if(typeof P.then=="function")return ne(V,ul(P),$);if(P.$$typeof===U)return ne(V,Za(V,P),$);cl(V,P)}return null}function z(V,P,$,te){var pe=P!==null?P.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return pe!==null?null:C(V,P,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return $.key===pe?D(V,P,$,te):null;case w:return $.key===pe?j(V,P,$,te):null;case ie:return pe=$._init,$=pe($._payload),z(V,P,$,te)}if(Le($)||F($))return pe!==null?null:ee(V,P,$,te,null);if(typeof $.then=="function")return z(V,P,ul($),te);if($.$$typeof===U)return z(V,P,Za(V,$),te);cl(V,$)}return null}function H(V,P,$,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return V=V.get($)||null,C(P,V,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return V=V.get(te.key===null?$:te.key)||null,D(P,V,te,pe);case w:return V=V.get(te.key===null?$:te.key)||null,j(P,V,te,pe);case ie:var ze=te._init;return te=ze(te._payload),H(V,P,$,te,pe)}if(Le(te)||F(te))return V=V.get($)||null,ee(P,V,te,pe,null);if(typeof te.then=="function")return H(V,P,$,ul(te),pe);if(te.$$typeof===U)return H(V,P,$,Za(P,te),pe);cl(P,te)}return null}function ke(V,P,$,te){for(var pe=null,ze=null,Te=P,Ne=P=0,Pt=null;Te!==null&&Ne<$.length;Ne++){Te.index>Ne?(Pt=Te,Te=null):Pt=Te.sibling;var et=z(V,Te,$[Ne],te);if(et===null){Te===null&&(Te=Pt);break}s&&Te&&et.alternate===null&&r(V,Te),P=x(et,P,Ne),ze===null?pe=et:ze.sibling=et,ze=et,Te=Pt}if(Ne===$.length)return l(V,Te),st&&cs(V,Ne),pe;if(Te===null){for(;Ne<$.length;Ne++)Te=ne(V,$[Ne],te),Te!==null&&(P=x(Te,P,Ne),ze===null?pe=Te:ze.sibling=Te,ze=Te);return st&&cs(V,Ne),pe}for(Te=f(Te);Ne<$.length;Ne++)Pt=H(Te,V,Ne,$[Ne],te),Pt!==null&&(s&&Pt.alternate!==null&&Te.delete(Pt.key===null?Ne:Pt.key),P=x(Pt,P,Ne),ze===null?pe=Pt:ze.sibling=Pt,ze=Pt);return s&&Te.forEach(function(Yi){return r(V,Yi)}),st&&cs(V,Ne),pe}function Ee(V,P,$,te){if($==null)throw Error(i(151));for(var pe=null,ze=null,Te=P,Ne=P=0,Pt=null,et=$.next();Te!==null&&!et.done;Ne++,et=$.next()){Te.index>Ne?(Pt=Te,Te=null):Pt=Te.sibling;var Yi=z(V,Te,et.value,te);if(Yi===null){Te===null&&(Te=Pt);break}s&&Te&&Yi.alternate===null&&r(V,Te),P=x(Yi,P,Ne),ze===null?pe=Yi:ze.sibling=Yi,ze=Yi,Te=Pt}if(et.done)return l(V,Te),st&&cs(V,Ne),pe;if(Te===null){for(;!et.done;Ne++,et=$.next())et=ne(V,et.value,te),et!==null&&(P=x(et,P,Ne),ze===null?pe=et:ze.sibling=et,ze=et);return st&&cs(V,Ne),pe}for(Te=f(Te);!et.done;Ne++,et=$.next())et=H(Te,V,Ne,et.value,te),et!==null&&(s&&et.alternate!==null&&Te.delete(et.key===null?Ne:et.key),P=x(et,P,Ne),ze===null?pe=et:ze.sibling=et,ze=et);return s&&Te.forEach(function(Hb){return r(V,Hb)}),st&&cs(V,Ne),pe}function ct(V,P,$,te){if(typeof $=="object"&&$!==null&&$.type===S&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case _:e:{for(var pe=$.key;P!==null;){if(P.key===pe){if(pe=$.type,pe===S){if(P.tag===7){l(V,P.sibling),te=g(P,$.props.children),te.return=V,V=te;break e}}else if(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ie&&pp(pe)===P.type){l(V,P.sibling),te=g(P,$.props),Mo(te,$),te.return=V,V=te;break e}l(V,P);break}else r(V,P);P=P.sibling}$.type===S?(te=ls($.props.children,V.mode,te,$.key),te.return=V,V=te):(te=Ha($.type,$.key,$.props,null,V.mode,te),Mo(te,$),te.return=V,V=te)}return b(V);case w:e:{for(pe=$.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===$.containerInfo&&P.stateNode.implementation===$.implementation){l(V,P.sibling),te=g(P,$.children||[]),te.return=V,V=te;break e}else{l(V,P);break}else r(V,P);P=P.sibling}te=gc($,V.mode,te),te.return=V,V=te}return b(V);case ie:return pe=$._init,$=pe($._payload),ct(V,P,$,te)}if(Le($))return ke(V,P,$,te);if(F($)){if(pe=F($),typeof pe!="function")throw Error(i(150));return $=pe.call($),Ee(V,P,$,te)}if(typeof $.then=="function")return ct(V,P,ul($),te);if($.$$typeof===U)return ct(V,P,Za(V,$),te);cl(V,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,P!==null&&P.tag===6?(l(V,P.sibling),te=g(P,$),te.return=V,V=te):(l(V,P),te=pc($,V.mode,te),te.return=V,V=te),b(V)):l(V,P)}return function(V,P,$,te){try{ko=0;var pe=ct(V,P,$,te);return ar=null,pe}catch(Te){if(Te===_o||Te===Xa)throw Te;var ze=mn(29,Te,null,V.mode);return ze.lanes=te,ze.return=V,ze}finally{}}}var lr=gp(!0),yp=gp(!1),An=O(null),Gn=null;function Ui(s){var r=s.alternate;W(kt,kt.current&1),W(An,s),Gn===null&&(r===null||ir.current!==null||r.memoizedState!==null)&&(Gn=s)}function vp(s){if(s.tag===22){if(W(kt,kt.current),W(An,s),Gn===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(Gn=s)}}else Ii()}function Ii(){W(kt,kt.current),W(An,An.current)}function ci(s){q(An),Gn===s&&(Gn=null),q(kt)}var kt=O(0);function dl(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||qd(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Kc(s,r,l,f){r=s.memoizedState,l=l(f,r),l=l==null?r:y({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Zc={enqueueSetState:function(s,r,l){s=s._reactInternals;var f=vn(),g=ki(f);g.payload=r,l!=null&&(g.callback=l),r=Mi(s,g,f),r!==null&&(xn(r,s,f),So(r,s,f))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var f=vn(),g=ki(f);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Mi(s,g,f),r!==null&&(xn(r,s,f),So(r,s,f))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=vn(),f=ki(l);f.tag=2,r!=null&&(f.callback=r),r=Mi(s,f,l),r!==null&&(xn(r,s,l),So(r,s,l))}};function xp(s,r,l,f,g,x,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,b):r.prototype&&r.prototype.isPureReactComponent?!ho(l,f)||!ho(g,x):!0}function Tp(s,r,l,f){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,f),r.state!==s&&Zc.enqueueReplaceState(r,r.state,null)}function ys(s,r){var l=r;if("ref"in r){l={};for(var f in r)f!=="ref"&&(l[f]=r[f])}if(s=s.defaultProps){l===r&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var fl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function _p(s){fl(s)}function bp(s){console.error(s)}function Sp(s){fl(s)}function hl(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function wp(s,r,l){try{var f=s.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Qc(s,r,l){return l=ki(l),l.tag=3,l.payload={element:null},l.callback=function(){hl(s,r)},l}function Cp(s){return s=ki(s),s.tag=3,s}function Ep(s,r,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=f.value;s.payload=function(){return g(x)},s.callback=function(){wp(r,l,f)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){wp(r,l,f),typeof g!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function H_(s,r,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=l.alternate,r!==null&&vo(r,l,g,!0),l=An.current,l!==null){switch(l.tag){case 13:return Gn===null?_d():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===Ec?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([f]):r.add(f),Sd(s,f,g)),!1;case 22:return l.flags|=65536,f===Ec?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([f]):l.add(f)),Sd(s,f,g)),!1}throw Error(i(435,l.tag))}return Sd(s,f,g),_d(),!1}if(st)return r=An.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,f!==xc&&(s=Error(i(422),{cause:f}),yo(Sn(s,l)))):(f!==xc&&(r=Error(i(423),{cause:f}),yo(Sn(r,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,f=Sn(f,l),g=Qc(s.stateNode,f,g),Rc(s,g),bt!==4&&(bt=2)),!1;var x=Error(i(520),{cause:f});if(x=Sn(x,l),qo===null?qo=[x]:qo.push(x),bt!==4&&(bt=2),r===null)return!0;f=Sn(f,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Qc(l.stateNode,f,s),Rc(l,s),!1;case 1:if(r=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Vi===null||!Vi.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Cp(g),Ep(g,s,l,f),Rc(l,g),!1}l=l.return}while(l!==null);return!1}var Ap=Error(i(461)),Ut=!1;function Bt(s,r,l,f){r.child=s===null?yp(r,null,l,f):lr(r,s.child,l,f)}function Np(s,r,l,f,g){l=l.render;var x=r.ref;if("ref"in f){var b={};for(var C in f)C!=="ref"&&(b[C]=f[C])}else b=f;return ms(r),f=Ic(s,r,l,b,x,g),C=Pc(),s!==null&&!Ut?(Lc(s,r,g),di(s,r,g)):(st&&C&&yc(r),r.flags|=1,Bt(s,r,f,g),r.child)}function Rp(s,r,l,f,g){if(s===null){var x=l.type;return typeof x=="function"&&!mc(x)&&x.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=x,kp(s,r,x,f,g)):(s=Ha(l.type,null,f,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(x=s.child,!rd(s,g)){var b=x.memoizedProps;if(l=l.compare,l=l!==null?l:ho,l(b,f)&&s.ref===r.ref)return di(s,r,g)}return r.flags|=1,s=si(x,f),s.ref=r.ref,s.return=r,r.child=s}function kp(s,r,l,f,g){if(s!==null){var x=s.memoizedProps;if(ho(x,f)&&s.ref===r.ref)if(Ut=!1,r.pendingProps=f=x,rd(s,g))(s.flags&131072)!==0&&(Ut=!0);else return r.lanes=s.lanes,di(s,r,g)}return Xc(s,r,l,f,g)}function Mp(s,r,l){var f=r.pendingProps,g=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((r.flags&128)!==0){if(f=x!==null?x.baseLanes|l:l,s!==null){for(g=r.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;r.childLanes=x&~f}else r.childLanes=0,r.child=null;return Dp(s,r,f,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Qa(r,x!==null?x.cachePool:null),x!==null?km(r,x):Mc(),vp(r);else return r.lanes=r.childLanes=536870912,Dp(s,r,x!==null?x.baseLanes|l:l,l)}else x!==null?(Qa(r,x.cachePool),km(r,x),Ii(),r.memoizedState=null):(s!==null&&Qa(r,null),Mc(),Ii());return Bt(s,r,g,l),r.child}function Dp(s,r,l,f){var g=Cc();return g=g===null?null:{parent:Rt._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},s!==null&&Qa(r,null),Mc(),vp(r),s!==null&&vo(s,r,f,!0),null}function ml(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Xc(s,r,l,f,g){return ms(r),l=Ic(s,r,l,f,void 0,g),f=Pc(),s!==null&&!Ut?(Lc(s,r,g),di(s,r,g)):(st&&f&&yc(r),r.flags|=1,Bt(s,r,l,g),r.child)}function Up(s,r,l,f,g,x){return ms(r),r.updateQueue=null,l=Dm(r,f,l,g),Mm(s),f=Pc(),s!==null&&!Ut?(Lc(s,r,x),di(s,r,x)):(st&&f&&yc(r),r.flags|=1,Bt(s,r,l,x),r.child)}function Ip(s,r,l,f,g){if(ms(r),r.stateNode===null){var x=Xs,b=l.contextType;typeof b=="object"&&b!==null&&(x=Gt(b)),x=new l(f,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Zc,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=f,x.state=r.memoizedState,x.refs={},Ac(r),b=l.contextType,x.context=typeof b=="object"&&b!==null?Gt(b):Xs,x.state=r.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Kc(r,l,b,f),x.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(b=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),b!==x.state&&Zc.enqueueReplaceState(x,x.state,null),Co(r,f,x,g),wo(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(s===null){x=r.stateNode;var C=r.memoizedProps,D=ys(l,C);x.props=D;var j=x.context,ee=l.contextType;b=Xs,typeof ee=="object"&&ee!==null&&(b=Gt(ee));var ne=l.getDerivedStateFromProps;ee=typeof ne=="function"||typeof x.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,ee||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C||j!==b)&&Tp(r,x,f,b),Ri=!1;var z=r.memoizedState;x.state=z,Co(r,f,x,g),wo(),j=r.memoizedState,C||z!==j||Ri?(typeof ne=="function"&&(Kc(r,l,ne,f),j=r.memoizedState),(D=Ri||xp(r,l,D,f,z,j,b))?(ee||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=j),x.props=f,x.state=j,x.context=b,f=D):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{x=r.stateNode,Nc(s,r),b=r.memoizedProps,ee=ys(l,b),x.props=ee,ne=r.pendingProps,z=x.context,j=l.contextType,D=Xs,typeof j=="object"&&j!==null&&(D=Gt(j)),C=l.getDerivedStateFromProps,(j=typeof C=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(b!==ne||z!==D)&&Tp(r,x,f,D),Ri=!1,z=r.memoizedState,x.state=z,Co(r,f,x,g),wo();var H=r.memoizedState;b!==ne||z!==H||Ri||s!==null&&s.dependencies!==null&&Ka(s.dependencies)?(typeof C=="function"&&(Kc(r,l,C,f),H=r.memoizedState),(ee=Ri||xp(r,l,ee,f,z,H,D)||s!==null&&s.dependencies!==null&&Ka(s.dependencies))?(j||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,H,D),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,H,D)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||b===s.memoizedProps&&z===s.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&z===s.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=H),x.props=f,x.state=H,x.context=D,f=ee):(typeof x.componentDidUpdate!="function"||b===s.memoizedProps&&z===s.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&z===s.memoizedState||(r.flags|=1024),f=!1)}return x=f,ml(s,r),f=(r.flags&128)!==0,x||f?(x=r.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,s!==null&&f?(r.child=lr(r,s.child,null,g),r.child=lr(r,null,l,g)):Bt(s,r,l,g),r.memoizedState=x.state,s=r.child):s=di(s,r,g),s}function Pp(s,r,l,f){return go(),r.flags|=256,Bt(s,r,l,f),r.child}var Wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(s){return{baseLanes:s,cachePool:bm()}}function td(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Nn),s}function Lp(s,r,l){var f=r.pendingProps,g=!1,x=(r.flags&128)!==0,b;if((b=x)||(b=s!==null&&s.memoizedState===null?!1:(kt.current&2)!==0),b&&(g=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(st){if(g?Ui(r):Ii(),st){var C=_t,D;if(D=C){e:{for(D=C,C=zn;D.nodeType!==8;){if(!C){C=null;break e}if(D=On(D.nextSibling),D===null){C=null;break e}}C=D}C!==null?(r.memoizedState={dehydrated:C,treeContext:us!==null?{id:ri,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},D=mn(18,null,null,0),D.stateNode=C,D.return=r,r.child=D,Wt=r,_t=null,D=!0):D=!1}D||fs(r)}if(C=r.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return qd(C)?r.lanes=32:r.lanes=536870912,null;ci(r)}return C=f.children,f=f.fallback,g?(Ii(),g=r.mode,C=pl({mode:"hidden",children:C},g),f=ls(f,g,l,null),C.return=r,f.return=r,C.sibling=f,r.child=C,g=r.child,g.memoizedState=ed(l),g.childLanes=td(s,b,l),r.memoizedState=Wc,f):(Ui(r),nd(r,C))}if(D=s.memoizedState,D!==null&&(C=D.dehydrated,C!==null)){if(x)r.flags&256?(Ui(r),r.flags&=-257,r=id(s,r,l)):r.memoizedState!==null?(Ii(),r.child=s.child,r.flags|=128,r=null):(Ii(),g=f.fallback,C=r.mode,f=pl({mode:"visible",children:f.children},C),g=ls(g,C,l,null),g.flags|=2,f.return=r,g.return=r,f.sibling=g,r.child=f,lr(r,s.child,null,l),f=r.child,f.memoizedState=ed(l),f.childLanes=td(s,b,l),r.memoizedState=Wc,r=g);else if(Ui(r),qd(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var j=b.dgst;b=j,f=Error(i(419)),f.stack="",f.digest=b,yo({value:f,source:null,stack:null}),r=id(s,r,l)}else if(Ut||vo(s,r,l,!1),b=(l&s.childLanes)!==0,Ut||b){if(b=ft,b!==null&&(f=l&-l,f=(f&42)!==0?1:no(f),f=(f&(b.suspendedLanes|l))!==0?0:f,f!==0&&f!==D.retryLane))throw D.retryLane=f,Qs(s,f),xn(b,s,f),Ap;C.data==="$?"||_d(),r=id(s,r,l)}else C.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=D.treeContext,_t=On(C.nextSibling),Wt=r,st=!0,ds=null,zn=!1,s!==null&&(Cn[En++]=ri,Cn[En++]=oi,Cn[En++]=us,ri=s.id,oi=s.overflow,us=r),r=nd(r,f.children),r.flags|=4096);return r}return g?(Ii(),g=f.fallback,C=r.mode,D=s.child,j=D.sibling,f=si(D,{mode:"hidden",children:f.children}),f.subtreeFlags=D.subtreeFlags&65011712,j!==null?g=si(j,g):(g=ls(g,C,l,null),g.flags|=2),g.return=r,f.return=r,f.sibling=g,r.child=f,f=g,g=r.child,C=s.child.memoizedState,C===null?C=ed(l):(D=C.cachePool,D!==null?(j=Rt._currentValue,D=D.parent!==j?{parent:j,pool:j}:D):D=bm(),C={baseLanes:C.baseLanes|l,cachePool:D}),g.memoizedState=C,g.childLanes=td(s,b,l),r.memoizedState=Wc,f):(Ui(r),l=s.child,s=l.sibling,l=si(l,{mode:"visible",children:f.children}),l.return=r,l.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=l,r.memoizedState=null,l)}function nd(s,r){return r=pl({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function pl(s,r){return s=mn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function id(s,r,l){return lr(r,s.child,null,l),s=nd(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Op(s,r,l){s.lanes|=r;var f=s.alternate;f!==null&&(f.lanes|=r),_c(s.return,r,l)}function sd(s,r,l,f,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=l,x.tailMode=g)}function qp(s,r,l){var f=r.pendingProps,g=f.revealOrder,x=f.tail;if(Bt(s,r,f.children,l),f=kt.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Op(s,l,r);else if(s.tag===19)Op(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(W(kt,f),g){case"forwards":for(l=r.child,g=null;l!==null;)s=l.alternate,s!==null&&dl(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),sd(r,!1,g,l,x);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&dl(s)===null){r.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}sd(r,!0,l,null,x);break;case"together":sd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function di(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),Bi|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(vo(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=si(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=si(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function rd(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Ka(s)))}function J_(s,r,l){switch(r.tag){case 3:Ae(r,r.stateNode.containerInfo),Ni(r,Rt,s.memoizedState.cache),go();break;case 27:case 5:de(r);break;case 4:Ae(r,r.stateNode.containerInfo);break;case 10:Ni(r,r.type,r.memoizedProps.value);break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(Ui(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Lp(s,r,l):(Ui(r),s=di(s,r,l),s!==null?s.sibling:null);Ui(r);break;case 19:var g=(s.flags&128)!==0;if(f=(l&r.childLanes)!==0,f||(vo(s,r,l,!1),f=(l&r.childLanes)!==0),g){if(f)return qp(s,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),W(kt,kt.current),f)break;return null;case 22:case 23:return r.lanes=0,Mp(s,r,l);case 24:Ni(r,Rt,s.memoizedState.cache)}return di(s,r,l)}function Bp(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ut=!0;else{if(!rd(s,l)&&(r.flags&128)===0)return Ut=!1,J_(s,r,l);Ut=(s.flags&131072)!==0}else Ut=!1,st&&(r.flags&1048576)!==0&&pm(r,Ya,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var f=r.elementType,g=f._init;if(f=g(f._payload),r.type=f,typeof f=="function")mc(f)?(s=ys(f,s),r.tag=1,r=Ip(null,r,f,s,l)):(r.tag=0,r=Xc(null,r,f,s,l));else{if(f!=null){if(g=f.$$typeof,g===M){r.tag=11,r=Np(null,r,f,s,l);break e}else if(g===X){r.tag=14,r=Rp(null,r,f,s,l);break e}}throw r=it(f)||f,Error(i(306,r,""))}}return r;case 0:return Xc(s,r,r.type,r.pendingProps,l);case 1:return f=r.type,g=ys(f,r.pendingProps),Ip(s,r,f,g,l);case 3:e:{if(Ae(r,r.stateNode.containerInfo),s===null)throw Error(i(387));f=r.pendingProps;var x=r.memoizedState;g=x.element,Nc(s,r),Co(r,f,null,l);var b=r.memoizedState;if(f=b.cache,Ni(r,Rt,f),f!==x.cache&&bc(r,[Rt],l,!0),wo(),f=b.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=Pp(s,r,f,l);break e}else if(f!==g){g=Sn(Error(i(424)),r),yo(g),r=Pp(s,r,f,l);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(_t=On(s.firstChild),Wt=r,st=!0,ds=null,zn=!0,l=yp(r,null,f,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(go(),f===g){r=di(s,r,l);break e}Bt(s,r,f,l)}r=r.child}return r;case 26:return ml(s,r),s===null?(l=Fg(r.type,null,r.pendingProps,null))?r.memoizedState=l:st||(l=r.type,s=r.pendingProps,f=Rl(oe.current).createElement(l),f[zt]=r,f[sn]=s,$t(f,l,s),Dt(f),r.stateNode=f):r.memoizedState=Fg(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return de(r),s===null&&st&&(f=r.stateNode=Vg(r.type,r.pendingProps,oe.current),Wt=r,zn=!0,g=_t,Fi(r.type)?(Bd=g,_t=On(f.firstChild)):_t=g),Bt(s,r,r.pendingProps.children,l),ml(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&st&&((g=f=_t)&&(f=_b(f,r.type,r.pendingProps,zn),f!==null?(r.stateNode=f,Wt=r,_t=On(f.firstChild),zn=!1,g=!0):g=!1),g||fs(r)),de(r),g=r.type,x=r.pendingProps,b=s!==null?s.memoizedProps:null,f=x.children,Pd(g,x)?f=null:b!==null&&Pd(g,b)&&(r.flags|=32),r.memoizedState!==null&&(g=Ic(s,r,B_,null,null,l),Jo._currentValue=g),ml(s,r),Bt(s,r,f,l),r.child;case 6:return s===null&&st&&((s=l=_t)&&(l=bb(l,r.pendingProps,zn),l!==null?(r.stateNode=l,Wt=r,_t=null,s=!0):s=!1),s||fs(r)),null;case 13:return Lp(s,r,l);case 4:return Ae(r,r.stateNode.containerInfo),f=r.pendingProps,s===null?r.child=lr(r,null,f,l):Bt(s,r,f,l),r.child;case 11:return Np(s,r,r.type,r.pendingProps,l);case 7:return Bt(s,r,r.pendingProps,l),r.child;case 8:return Bt(s,r,r.pendingProps.children,l),r.child;case 12:return Bt(s,r,r.pendingProps.children,l),r.child;case 10:return f=r.pendingProps,Ni(r,r.type,f.value),Bt(s,r,f.children,l),r.child;case 9:return g=r.type._context,f=r.pendingProps.children,ms(r),g=Gt(g),f=f(g),r.flags|=1,Bt(s,r,f,l),r.child;case 14:return Rp(s,r,r.type,r.pendingProps,l);case 15:return kp(s,r,r.type,r.pendingProps,l);case 19:return qp(s,r,l);case 31:return f=r.pendingProps,l=r.mode,f={mode:f.mode,children:f.children},s===null?(l=pl(f,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=si(s.child,f),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Mp(s,r,l);case 24:return ms(r),f=Gt(Rt),s===null?(g=Cc(),g===null&&(g=ft,x=Sc(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),r.memoizedState={parent:f,cache:g},Ac(r),Ni(r,Rt,g)):((s.lanes&l)!==0&&(Nc(s,r),Co(r,null,null,l),wo()),g=s.memoizedState,x=r.memoizedState,g.parent!==f?(g={parent:f,cache:f},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ni(r,Rt,f)):(f=x.cache,Ni(r,Rt,f),f!==g.cache&&bc(r,[Rt],l,!0))),Bt(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function fi(s){s.flags|=4}function Vp(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Yg(r)){if(r=An.current,r!==null&&((Xe&4194048)===Xe?Gn!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||r!==Gn))throw bo=Ec,Sm;s.flags|=8192}}function gl(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?nn():536870912,s.lanes|=r,fr|=r)}function Do(s,r){if(!st)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Tt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,f=0;if(r)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=l,r}function Y_(s,r,l){var f=r.pendingProps;switch(vc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(r),null;case 1:return Tt(r),null;case 3:return l=r.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),li(Rt),ue(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(po(r)?fi(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,vm())),Tt(r),null;case 26:return l=r.memoizedState,s===null?(fi(r),l!==null?(Tt(r),Vp(r,l)):(Tt(r),r.flags&=-16777217)):l?l!==s.memoizedState?(fi(r),Tt(r),Vp(r,l)):(Tt(r),r.flags&=-16777217):(s.memoizedProps!==f&&fi(r),Tt(r),r.flags&=-16777217),null;case 27:Me(r),l=oe.current;var g=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==f&&fi(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return Tt(r),null}s=re.current,po(r)?gm(r):(s=Vg(g,f,l),r.stateNode=s,fi(r))}return Tt(r),null;case 5:if(Me(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==f&&fi(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return Tt(r),null}if(s=re.current,po(r))gm(r);else{switch(g=Rl(oe.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}s[zt]=r,s[sn]=f;e:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break e;for(;g.sibling===null;){if(g.return===null||g.return===r)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=s;e:switch($t(s,l,f),l){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&fi(r)}}return Tt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==f&&fi(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(i(166));if(s=oe.current,po(r)){if(s=r.stateNode,l=r.memoizedProps,f=null,g=Wt,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}s[zt]=r,s=!!(s.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Ug(s.nodeValue,l)),s||fs(r)}else s=Rl(s).createTextNode(f),s[zt]=r,r.stateNode=s}return Tt(r),null;case 13:if(f=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=po(r),f!==null&&f.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[zt]=r}else go(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Tt(r),g=!1}else g=vm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(ci(r),r):(ci(r),null)}if(ci(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=f!==null,s=s!==null&&s.memoizedState!==null,l){f=r.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==g&&(f.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),gl(r,r.updateQueue),Tt(r),null;case 4:return ue(),s===null&&kd(r.stateNode.containerInfo),Tt(r),null;case 10:return li(r.type),Tt(r),null;case 19:if(q(kt),g=r.memoizedState,g===null)return Tt(r),null;if(f=(r.flags&128)!==0,x=g.rendering,x===null)if(f)Do(g,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(x=dl(s),x!==null){for(r.flags|=128,Do(g,!1),s=x.updateQueue,r.updateQueue=s,gl(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)mm(l,s),l=l.sibling;return W(kt,kt.current&1|2),r.child}s=s.sibling}g.tail!==null&&Ge()>xl&&(r.flags|=128,f=!0,Do(g,!1),r.lanes=4194304)}else{if(!f)if(s=dl(x),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,gl(r,s),Do(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!st)return Tt(r),null}else 2*Ge()-g.renderingStartTime>xl&&l!==536870912&&(r.flags|=128,f=!0,Do(g,!1),r.lanes=4194304);g.isBackwards?(x.sibling=r.child,r.child=x):(s=g.last,s!==null?s.sibling=x:r.child=x,g.last=x)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Ge(),r.sibling=null,s=kt.current,W(kt,f?s&1|2:s&1),r):(Tt(r),null);case 22:case 23:return ci(r),Dc(),f=r.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(l&536870912)!==0&&(r.flags&128)===0&&(Tt(r),r.subtreeFlags&6&&(r.flags|=8192)):Tt(r),l=r.updateQueue,l!==null&&gl(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==l&&(r.flags|=2048),s!==null&&q(ps),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),li(Rt),Tt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function K_(s,r){switch(vc(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return li(Rt),ue(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Me(r),null;case 13:if(ci(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));go()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return q(kt),null;case 4:return ue(),null;case 10:return li(r.type),null;case 22:case 23:return ci(r),Dc(),s!==null&&q(ps),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return li(Rt),null;case 25:return null;default:return null}}function $p(s,r){switch(vc(r),r.tag){case 3:li(Rt),ue();break;case 26:case 27:case 5:Me(r);break;case 4:ue();break;case 13:ci(r);break;case 19:q(kt);break;case 10:li(r.type);break;case 22:case 23:ci(r),Dc(),s!==null&&q(ps);break;case 24:li(Rt)}}function Uo(s,r){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&s)===s){f=void 0;var x=l.create,b=l.inst;f=x(),b.destroy=f}l=l.next}while(l!==g)}}catch(C){dt(r,r.return,C)}}function Pi(s,r,l){try{var f=r.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var x=g.next;f=x;do{if((f.tag&s)===s){var b=f.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,g=r;var D=l,j=C;try{j()}catch(ee){dt(g,D,ee)}}}f=f.next}while(f!==x)}}catch(ee){dt(r,r.return,ee)}}function jp(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{Rm(r,l)}catch(f){dt(s,s.return,f)}}}function Fp(s,r,l){l.props=ys(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(f){dt(s,r,f)}}function Io(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof l=="function"?s.refCleanup=l(f):l.current=f}}catch(g){dt(s,r,g)}}function Hn(s,r){var l=s.ref,f=s.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){dt(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){dt(s,r,g)}else l.current=null}function zp(s){var r=s.type,l=s.memoizedProps,f=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){dt(s,s.return,g)}}function od(s,r,l){try{var f=s.stateNode;gb(f,s.type,l,r),f[sn]=r}catch(g){dt(s,s.return,g)}}function Gp(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Fi(s.type)||s.tag===4}function ad(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Gp(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Fi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ld(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Nl));else if(f!==4&&(f===27&&Fi(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(ld(s,r,l),s=s.sibling;s!==null;)ld(s,r,l),s=s.sibling}function yl(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(f!==4&&(f===27&&Fi(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(yl(s,r,l),s=s.sibling;s!==null;)yl(s,r,l),s=s.sibling}function Hp(s){var r=s.stateNode,l=s.memoizedProps;try{for(var f=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);$t(r,f,l),r[zt]=s,r[sn]=l}catch(x){dt(s,s.return,x)}}var hi=!1,wt=!1,ud=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,It=null;function Z_(s,r){if(s=s.containerInfo,Ud=Pl,s=sm(s),ac(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var b=0,C=-1,D=-1,j=0,ee=0,ne=s,z=null;t:for(;;){for(var H;ne!==l||g!==0&&ne.nodeType!==3||(C=b+g),ne!==x||f!==0&&ne.nodeType!==3||(D=b+f),ne.nodeType===3&&(b+=ne.nodeValue.length),(H=ne.firstChild)!==null;)z=ne,ne=H;for(;;){if(ne===s)break t;if(z===l&&++j===g&&(C=b),z===x&&++ee===f&&(D=b),(H=ne.nextSibling)!==null)break;ne=z,z=ne.parentNode}ne=H}l=C===-1||D===-1?null:{start:C,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(Id={focusedElem:s,selectionRange:l},Pl=!1,It=r;It!==null;)if(r=It,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,It=s;else for(;It!==null;){switch(r=It,x=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,l=r,g=x.memoizedProps,x=x.memoizedState,f=l.stateNode;try{var ke=ys(l.type,g,l.elementType===l.type);s=f.getSnapshotBeforeUpdate(ke,x),f.__reactInternalSnapshotBeforeUpdate=s}catch(Ee){dt(l,l.return,Ee)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Od(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Od(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,It=s;break}It=r.return}}function Yp(s,r,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Li(s,l),f&4&&Uo(5,l);break;case 1:if(Li(s,l),f&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(b){dt(l,l.return,b)}else{var g=ys(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){dt(l,l.return,b)}}f&64&&jp(l),f&512&&Io(l,l.return);break;case 3:if(Li(s,l),f&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Rm(s,r)}catch(b){dt(l,l.return,b)}}break;case 27:r===null&&f&4&&Hp(l);case 26:case 5:Li(s,l),r===null&&f&4&&zp(l),f&512&&Io(l,l.return);break;case 12:Li(s,l);break;case 13:Li(s,l),f&4&&Qp(s,l),f&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=rb.bind(null,l),Sb(s,l))));break;case 22:if(f=l.memoizedState!==null||hi,!f){r=r!==null&&r.memoizedState!==null||wt,g=hi;var x=wt;hi=f,(wt=r)&&!x?Oi(s,l,(l.subtreeFlags&8772)!==0):Li(s,l),hi=g,wt=x}break;case 30:break;default:Li(s,l)}}function Kp(s){var r=s.alternate;r!==null&&(s.alternate=null,Kp(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&ju(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,an=!1;function mi(s,r,l){for(l=l.child;l!==null;)Zp(s,r,l),l=l.sibling}function Zp(s,r,l){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(me,l)}catch{}switch(l.tag){case 26:wt||Hn(l,r),mi(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:wt||Hn(l,r);var f=vt,g=an;Fi(l.type)&&(vt=l.stateNode,an=!1),mi(s,r,l),Fo(l.stateNode),vt=f,an=g;break;case 5:wt||Hn(l,r);case 6:if(f=vt,g=an,vt=null,mi(s,r,l),vt=f,an=g,vt!==null)if(an)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(x){dt(l,r,x)}else try{vt.removeChild(l.stateNode)}catch(x){dt(l,r,x)}break;case 18:vt!==null&&(an?(s=vt,qg(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Qo(s)):qg(vt,l.stateNode));break;case 4:f=vt,g=an,vt=l.stateNode.containerInfo,an=!0,mi(s,r,l),vt=f,an=g;break;case 0:case 11:case 14:case 15:wt||Pi(2,l,r),wt||Pi(4,l,r),mi(s,r,l);break;case 1:wt||(Hn(l,r),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Fp(l,r,f)),mi(s,r,l);break;case 21:mi(s,r,l);break;case 22:wt=(f=wt)||l.memoizedState!==null,mi(s,r,l),wt=f;break;default:mi(s,r,l)}}function Qp(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Qo(s)}catch(l){dt(r,r.return,l)}}function Q_(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Jp),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Jp),r;default:throw Error(i(435,s.tag))}}function cd(s,r){var l=Q_(s);r.forEach(function(f){var g=ob.bind(null,s,f);l.has(f)||(l.add(f),f.then(g,g))})}function pn(s,r){var l=r.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],x=s,b=r,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(Fi(C.type)){vt=C.stateNode,an=!1;break e}break;case 5:vt=C.stateNode,an=!1;break e;case 3:case 4:vt=C.stateNode.containerInfo,an=!0;break e}C=C.return}if(vt===null)throw Error(i(160));Zp(x,b,g),vt=null,an=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Xp(r,s),r=r.sibling}var Ln=null;function Xp(s,r){var l=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:pn(r,s),gn(s),f&4&&(Pi(3,s,s.return),Uo(3,s),Pi(5,s,s.return));break;case 1:pn(r,s),gn(s),f&512&&(wt||l===null||Hn(l,l.return)),f&64&&hi&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=Ln;if(pn(r,s),gn(s),f&512&&(wt||l===null||Hn(l,l.return)),f&4){var x=l!==null?l.memoizedState:null;if(f=s.memoizedState,l===null)if(f===null)if(s.stateNode===null){e:{f=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":x=g.getElementsByTagName("title")[0],(!x||x[io]||x[zt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(f),g.head.insertBefore(x,g.querySelector("head > title"))),$t(x,f,l),x[zt]=s,Dt(x),f=x;break e;case"link":var b=Hg("link","href",g).get(f+(l.href||""));if(b){for(var C=0;C<b.length;C++)if(x=b[C],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(C,1);break t}}x=g.createElement(f),$t(x,f,l),g.head.appendChild(x);break;case"meta":if(b=Hg("meta","content",g).get(f+(l.content||""))){for(C=0;C<b.length;C++)if(x=b[C],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(C,1);break t}}x=g.createElement(f),$t(x,f,l),g.head.appendChild(x);break;default:throw Error(i(468,f))}x[zt]=s,Dt(x),f=x}s.stateNode=f}else Jg(g,s.type,s.stateNode);else s.stateNode=Gg(g,f,s.memoizedProps);else x!==f?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,f===null?Jg(g,s.type,s.stateNode):Gg(g,f,s.memoizedProps)):f===null&&s.stateNode!==null&&od(s,s.memoizedProps,l.memoizedProps)}break;case 27:pn(r,s),gn(s),f&512&&(wt||l===null||Hn(l,l.return)),l!==null&&f&4&&od(s,s.memoizedProps,l.memoizedProps);break;case 5:if(pn(r,s),gn(s),f&512&&(wt||l===null||Hn(l,l.return)),s.flags&32){g=s.stateNode;try{zs(g,"")}catch(H){dt(s,s.return,H)}}f&4&&s.stateNode!=null&&(g=s.memoizedProps,od(s,g,l!==null?l.memoizedProps:g)),f&1024&&(ud=!0);break;case 6:if(pn(r,s),gn(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,l=s.stateNode;try{l.nodeValue=f}catch(H){dt(s,s.return,H)}}break;case 3:if(Dl=null,g=Ln,Ln=kl(r.containerInfo),pn(r,s),Ln=g,gn(s),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Qo(r.containerInfo)}catch(H){dt(s,s.return,H)}ud&&(ud=!1,Wp(s));break;case 4:f=Ln,Ln=kl(s.stateNode.containerInfo),pn(r,s),gn(s),Ln=f;break;case 12:pn(r,s),gn(s);break;case 13:pn(r,s),gn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gd=Ge()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,cd(s,f)));break;case 22:g=s.memoizedState!==null;var D=l!==null&&l.memoizedState!==null,j=hi,ee=wt;if(hi=j||g,wt=ee||D,pn(r,s),wt=ee,hi=j,gn(s),f&8192)e:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||D||hi||wt||vs(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){D=l=r;try{if(x=D.stateNode,g)b=x.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=D.stateNode;var ne=D.memoizedProps.style,z=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;C.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(H){dt(D,D.return,H)}}}else if(r.tag===6){if(l===null){D=r;try{D.stateNode.nodeValue=g?"":D.memoizedProps}catch(H){dt(D,D.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=s.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,cd(s,l))));break;case 19:pn(r,s),gn(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,cd(s,f)));break;case 30:break;case 21:break;default:pn(r,s),gn(s)}}function gn(s){var r=s.flags;if(r&2){try{for(var l,f=s.return;f!==null;){if(Gp(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,x=ad(s);yl(s,x,g);break;case 5:var b=l.stateNode;l.flags&32&&(zs(b,""),l.flags&=-33);var C=ad(s);yl(s,C,b);break;case 3:case 4:var D=l.stateNode.containerInfo,j=ad(s);ld(s,j,D);break;default:throw Error(i(161))}}catch(ee){dt(s,s.return,ee)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Wp(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Wp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Li(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Yp(s,r.alternate,r),r=r.sibling}function vs(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Pi(4,r,r.return),vs(r);break;case 1:Hn(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Fp(r,r.return,l),vs(r);break;case 27:Fo(r.stateNode);case 26:case 5:Hn(r,r.return),vs(r);break;case 22:r.memoizedState===null&&vs(r);break;case 30:vs(r);break;default:vs(r)}s=s.sibling}}function Oi(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,g=s,x=r,b=x.flags;switch(x.tag){case 0:case 11:case 15:Oi(g,x,l),Uo(4,x);break;case 1:if(Oi(g,x,l),f=x,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(j){dt(f,f.return,j)}if(f=x,g=f.updateQueue,g!==null){var C=f.stateNode;try{var D=g.shared.hiddenCallbacks;if(D!==null)for(g.shared.hiddenCallbacks=null,g=0;g<D.length;g++)Nm(D[g],C)}catch(j){dt(f,f.return,j)}}l&&b&64&&jp(x),Io(x,x.return);break;case 27:Hp(x);case 26:case 5:Oi(g,x,l),l&&f===null&&b&4&&zp(x),Io(x,x.return);break;case 12:Oi(g,x,l);break;case 13:Oi(g,x,l),l&&b&4&&Qp(g,x);break;case 22:x.memoizedState===null&&Oi(g,x,l),Io(x,x.return);break;case 30:break;default:Oi(g,x,l)}r=r.sibling}}function dd(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&xo(l))}function fd(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&xo(s))}function Jn(s,r,l,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)eg(s,r,l,f),r=r.sibling}function eg(s,r,l,f){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Jn(s,r,l,f),g&2048&&Uo(9,r);break;case 1:Jn(s,r,l,f);break;case 3:Jn(s,r,l,f),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&xo(s)));break;case 12:if(g&2048){Jn(s,r,l,f),s=r.stateNode;try{var x=r.memoizedProps,b=x.id,C=x.onPostCommit;typeof C=="function"&&C(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(D){dt(r,r.return,D)}}else Jn(s,r,l,f);break;case 13:Jn(s,r,l,f);break;case 23:break;case 22:x=r.stateNode,b=r.alternate,r.memoizedState!==null?x._visibility&2?Jn(s,r,l,f):Po(s,r):x._visibility&2?Jn(s,r,l,f):(x._visibility|=2,ur(s,r,l,f,(r.subtreeFlags&10256)!==0)),g&2048&&dd(b,r);break;case 24:Jn(s,r,l,f),g&2048&&fd(r.alternate,r);break;default:Jn(s,r,l,f)}}function ur(s,r,l,f,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var x=s,b=r,C=l,D=f,j=b.flags;switch(b.tag){case 0:case 11:case 15:ur(x,b,C,D,g),Uo(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?ur(x,b,C,D,g):Po(x,b):(ee._visibility|=2,ur(x,b,C,D,g)),g&&j&2048&&dd(b.alternate,b);break;case 24:ur(x,b,C,D,g),g&&j&2048&&fd(b.alternate,b);break;default:ur(x,b,C,D,g)}r=r.sibling}}function Po(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,f=r,g=f.flags;switch(f.tag){case 22:Po(l,f),g&2048&&dd(f.alternate,f);break;case 24:Po(l,f),g&2048&&fd(f.alternate,f);break;default:Po(l,f)}r=r.sibling}}var Lo=8192;function cr(s){if(s.subtreeFlags&Lo)for(s=s.child;s!==null;)tg(s),s=s.sibling}function tg(s){switch(s.tag){case 26:cr(s),s.flags&Lo&&s.memoizedState!==null&&Lb(Ln,s.memoizedState,s.memoizedProps);break;case 5:cr(s);break;case 3:case 4:var r=Ln;Ln=kl(s.stateNode.containerInfo),cr(s),Ln=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Lo,Lo=16777216,cr(s),Lo=r):cr(s));break;default:cr(s)}}function ng(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Oo(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];It=f,sg(f,s)}ng(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ig(s),s=s.sibling}function ig(s){switch(s.tag){case 0:case 11:case 15:Oo(s),s.flags&2048&&Pi(9,s,s.return);break;case 3:Oo(s);break;case 12:Oo(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,vl(s)):Oo(s);break;default:Oo(s)}}function vl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];It=f,sg(f,s)}ng(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Pi(8,r,r.return),vl(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,vl(r));break;default:vl(r)}s=s.sibling}}function sg(s,r){for(;It!==null;){var l=It;switch(l.tag){case 0:case 11:case 15:Pi(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:xo(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,It=f;else e:for(l=s;It!==null;){f=It;var g=f.sibling,x=f.return;if(Kp(f),f===l){It=null;break e}if(g!==null){g.return=x,It=g;break e}It=x}}}var X_={getCacheForType:function(s){var r=Gt(Rt),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},W_=typeof WeakMap=="function"?WeakMap:Map,rt=0,ft=null,He=null,Xe=0,ot=0,yn=null,qi=!1,dr=!1,hd=!1,pi=0,bt=0,Bi=0,xs=0,md=0,Nn=0,fr=0,qo=null,ln=null,pd=!1,gd=0,xl=1/0,Tl=null,Vi=null,Vt=0,$i=null,hr=null,mr=0,yd=0,vd=null,rg=null,Bo=0,xd=null;function vn(){if((rt&2)!==0&&Xe!==0)return Xe&-Xe;if(Z.T!==null){var s=tr;return s!==0?s:Ed()}return _h()}function og(){Nn===0&&(Nn=(Xe&536870912)===0||st?is():536870912);var s=An.current;return s!==null&&(s.flags|=32),Nn}function xn(s,r,l){(s===ft&&(ot===2||ot===9)||s.cancelPendingCommit!==null)&&(pr(s,0),ji(s,Xe,Nn,!1)),ti(s,l),((rt&2)===0||s!==ft)&&(s===ft&&((rt&2)===0&&(xs|=l),bt===4&&ji(s,Xe,Nn,!1)),Yn(s))}function ag(s,r,l){if((rt&6)!==0)throw Error(i(327));var f=!l&&(r&124)===0&&(r&s.expiredLanes)===0||tn(s,r),g=f?nb(s,r):bd(s,r,!0),x=f;do{if(g===0){dr&&!f&&ji(s,r,0,!1);break}else{if(l=s.current.alternate,x&&!eb(l)){g=bd(s,r,!1),x=!1;continue}if(g===2){if(x=r,s.errorRecoveryDisabledLanes&x)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var C=s;g=qo;var D=C.current.memoizedState.isDehydrated;if(D&&(pr(C,b).flags|=256),b=bd(C,b,!1),b!==2){if(hd&&!D){C.errorRecoveryDisabledLanes|=x,xs|=x,g=4;break e}x=ln,ln=g,x!==null&&(ln===null?ln=x:ln.push.apply(ln,x))}g=b}if(x=!1,g!==2)continue}}if(g===1){pr(s,0),ji(s,r,0,!0);break}e:{switch(f=s,x=g,x){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ji(f,r,Nn,!qi);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=gd+300-Ge(),10<g)){if(ji(f,r,Nn,!qi),fn(f,0,!0)!==0)break e;f.timeoutHandle=Lg(lg.bind(null,f,l,ln,Tl,pd,r,Nn,xs,fr,qi,x,2,-0,0),g);break e}lg(f,l,ln,Tl,pd,r,Nn,xs,fr,qi,x,0,-0,0)}}break}while(!0);Yn(s)}function lg(s,r,l,f,g,x,b,C,D,j,ee,ne,z,H){if(s.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Ho={stylesheets:null,count:0,unsuspend:Pb},tg(r),ne=Ob(),ne!==null)){s.cancelPendingCommit=ne(pg.bind(null,s,r,x,l,f,g,b,C,D,ee,1,z,H)),ji(s,x,b,!j);return}pg(s,r,x,l,f,g,b,C,D)}function eb(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],x=g.getSnapshot;g=g.value;try{if(!hn(x(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ji(s,r,l,f){r&=~md,r&=~xs,s.suspendedLanes|=r,s.pingedLanes&=~r,f&&(s.warmLanes|=r),f=s.expirationTimes;for(var g=r;0<g;){var x=31-xt(g),b=1<<x;f[x]=-1,g&=~b}l!==0&&Ls(s,l,r)}function _l(){return(rt&6)===0?(Vo(0),!1):!0}function Td(){if(He!==null){if(ot===0)var s=He.return;else s=He,ai=hs=null,Oc(s),ar=null,ko=0,s=He;for(;s!==null;)$p(s.alternate,s),s=s.return;He=null}}function pr(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,vb(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Td(),ft=s,He=l=si(s.current,null),Xe=r,ot=0,yn=null,qi=!1,dr=tn(s,r),hd=!1,fr=Nn=md=xs=Bi=bt=0,ln=qo=null,pd=!1,(r&8)!==0&&(r|=r&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=r;0<f;){var g=31-xt(f),x=1<<g;r|=s[g],f&=~x}return pi=r,Fa(),l}function ug(s,r){$e=null,Z.H=ll,r===_o||r===Xa?(r=Em(),ot=3):r===Sm?(r=Em(),ot=4):ot=r===Ap?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,He===null&&(bt=1,hl(s,Sn(r,s.current)))}function cg(){var s=Z.H;return Z.H=ll,s===null?ll:s}function dg(){var s=Z.A;return Z.A=X_,s}function _d(){bt=4,qi||(Xe&4194048)!==Xe&&An.current!==null||(dr=!0),(Bi&134217727)===0&&(xs&134217727)===0||ft===null||ji(ft,Xe,Nn,!1)}function bd(s,r,l){var f=rt;rt|=2;var g=cg(),x=dg();(ft!==s||Xe!==r)&&(Tl=null,pr(s,r)),r=!1;var b=bt;e:do try{if(ot!==0&&He!==null){var C=He,D=yn;switch(ot){case 8:Td(),b=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(r=!0);var j=ot;if(ot=0,yn=null,gr(s,C,D,j),l&&dr){b=0;break e}break;default:j=ot,ot=0,yn=null,gr(s,C,D,j)}}tb(),b=bt;break}catch(ee){ug(s,ee)}while(!0);return r&&s.shellSuspendCounter++,ai=hs=null,rt=f,Z.H=g,Z.A=x,He===null&&(ft=null,Xe=0,Fa()),b}function tb(){for(;He!==null;)fg(He)}function nb(s,r){var l=rt;rt|=2;var f=cg(),g=dg();ft!==s||Xe!==r?(Tl=null,xl=Ge()+500,pr(s,r)):dr=tn(s,r);e:do try{if(ot!==0&&He!==null){r=He;var x=yn;t:switch(ot){case 1:ot=0,yn=null,gr(s,r,x,1);break;case 2:case 9:if(wm(x)){ot=0,yn=null,hg(r);break}r=function(){ot!==2&&ot!==9||ft!==s||(ot=7),Yn(s)},x.then(r,r);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:wm(x)?(ot=0,yn=null,hg(r)):(ot=0,yn=null,gr(s,r,x,7));break;case 5:var b=null;switch(He.tag){case 26:b=He.memoizedState;case 5:case 27:var C=He;if(!b||Yg(b)){ot=0,yn=null;var D=C.sibling;if(D!==null)He=D;else{var j=C.return;j!==null?(He=j,bl(j)):He=null}break t}}ot=0,yn=null,gr(s,r,x,5);break;case 6:ot=0,yn=null,gr(s,r,x,6);break;case 8:Td(),bt=6;break e;default:throw Error(i(462))}}ib();break}catch(ee){ug(s,ee)}while(!0);return ai=hs=null,Z.H=f,Z.A=g,rt=l,He!==null?0:(ft=null,Xe=0,Fa(),bt)}function ib(){for(;He!==null&&!Ke();)fg(He)}function fg(s){var r=Bp(s.alternate,s,pi);s.memoizedProps=s.pendingProps,r===null?bl(s):He=r}function hg(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=Up(l,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=Up(l,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:Oc(r);default:$p(l,r),r=He=mm(r,pi),r=Bp(l,r,pi)}s.memoizedProps=s.pendingProps,r===null?bl(s):He=r}function gr(s,r,l,f){ai=hs=null,Oc(r),ar=null,ko=0;var g=r.return;try{if(H_(s,g,r,l,Xe)){bt=1,hl(s,Sn(l,s.current)),He=null;return}}catch(x){if(g!==null)throw He=g,x;bt=1,hl(s,Sn(l,s.current)),He=null;return}r.flags&32768?(st||f===1?s=!0:dr||(Xe&536870912)!==0?s=!1:(qi=s=!0,(f===2||f===9||f===3||f===6)&&(f=An.current,f!==null&&f.tag===13&&(f.flags|=16384))),mg(r,s)):bl(r)}function bl(s){var r=s;do{if((r.flags&32768)!==0){mg(r,qi);return}s=r.return;var l=Y_(r.alternate,r,pi);if(l!==null){He=l;return}if(r=r.sibling,r!==null){He=r;return}He=r=s}while(r!==null);bt===0&&(bt=5)}function mg(s,r){do{var l=K_(s.alternate,s);if(l!==null){l.flags&=32767,He=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){He=s;return}He=s=l}while(s!==null);bt=6,He=null}function pg(s,r,l,f,g,x,b,C,D){s.cancelPendingCommit=null;do Sl();while(Vt!==0);if((rt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(x=r.lanes|r.childLanes,x|=fc,Bu(s,l,x,b,C,D),s===ft&&(He=ft=null,Xe=0),hr=r,$i=s,mr=l,yd=x,vd=g,rg=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ab(we,function(){return Tg(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null,g=ae.p,ae.p=2,b=rt,rt|=4;try{Z_(s,r,l)}finally{rt=b,ae.p=g,Z.T=f}}Vt=1,gg(),yg(),vg()}}function gg(){if(Vt===1){Vt=0;var s=$i,r=hr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var f=ae.p;ae.p=2;var g=rt;rt|=4;try{Xp(r,s);var x=Id,b=sm(s.containerInfo),C=x.focusedElem,D=x.selectionRange;if(b!==C&&C&&C.ownerDocument&&im(C.ownerDocument.documentElement,C)){if(D!==null&&ac(C)){var j=D.start,ee=D.end;if(ee===void 0&&(ee=j),"selectionStart"in C)C.selectionStart=j,C.selectionEnd=Math.min(ee,C.value.length);else{var ne=C.ownerDocument||document,z=ne&&ne.defaultView||window;if(z.getSelection){var H=z.getSelection(),ke=C.textContent.length,Ee=Math.min(D.start,ke),ct=D.end===void 0?Ee:Math.min(D.end,ke);!H.extend&&Ee>ct&&(b=ct,ct=Ee,Ee=b);var V=nm(C,Ee),P=nm(C,ct);if(V&&P&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==P.node||H.focusOffset!==P.offset)){var $=ne.createRange();$.setStart(V.node,V.offset),H.removeAllRanges(),Ee>ct?(H.addRange($),H.extend(P.node,P.offset)):($.setEnd(P.node,P.offset),H.addRange($))}}}}for(ne=[],H=C;H=H.parentNode;)H.nodeType===1&&ne.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ne.length;C++){var te=ne[C];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Pl=!!Ud,Id=Ud=null}finally{rt=g,ae.p=f,Z.T=l}}s.current=r,Vt=2}}function yg(){if(Vt===2){Vt=0;var s=$i,r=hr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var f=ae.p;ae.p=2;var g=rt;rt|=4;try{Yp(s,r.alternate,r)}finally{rt=g,ae.p=f,Z.T=l}}Vt=3}}function vg(){if(Vt===4||Vt===3){Vt=0,Re();var s=$i,r=hr,l=mr,f=rg;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,hr=$i=null,xg(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Vi=null),Vu(l),r=r.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(me,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=Z.T,g=ae.p,ae.p=2,Z.T=null;try{for(var x=s.onRecoverableError,b=0;b<f.length;b++){var C=f[b];x(C.value,{componentStack:C.stack})}}finally{Z.T=r,ae.p=g}}(mr&3)!==0&&Sl(),Yn(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===xd?Bo++:(Bo=0,xd=s):Bo=0,Vo(0)}}function xg(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,xo(r)))}function Sl(s){return gg(),yg(),vg(),Tg()}function Tg(){if(Vt!==5)return!1;var s=$i,r=yd;yd=0;var l=Vu(mr),f=Z.T,g=ae.p;try{ae.p=32>l?32:l,Z.T=null,l=vd,vd=null;var x=$i,b=mr;if(Vt=0,hr=$i=null,mr=0,(rt&6)!==0)throw Error(i(331));var C=rt;if(rt|=4,ig(x.current),eg(x,x.current,b,l),rt=C,Vo(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(me,x)}catch{}return!0}finally{ae.p=g,Z.T=f,xg(s,r)}}function _g(s,r,l){r=Sn(l,r),r=Qc(s.stateNode,r,2),s=Mi(s,r,2),s!==null&&(ti(s,2),Yn(s))}function dt(s,r,l){if(s.tag===3)_g(s,s,l);else for(;r!==null;){if(r.tag===3){_g(r,s,l);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Vi===null||!Vi.has(f))){s=Sn(l,s),l=Cp(2),f=Mi(r,l,2),f!==null&&(Ep(l,f,r,s),ti(f,2),Yn(f));break}}r=r.return}}function Sd(s,r,l){var f=s.pingCache;if(f===null){f=s.pingCache=new W_;var g=new Set;f.set(r,g)}else g=f.get(r),g===void 0&&(g=new Set,f.set(r,g));g.has(l)||(hd=!0,g.add(l),s=sb.bind(null,s,r,l),r.then(s,s))}function sb(s,r,l){var f=s.pingCache;f!==null&&f.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ft===s&&(Xe&l)===l&&(bt===4||bt===3&&(Xe&62914560)===Xe&&300>Ge()-gd?(rt&2)===0&&pr(s,0):md|=l,fr===Xe&&(fr=0)),Yn(s)}function bg(s,r){r===0&&(r=nn()),s=Qs(s,r),s!==null&&(ti(s,r),Yn(s))}function rb(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),bg(s,l)}function ob(s,r){var l=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(r),bg(s,l)}function ab(s,r){return je(s,r)}var wl=null,yr=null,wd=!1,Cl=!1,Cd=!1,Ts=0;function Yn(s){s!==yr&&s.next===null&&(yr===null?wl=yr=s:yr=yr.next=s),Cl=!0,wd||(wd=!0,ub())}function Vo(s,r){if(!Cd&&Cl){Cd=!0;do for(var l=!1,f=wl;f!==null;){if(s!==0){var g=f.pendingLanes;if(g===0)var x=0;else{var b=f.suspendedLanes,C=f.pingedLanes;x=(1<<31-xt(42|s)+1)-1,x&=g&~(b&~C),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,Eg(f,x))}else x=Xe,x=fn(f,f===ft?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||tn(f,x)||(l=!0,Eg(f,x));f=f.next}while(l);Cd=!1}}function lb(){Sg()}function Sg(){Cl=wd=!1;var s=0;Ts!==0&&(yb()&&(s=Ts),Ts=0);for(var r=Ge(),l=null,f=wl;f!==null;){var g=f.next,x=wg(f,r);x===0?(f.next=null,l===null?wl=g:l.next=g,g===null&&(yr=l)):(l=f,(s!==0||(x&3)!==0)&&(Cl=!0)),f=g}Vo(s)}function wg(s,r){for(var l=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var b=31-xt(x),C=1<<b,D=g[b];D===-1?((C&l)===0||(C&f)!==0)&&(g[b]=Ci(C,r)):D<=r&&(s.expiredLanes|=C),x&=~C}if(r=ft,l=Xe,l=fn(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,l===0||s===r&&(ot===2||ot===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&Se(f),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||tn(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(f!==null&&Se(f),Vu(l)){case 2:case 8:l=De;break;case 32:l=we;break;case 268435456:l=mt;break;default:l=we}return f=Cg.bind(null,s),l=je(l,f),s.callbackPriority=r,s.callbackNode=l,r}return f!==null&&f!==null&&Se(f),s.callbackPriority=2,s.callbackNode=null,2}function Cg(s,r){if(Vt!==0&&Vt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Sl()&&s.callbackNode!==l)return null;var f=Xe;return f=fn(s,s===ft?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(ag(s,f,r),wg(s,Ge()),s.callbackNode!=null&&s.callbackNode===l?Cg.bind(null,s):null)}function Eg(s,r){if(Sl())return null;ag(s,r,!0)}function ub(){xb(function(){(rt&6)!==0?je(yt,lb):Sg()})}function Ed(){return Ts===0&&(Ts=is()),Ts}function Ag(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:La(""+s)}function Ng(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function cb(s,r,l,f,g){if(r==="submit"&&l&&l.stateNode===g){var x=Ag((g[sn]||null).action),b=f.submitter;b&&(r=(r=b[sn]||null)?Ag(r.formAction):b.getAttribute("formAction"),r!==null&&(x=r,b=null));var C=new Va("action","action",null,f,g);s.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ts!==0){var D=b?Ng(g,b):new FormData(g);Hc(l,{pending:!0,data:D,method:g.method,action:x},null,D)}}else typeof x=="function"&&(C.preventDefault(),D=b?Ng(g,b):new FormData(g),Hc(l,{pending:!0,data:D,method:g.method,action:x},x,D))},currentTarget:g}]})}}for(var Ad=0;Ad<dc.length;Ad++){var Nd=dc[Ad],db=Nd.toLowerCase(),fb=Nd[0].toUpperCase()+Nd.slice(1);Pn(db,"on"+fb)}Pn(am,"onAnimationEnd"),Pn(lm,"onAnimationIteration"),Pn(um,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(R_,"onTransitionRun"),Pn(k_,"onTransitionStart"),Pn(M_,"onTransitionCancel"),Pn(cm,"onTransitionEnd"),$s("onMouseEnter",["mouseout","mouseover"]),$s("onMouseLeave",["mouseout","mouseover"]),$s("onPointerEnter",["pointerout","pointerover"]),$s("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function Rg(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var f=s[l],g=f.event;f=f.listeners;e:{var x=void 0;if(r)for(var b=f.length-1;0<=b;b--){var C=f[b],D=C.instance,j=C.currentTarget;if(C=C.listener,D!==x&&g.isPropagationStopped())break e;x=C,g.currentTarget=j;try{x(g)}catch(ee){fl(ee)}g.currentTarget=null,x=D}else for(b=0;b<f.length;b++){if(C=f[b],D=C.instance,j=C.currentTarget,C=C.listener,D!==x&&g.isPropagationStopped())break e;x=C,g.currentTarget=j;try{x(g)}catch(ee){fl(ee)}g.currentTarget=null,x=D}}}}function Je(s,r){var l=r[$u];l===void 0&&(l=r[$u]=new Set);var f=s+"__bubble";l.has(f)||(kg(r,s,2,!1),l.add(f))}function Rd(s,r,l){var f=0;r&&(f|=4),kg(l,s,f,r)}var El="_reactListening"+Math.random().toString(36).slice(2);function kd(s){if(!s[El]){s[El]=!0,Sh.forEach(function(l){l!=="selectionchange"&&(hb.has(l)||Rd(l,!1,s),Rd(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[El]||(r[El]=!0,Rd("selectionchange",!1,r))}}function kg(s,r,l,f){switch(ey(r)){case 2:var g=Vb;break;case 8:g=$b;break;default:g=zd}l=g.bind(null,r,l,s),g=void 0,!Xu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(r,l,{capture:!0,passive:g}):s.addEventListener(r,l,!0):g!==void 0?s.addEventListener(r,l,{passive:g}):s.addEventListener(r,l,!1)}function Md(s,r,l,f,g){var x=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var C=f.stateNode.containerInfo;if(C===g)break;if(b===4)for(b=f.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;C!==null;){if(b=qs(C),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){f=x=b;continue e}C=C.parentNode}}f=f.return}Oh(function(){var j=x,ee=Zu(l),ne=[];e:{var z=dm.get(s);if(z!==void 0){var H=Va,ke=s;switch(s){case"keypress":if(qa(l)===0)break e;case"keydown":case"keyup":H=a_;break;case"focusin":ke="focus",H=nc;break;case"focusout":ke="blur",H=nc;break;case"beforeblur":case"afterblur":H=nc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=KT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=c_;break;case am:case lm:case um:H=XT;break;case cm:H=f_;break;case"scroll":case"scrollend":H=JT;break;case"wheel":H=m_;break;case"copy":case"cut":case"paste":H=e_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=jh;break;case"toggle":case"beforetoggle":H=g_}var Ee=(r&4)!==0,ct=!Ee&&(s==="scroll"||s==="scrollend"),V=Ee?z!==null?z+"Capture":null:z;Ee=[];for(var P=j,$;P!==null;){var te=P;if($=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||$===null||V===null||(te=ro(P,V),te!=null&&Ee.push(jo(P,te,$))),ct)break;P=P.return}0<Ee.length&&(z=new H(z,ke,null,l,ee),ne.push({event:z,listeners:Ee}))}}if((r&7)===0){e:{if(z=s==="mouseover"||s==="pointerover",H=s==="mouseout"||s==="pointerout",z&&l!==Ku&&(ke=l.relatedTarget||l.fromElement)&&(qs(ke)||ke[Os]))break e;if((H||z)&&(z=ee.window===ee?ee:(z=ee.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ke=l.relatedTarget||l.toElement,H=j,ke=ke?qs(ke):null,ke!==null&&(ct=a(ke),Ee=ke.tag,ke!==ct||Ee!==5&&Ee!==27&&Ee!==6)&&(ke=null)):(H=null,ke=j),H!==ke)){if(Ee=Vh,te="onMouseLeave",V="onMouseEnter",P="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=jh,te="onPointerLeave",V="onPointerEnter",P="pointer"),ct=H==null?z:so(H),$=ke==null?z:so(ke),z=new Ee(te,P+"leave",H,l,ee),z.target=ct,z.relatedTarget=$,te=null,qs(ee)===j&&(Ee=new Ee(V,P+"enter",ke,l,ee),Ee.target=$,Ee.relatedTarget=ct,te=Ee),ct=te,H&&ke)t:{for(Ee=H,V=ke,P=0,$=Ee;$;$=vr($))P++;for($=0,te=V;te;te=vr(te))$++;for(;0<P-$;)Ee=vr(Ee),P--;for(;0<$-P;)V=vr(V),$--;for(;P--;){if(Ee===V||V!==null&&Ee===V.alternate)break t;Ee=vr(Ee),V=vr(V)}Ee=null}else Ee=null;H!==null&&Mg(ne,z,H,Ee,!1),ke!==null&&ct!==null&&Mg(ne,ct,ke,Ee,!0)}}e:{if(z=j?so(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var pe=Zh;else if(Yh(z))if(Qh)pe=E_;else{pe=w_;var ze=S_}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Yu(j.elementType)&&(pe=Zh):pe=C_;if(pe&&(pe=pe(s,j))){Kh(ne,pe,l,ee);break e}ze&&ze(s,z,j),s==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Ju(z,"number",z.value)}switch(ze=j?so(j):window,s){case"focusin":(Yh(ze)||ze.contentEditable==="true")&&(Ys=ze,lc=j,mo=null);break;case"focusout":mo=lc=Ys=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,rm(ne,l,ee);break;case"selectionchange":if(N_)break;case"keydown":case"keyup":rm(ne,l,ee)}var Te;if(sc)e:{switch(s){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Js?Hh(s,l)&&(Ne="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(Fh&&l.locale!=="ko"&&(Js||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Js&&(Te=qh()):(Ai=ee,Wu="value"in Ai?Ai.value:Ai.textContent,Js=!0)),ze=Al(j,Ne),0<ze.length&&(Ne=new $h(Ne,s,null,l,ee),ne.push({event:Ne,listeners:ze}),Te?Ne.data=Te:(Te=Jh(l),Te!==null&&(Ne.data=Te)))),(Te=v_?x_(s,l):T_(s,l))&&(Ne=Al(j,"onBeforeInput"),0<Ne.length&&(ze=new $h("onBeforeInput","beforeinput",null,l,ee),ne.push({event:ze,listeners:Ne}),ze.data=Te)),cb(ne,s,j,l,ee)}Rg(ne,r)})}function jo(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Al(s,r){for(var l=r+"Capture",f=[];s!==null;){var g=s,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=ro(s,l),g!=null&&f.unshift(jo(s,g,x)),g=ro(s,r),g!=null&&f.push(jo(s,g,x))),s.tag===3)return f;s=s.return}return[]}function vr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Mg(s,r,l,f,g){for(var x=r._reactName,b=[];l!==null&&l!==f;){var C=l,D=C.alternate,j=C.stateNode;if(C=C.tag,D!==null&&D===f)break;C!==5&&C!==26&&C!==27||j===null||(D=j,g?(j=ro(l,x),j!=null&&b.unshift(jo(l,j,D))):g||(j=ro(l,x),j!=null&&b.push(jo(l,j,D)))),l=l.return}b.length!==0&&s.push({event:r,listeners:b})}var mb=/\r\n?/g,pb=/\u0000|\uFFFD/g;function Dg(s){return(typeof s=="string"?s:""+s).replace(mb,`
`).replace(pb,"")}function Ug(s,r){return r=Dg(r),Dg(s)===r}function Nl(){}function ut(s,r,l,f,g,x){switch(l){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||zs(s,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&zs(s,""+f);break;case"className":Ua(s,"class",f);break;case"tabIndex":Ua(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ua(s,l,f);break;case"style":Ph(s,f,x);break;case"data":if(r!=="object"){Ua(s,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=La(""+f),s.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(r!=="input"&&ut(s,r,"name",g.name,g,null),ut(s,r,"formEncType",g.formEncType,g,null),ut(s,r,"formMethod",g.formMethod,g,null),ut(s,r,"formTarget",g.formTarget,g,null)):(ut(s,r,"encType",g.encType,g,null),ut(s,r,"method",g.method,g,null),ut(s,r,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=La(""+f),s.setAttribute(l,f);break;case"onClick":f!=null&&(s.onclick=Nl);break;case"onScroll":f!=null&&Je("scroll",s);break;case"onScrollEnd":f!=null&&Je("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}l=La(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""+f):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":f===!0?s.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,f):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(l,f):s.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(l):s.setAttribute(l,f);break;case"popover":Je("beforetoggle",s),Je("toggle",s),Da(s,"popover",f);break;case"xlinkActuate":ni(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ni(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ni(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ni(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ni(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ni(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ni(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ni(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ni(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Da(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=GT.get(l)||l,Da(s,l,f))}}function Dd(s,r,l,f,g,x){switch(l){case"style":Ph(s,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof f=="string"?zs(s,f):(typeof f=="number"||typeof f=="bigint")&&zs(s,""+f);break;case"onScroll":f!=null&&Je("scroll",s);break;case"onScrollEnd":f!=null&&Je("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wh.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),x=s[sn]||null,x=x!=null?x[l]:null,typeof x=="function"&&s.removeEventListener(r,x,g),typeof f=="function")){typeof x!="function"&&x!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,f,g);break e}l in s?s[l]=f:f===!0?s.setAttribute(l,""):Da(s,l,f)}}}function $t(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",s),Je("load",s);var f=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var b=l[x];if(b!=null)switch(x){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ut(s,r,x,b,l,null)}}g&&ut(s,r,"srcSet",l.srcSet,l,null),f&&ut(s,r,"src",l.src,l,null);return;case"input":Je("invalid",s);var C=x=b=g=null,D=null,j=null;for(f in l)if(l.hasOwnProperty(f)){var ee=l[f];if(ee!=null)switch(f){case"name":g=ee;break;case"type":b=ee;break;case"checked":D=ee;break;case"defaultChecked":j=ee;break;case"value":x=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,r));break;default:ut(s,r,f,ee,l,null)}}Mh(s,x,C,D,j,b,g,!1),Ia(s);return;case"select":Je("invalid",s),f=b=x=null;for(g in l)if(l.hasOwnProperty(g)&&(C=l[g],C!=null))switch(g){case"value":x=C;break;case"defaultValue":b=C;break;case"multiple":f=C;default:ut(s,r,g,C,l,null)}r=x,l=b,s.multiple=!!f,r!=null?Fs(s,!!f,r,!1):l!=null&&Fs(s,!!f,l,!0);return;case"textarea":Je("invalid",s),x=g=f=null;for(b in l)if(l.hasOwnProperty(b)&&(C=l[b],C!=null))switch(b){case"value":f=C;break;case"defaultValue":g=C;break;case"children":x=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:ut(s,r,b,C,l,null)}Uh(s,f,g,x),Ia(s);return;case"option":for(D in l)if(l.hasOwnProperty(D)&&(f=l[D],f!=null))switch(D){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ut(s,r,D,f,l,null)}return;case"dialog":Je("beforetoggle",s),Je("toggle",s),Je("cancel",s),Je("close",s);break;case"iframe":case"object":Je("load",s);break;case"video":case"audio":for(f=0;f<$o.length;f++)Je($o[f],s);break;case"image":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"embed":case"source":case"link":Je("error",s),Je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in l)if(l.hasOwnProperty(j)&&(f=l[j],f!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ut(s,r,j,f,l,null)}return;default:if(Yu(r)){for(ee in l)l.hasOwnProperty(ee)&&(f=l[ee],f!==void 0&&Dd(s,r,ee,f,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(f=l[C],f!=null&&ut(s,r,C,f,l,null))}function gb(s,r,l,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,b=null,C=null,D=null,j=null,ee=null;for(H in l){var ne=l[H];if(l.hasOwnProperty(H)&&ne!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=ne;default:f.hasOwnProperty(H)||ut(s,r,H,null,f,ne)}}for(var z in f){var H=f[z];if(ne=l[z],f.hasOwnProperty(z)&&(H!=null||ne!=null))switch(z){case"type":x=H;break;case"name":g=H;break;case"checked":j=H;break;case"defaultChecked":ee=H;break;case"value":b=H;break;case"defaultValue":C=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:H!==ne&&ut(s,r,z,H,f,ne)}}Hu(s,b,C,D,j,ee,x,g);return;case"select":H=b=C=z=null;for(x in l)if(D=l[x],l.hasOwnProperty(x)&&D!=null)switch(x){case"value":break;case"multiple":H=D;default:f.hasOwnProperty(x)||ut(s,r,x,null,f,D)}for(g in f)if(x=f[g],D=l[g],f.hasOwnProperty(g)&&(x!=null||D!=null))switch(g){case"value":z=x;break;case"defaultValue":C=x;break;case"multiple":b=x;default:x!==D&&ut(s,r,g,x,f,D)}r=C,l=b,f=H,z!=null?Fs(s,!!l,z,!1):!!f!=!!l&&(r!=null?Fs(s,!!l,r,!0):Fs(s,!!l,l?[]:"",!1));return;case"textarea":H=z=null;for(C in l)if(g=l[C],l.hasOwnProperty(C)&&g!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ut(s,r,C,null,f,g)}for(b in f)if(g=f[b],x=l[b],f.hasOwnProperty(b)&&(g!=null||x!=null))switch(b){case"value":z=g;break;case"defaultValue":H=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==x&&ut(s,r,b,g,f,x)}Dh(s,z,H);return;case"option":for(var ke in l)if(z=l[ke],l.hasOwnProperty(ke)&&z!=null&&!f.hasOwnProperty(ke))switch(ke){case"selected":s.selected=!1;break;default:ut(s,r,ke,null,f,z)}for(D in f)if(z=f[D],H=l[D],f.hasOwnProperty(D)&&z!==H&&(z!=null||H!=null))switch(D){case"selected":s.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ut(s,r,D,z,f,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)z=l[Ee],l.hasOwnProperty(Ee)&&z!=null&&!f.hasOwnProperty(Ee)&&ut(s,r,Ee,null,f,z);for(j in f)if(z=f[j],H=l[j],f.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,r));break;default:ut(s,r,j,z,f,H)}return;default:if(Yu(r)){for(var ct in l)z=l[ct],l.hasOwnProperty(ct)&&z!==void 0&&!f.hasOwnProperty(ct)&&Dd(s,r,ct,void 0,f,z);for(ee in f)z=f[ee],H=l[ee],!f.hasOwnProperty(ee)||z===H||z===void 0&&H===void 0||Dd(s,r,ee,z,f,H);return}}for(var V in l)z=l[V],l.hasOwnProperty(V)&&z!=null&&!f.hasOwnProperty(V)&&ut(s,r,V,null,f,z);for(ne in f)z=f[ne],H=l[ne],!f.hasOwnProperty(ne)||z===H||z==null&&H==null||ut(s,r,ne,z,f,H)}var Ud=null,Id=null;function Rl(s){return s.nodeType===9?s:s.ownerDocument}function Ig(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pg(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Pd(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ld=null;function yb(){var s=window.event;return s&&s.type==="popstate"?s===Ld?!1:(Ld=s,!0):(Ld=null,!1)}var Lg=typeof setTimeout=="function"?setTimeout:void 0,vb=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,xb=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(s){return Og.resolve(null).then(s).catch(Tb)}:Lg;function Tb(s){setTimeout(function(){throw s})}function Fi(s){return s==="head"}function qg(s,r){var l=r,f=0,g=0;do{var x=l.nextSibling;if(s.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<f&&8>f){l=f;var b=s.ownerDocument;if(l&1&&Fo(b.documentElement),l&2&&Fo(b.body),l&4)for(l=b.head,Fo(l),b=l.firstChild;b;){var C=b.nextSibling,D=b.nodeName;b[io]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=C}}if(g===0){s.removeChild(x),Qo(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=x}while(l);Qo(r)}function Od(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Od(l),ju(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function _b(s,r,l,f){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[io])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=On(s.nextSibling),s===null)break}return null}function bb(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=On(s.nextSibling),s===null))return null;return s}function qd(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Sb(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var f=function(){r(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function On(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Bd=null;function Bg(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function Vg(s,r,l){switch(r=Rl(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Fo(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);ju(s)}var Rn=new Map,$g=new Set;function kl(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var gi=ae.d;ae.d={f:wb,r:Cb,D:Eb,C:Ab,L:Nb,m:Rb,X:Mb,S:kb,M:Db};function wb(){var s=gi.f(),r=_l();return s||r}function Cb(s){var r=Bs(s);r!==null&&r.tag===5&&r.type==="form"?ap(r):gi.r(s)}var xr=typeof document>"u"?null:document;function jg(s,r,l){var f=xr;if(f&&typeof r=="string"&&r){var g=bn(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),$g.has(g)||($g.add(g),s={rel:s,crossOrigin:l,href:r},f.querySelector(g)===null&&(r=f.createElement("link"),$t(r,"link",s),Dt(r),f.head.appendChild(r)))}}function Eb(s){gi.D(s),jg("dns-prefetch",s,null)}function Ab(s,r){gi.C(s,r),jg("preconnect",s,r)}function Nb(s,r,l){gi.L(s,r,l);var f=xr;if(f&&s&&r){var g='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+bn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+bn(l.imageSizes)+'"]')):g+='[href="'+bn(s)+'"]';var x=g;switch(r){case"style":x=Tr(s);break;case"script":x=_r(s)}Rn.has(x)||(s=y({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),Rn.set(x,s),f.querySelector(g)!==null||r==="style"&&f.querySelector(zo(x))||r==="script"&&f.querySelector(Go(x))||(r=f.createElement("link"),$t(r,"link",s),Dt(r),f.head.appendChild(r)))}}function Rb(s,r){gi.m(s,r);var l=xr;if(l&&s){var f=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+bn(f)+'"][href="'+bn(s)+'"]',x=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=_r(s)}if(!Rn.has(x)&&(s=y({rel:"modulepreload",href:s},r),Rn.set(x,s),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Go(x)))return}f=l.createElement("link"),$t(f,"link",s),Dt(f),l.head.appendChild(f)}}}function kb(s,r,l){gi.S(s,r,l);var f=xr;if(f&&s){var g=Vs(f).hoistableStyles,x=Tr(s);r=r||"default";var b=g.get(x);if(!b){var C={loading:0,preload:null};if(b=f.querySelector(zo(x)))C.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":r},l),(l=Rn.get(x))&&Vd(s,l);var D=b=f.createElement("link");Dt(D),$t(D,"link",s),D._p=new Promise(function(j,ee){D.onload=j,D.onerror=ee}),D.addEventListener("load",function(){C.loading|=1}),D.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ml(b,r,f)}b={type:"stylesheet",instance:b,count:1,state:C},g.set(x,b)}}}function Mb(s,r){gi.X(s,r);var l=xr;if(l&&s){var f=Vs(l).hoistableScripts,g=_r(s),x=f.get(g);x||(x=l.querySelector(Go(g)),x||(s=y({src:s,async:!0},r),(r=Rn.get(g))&&$d(s,r),x=l.createElement("script"),Dt(x),$t(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function Db(s,r){gi.M(s,r);var l=xr;if(l&&s){var f=Vs(l).hoistableScripts,g=_r(s),x=f.get(g);x||(x=l.querySelector(Go(g)),x||(s=y({src:s,async:!0,type:"module"},r),(r=Rn.get(g))&&$d(s,r),x=l.createElement("script"),Dt(x),$t(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function Fg(s,r,l,f){var g=(g=oe.current)?kl(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Tr(l.href),l=Vs(g).hoistableStyles,f=l.get(r),f||(f={type:"style",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Tr(l.href);var x=Vs(g).hoistableStyles,b=x.get(s);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,b),(x=g.querySelector(zo(s)))&&!x._p&&(b.instance=x,b.state.loading=5),Rn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Rn.set(s,l),x||Ub(g,s,l,b.state))),r&&f===null)throw Error(i(528,""));return b}if(r&&f!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=_r(l),l=Vs(g).hoistableScripts,f=l.get(r),f||(f={type:"script",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Tr(s){return'href="'+bn(s)+'"'}function zo(s){return'link[rel="stylesheet"]['+s+"]"}function zg(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function Ub(s,r,l,f){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=s.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),$t(r,"link",l),Dt(r),s.head.appendChild(r))}function _r(s){return'[src="'+bn(s)+'"]'}function Go(s){return"script[async]"+s}function Gg(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var f=s.querySelector('style[data-href~="'+bn(l.href)+'"]');if(f)return r.instance=f,Dt(f),f;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Dt(f),$t(f,"style",g),Ml(f,l.precedence,s),r.instance=f;case"stylesheet":g=Tr(l.href);var x=s.querySelector(zo(g));if(x)return r.state.loading|=4,r.instance=x,Dt(x),x;f=zg(l),(g=Rn.get(g))&&Vd(f,g),x=(s.ownerDocument||s).createElement("link"),Dt(x);var b=x;return b._p=new Promise(function(C,D){b.onload=C,b.onerror=D}),$t(x,"link",f),r.state.loading|=4,Ml(x,l.precedence,s),r.instance=x;case"script":return x=_r(l.src),(g=s.querySelector(Go(x)))?(r.instance=g,Dt(g),g):(f=l,(g=Rn.get(x))&&(f=y({},l),$d(f,g)),s=s.ownerDocument||s,g=s.createElement("script"),Dt(g),$t(g,"link",f),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,Ml(f,l.precedence,s));return r.instance}function Ml(s,r,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,x=g,b=0;b<f.length;b++){var C=f[b];if(C.dataset.precedence===r)x=C;else if(x!==g)break}x?x.parentNode.insertBefore(s,x.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Vd(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function $d(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Dl=null;function Hg(s,r,l){if(Dl===null){var f=new Map,g=Dl=new Map;g.set(l,f)}else g=Dl,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(s))return f;for(f.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var x=l[g];if(!(x[io]||x[zt]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var b=x.getAttribute(r)||"";b=s+b;var C=f.get(b);C?C.push(x):f.set(b,[x])}}return f}function Jg(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function Ib(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Yg(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ho=null;function Pb(){}function Lb(s,r,l){if(Ho===null)throw Error(i(475));var f=Ho;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=Tr(l.href),x=s.querySelector(zo(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Ul.bind(f),s.then(f,f)),r.state.loading|=4,r.instance=x,Dt(x);return}x=s.ownerDocument||s,l=zg(l),(g=Rn.get(g))&&Vd(l,g),x=x.createElement("link"),Dt(x);var b=x;b._p=new Promise(function(C,D){b.onload=C,b.onerror=D}),$t(x,"link",l),r.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(f.count++,r=Ul.bind(f),s.addEventListener("load",r),s.addEventListener("error",r))}}function Ob(){if(Ho===null)throw Error(i(475));var s=Ho;return s.stylesheets&&s.count===0&&jd(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&jd(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Ul(){if(this.count--,this.count===0){if(this.stylesheets)jd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Il=null;function jd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Il=new Map,r.forEach(qb,s),Il=null,Ul.call(s))}function qb(s,r){if(!(r.state.loading&4)){var l=Il.get(s);if(l)var f=l.get(null);else{l=new Map,Il.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var b=g[x];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),f=b)}f&&l.set(null,f)}g=r.instance,b=g.getAttribute("data-precedence"),x=l.get(b)||f,x===f&&l.set(null,g),l.set(b,g),this.count++,f=Ul.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),x?x.parentNode.insertBefore(g,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var Jo={$$typeof:U,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function Bb(s,r,l,f,g,x,b,C){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.hiddenUpdates=Ft(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Kg(s,r,l,f,g,x,b,C,D,j,ee,ne){return s=new Bb(s,r,l,b,C,D,j,ne),r=1,x===!0&&(r|=24),x=mn(3,null,null,r),s.current=x,x.stateNode=s,r=Sc(),r.refCount++,s.pooledCache=r,r.refCount++,x.memoizedState={element:f,isDehydrated:l,cache:r},Ac(x),s}function Zg(s){return s?(s=Xs,s):Xs}function Qg(s,r,l,f,g,x){g=Zg(g),f.context===null?f.context=g:f.pendingContext=g,f=ki(r),f.payload={element:l},x=x===void 0?null:x,x!==null&&(f.callback=x),l=Mi(s,f,r),l!==null&&(xn(l,s,r),So(l,s,r))}function Xg(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Fd(s,r){Xg(s,r),(s=s.alternate)&&Xg(s,r)}function Wg(s){if(s.tag===13){var r=Qs(s,67108864);r!==null&&xn(r,s,67108864),Fd(s,67108864)}}var Pl=!0;function Vb(s,r,l,f){var g=Z.T;Z.T=null;var x=ae.p;try{ae.p=2,zd(s,r,l,f)}finally{ae.p=x,Z.T=g}}function $b(s,r,l,f){var g=Z.T;Z.T=null;var x=ae.p;try{ae.p=8,zd(s,r,l,f)}finally{ae.p=x,Z.T=g}}function zd(s,r,l,f){if(Pl){var g=Gd(f);if(g===null)Md(s,r,f,Ll,l),ty(s,f);else if(Fb(g,s,r,l,f))f.stopPropagation();else if(ty(s,f),r&4&&-1<jb.indexOf(s)){for(;g!==null;){var x=Bs(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var b=Xt(x.pendingLanes);if(b!==0){var C=x;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var D=1<<31-xt(b);C.entanglements[1]|=D,b&=~D}Yn(x),(rt&6)===0&&(xl=Ge()+500,Vo(0))}}break;case 13:C=Qs(x,2),C!==null&&xn(C,x,2),_l(),Fd(x,2)}if(x=Gd(f),x===null&&Md(s,r,f,Ll,l),x===g)break;g=x}g!==null&&f.stopPropagation()}else Md(s,r,f,null,l)}}function Gd(s){return s=Zu(s),Hd(s)}var Ll=null;function Hd(s){if(Ll=null,s=qs(s),s!==null){var r=a(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Ll=s,null}function ey(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(We()){case yt:return 2;case De:return 8;case we:case Qe:return 32;case mt:return 268435456;default:return 32}default:return 32}}var Jd=!1,zi=null,Gi=null,Hi=null,Yo=new Map,Ko=new Map,Ji=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ty(s,r){switch(s){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Yo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(r.pointerId)}}function Zo(s,r,l,f,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:r,domEventName:l,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},r!==null&&(r=Bs(r),r!==null&&Wg(r)),s):(s.eventSystemFlags|=f,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function Fb(s,r,l,f,g){switch(r){case"focusin":return zi=Zo(zi,s,r,l,f,g),!0;case"dragenter":return Gi=Zo(Gi,s,r,l,f,g),!0;case"mouseover":return Hi=Zo(Hi,s,r,l,f,g),!0;case"pointerover":var x=g.pointerId;return Yo.set(x,Zo(Yo.get(x)||null,s,r,l,f,g)),!0;case"gotpointercapture":return x=g.pointerId,Ko.set(x,Zo(Ko.get(x)||null,s,r,l,f,g)),!0}return!1}function ny(s){var r=qs(s.target);if(r!==null){var l=a(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,LT(s.priority,function(){if(l.tag===13){var f=vn();f=no(f);var g=Qs(l,f);g!==null&&xn(g,l,f),Fd(l,f)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ol(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Gd(s.nativeEvent);if(l===null){l=s.nativeEvent;var f=new l.constructor(l.type,l);Ku=f,l.target.dispatchEvent(f),Ku=null}else return r=Bs(l),r!==null&&Wg(r),s.blockedOn=l,!1;r.shift()}return!0}function iy(s,r,l){Ol(s)&&l.delete(r)}function zb(){Jd=!1,zi!==null&&Ol(zi)&&(zi=null),Gi!==null&&Ol(Gi)&&(Gi=null),Hi!==null&&Ol(Hi)&&(Hi=null),Yo.forEach(iy),Ko.forEach(iy)}function ql(s,r){s.blockedOn===r&&(s.blockedOn=null,Jd||(Jd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zb)))}var Bl=null;function sy(s){Bl!==s&&(Bl=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Bl===s&&(Bl=null);for(var r=0;r<s.length;r+=3){var l=s[r],f=s[r+1],g=s[r+2];if(typeof f!="function"){if(Hd(f||l)===null)continue;break}var x=Bs(l);x!==null&&(s.splice(r,3),r-=3,Hc(x,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function Qo(s){function r(D){return ql(D,s)}zi!==null&&ql(zi,s),Gi!==null&&ql(Gi,s),Hi!==null&&ql(Hi,s),Yo.forEach(r),Ko.forEach(r);for(var l=0;l<Ji.length;l++){var f=Ji[l];f.blockedOn===s&&(f.blockedOn=null)}for(;0<Ji.length&&(l=Ji[0],l.blockedOn===null);)ny(l),l.blockedOn===null&&Ji.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],x=l[f+1],b=g[sn]||null;if(typeof x=="function")b||sy(l);else if(b){var C=null;if(x&&x.hasAttribute("formAction")){if(g=x,b=x[sn]||null)C=b.formAction;else if(Hd(g)!==null)continue}else C=b.action;typeof C=="function"?l[f+1]=C:(l.splice(f,3),f-=3),sy(l)}}}function Yd(s){this._internalRoot=s}Vl.prototype.render=Yd.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,f=vn();Qg(l,f,s,r,null,null)},Vl.prototype.unmount=Yd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Qg(s.current,2,null,s,null,null),_l(),r[Os]=null}};function Vl(s){this._internalRoot=s}Vl.prototype.unstable_scheduleHydration=function(s){if(s){var r=_h();s={blockedOn:null,target:s,priority:r};for(var l=0;l<Ji.length&&r!==0&&r<Ji[l].priority;l++);Ji.splice(l,0,s),l===0&&ny(s)}};var ry=e.version;if(ry!=="19.1.0")throw Error(i(527,ry,"19.1.0"));ae.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var Gb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{me=$l.inject(Gb),xe=$l}catch{}}return Wo.createRoot=function(s,r){if(!o(s))throw Error(i(299));var l=!1,f="",g=_p,x=bp,b=Sp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks)),r=Kg(s,1,!1,null,null,l,f,g,x,b,C,null),s[Os]=r.current,kd(s),new Yd(r)},Wo.hydrateRoot=function(s,r,l){if(!o(s))throw Error(i(299));var f=!1,g="",x=_p,b=bp,C=Sp,D=null,j=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks),l.formState!==void 0&&(j=l.formState)),r=Kg(s,1,!0,r,l??null,f,g,x,b,C,D,j),r.context=Zg(null),l=r.current,f=vn(),f=no(f),g=ki(f),g.callback=null,Mi(l,g,f),l=f,r.current.lanes=l,ti(r,l),Yn(r),s[Os]=r.current,kd(s),new Vl(r)},Wo.version="19.1.0",Wo}var py;function iS(){if(py)return Zd.exports;py=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zd.exports=nS(),Zd.exports}var sS=iS(),N=Zf(),ea={},gy;function rS(){if(gy)return ea;gy=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.parse=c,ea.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,w){const S=new a,A=_.length;if(A<2)return S;const E=(w==null?void 0:w.decode)||y;let k=0;do{const I=_.indexOf("=",k);if(I===-1)break;const U=_.indexOf(";",k),M=U===-1?A:U;if(I>M){k=_.lastIndexOf(";",I-1)+1;continue}const L=h(_,k,I),Y=p(_,I,L),X=_.slice(L,Y);if(S[X]===void 0){let ie=h(_,I+1,M),J=p(_,M,ie);const K=E(_.slice(ie,J));S[X]=K}k=M+1}while(k<A);return S}function h(_,w,S){do{const A=_.charCodeAt(w);if(A!==32&&A!==9)return w}while(++w<S);return S}function p(_,w,S){for(;w>S;){const A=_.charCodeAt(--w);if(A!==32&&A!==9)return w+1}return S}function m(_,w,S){const A=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const E=A(w);if(!e.test(E))throw new TypeError(`argument val is invalid: ${w}`);let k=_+"="+E;if(!S)return k;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);k+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);k+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);k+="; Path="+S.path}if(S.expires){if(!T(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);k+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(k+="; HttpOnly"),S.secure&&(k+="; Secure"),S.partitioned&&(k+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return k}function y(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function T(_){return o.call(_)==="[object Date]"}return ea}rS();var yy="popstate";function oS(t={}){function e(i,o){let{pathname:a,search:c,hash:h}=i.location;return pf("",{pathname:a,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:ma(o)}return lS(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aS(){return Math.random().toString(36).substring(2,10)}function vy(t,e){return{usr:t.state,key:t.key,idx:e}}function pf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zr(e):e,state:n,key:e&&e.key||i||aS()}}function ma({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function lS(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function T(){h="POP";let E=y(),k=E==null?null:E-m;m=E,p&&p({action:h,location:A.location,delta:k})}function _(E,k){h="PUSH";let I=pf(A.location,E,k);m=y()+1;let U=vy(I,m),M=A.createHref(I);try{c.pushState(U,"",M)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(M)}a&&p&&p({action:h,location:A.location,delta:1})}function w(E,k){h="REPLACE";let I=pf(A.location,E,k);m=y();let U=vy(I,m),M=A.createHref(I);c.replaceState(U,"",M),a&&p&&p({action:h,location:A.location,delta:0})}function S(E){return uS(E)}let A={get action(){return h},get location(){return t(o,c)},listen(E){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(yy,T),p=E,()=>{o.removeEventListener(yy,T),p=null}},createHref(E){return e(o,E)},createURL:S,encodeLocation(E){let k=S(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:_,replace:w,go(E){return c.go(E)}};return A}function uS(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ma(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function F0(t,e,n="/"){return cS(t,e,n,!1)}function cS(t,e,n,i){let o=typeof e=="string"?zr(e):e,a=Ti(o.pathname||"/",n);if(a==null)return null;let c=z0(t);dS(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=H0(a);h=TS(c[p],m,i)}return h}function z0(t,e=[],n=[],i=""){let o=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(gt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=xi([i,p.relativePath]),y=n.concat(p);a.children&&a.children.length>0&&(gt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),z0(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:vS(m,a.index),routesMeta:y})};return t.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let p of G0(a.path))o(a,c,p)}),e}function G0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=G0(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function dS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var fS=/^:[\w-]+$/,hS=3,mS=2,pS=1,gS=10,yS=-2,xy=t=>t==="*";function vS(t,e){let n=t.split("/"),i=n.length;return n.some(xy)&&(i+=yS),e&&(i+=mS),n.filter(o=>!xy(o)).reduce((o,a)=>o+(fS.test(a)?hS:a===""?pS:gS),i)}function xS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function TS(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],m=h===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",T=pa({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),_=p.route;if(!T&&m&&n&&!i[i.length-1].route.index&&(T=pa({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:xi([a,T.pathname]),pathnameBase:CS(xi([a,T.pathnameBase])),route:_}),T.pathnameBase!=="/"&&(a=xi([a,T.pathnameBase]))}return c}function pa(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=_S(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:T},_)=>{if(y==="*"){let S=h[_]||"";c=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const w=h[_];return T&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:t}}function _S(t,e=!1,n=!0){Vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function H0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function bS(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?zr(t):t;return{pathname:n?n.startsWith("/")?n:SS(n,e):e,search:ES(i),hash:AS(o)}}function SS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function tf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qf(t){let e=wS(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Xf(t,e,n,i=!1){let o;typeof t=="string"?o=zr(t):(o={...t},gt(!o.pathname||!o.pathname.includes("?"),tf("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),tf("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),tf("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=n;else{let T=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),T-=1;o.pathname=_.join("/")}h=T>=0?e[T]:"/"}let p=bS(o,h),m=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var xi=t=>t.join("/").replace(/\/\/+/g,"/"),CS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ES=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var J0=["POST","PUT","PATCH","DELETE"];new Set(J0);var RS=["GET",...J0];new Set(RS);var Gr=N.createContext(null);Gr.displayName="DataRouter";var xu=N.createContext(null);xu.displayName="DataRouterState";var Y0=N.createContext({isTransitioning:!1});Y0.displayName="ViewTransition";var kS=N.createContext(new Map);kS.displayName="Fetchers";var MS=N.createContext(null);MS.displayName="Await";var $n=N.createContext(null);$n.displayName="Navigation";var Ta=N.createContext(null);Ta.displayName="Location";var jn=N.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var Wf=N.createContext(null);Wf.displayName="RouteError";function DS(t,{relative:e}={}){gt(Us(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext($n),{hash:o,pathname:a,search:c}=_a(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:xi([n,a])),i.createHref({pathname:h,search:c,hash:o})}function Us(){return N.useContext(Ta)!=null}function bi(){return gt(Us(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Ta).location}function K0(t){gt(Us(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=bi();return N.useMemo(()=>pa(t,H0(e)),[e,t])}var Z0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q0(t){N.useContext($n).static||N.useLayoutEffect(t)}function Un(){let{isDataRoute:t}=N.useContext(jn);return t?GS():US()}function US(){gt(Us(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Gr),{basename:e,navigator:n}=N.useContext($n),{matches:i}=N.useContext(jn),{pathname:o}=bi(),a=JSON.stringify(Qf(i)),c=N.useRef(!1);return Q0(()=>{c.current=!0}),N.useCallback((p,m={})=>{if(Vn(c.current,Z0),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=Xf(p,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:xi([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,a,o,t])}N.createContext(null);function X0(){let{matches:t}=N.useContext(jn),e=t[t.length-1];return e?e.params:{}}function _a(t,{relative:e}={}){let{matches:n}=N.useContext(jn),{pathname:i}=bi(),o=JSON.stringify(Qf(n));return N.useMemo(()=>Xf(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function IS(t,e){return W0(t,e)}function W0(t,e,n,i){var k;gt(Us(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext($n),{matches:a}=N.useContext(jn),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let I=y&&y.path||"";ex(p,!y||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let T=bi(),_;if(e){let I=typeof e=="string"?zr(e):e;gt(m==="/"||((k=I.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${I.pathname}" was given in the \`location\` prop.`),_=I}else _=T;let w=_.pathname||"/",S=w;if(m!=="/"){let I=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=F0(t,{pathname:S});Vn(y||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Vn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=BS(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:xi([m,o.encodeLocation?o.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?m:xi([m,o.encodeLocation?o.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),a,n,i);return e&&E?N.createElement(Ta.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},E):E}function PS(){let t=zS(),e=NS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,c)}var LS=N.createElement(PS,null),OS=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(jn.Provider,{value:this.props.routeContext},N.createElement(Wf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qS({routeContext:t,match:e,children:n}){let i=N.useContext(Gr);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(jn.Provider,{value:t},n)}function BS(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let p=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);gt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(n)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:T}=n,_=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||_){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let T,_=!1,w=null,S=null;n&&(T=a&&m.route.id?a[m.route.id]:void 0,w=m.route.errorElement||LS,c&&(h<0&&y===0?(ex("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):h===y&&(_=!0,S=m.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,y+1)),E=()=>{let k;return T?k=w:_?k=S:m.route.Component?k=N.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=p,N.createElement(qS,{match:m,routeContext:{outlet:p,matches:A,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?N.createElement(OS,{location:n.location,revalidation:n.revalidation,component:w,error:T,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):E()},null)}function eh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VS(t){let e=N.useContext(Gr);return gt(e,eh(t)),e}function $S(t){let e=N.useContext(xu);return gt(e,eh(t)),e}function jS(t){let e=N.useContext(jn);return gt(e,eh(t)),e}function th(t){let e=jS(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FS(){return th("useRouteId")}function zS(){var i;let t=N.useContext(Wf),e=$S("useRouteError"),n=th("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function GS(){let{router:t}=VS("useNavigate"),e=th("useNavigate"),n=N.useRef(!1);return Q0(()=>{n.current=!0}),N.useCallback(async(o,a={})=>{Vn(n.current,Z0),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Ty={};function ex(t,e,n){!e&&!Ty[t]&&(Ty[t]=!0,Vn(!1,n))}N.memo(HS);function HS({routes:t,future:e,state:n}){return W0(t,void 0,n,e)}function JS({to:t,replace:e,state:n,relative:i}){gt(Us(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext($n);Vn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(jn),{pathname:c}=bi(),h=Un(),p=Xf(t,Qf(a),c,i==="path"),m=JSON.stringify(p);return N.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:i})},[h,m,i,e,n]),null}function Ct(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YS({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){gt(!Us(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=zr(n));let{pathname:p="/",search:m="",hash:y="",state:T=null,key:_="default"}=n,w=N.useMemo(()=>{let S=Ti(p,c);return S==null?null:{location:{pathname:S,search:m,hash:y,state:T,key:_},navigationType:i}},[c,p,m,y,T,_,i]);return Vn(w!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement($n.Provider,{value:h},N.createElement(Ta.Provider,{children:e,value:w}))}function KS({children:t,location:e}){return IS(gf(t),e)}function gf(t,e=[]){let n=[];return N.Children.forEach(t,(i,o)=>{if(!N.isValidElement(i))return;let a=[...e,o];if(i.type===N.Fragment){n.push.apply(n,gf(i.props.children,a));return}gt(i.type===Ct,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=gf(i.props.children,a)),n.push(c)}),n}var Xl="get",Wl="application/x-www-form-urlencoded";function Tu(t){return t!=null&&typeof t.tagName=="string"}function ZS(t){return Tu(t)&&t.tagName.toLowerCase()==="button"}function QS(t){return Tu(t)&&t.tagName.toLowerCase()==="form"}function XS(t){return Tu(t)&&t.tagName.toLowerCase()==="input"}function WS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ew(t,e){return t.button===0&&(!e||e==="_self")&&!WS(t)}var jl=null;function tw(){if(jl===null)try{new FormData(document.createElement("form"),0),jl=!1}catch{jl=!0}return jl}var nw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nf(t){return t!=null&&!nw.has(t)?(Vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wl}"`),null):t}function iw(t,e){let n,i,o,a,c;if(QS(t)){let h=t.getAttribute("action");i=h?Ti(h,e):null,n=t.getAttribute("method")||Xl,o=nf(t.getAttribute("enctype"))||Wl,a=new FormData(t)}else if(ZS(t)||XS(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(i=p?Ti(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Xl,o=nf(t.getAttribute("formenctype"))||nf(h.getAttribute("enctype"))||Wl,a=new FormData(h,t),!tw()){let{name:m,type:y,value:T}=t;if(y==="image"){let _=m?`${m}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else m&&a.append(m,T)}}else{if(Tu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xl,i=null,o=Wl,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:c}}function nh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function sw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ow(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await sw(a,n);return c.links?c.links():[]}return[]}));return cw(i.flat(1).filter(rw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _y(t,e,n,i,o,a){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):a==="data"?e.filter((p,m)=>{var T;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function aw(t,e,{includeHydrateFallback:n}={}){return lw(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function lw(t){return[...new Set(t)]}function uw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function cw(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(uw(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dw=new Set([100,101,204,205]);function fw(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ti(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function tx(){let t=N.useContext(Gr);return nh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hw(){let t=N.useContext(xu);return nh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ih=N.createContext(void 0);ih.displayName="FrameworkContext";function nx(){let t=N.useContext(ih);return nh(t,"You must render this element inside a <HydratedRouter> element"),t}function mw(t,e){let n=N.useContext(ih),[i,o]=N.useState(!1),[a,c]=N.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:T}=e,_=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=k=>{k.forEach(I=>{c(I.isIntersecting)})},E=new IntersectionObserver(A,{threshold:.5});return _.current&&E.observe(_.current),()=>{E.disconnect()}}},[t]),N.useEffect(()=>{if(i){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[i]);let w=()=>{o(!0)},S=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,_,{}]:[a,_,{onFocus:ta(h,w),onBlur:ta(p,S),onMouseEnter:ta(m,w),onMouseLeave:ta(y,S),onTouchStart:ta(T,w)}]:[!1,_,{}]}function ta(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pw({page:t,...e}){let{router:n}=tx(),i=N.useMemo(()=>F0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(yw,{page:t,matches:i,...e}):null}function gw(t){let{manifest:e,routeModules:n}=nx(),[i,o]=N.useState([]);return N.useEffect(()=>{let a=!1;return ow(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),i}function yw({page:t,matches:e,...n}){let i=bi(),{manifest:o,routeModules:a}=nx(),{basename:c}=tx(),{loaderData:h,matches:p}=hw(),m=N.useMemo(()=>_y(t,e,p,o,i,"data"),[t,e,p,o,i]),y=N.useMemo(()=>_y(t,e,p,o,i,"assets"),[t,e,p,o,i]),T=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,A=!1;if(e.forEach(k=>{var U;let I=o.routes[k.route.id];!I||!I.hasLoader||(!m.some(M=>M.route.id===k.route.id)&&k.route.id in h&&((U=a[k.route.id])!=null&&U.shouldRevalidate)||I.hasClientLoader?A=!0:S.add(k.route.id))}),S.size===0)return[];let E=fw(t,c);return A&&S.size>0&&E.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[E.pathname+E.search]},[c,h,i,o,m,e,t,a]),_=N.useMemo(()=>aw(y,o),[y,o]),w=gw(y);return N.createElement(N.Fragment,null,T.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:A})=>N.createElement("link",{key:S,...A})))}function vw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ix&&(window.__reactRouterVersion="7.6.3")}catch{}function xw({basename:t,children:e,window:n}){let i=N.useRef();i.current==null&&(i.current=oS({window:n,v5Compat:!0}));let o=i.current,[a,c]=N.useState({action:o.action,location:o.location}),h=N.useCallback(p=>{N.startTransition(()=>c(p))},[c]);return N.useLayoutEffect(()=>o.listen(h),[o,h]),N.createElement(YS,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var sx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:T,..._},w){let{basename:S}=N.useContext($n),A=typeof m=="string"&&sx.test(m),E,k=!1;if(typeof m=="string"&&A&&(E=m,ix))try{let J=new URL(window.location.href),K=m.startsWith("//")?new URL(J.protocol+m):new URL(m),se=Ti(K.pathname,S);K.origin===J.origin&&se!=null?m=se+K.search+K.hash:k=!0}catch{Vn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=DS(m,{relative:o}),[U,M,L]=mw(i,_),Y=Sw(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:o,viewTransition:T});function X(J){e&&e(J),J.defaultPrevented||Y(J)}let ie=N.createElement("a",{..._,...L,href:E||I,onClick:k||a?e:X,ref:vw(w,M),target:p,"data-discover":!A&&n==="render"?"true":void 0});return U&&!A?N.createElement(N.Fragment,null,ie,N.createElement(pw,{page:I})):ie});tt.displayName="Link";var Tw=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:h,children:p,...m},y){let T=_a(c,{relative:m.relative}),_=bi(),w=N.useContext(xu),{navigator:S,basename:A}=N.useContext($n),E=w!=null&&Nw(T)&&h===!0,k=S.encodeLocation?S.encodeLocation(T).pathname:T.pathname,I=_.pathname,U=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(I=I.toLowerCase(),U=U?U.toLowerCase():null,k=k.toLowerCase()),U&&A&&(U=Ti(U,A)||U);const M=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let L=I===k||!o&&I.startsWith(k)&&I.charAt(M)==="/",Y=U!=null&&(U===k||!o&&U.startsWith(k)&&U.charAt(k.length)==="/"),X={isActive:L,isPending:Y,isTransitioning:E},ie=L?e:void 0,J;typeof i=="function"?J=i(X):J=[i,L?"active":null,Y?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(X):a;return N.createElement(tt,{...m,"aria-current":ie,className:J,ref:y,style:K,to:c,viewTransition:h},typeof p=="function"?p(X):p)});Tw.displayName="NavLink";var _w=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:c=Xl,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:T,..._},w)=>{let S=Ew(),A=Aw(h,{relative:m}),E=c.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&sx.test(h),I=U=>{if(p&&p(U),U.defaultPrevented)return;U.preventDefault();let M=U.nativeEvent.submitter,L=(M==null?void 0:M.getAttribute("formmethod"))||c;S(M||U.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:o,state:a,relative:m,preventScrollReset:y,viewTransition:T})};return N.createElement("form",{ref:w,method:E,action:A,onSubmit:i?p:I,..._,"data-discover":!k&&t==="render"?"true":void 0})});_w.displayName="Form";function bw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rx(t){let e=N.useContext(Gr);return gt(e,bw(t)),e}function Sw(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=Un(),p=bi(),m=_a(t,{relative:a});return N.useCallback(y=>{if(ew(y,e)){y.preventDefault();let T=n!==void 0?n:ma(p)===ma(m);h(t,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,m,n,i,e,t,o,a,c])}var ww=0,Cw=()=>`__${String(++ww)}__`;function Ew(){let{router:t}=rx("useSubmit"),{basename:e}=N.useContext($n),n=FS();return N.useCallback(async(i,o={})=>{let{action:a,method:c,encType:h,formData:p,body:m}=iw(i,e);if(o.navigate===!1){let y=o.fetcherKey||Cw();await t.fetch(y,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function Aw(t,{relative:e}={}){let{basename:n}=N.useContext($n),i=N.useContext(jn);gt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={..._a(t||".",{relative:e})},c=bi();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(T=>T).forEach(T=>h.append("index",T));let y=h.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:xi([n,a.pathname])),ma(a)}function Nw(t,e={}){let n=N.useContext(Y0);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rx("useViewTransitionState"),o=_a(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ti(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ti(n.nextLocation.pathname,i)||n.nextLocation.pathname;return pa(o.pathname,c)!=null||pa(o.pathname,a)!=null}[...dw];const Rw=({user:t})=>v.jsxs("div",{className:"min-h-screen flex flex-col items-center px-6 py-24 text-center overflow-hidden",children:[v.jsxs("div",{className:"max-w-4xl animate-fade-in-up",children:[v.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white leading-tight mb-6 drop-shadow-md",children:"Welcome to Libertyville High School Science Olympiad"}),v.jsx("p",{className:"text-lg sm:text-xl bg-white/20 text-orange-50 font-medium rounded-xl shadow-lg p-5 max-w-4xl mx-auto mb-15 backdrop-blur-md",children:"Join the community, access events, practice tests, and excel in Science Olympiad!"}),v.jsx("div",{className:"mb-16 animate-fade-in-up animation-delay-200",children:t?v.jsx(tt,{to:"/events",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Events & Resources"}):v.jsx(tt,{to:"/signup",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Get Started"})})]}),v.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 w-full max-w-4xl animate-fade-in-up animation-delay-400",children:[v.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[v.jsx("div",{className:"text-5xl mb-4",children:"🎯"}),v.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Track Your Progress"}),v.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Monitor your performance and improve with feedback."})]}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[v.jsx("div",{className:"text-5xl mb-4",children:"📚"}),v.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Practice Tests"}),v.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Access curated practice tests tailored for Science Olympiad events."})]})]})]}),kw=t=>{const[e,n]=N.useState(""),[i,o]=N.useState(""),a=async c=>{c.preventDefault(),await t.handleSignIn({email:e,password:i})&&(n(""),o(""))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign in to LHS Scioly"}),v.jsxs("form",{onSubmit:a,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),v.jsx("input",{value:e,onChange:({target:c})=>n(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),v.jsx("input",{type:"password",value:i,onChange:({target:c})=>o(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign In"}),v.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline mt-2",children:v.jsx(tt,{to:"/signup",children:"Don't have an account? Sign Up"})}),v.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:v.jsx(tt,{to:"/forgot",children:"Forgot password?"})})]})]})},Mw=t=>{const[e,n]=N.useState(""),[i,o]=N.useState(""),[a,c]=N.useState(""),[h,p]=N.useState(""),[m,y]=N.useState(""),[T,_]=N.useState(""),[w,S]=N.useState(!1);Un();const A=async E=>{if(E.preventDefault(),h!==m){t.setError("passwords do not match"),setTimeout(()=>{t.setError(null)},3e3);return}await t.handleSignUp({email:e,firstName:i,lastName:a,password:h,adminKey:T})&&(n(""),o(""),c(""),p(""),y(""),_(""))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign up for LHS Scioly"}),v.jsxs("form",{onSubmit:A,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),v.jsx("input",{value:e,onChange:({target:E})=>n(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"First Name"}),v.jsx("input",{value:i,onChange:({target:E})=>o(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Last Name"}),v.jsx("input",{value:a,onChange:({target:E})=>c(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),v.jsx("input",{type:"password",value:h,onChange:({target:E})=>p(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Confirm Password"}),v.jsx("input",{type:"password",value:m,onChange:({target:E})=>y(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),w?v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Admin Key"}),v.jsx("input",{type:"password",value:T,onChange:({target:E})=>_(E.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"}),v.jsx("button",{type:"button",onClick:()=>S(!1),className:"text-orange-600 hover:underline",children:"Cancel"})]}):v.jsx("div",{children:v.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-orange-600 hover:underline",children:"I am a Coach or Captain"})}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign Up"}),v.jsxs("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:["Already have an account? ",v.jsx(tt,{to:"/signin",children:"Sign In"})]})]})]})},Dw=t=>{const[e,n]=N.useState(!1),[i,o]=N.useState(t.event.name),[a,c]=N.useState(t.event.block),[h,p]=N.useState(t.event.group),[m,y]=N.useState(t.event.description),[T,_]=N.useState(""),[w,S]=N.useState(t.event.resources),A=async I=>{I.preventDefault(),await t.editEvent(t.event.id,{name:i,group:h,block:a,description:m,resources:w}),n(!1)},E=async()=>{await t.deleteEvent(t.event.id)},k=()=>{T.trim()&&(S(w.concat(T.trim())),_(""))};return e?v.jsx("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:v.jsxs("form",{onSubmit:A,children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("div",{className:"mb-1",children:v.jsx("input",{value:i,onChange:({target:I})=>o(I.value),className:"text-lg font-semibold text-orange-700 px-2 py-1 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",children:"Save"}),v.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:()=>{n(!1),o(t.event.name),c(t.event.block),p(t.event.group),y(t.event.description),_(""),S(t.event.resources)},children:"Cancel"})]})]}),v.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("label",{className:"font-medium block mb-1",children:"Category"}),v.jsxs("select",{name:"category",value:h,onChange:({target:I})=>p(I.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[v.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),v.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),v.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),v.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),v.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),v.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),v.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("label",{className:"font-medium block mb-1",children:"Block"}),v.jsxs("select",{name:"block",value:a,onChange:({target:I})=>c(I.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[v.jsx("option",{value:"",children:"Self Schedule"}),v.jsx("option",{value:"1",children:"Block 1"}),v.jsx("option",{value:"2",children:"Block 2"}),v.jsx("option",{value:"3",children:"Block 3"}),v.jsx("option",{value:"4",children:"Block 4"}),v.jsx("option",{value:"5",children:"Block 5"})]})]}),v.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("label",{className:"font-medium block mb-1",children:"Description:"}),v.jsx("textarea",{value:m,onChange:({target:I})=>y(I.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",rows:4})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(I=>v.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[v.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:I}),v.jsx("button",{type:"button",onClick:()=>S(w.filter(U=>U!==I)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:"×"})]},I))})]}),v.jsxs("div",{className:"pt-3",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:T,onChange:({target:I})=>_(I.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),v.jsx("button",{onClick:k,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]})]})}):v.jsxs("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-1",children:t.event.name}),t.user&&t.user.admin?v.jsxs("div",{className:"flex justify-between gap-2",children:[v.jsx("button",{className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-orange-700 transition",onClick:()=>n(!0),children:"Edit"}),v.jsx("button",{className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:E,children:"Delete"})]}):null]}),v.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[v.jsx("span",{className:"font-medium",children:"Category:"})," ",t.event.group]}),v.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[v.jsx("span",{className:"font-medium",children:"Block:"})," ",t.event.block===""?"Self Schedule":t.event.block]}),v.jsxs("p",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("span",{className:"font-medium",children:"Description:"})," ",t.event.description]}),t.user?v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:t.event.resources.map(I=>v.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:I},I))})]}):null]})};function ox(t,e){return function(){return t.apply(e,arguments)}}const{toString:Uw}=Object.prototype,{getPrototypeOf:sh}=Object,{iterator:_u,toStringTag:ax}=Symbol,bu=(t=>e=>{const n=Uw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=t=>(t=t.toLowerCase(),e=>bu(e)===t),Su=t=>e=>typeof e===t,{isArray:Hr}=Array,ga=Su("undefined");function Iw(t){return t!==null&&!ga(t)&&t.constructor!==null&&!ga(t.constructor)&&cn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lx=Fn("ArrayBuffer");function Pw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lx(t.buffer),e}const Lw=Su("string"),cn=Su("function"),ux=Su("number"),wu=t=>t!==null&&typeof t=="object",Ow=t=>t===!0||t===!1,eu=t=>{if(bu(t)!=="object")return!1;const e=sh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ax in t)&&!(_u in t)},qw=Fn("Date"),Bw=Fn("File"),Vw=Fn("Blob"),$w=Fn("FileList"),jw=t=>wu(t)&&cn(t.pipe),Fw=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||cn(t.append)&&((e=bu(t))==="formdata"||e==="object"&&cn(t.toString)&&t.toString()==="[object FormData]"))},zw=Fn("URLSearchParams"),[Gw,Hw,Jw,Yw]=["ReadableStream","Request","Response","Headers"].map(Fn),Kw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ba(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,o;if(typeof t!="object"&&(t=[t]),Hr(t))for(i=0,o=t.length;i<o;i++)e.call(null,t[i],i,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let h;for(i=0;i<c;i++)h=a[i],e.call(null,t[h],h,t)}}function cx(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,o;for(;i-- >0;)if(o=n[i],e===o.toLowerCase())return o;return null}const Cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dx=t=>!ga(t)&&t!==Cs;function yf(){const{caseless:t}=dx(this)&&this||{},e={},n=(i,o)=>{const a=t&&cx(e,o)||o;eu(e[a])&&eu(i)?e[a]=yf(e[a],i):eu(i)?e[a]=yf({},i):Hr(i)?e[a]=i.slice():e[a]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&ba(arguments[i],n);return e}const Zw=(t,e,n,{allOwnKeys:i}={})=>(ba(e,(o,a)=>{n&&cn(o)?t[a]=ox(o,n):t[a]=o},{allOwnKeys:i}),t),Qw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Xw=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ww=(t,e,n,i)=>{let o,a,c;const h={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)c=o[a],(!i||i(c,t,e))&&!h[c]&&(e[c]=t[c],h[c]=!0);t=n!==!1&&sh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},eC=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},tC=t=>{if(!t)return null;if(Hr(t))return t;let e=t.length;if(!ux(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},nC=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&sh(Uint8Array)),iC=(t,e)=>{const i=(t&&t[_u]).call(t);let o;for(;(o=i.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},sC=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},rC=Fn("HTMLFormElement"),oC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),by=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),aC=Fn("RegExp"),fx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};ba(n,(o,a)=>{let c;(c=e(o,a,t))!==!1&&(i[a]=c||o)}),Object.defineProperties(t,i)},lC=t=>{fx(t,(e,n)=>{if(cn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(cn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},uC=(t,e)=>{const n={},i=o=>{o.forEach(a=>{n[a]=!0})};return Hr(t)?i(t):i(String(t).split(e)),n},cC=()=>{},dC=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function fC(t){return!!(t&&cn(t.append)&&t[ax]==="FormData"&&t[_u])}const hC=t=>{const e=new Array(10),n=(i,o)=>{if(wu(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;const a=Hr(i)?[]:{};return ba(i,(c,h)=>{const p=n(c,o+1);!ga(p)&&(a[h]=p)}),e[o]=void 0,a}}return i};return n(t,0)},mC=Fn("AsyncFunction"),pC=t=>t&&(wu(t)||cn(t))&&cn(t.then)&&cn(t.catch),hx=((t,e)=>t?setImmediate:e?((n,i)=>(Cs.addEventListener("message",({source:o,data:a})=>{o===Cs&&a===n&&i.length&&i.shift()()},!1),o=>{i.push(o),Cs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",cn(Cs.postMessage)),gC=typeof queueMicrotask<"u"?queueMicrotask.bind(Cs):typeof process<"u"&&process.nextTick||hx,yC=t=>t!=null&&cn(t[_u]),Q={isArray:Hr,isArrayBuffer:lx,isBuffer:Iw,isFormData:Fw,isArrayBufferView:Pw,isString:Lw,isNumber:ux,isBoolean:Ow,isObject:wu,isPlainObject:eu,isReadableStream:Gw,isRequest:Hw,isResponse:Jw,isHeaders:Yw,isUndefined:ga,isDate:qw,isFile:Bw,isBlob:Vw,isRegExp:aC,isFunction:cn,isStream:jw,isURLSearchParams:zw,isTypedArray:nC,isFileList:$w,forEach:ba,merge:yf,extend:Zw,trim:Kw,stripBOM:Qw,inherits:Xw,toFlatObject:Ww,kindOf:bu,kindOfTest:Fn,endsWith:eC,toArray:tC,forEachEntry:iC,matchAll:sC,isHTMLForm:rC,hasOwnProperty:by,hasOwnProp:by,reduceDescriptors:fx,freezeMethods:lC,toObjectSet:uC,toCamelCase:oC,noop:cC,toFiniteNumber:dC,findKey:cx,global:Cs,isContextDefined:dx,isSpecCompliantForm:fC,toJSONObject:hC,isAsyncFn:mC,isThenable:pC,setImmediate:hx,asap:gC,isIterable:yC};function qe(t,e,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const mx=qe.prototype,px={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{px[t]={value:t}});Object.defineProperties(qe,px);Object.defineProperty(mx,"isAxiosError",{value:!0});qe.from=(t,e,n,i,o,a)=>{const c=Object.create(mx);return Q.toFlatObject(t,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),qe.call(c,t.message,e,n,i,o),c.cause=t,c.name=t.name,a&&Object.assign(c,a),c};const vC=null;function vf(t){return Q.isPlainObject(t)||Q.isArray(t)}function gx(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function Sy(t,e,n){return t?t.concat(e).map(function(o,a){return o=gx(o),!n&&a?"["+o+"]":o}).join(n?".":""):e}function xC(t){return Q.isArray(t)&&!t.some(vf)}const TC=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function Cu(t,e,n){if(!Q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,E){return!Q.isUndefined(E[A])});const i=n.metaTokens,o=n.visitor||y,a=n.dots,c=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(Q.isDate(S))return S.toISOString();if(Q.isBoolean(S))return S.toString();if(!p&&Q.isBlob(S))throw new qe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(S)||Q.isTypedArray(S)?p&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,A,E){let k=S;if(S&&!E&&typeof S=="object"){if(Q.endsWith(A,"{}"))A=i?A:A.slice(0,-2),S=JSON.stringify(S);else if(Q.isArray(S)&&xC(S)||(Q.isFileList(S)||Q.endsWith(A,"[]"))&&(k=Q.toArray(S)))return A=gx(A),k.forEach(function(U,M){!(Q.isUndefined(U)||U===null)&&e.append(c===!0?Sy([A],M,a):c===null?A:A+"[]",m(U))}),!1}return vf(S)?!0:(e.append(Sy(E,A,a),m(S)),!1)}const T=[],_=Object.assign(TC,{defaultVisitor:y,convertValue:m,isVisitable:vf});function w(S,A){if(!Q.isUndefined(S)){if(T.indexOf(S)!==-1)throw Error("Circular reference detected in "+A.join("."));T.push(S),Q.forEach(S,function(k,I){(!(Q.isUndefined(k)||k===null)&&o.call(e,k,Q.isString(I)?I.trim():I,A,_))===!0&&w(k,A?A.concat(I):[I])}),T.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return w(t),e}function wy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function rh(t,e){this._pairs=[],t&&Cu(t,this,e)}const yx=rh.prototype;yx.append=function(e,n){this._pairs.push([e,n])};yx.toString=function(e){const n=e?function(i){return e.call(this,i,wy)}:wy;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function _C(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vx(t,e,n){if(!e)return t;const i=n&&n.encode||_C;Q.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(o?a=o(e,n):a=Q.isURLSearchParams(e)?e.toString():new rh(e,n).toString(i),a){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Cy{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(i){i!==null&&e(i)})}}const xx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bC=typeof URLSearchParams<"u"?URLSearchParams:rh,SC=typeof FormData<"u"?FormData:null,wC=typeof Blob<"u"?Blob:null,CC={isBrowser:!0,classes:{URLSearchParams:bC,FormData:SC,Blob:wC},protocols:["http","https","file","blob","url","data"]},oh=typeof window<"u"&&typeof document<"u",xf=typeof navigator=="object"&&navigator||void 0,EC=oh&&(!xf||["ReactNative","NativeScript","NS"].indexOf(xf.product)<0),AC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NC=oh&&window.location.href||"http://localhost",RC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oh,hasStandardBrowserEnv:EC,hasStandardBrowserWebWorkerEnv:AC,navigator:xf,origin:NC},Symbol.toStringTag,{value:"Module"})),Kt={...RC,...CC};function kC(t,e){return Cu(t,new Kt.classes.URLSearchParams,Object.assign({visitor:function(n,i,o,a){return Kt.isNode&&Q.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function MC(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function DC(t){const e={},n=Object.keys(t);let i;const o=n.length;let a;for(i=0;i<o;i++)a=n[i],e[a]=t[a];return e}function Tx(t){function e(n,i,o,a){let c=n[a++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=a>=n.length;return c=!c&&Q.isArray(o)?o.length:c,p?(Q.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!h):((!o[c]||!Q.isObject(o[c]))&&(o[c]=[]),e(n,i,o[c],a)&&Q.isArray(o[c])&&(o[c]=DC(o[c])),!h)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const n={};return Q.forEachEntry(t,(i,o)=>{e(MC(i),o,n,0)}),n}return null}function UC(t,e,n){if(Q.isString(t))try{return(e||JSON.parse)(t),Q.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Sa={transitional:xx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,a=Q.isObject(e);if(a&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(Tx(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return kC(e,this.formSerializer).toString();if((h=Q.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Cu(h?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(n.setContentType("application/json",!1),UC(e)):e}],transformResponse:[function(e){const n=this.transitional||Sa.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(i&&!this.responseType||o)){const c=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?qe.from(h,qe.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{Sa.headers[t]={}});const IC=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PC=t=>{const e={};let n,i,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),n=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!n||e[n]&&IC[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Ey=Symbol("internals");function na(t){return t&&String(t).trim().toLowerCase()}function tu(t){return t===!1||t==null?t:Q.isArray(t)?t.map(tu):String(t)}function LC(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const OC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function sf(t,e,n,i,o){if(Q.isFunction(i))return i.call(this,e,n);if(o&&(e=n),!!Q.isString(e)){if(Q.isString(i))return e.indexOf(i)!==-1;if(Q.isRegExp(i))return i.test(e)}}function qC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function BC(t,e){const n=Q.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(o,a,c){return this[i].call(this,e,o,a,c)},configurable:!0})})}let dn=class{constructor(e){e&&this.set(e)}set(e,n,i){const o=this;function a(h,p,m){const y=na(p);if(!y)throw new Error("header name must be a non-empty string");const T=Q.findKey(o,y);(!T||o[T]===void 0||m===!0||m===void 0&&o[T]!==!1)&&(o[T||p]=tu(h))}const c=(h,p)=>Q.forEach(h,(m,y)=>a(m,y,p));if(Q.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(Q.isString(e)&&(e=e.trim())&&!OC(e))c(PC(e),n);else if(Q.isObject(e)&&Q.isIterable(e)){let h={},p,m;for(const y of e){if(!Q.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[m=y[0]]=(p=h[m])?Q.isArray(p)?[...p,y[1]]:[p,y[1]]:y[1]}c(h,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=na(e),e){const i=Q.findKey(this,e);if(i){const o=this[i];if(!n)return o;if(n===!0)return LC(o);if(Q.isFunction(n))return n.call(this,o,i);if(Q.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=na(e),e){const i=Q.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||sf(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let o=!1;function a(c){if(c=na(c),c){const h=Q.findKey(i,c);h&&(!n||sf(i,i[h],h,n))&&(delete i[h],o=!0)}}return Q.isArray(e)?e.forEach(a):a(e),o}clear(e){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const a=n[i];(!e||sf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const n=this,i={};return Q.forEach(this,(o,a)=>{const c=Q.findKey(i,a);if(c){n[c]=tu(o),delete n[a];return}const h=e?qC(a):String(a).trim();h!==a&&delete n[a],n[h]=tu(o),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Q.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=e&&Q.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[Ey]=this[Ey]={accessors:{}}).accessors,o=this.prototype;function a(c){const h=na(c);i[h]||(BC(o,c),i[h]=!0)}return Q.isArray(e)?e.forEach(a):a(e),this}};dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(dn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Q.freezeMethods(dn);function rf(t,e){const n=this||Sa,i=e||n,o=dn.from(i.headers);let a=i.data;return Q.forEach(t,function(h){a=h.call(n,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function _x(t){return!!(t&&t.__CANCEL__)}function Jr(t,e,n){qe.call(this,t??"canceled",qe.ERR_CANCELED,e,n),this.name="CanceledError"}Q.inherits(Jr,qe,{__CANCEL__:!0});function bx(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new qe("Request failed with status code "+n.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function VC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function $C(t,e){t=t||10;const n=new Array(t),i=new Array(t);let o=0,a=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),y=i[a];c||(c=m),n[o]=p,i[o]=m;let T=a,_=0;for(;T!==o;)_+=n[T++],T=T%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),m-c<e)return;const w=y&&m-y;return w?Math.round(_*1e3/w):void 0}}function jC(t,e){let n=0,i=1e3/e,o,a;const c=(m,y=Date.now())=>{n=y,o=null,a&&(clearTimeout(a),a=null),t.apply(null,m)};return[(...m)=>{const y=Date.now(),T=y-n;T>=i?c(m,y):(o=m,a||(a=setTimeout(()=>{a=null,c(o)},i-T)))},()=>o&&c(o)]}const au=(t,e,n=3)=>{let i=0;const o=$C(50,250);return jC(a=>{const c=a.loaded,h=a.lengthComputable?a.total:void 0,p=c-i,m=o(p),y=c<=h;i=c;const T={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&y?(h-c)/m:void 0,event:a,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(T)},n)},Ay=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},Ny=t=>(...e)=>Q.asap(()=>t(...e)),FC=Kt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Kt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Kt.origin),Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent)):()=>!0,zC=Kt.hasStandardBrowserEnv?{write(t,e,n,i,o,a){const c=[t+"="+encodeURIComponent(e)];Q.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Q.isString(i)&&c.push("path="+i),Q.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function GC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function HC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Sx(t,e,n){let i=!GC(e);return t&&(i||n==!1)?HC(t,e):e}const Ry=t=>t instanceof dn?{...t}:t;function Ns(t,e){e=e||{};const n={};function i(m,y,T,_){return Q.isPlainObject(m)&&Q.isPlainObject(y)?Q.merge.call({caseless:_},m,y):Q.isPlainObject(y)?Q.merge({},y):Q.isArray(y)?y.slice():y}function o(m,y,T,_){if(Q.isUndefined(y)){if(!Q.isUndefined(m))return i(void 0,m,T,_)}else return i(m,y,T,_)}function a(m,y){if(!Q.isUndefined(y))return i(void 0,y)}function c(m,y){if(Q.isUndefined(y)){if(!Q.isUndefined(m))return i(void 0,m)}else return i(void 0,y)}function h(m,y,T){if(T in e)return i(m,y);if(T in t)return i(void 0,m)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(m,y,T)=>o(Ry(m),Ry(y),T,!0)};return Q.forEach(Object.keys(Object.assign({},t,e)),function(y){const T=p[y]||o,_=T(t[y],e[y],y);Q.isUndefined(_)&&T!==h||(n[y]=_)}),n}const wx=t=>{const e=Ns({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:h}=e;e.headers=c=dn.from(c),e.url=vx(Sx(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(Q.isFormData(n)){if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...y]=p?p.split(";").map(T=>T.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...y].join("; "))}}if(Kt.hasStandardBrowserEnv&&(i&&Q.isFunction(i)&&(i=i(e)),i||i!==!1&&FC(e.url))){const m=o&&a&&zC.read(a);m&&c.set(o,m)}return e},JC=typeof XMLHttpRequest<"u",YC=JC&&function(t){return new Promise(function(n,i){const o=wx(t);let a=o.data;const c=dn.from(o.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=o,y,T,_,w,S;function A(){w&&w(),S&&S(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let E=new XMLHttpRequest;E.open(o.method.toUpperCase(),o.url,!0),E.timeout=o.timeout;function k(){if(!E)return;const U=dn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),L={data:!h||h==="text"||h==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:U,config:t,request:E};bx(function(X){n(X),A()},function(X){i(X),A()},L),E=null}"onloadend"in E?E.onloadend=k:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(k)},E.onabort=function(){E&&(i(new qe("Request aborted",qe.ECONNABORTED,t,E)),E=null)},E.onerror=function(){i(new qe("Network Error",qe.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let M=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const L=o.transitional||xx;o.timeoutErrorMessage&&(M=o.timeoutErrorMessage),i(new qe(M,L.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,t,E)),E=null},a===void 0&&c.setContentType(null),"setRequestHeader"in E&&Q.forEach(c.toJSON(),function(M,L){E.setRequestHeader(L,M)}),Q.isUndefined(o.withCredentials)||(E.withCredentials=!!o.withCredentials),h&&h!=="json"&&(E.responseType=o.responseType),m&&([_,S]=au(m,!0),E.addEventListener("progress",_)),p&&E.upload&&([T,w]=au(p),E.upload.addEventListener("progress",T),E.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(y=U=>{E&&(i(!U||U.type?new Jr(null,t,E):U),E.abort(),E=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const I=VC(o.url);if(I&&Kt.protocols.indexOf(I)===-1){i(new qe("Unsupported protocol "+I+":",qe.ERR_BAD_REQUEST,t));return}E.send(a||null)})},KC=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,o;const a=function(m){if(!o){o=!0,h();const y=m instanceof Error?m:this.reason;i.abort(y instanceof qe?y:new Jr(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,a(new qe(`timeout ${e} of ms exceeded`,qe.ETIMEDOUT))},e);const h=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:p}=i;return p.unsubscribe=()=>Q.asap(h),p}},ZC=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,o;for(;i<n;)o=i+e,yield t.slice(i,o),i=o},QC=async function*(t,e){for await(const n of XC(t))yield*ZC(n,e)},XC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},ky=(t,e,n,i)=>{const o=QC(t,e);let a=0,c,h=p=>{c||(c=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:y}=await o.next();if(m){h(),p.close();return}let T=y.byteLength;if(n){let _=a+=T;n(_)}p.enqueue(new Uint8Array(y))}catch(m){throw h(m),m}},cancel(p){return h(p),o.return()}},{highWaterMark:2})},Eu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Cx=Eu&&typeof ReadableStream=="function",WC=Eu&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ex=(t,...e)=>{try{return!!t(...e)}catch{return!1}},eE=Cx&&Ex(()=>{let t=!1;const e=new Request(Kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),My=64*1024,Tf=Cx&&Ex(()=>Q.isReadableStream(new Response("").body)),lu={stream:Tf&&(t=>t.body)};Eu&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!lu[e]&&(lu[e]=Q.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new qe(`Response type '${e}' is not supported`,qe.ERR_NOT_SUPPORT,i)})})})(new Response);const tE=async t=>{if(t==null)return 0;if(Q.isBlob(t))return t.size;if(Q.isSpecCompliantForm(t))return(await new Request(Kt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(t)||Q.isArrayBuffer(t))return t.byteLength;if(Q.isURLSearchParams(t)&&(t=t+""),Q.isString(t))return(await WC(t)).byteLength},nE=async(t,e)=>{const n=Q.toFiniteNumber(t.getContentLength());return n??tE(e)},iE=Eu&&(async t=>{let{url:e,method:n,data:i,signal:o,cancelToken:a,timeout:c,onDownloadProgress:h,onUploadProgress:p,responseType:m,headers:y,withCredentials:T="same-origin",fetchOptions:_}=wx(t);m=m?(m+"").toLowerCase():"text";let w=KC([o,a&&a.toAbortSignal()],c),S;const A=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let E;try{if(p&&eE&&n!=="get"&&n!=="head"&&(E=await nE(y,i))!==0){let L=new Request(e,{method:"POST",body:i,duplex:"half"}),Y;if(Q.isFormData(i)&&(Y=L.headers.get("content-type"))&&y.setContentType(Y),L.body){const[X,ie]=Ay(E,au(Ny(p)));i=ky(L.body,My,X,ie)}}Q.isString(T)||(T=T?"include":"omit");const k="credentials"in Request.prototype;S=new Request(e,{..._,signal:w,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:k?T:void 0});let I=await fetch(S,_);const U=Tf&&(m==="stream"||m==="response");if(Tf&&(h||U&&A)){const L={};["status","statusText","headers"].forEach(J=>{L[J]=I[J]});const Y=Q.toFiniteNumber(I.headers.get("content-length")),[X,ie]=h&&Ay(Y,au(Ny(h),!0))||[];I=new Response(ky(I.body,My,X,()=>{ie&&ie(),A&&A()}),L)}m=m||"text";let M=await lu[Q.findKey(lu,m)||"text"](I,t);return!U&&A&&A(),await new Promise((L,Y)=>{bx(L,Y,{data:M,headers:dn.from(I.headers),status:I.status,statusText:I.statusText,config:t,request:S})})}catch(k){throw A&&A(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,t,S),{cause:k.cause||k}):qe.from(k,k&&k.code,t,S)}}),_f={http:vC,xhr:YC,fetch:iE};Q.forEach(_f,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Dy=t=>`- ${t}`,sE=t=>Q.isFunction(t)||t===null||t===!1,Ax={getAdapter:t=>{t=Q.isArray(t)?t:[t];const{length:e}=t;let n,i;const o={};for(let a=0;a<e;a++){n=t[a];let c;if(i=n,!sE(n)&&(i=_f[(c=String(n)).toLowerCase()],i===void 0))throw new qe(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+a]=i}if(!i){const a=Object.entries(o).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(Dy).join(`
`):" "+Dy(a[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:_f};function of(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jr(null,t)}function Uy(t){return of(t),t.headers=dn.from(t.headers),t.data=rf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ax.getAdapter(t.adapter||Sa.adapter)(t).then(function(i){return of(t),i.data=rf.call(t,t.transformResponse,i),i.headers=dn.from(i.headers),i},function(i){return _x(i)||(of(t),i&&i.response&&(i.response.data=rf.call(t,t.transformResponse,i.response),i.response.headers=dn.from(i.response.headers))),Promise.reject(i)})}const Nx="1.10.0",Au={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Au[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Iy={};Au.transitional=function(e,n,i){function o(a,c){return"[Axios v"+Nx+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,h)=>{if(e===!1)throw new qe(o(c," has been removed"+(n?" in "+n:"")),qe.ERR_DEPRECATED);return n&&!Iy[c]&&(Iy[c]=!0,console.warn(o(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,c,h):!0}};Au.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function rE(t,e,n){if(typeof t!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let o=i.length;for(;o-- >0;){const a=i[o],c=e[a];if(c){const h=t[a],p=h===void 0||c(h,a,t);if(p!==!0)throw new qe("option "+a+" must be "+p,qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new qe("Unknown option "+a,qe.ERR_BAD_OPTION)}}const nu={assertOptions:rE,validators:Au},Kn=nu.validators;let Es=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Cy,response:new Cy}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ns(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:a}=n;i!==void 0&&nu.assertOptions(i,{silentJSONParsing:Kn.transitional(Kn.boolean),forcedJSONParsing:Kn.transitional(Kn.boolean),clarifyTimeoutError:Kn.transitional(Kn.boolean)},!1),o!=null&&(Q.isFunction(o)?n.paramsSerializer={serialize:o}:nu.assertOptions(o,{encode:Kn.function,serialize:Kn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),nu.assertOptions(n,{baseUrl:Kn.spelling("baseURL"),withXsrfToken:Kn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&Q.merge(a.common,a[n.method]);a&&Q.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),n.headers=dn.concat(c,a);const h=[];let p=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(p=p&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const m=[];this.interceptors.response.forEach(function(A){m.push(A.fulfilled,A.rejected)});let y,T=0,_;if(!p){const S=[Uy.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,m),_=S.length,y=Promise.resolve(n);T<_;)y=y.then(S[T++],S[T++]);return y}_=h.length;let w=n;for(T=0;T<_;){const S=h[T++],A=h[T++];try{w=S(w)}catch(E){A.call(this,E);break}}try{y=Uy.call(this,w)}catch(S){return Promise.reject(S)}for(T=0,_=m.length;T<_;)y=y.then(m[T++],m[T++]);return y}getUri(e){e=Ns(this.defaults,e);const n=Sx(e.baseURL,e.url,e.allowAbsoluteUrls);return vx(n,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Es.prototype[e]=function(n,i){return this.request(Ns(i||{},{method:e,url:n,data:(i||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function n(i){return function(a,c,h){return this.request(Ns(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Es.prototype[e]=n(),Es.prototype[e+"Form"]=n(!0)});let oE=class Rx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(o=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](o);i._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(h=>{i.subscribe(h),a=h}).then(o);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,h){i.reason||(i.reason=new Jr(a,c,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Rx(function(o){e=o}),cancel:e}}};function aE(t){return function(n){return t.apply(null,n)}}function lE(t){return Q.isObject(t)&&t.isAxiosError===!0}const bf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bf).forEach(([t,e])=>{bf[e]=t});function kx(t){const e=new Es(t),n=ox(Es.prototype.request,e);return Q.extend(n,Es.prototype,e,{allOwnKeys:!0}),Q.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return kx(Ns(t,o))},n}const be=kx(Sa);be.Axios=Es;be.CanceledError=Jr;be.CancelToken=oE;be.isCancel=_x;be.VERSION=Nx;be.toFormData=Cu;be.AxiosError=qe;be.Cancel=be.CanceledError;be.all=function(e){return Promise.all(e)};be.spread=aE;be.isAxiosError=lE;be.mergeConfig=Ns;be.AxiosHeaders=dn;be.formToJSON=t=>Tx(Q.isHTMLForm(t)?new FormData(t):t);be.getAdapter=Ax.getAdapter;be.HttpStatusCode=bf;be.default=be;const{Axios:AO,AxiosError:NO,CanceledError:RO,isCancel:kO,CancelToken:MO,VERSION:DO,all:UO,Cancel:IO,isAxiosError:PO,spread:LO,toFormData:OO,AxiosHeaders:qO,HttpStatusCode:BO,formToJSON:VO,getAdapter:$O,mergeConfig:jO}=be,Nu="/api/events";let Ru=null;const uE=t=>{Ru=`Bearer ${t}`},cE=async()=>(await be.get(Nu)).data,dE=async t=>(await be.post(Nu,t,{headers:{Authorization:Ru}})).data,fE=async(t,e)=>{const n=`${Nu}/${t}`;return(await be.put(n,e,{headers:{Authorization:Ru}})).data},hE=async t=>{const e=`${Nu}/${t}`;return(await be.delete(e,{headers:{Authorization:Ru}})).data},Xi={setToken:uE,getAll:cE,createEvent:dE,changeEvent:fE,deleteEvent:hE},Mx=({isOpen:t,onClose:e,title:n,children:i})=>(N.useEffect(()=>{const o=a=>{a.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e]),t?v.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-center z-50",onClick:e,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg",onClick:o=>o.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:n}),v.jsx("button",{onClick:e,className:"text-gray-600 hover:text-red-600 text-xl font-bold",children:"×"})]}),v.jsx("div",{children:i})]})}):null),mE=t=>{var J;const[e,n]=N.useState(null),[i,o]=N.useState(""),[a,c]=N.useState([]),[h,p]=N.useState(""),[m,y]=N.useState(""),[T,_]=N.useState(""),[w,S]=N.useState(""),[A,E]=N.useState(""),[k,I]=N.useState([]),[U,M]=N.useState(!1);N.useEffect(()=>{i.length===0?c(t.events):c(t.events.filter(K=>K.name.toLowerCase().includes(i.toLowerCase())))},[i,t.events]);const L=()=>{A.trim()&&(I(k.concat(A.trim())),E(""))},Y=async K=>{var se,F;K.preventDefault();try{const Pe=await Xi.createEvent({name:h,block:T,group:m,description:w,resources:k});t.setEvents(t.events.concat(Pe)),p(""),_(""),y(""),S(""),E(""),I([]),M(!1),o("")}catch(Pe){(F=(se=Pe.response)==null?void 0:se.data)!=null&&F.error&&Pe.response.data.error==="expected `event name` to be unique"?(n("Event already added"),setTimeout(()=>{n(null)},5e3)):console.error("Failed to add event:",Pe)}},X=async(K,se)=>{try{const F=await Xi.changeEvent(K,se);t.setEvents(t.events.map(Pe=>Pe.id===F.id?F:Pe))}catch(F){console.error("Failed to edit event:",F)}},ie=async K=>{try{await Xi.deleteEvent(K),t.setEvents(t.events.filter(se=>se.id!==K))}catch(se){console.error("Failed to delete event:",se)}};return v.jsxs("div",{className:"max-w-3xl mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-orange-800 text-center sm:text-left flex-1",children:"Science Olympiad Events"}),v.jsx("input",{type:"text",placeholder:"Filter events...",value:i,onChange:({target:K})=>o(K.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 w-full sm:w-1/3"})]}),((J=t.user)==null?void 0:J.admin)&&v.jsx("div",{className:"py-4",children:v.jsx("div",{className:"flex items-center justify-center",children:v.jsx("button",{onClick:()=>M(!0),className:"text-orange-600 text-4xl pt-2 pb-4 py-2 rounded hover:text-orange-700 transition pb-2 w-full border border-orange-300 border-dashed rounded-md hover:bg-orange-100",title:"Add Event",children:"+"})})}),v.jsxs(Mx,{isOpen:U,onClose:()=>{p(""),y(""),S(""),E(""),I([]),M(!1)},title:"Add New Event",children:[e&&v.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[v.jsx("strong",{className:"font-bold",children:"Error: "}),v.jsx("span",{className:"block sm:inline",children:e})]}),v.jsxs("form",{onSubmit:Y,className:"space-y-4 bg-orange-50 p-4 rounded-md",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Name"}),v.jsx("input",{value:h,onChange:({target:K})=>p(K.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Category"}),v.jsxs("select",{name:"category",value:m,onChange:({target:K})=>y(K.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[v.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),v.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),v.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),v.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),v.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),v.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Block"}),v.jsxs("select",{name:"block",value:T,onChange:({target:K})=>_(K.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[v.jsx("option",{value:"",children:"Self Schedule"}),v.jsx("option",{value:"1",children:"Block 1"}),v.jsx("option",{value:"2",children:"Block 2"}),v.jsx("option",{value:"3",children:"Block 3"}),v.jsx("option",{value:"4",children:"Block 4"}),v.jsx("option",{value:"4",children:"Block 5"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Description"}),v.jsx("textarea",{value:w,onChange:({target:K})=>S(K.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 resize-y min-h-[100px]"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:A,onChange:({target:K})=>E(K.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),v.jsx("button",{onClick:L,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]}),v.jsx("div",{className:"mt-4 space-y-2",children:k.length>0&&v.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(K=>v.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[v.jsx("a",{href:K,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:K}),v.jsx("button",{onClick:()=>I(k.filter(se=>se!==K)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:"×"})]},K))})}),v.jsx("button",{type:"submit",className:"w-full bg-orange-600 text-white py-2 rounded-md hover:bg-orange-700 transition",children:"Add Event"})]})]}),v.jsx("ul",{className:"space-y-4",children:a.map(K=>v.jsx(Dw,{user:t.user,event:K,editEvent:X,deleteEvent:ie},K.id))})]})},pE=t=>{const[e,n]=N.useState(""),i=Un(),o=async a=>{a.preventDefault(),await t.handleForgot(e)&&(n(""),i("/signin"))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Forgot Password"}),v.jsxs("form",{onSubmit:o,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"Email Address"}),v.jsx("input",{value:e,onChange:({target:a})=>n(a.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset Password"}),v.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:v.jsx(tt,{to:"/signin",children:"Cancel"})})]})]})},ah="/api/tests";let ku=null;const gE=t=>{ku=`Bearer ${t}`},yE=async()=>(await be.get(ah,{headers:{Authorization:ku}})).data,vE=async t=>(await be.post(ah,t,{headers:{Authorization:ku}})).data,xE=async(t,e)=>(await be.put(`${ah}/${t}`,{assignees:e.assignees},{headers:{Authorization:ku}})).data,kn={setToken:gE,getAll:yE,createTest:vE,updateTest:xE},Dx="/api/questions";let lh=null;const TE=t=>{lh=`Bearer ${t}`},_E=async()=>(await be.get(Dx,{headers:{Authorization:lh}})).data,bE=async t=>(await be.post(Dx,t,{headers:{Authorization:lh}})).data,Dr={setToken:TE,getAll:_E,createQuestion:bE},SE="modulepreload",wE=function(t){return"/"+t},Py={},wa=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=c(n.map(m=>{if(m=wE(m),m in Py)return;Py[m]=!0;const y=m.endsWith(".css"),T=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${T}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":SE,y||(_.as="script"),_.crossOrigin="",_.href=m,p&&_.setAttribute("nonce",p),document.head.appendChild(_),y)return new Promise((w,S)=>{_.addEventListener("load",w),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},CE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wa(async()=>{const{default:i}=await Promise.resolve().then(()=>Yr);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class uh extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class EE extends uh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class AE extends uh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class NE extends uh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sf||(Sf={}));var RE=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class kE{constructor(e,{headers:n={},customFetch:i,region:o=Sf.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=CE(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return RE(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:c}=n;let h={},{region:p}=n;p||(p=this.region),p&&p!=="any"&&(h["x-region"]=p);let m;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)));const y=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:m}).catch(S=>{throw new EE(S)}),T=y.headers.get("x-relay-error");if(T&&T==="true")throw new AE(y);if(!y.ok)throw new NE(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return _==="application/json"?w=yield y.json():_==="application/octet-stream"?w=yield y.blob():_==="text/event-stream"?w=y:_==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null}}catch(o){return{data:null,error:o}}})}}var Lt={},br={},Sr={},wr={},Cr={},Er={},ME=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qr=ME();const DE=qr.fetch,Ux=qr.fetch.bind(qr),Ix=qr.Headers,UE=qr.Request,IE=qr.Response,Yr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ix,Request:UE,Response:IE,default:Ux,fetch:DE},Symbol.toStringTag,{value:"Module"})),PE=Yb(Yr);var Fl={},Ly;function Px(){if(Ly)return Fl;Ly=1,Object.defineProperty(Fl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Fl.default=t,Fl}var Oy;function Lx(){if(Oy)return Er;Oy=1;var t=Er&&Er.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Er,"__esModule",{value:!0});const e=t(PE),n=t(Px());class i{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,c){return this.headers=Object.assign({},this.headers),this.headers[a]=c,this}then(a,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,T,_;let w=null,S=null,A=null,E=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const L=await m.text();L===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=L:S=JSON.parse(L))}const U=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),M=(T=m.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");U&&M&&M.length>1&&(A=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,A=null,E=406,k="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const U=await m.text();try{w=JSON.parse(U),Array.isArray(w)&&m.status===404&&(S=[],w=null,E=200,k="OK")}catch{m.status===404&&U===""?(E=204,k="No Content"):w={message:U}}if(w&&this.isMaybeSingle&&(!((_=w==null?void 0:w.details)===null||_===void 0)&&_.includes("0 rows"))&&(w=null,E=200,k="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:S,count:A,status:E,statusText:k}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,T,_;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(T=m==null?void 0:m.stack)!==null&&T!==void 0?T:""}`,hint:"",code:`${(_=m==null?void 0:m.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),p.then(a,c)}returns(){return this}overrideTypes(){return this}}return Er.default=i,Er}var qy;function Ox(){if(qy)return Cr;qy=1;var t=Cr&&Cr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Cr,"__esModule",{value:!0});const e=t(Lx());class n extends e.default{select(o){let a=!1;const c=(o??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:a=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${o}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:c=a}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,a,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(m,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:a=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var y;const T=[o?"analyze":null,a?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),_=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${_}"; options=${T};`,m==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Cr.default=n,Cr}var By;function ch(){if(By)return wr;By=1;var t=wr&&wr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wr,"__esModule",{value:!0});const e=t(Ox());class n extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const c=Array.from(new Set(a)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${p}fts${m}.${a}`),this}match(o){return Object.entries(o).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(o,a,c){return this.url.searchParams.append(o,`not.${a}.${c}`),this}or(o,{foreignTable:a,referencedTable:c=a}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,a,c){return this.url.searchParams.append(o,`${a}.${c}`),this}}return wr.default=n,wr}var Vy;function qx(){if(Vy)return Sr;Vy=1;var t=Sr&&Sr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Sr,"__esModule",{value:!0});const e=t(ch());class n{constructor(o,{headers:a={},schema:c,fetch:h}){this.url=o,this.headers=a,this.schema=c,this.fetch=h}select(o,{head:a=!1,count:c}={}){const h=a?"HEAD":"GET";let p=!1;const m=(o??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:a,defaultToNull:c=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),a&&p.push(`count=${a}`),c||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const m=o.reduce((y,T)=>y.concat(Object.keys(T)),[]);if(m.length>0){const y=[...new Set(m)].map(T=>`"${T}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:a,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){const m="POST",y=[`resolution=${c?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),p||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(o)){const T=o.reduce((_,w)=>_.concat(Object.keys(w)),[]);if(T.length>0){const _=[...new Set(T)].map(w=>`"${w}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:a}={}){const c="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),this.headers.Prefer=h.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const a="DELETE",c=[];return o&&c.push(`count=${o}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Sr.default=n,Sr}var ia={},sa={},$y;function LE(){return $y||($y=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.version=void 0,sa.version="0.0.0-automated"),sa}var jy;function OE(){if(jy)return ia;jy=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.DEFAULT_HEADERS=void 0;const t=LE();return ia.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ia}var Fy;function qE(){if(Fy)return br;Fy=1;var t=br&&br.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(br,"__esModule",{value:!0});const e=t(qx()),n=t(ch()),i=OE();class o{constructor(c,{headers:h={},schema:p,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:m=!1,count:y}={}){let T;const _=new URL(`${this.url}/rpc/${c}`);let w;p||m?(T=p?"HEAD":"GET",Object.entries(h).filter(([A,E])=>E!==void 0).map(([A,E])=>[A,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([A,E])=>{_.searchParams.append(A,E)})):(T="POST",w=h);const S=Object.assign({},this.headers);return y&&(S.Prefer=`count=${y}`),new n.default({method:T,url:_,headers:S,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return br.default=o,br}var zy;function BE(){if(zy)return Lt;zy=1;var t=Lt&&Lt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.PostgrestError=Lt.PostgrestBuilder=Lt.PostgrestTransformBuilder=Lt.PostgrestFilterBuilder=Lt.PostgrestQueryBuilder=Lt.PostgrestClient=void 0;const e=t(qE());Lt.PostgrestClient=e.default;const n=t(qx());Lt.PostgrestQueryBuilder=n.default;const i=t(ch());Lt.PostgrestFilterBuilder=i.default;const o=t(Ox());Lt.PostgrestTransformBuilder=o.default;const a=t(Lx());Lt.PostgrestBuilder=a.default;const c=t(Px());return Lt.PostgrestError=c.default,Lt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:c.default},Lt}var VE=BE();const $E=Jb(VE),{PostgrestClient:jE,PostgrestQueryBuilder:FO,PostgrestFilterBuilder:zO,PostgrestTransformBuilder:GO,PostgrestBuilder:HO,PostgrestError:JO}=$E;function FE(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const zE=FE(),GE="2.11.15",HE=`realtime-js/${GE}`,JE="1.0.0",Bx=1e4,YE=1e3;var ua;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ua||(ua={}));var Jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jt||(Jt={}));var Bn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Bn||(Bn={}));var wf;(function(t){t.websocket="websocket"})(wf||(wf={}));var ws;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ws||(ws={}));class KE{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const o=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(e.slice(c,c+o));c=c+o;const p=i.decode(e.slice(c,c+a));c=c+a;const m=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class Vx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ht||(ht={}));const Gy=(t,e,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((a,c)=>(a[c]=ZE(c,t,e,o),a),{})},ZE=(t,e,n,i)=>{const o=e.find(h=>h.name===t),a=o==null?void 0:o.type,c=n[t];return a&&!i.includes(a)?$x(a,c):Cf(c)},$x=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return eA(e,n)}switch(t){case ht.bool:return QE(e);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return XE(e);case ht.json:case ht.jsonb:return WE(e);case ht.timestamp:return tA(e);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return Cf(e);default:return Cf(e)}},Cf=t=>t,QE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},XE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},WE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},eA=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let a;const c=t.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(h=>$x(e,h))}return t},tA=t=>typeof t=="string"?t.replace(" ","T"):t,jx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class af{constructor(e,n,i={},o=Bx){this.channel=e,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Hy||(Hy={}));class ca{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ca.syncState(this.state,o,a,c),this.pendingDiffs.forEach(p=>{this.state=ca.syncDiff(this.state,p,a,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ca.syncDiff(this.state,o,a,c),h())}),this.onJoin((o,a,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:c})}),this.onLeave((o,a,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,o){const a=this.cloneDeep(e),c=this.transformState(n),h={},p={};return this.map(a,(m,y)=>{c[m]||(p[m]=y)}),this.map(c,(m,y)=>{const T=a[m];if(T){const _=y.map(E=>E.presence_ref),w=T.map(E=>E.presence_ref),S=y.filter(E=>w.indexOf(E.presence_ref)<0),A=T.filter(E=>_.indexOf(E.presence_ref)<0);S.length>0&&(h[m]=S),A.length>0&&(p[m]=A)}else h[m]=y}),this.syncDiff(a,{joins:h,leaves:p},i,o)}static syncDiff(e,n,i,o){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(h,p)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),y.length>0){const T=e[h].map(w=>w.presence_ref),_=y.filter(w=>T.indexOf(w.presence_ref)<0);e[h].unshift(..._)}i(h,y,p)}),this.map(c,(h,p)=>{let m=e[h];if(!m)return;const y=p.map(T=>T.presence_ref);m=m.filter(T=>y.indexOf(T.presence_ref)<0),e[h]=m,o(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const o=e[i];return"metas"in o?n[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Jy||(Jy={}));var Yy;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yy||(Yy={}));var vi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vi||(vi={}));class dh{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new af(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new Vx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ca(this),this.broadcastEndpointURL=jx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:a,presence:c,private:h}}=this.params;this._onError(y=>e==null?void 0:e(vi.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(vi.CLOSED));const p={},m={broadcast:a,presence:c,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var T;if(this.socket.setAuth(),y===void 0){e==null||e(vi.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,w=(T=_==null?void 0:_.length)!==null&&T!==void 0?T:0,S=[];for(let A=0;A<w;A++){const E=_[A],{filter:{event:k,schema:I,table:U,filter:M}}=E,L=y&&y[A];if(L&&L.event===k&&L.schema===I&&L.table===U&&L.filter===M)S.push(Object.assign(Object.assign({},E),{id:L.id}));else{this.unsubscribe(),this.state=Jt.errored,e==null||e(vi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(vi.SUBSCRIBED);return}}).receive("error",y=>{this.state=Jt.errored,e==null||e(vi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new af(this,Bn.leave,{},e),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new af(this,e,n,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var o,a;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:y}=Bn;if(i&&[h,p,m,y].indexOf(c)>=0&&i!==this._joinRef())return;let _=this._onMessage(c,n,i);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var S,A,E;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(A=w.filter)===null||A===void 0?void 0:A.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(w=>w.callback(_,i)):(a=this.bindings[c])===null||a===void 0||a.filter(w=>{var S,A,E,k,I,U;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const M=w.id,L=(S=w.filter)===null||S===void 0?void 0:S.event;return M&&((A=n.ids)===null||A===void 0?void 0:A.includes(M))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const M=(I=(k=w==null?void 0:w.filter)===null||k===void 0?void 0:k.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return M==="*"||M===((U=n==null?void 0:n.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:A,table:E,commit_timestamp:k,type:I,errors:U}=S;_=Object.assign(Object.assign({},{schema:A,table:E,commit_timestamp:k,eventType:I,new:{},old:{},errors:U}),this._getPayloadRecords(S))}w.callback(_,i)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&dh.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bn.close,{},e)}_onError(e){this._on(Bn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Gy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Gy(e.columns,e.old_record)),n}}const Ky=()=>{},nA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iA{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bx,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ky,this.ref=0,this.logger=Ky,this.conn=null,this.sendBuffer=[],this.serializer=new KE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...h)=>wa(async()=>{const{default:p}=await Promise.resolve().then(()=>Yr);return{default:p}},void 0).then(({default:p})=>p(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${e}/${wf.websocket}`,this.httpEndpoint=jx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,c)=>c(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=zE),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JE}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ua.connecting:return ws.Connecting;case ua.open:return ws.Open;case ua.closing:return ws.Closing;default:return ws.Closed}}isConnected(){return this.connectionState()===ws.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new dh(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:i,payload:o,ref:a}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${a})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:HE};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Bn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(YE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:o,payload:a,ref:c}=n;i==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${i} ${o} ${c&&"("+c+")"||""}`,a),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(o,a,c)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Bn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${i}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([nA],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class fh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ot(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class sA extends fh{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ef extends fh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var rA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const Fx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wa(async()=>{const{default:i}=await Promise.resolve().then(()=>Yr);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},oA=()=>rA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wa(()=>Promise.resolve().then(()=>Yr),void 0)).Response:Response}),Af=t=>{if(Array.isArray(t))return t.map(n=>Af(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Af(i)}),e};var Is=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const lf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aA=(t,e,n)=>Is(void 0,void 0,void 0,function*(){const i=yield oA();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{e(new sA(lf(o),t.status||500))}).catch(o=>{e(new Ef(lf(o),o))}):e(new Ef(lf(t),t))}),lA=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),n))};function Ca(t,e,n,i,o,a){return Is(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(n,lA(e,i,o,a)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>aA(p,h,i))})})}function uu(t,e,n,i){return Is(this,void 0,void 0,function*(){return Ca(t,"GET",e,n,i)})}function Zi(t,e,n,i,o){return Is(this,void 0,void 0,function*(){return Ca(t,"POST",e,i,o,n)})}function uA(t,e,n,i,o){return Is(this,void 0,void 0,function*(){return Ca(t,"PUT",e,i,o,n)})}function cA(t,e,n,i){return Is(this,void 0,void 0,function*(){return Ca(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function zx(t,e,n,i,o){return Is(this,void 0,void 0,function*(){return Ca(t,"DELETE",e,i,o,n)})}var un=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const dA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fA{constructor(e,n={},i,o){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Fx(o)}uploadOrUpdate(e,n,i,o){return un(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},Zy),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),p&&a.append("metadata",this.encodeMetadata(p)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",c.cacheControl),p&&a.append("metadata",this.encodeMetadata(p))):(a=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const m=this._removeEmptyFolders(n),y=this._getFinalPath(m),T=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:e,body:a,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),_=yield T.json();return T.ok?{data:{path:m,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(a){if(Ot(a))return{data:null,error:a};throw a}})}upload(e,n,i){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,o){return un(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),c=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:Zy.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const T=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:y}),_=yield T.json();return T.ok?{data:{path:a,fullPath:_.Key},error:null}:{data:null,error:_}}catch(p){if(Ot(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return un(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield Zi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),c=new URL(this.url+a.url),h=c.searchParams.get("token");if(!h)throw new fh("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}update(e,n,i){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return un(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}copy(e,n,i){return un(this,void 0,void 0,function*(){try{return{data:{path:(yield Zi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,i){return un(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Zi(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,i){return un(this,void 0,void 0,function*(){try{const o=yield Zi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}download(e,n){return un(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield uu(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Ot(h))return{data:null,error:h};throw h}})}info(e){return un(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield uu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Af(i),error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}exists(e){return un(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield cA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Ot(i)&&i instanceof Ef){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&o.push(p);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(e){return un(this,void 0,void 0,function*(){try{return{data:yield zx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}list(e,n,i){return un(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},dA),n),{prefix:e||""});return{data:yield Zi(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const hA="2.7.1",mA={"X-Client-Info":`storage-js/${hA}`};var Ar=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class pA{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},mA),n),this.fetch=Fx(i)}listBuckets(){return Ar(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ot(e))return{data:null,error:e};throw e}})}getBucket(e){return Ar(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ar(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Ar(this,void 0,void 0,function*(){try{return{data:yield uA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Ar(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ar(this,void 0,void 0,function*(){try{return{data:yield zx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}}class gA extends pA{constructor(e,n={},i){super(e,n,i)}from(e){return new fA(this.url,this.headers,e,this.fetch)}}const yA="2.50.2";let oa="";typeof Deno<"u"?oa="deno":typeof document<"u"?oa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oa="react-native":oa="node";const vA={"X-Client-Info":`supabase-js-${oa}/${yA}`},xA={headers:vA},TA={schema:"public"},_A={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bA={};var SA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const wA=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ux:e=fetch,(...n)=>e(...n)},CA=()=>typeof Headers>"u"?Ix:Headers,EA=(t,e,n)=>{const i=wA(n),o=CA();return(a,c)=>SA(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:t;let m=new o(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(a,Object.assign(Object.assign({},c),{headers:m}))})};var AA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};function NA(t){return t.endsWith("/")?t:t+"/"}function RA(t,e){var n,i;const{db:o,auth:a,realtime:c,global:h}=t,{db:p,auth:m,realtime:y,global:T}=e,_={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},y),c),global:Object.assign(Object.assign(Object.assign({},T),h),{headers:Object.assign(Object.assign({},(n=T==null?void 0:T.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>AA(this,void 0,void 0,function*(){return""})};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}const Gx="2.70.0",Ur=30*1e3,Nf=3,uf=Nf*Ur,kA="http://localhost:9999",MA="supabase.auth.token",DA={"X-Client-Info":`gotrue-js/${Gx}`},Rf="X-Supabase-Api-Version",Hx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IA=6e5;class hh extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class PA extends hh{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function LA(t){return Oe(t)&&t.name==="AuthApiError"}class Jx extends hh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ns extends hh{constructor(e,n,i,o){super(e,i,o),this.name=n,this.status=i}}class Ki extends ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OA(t){return Oe(t)&&t.name==="AuthSessionMissingError"}class zl extends ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gl extends ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hl extends ns{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qA(t){return Oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Qy extends ns{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kf extends ns{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function cf(t){return Oe(t)&&t.name==="AuthRetryableFetchError"}class Xy extends ns{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class da extends ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wy=` 	
\r=`.split(""),BA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Wy.length;e+=1)t[Wy[e].charCodeAt(0)]=-2;for(let e=0;e<cu.length;e+=1)t[cu[e].charCodeAt(0)]=e;return t})();function ev(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(cu[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(cu[i]),e.queuedBits-=6}}function Yx(t,e,n){const i=BA[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tv(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=c=>{jA(c,i,n)};for(let c=0;c<t.length;c+=1)Yx(t.charCodeAt(c),o,a);return e.join("")}function VA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $A(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}VA(i,e)}}function jA(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function FA(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Yx(t.charCodeAt(o),n,i);return new Uint8Array(e)}function zA(t){const e=[];return $A(t,n=>e.push(n)),new Uint8Array(e)}function GA(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>ev(o,n,i)),ev(null,n,i),e.join("")}function HA(t){return Math.round(Date.now()/1e3)+t}function JA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const qn=()=>typeof window<"u"&&typeof document<"u",_s={tested:!1,writable:!1},fa=()=>{if(!qn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_s.tested)return _s.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_s.tested=!0,_s.writable=!0}catch{_s.tested=!0,_s.writable=!1}return _s.writable};function YA(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((i,o)=>{e[o]=i}),e}const Kx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wa(async()=>{const{default:i}=await Promise.resolve().then(()=>Yr);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},KA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Jl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yl=async(t,e)=>{await t.removeItem(e)};class Mu{constructor(){this.promise=new Mu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Mu.promiseConstructor=Promise;function df(t){const e=t.split(".");if(e.length!==3)throw new da("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!UA.test(e[i]))throw new da("JWT not in base64url format");return{header:JSON.parse(tv(e[0])),payload:JSON.parse(tv(e[1])),signature:FA(e[2]),raw:{header:e[0],payload:e[1]}}}async function ZA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function QA(t,e){return new Promise((i,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await t(a);if(!e(a,null,c)){i(c);return}}catch(c){if(!e(a,c)){o(c);return}}})()})}function XA(t){return("0"+t.toString(16)).substr(-2)}function WA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,XA).join("")}async function eN(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function tN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await eN(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nr(t,e,n=!1){const i=WA();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await Zx(t,`${e}-code-verifier`,o);const a=await tN(i);return[a,i===a?"plain":"s256"]}const nN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iN(t){const e=t.headers.get(Rf);if(!e||!e.match(nN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rr(t){if(!oN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var aN=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};const Ss=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lN=[502,503,504];async function nv(t){var e;if(!KA(t))throw new kf(Ss(t),0);if(lN.includes(t.status))throw new kf(Ss(t),t.status);let n;try{n=await t.json()}catch(a){throw new Jx(Ss(a),a)}let i;const o=iN(t);if(o&&o.getTime()>=Hx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Xy(Ss(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ki}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Xy(Ss(n),t.status,n.weak_password.reasons);throw new PA(Ss(n),t.status||500,i)}const uN=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function Ye(t,e,n,i){var o;const a=Object.assign({},i==null?void 0:i.headers);a[Rf]||(a[Rf]=Hx["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const c=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await cN(t,e,n+h,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function cN(t,e,n,i,o,a){const c=uN(e,i,o,a);let h;try{h=await t(n,Object.assign({},c))}catch(p){throw console.error(p),new kf(Ss(p),0)}if(h.ok||await nv(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await nv(p)}}function yi(t){var e;let n=null;mN(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=HA(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function iv(t){const e=yi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Wi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dN(t){return{data:t,error:null}}function fN(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a}=t,c=aN(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function hN(t){return t}function mN(t){return t.access_token&&t.refresh_token&&t.expires_in}const ff=["global","local","others"];var pN=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};class gN{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Kx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ff[0]){if(ff.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ff.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Wi})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=pN(e,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:fN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wi})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,o,a,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:hN});if(y.error)throw y.error;const T=await y.json(),_=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(S=>{const A=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);m[`${E}Page`]=A}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},T),m),error:null}}catch(m){if(Oe(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Rr(e);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wi})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Rr(e);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Wi})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Rr(e);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Wi})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Rr(e.userId);try{const{data:n,error:i}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Rr(e.userId),Rr(e.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}}const yN={getItem:t=>fa()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{fa()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{fa()&&globalThis.localStorage.removeItem(t)}};function sv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function vN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kr={debug:!!(globalThis&&fa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xN extends Qx{}async function TN(t,e,n){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}vN();const _N={url:kA,storageKey:MA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rv(t,e,n){return await n()}class ya{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ya.nextInstanceID,ya.nextInstanceID+=1,this.instanceID>0&&qn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},_N),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new gN({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Kx(o.fetch),this.lock=o.lock||rv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:qn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=TN:this.lock=rv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:fa()?this.storage=yN:(this.memoryStorage={},this.storage=sv(this.memoryStorage)):(this.memoryStorage={},this.storage=sv(this.memoryStorage)),qn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=YA(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),qn()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),qA(a)){const p=(e=a.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Oe(n)?{error:n}:{error:new Jx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,o;try{const a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:yi}),{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,i,o;try{let a;if("email"in e){const{email:y,password:T,options:_}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Nr(this.storage,this.storageKey)),a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:T,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:w,code_challenge_method:S},xform:yi})}else if("phone"in e){const{phone:y,password:T,options:_}=e;a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:T,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},channel:(o=_==null?void 0:_.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:yi})}else throw new Gl("You must provide either an email or phone number and a password");const{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:c,options:h}=e;n=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:iv})}else if("phone"in e){const{phone:a,password:c,options:h}=e;n=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:iv})}else throw new Gl("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new zl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,o,a,c,h,p,m,y,T,_,w;let S,A;if("message"in e)S=e.message,A=e.signature;else{const{chain:E,wallet:k,statement:I,options:U}=e;let M;if(qn())if(typeof k=="object")M=k;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))M=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=k}const L=new URL((n=U==null?void 0:U.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const Y=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),I?{statement:I}:null));let X;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")X=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)X=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)S=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),A=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${L.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(o=(i=U==null?void 0:U.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=U==null?void 0:U.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U==null?void 0:U.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((p=U==null?void 0:U.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((m=U==null?void 0:U.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((T=(y=U==null?void 0:U.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||T===void 0)&&T.length?["Resources",...U.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const Y=await M.signMessage(new TextEncoder().encode(S),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=Y}}try{const{data:E,error:k}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:GA(A)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:yi});if(k)throw k;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new zl}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:k})}catch(E){if(Oe(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const n=await Jl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{const{data:a,error:c}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:yi});if(await Yl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new zl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:c})}catch(a){if(Oe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:i,token:o,access_token:a,nonce:c}=e,h=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:yi}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new zl}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,o,a,c;try{if("email"in e){const{email:h,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Nr(this.storage,this.storageKey));const{error:T}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:T}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:y}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new Gl("You must provide either an email or phone number.")}catch(h){if(Oe(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,i;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:yi});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,i,o;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Nr(this.storage,this.storageKey)),await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:dN})}catch(a){if(Oe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Ki;const{error:o}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Oe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:a}=e,{error:c}=await Ye(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:o,options:a}=e,{data:c,error:h}=await Ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Gl("You must provide either an email or phone number and a type")}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Jl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<uf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,y)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,y))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wi}):await this._useSession(async n=>{var i,o,a;const{data:c,error:h}=n;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ki}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Wi})})}catch(n){if(Oe(n))return OA(n)&&(await this._removeSession(),await Yl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new Ki;const c=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Nr(this.storage,this.storageKey));const{data:m,error:y}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:Wi});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ki;const n=Date.now()/1e3;let i=n,o=!0,a=null;const{payload:c}=df(e.access_token);if(c.exp&&(i=c.exp,o=i<=n),o){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Oe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Ki;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!qn())throw new Hl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qy("No code detected.");const{data:I,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=e;if(!a||!h||!c||!m)throw new Hl("No session defined in URL");const y=Math.round(Date.now()/1e3),T=parseInt(h);let _=y+T;p&&(_=parseInt(p));const w=_-y;w*1e3<=Ur&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${T}s`);const S=_-T;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,y);const{data:A,error:E}=await this._getUser(a);if(E)throw E;const k={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:T,expires_at:_,refresh_token:c,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(i){if(Oe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Jl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{error:a};const c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(LA(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Yl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=JA(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,o;try{const{data:{session:a},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Nr(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Oe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:o}=await this._useSession(async a=>{var c,h,p,m,y;const{data:T,error:_}=a;if(_)throw _;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(m=T.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return qn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Oe(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:c}=n;if(c)throw c;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await QA(async o=>(o>0&&await ZA(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yi})),(o,a)=>{const c=200*Math.pow(2,o);return a&&cf(a)&&Date.now()+c-i<Ur})}catch(i){if(this._debug(n,"error",i),Oe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),qn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Jl(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<uf;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${uf}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),cf(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Ki;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Mu;const{data:a,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!a.session)throw new Ki;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),Oe(a)){const c={session:null,error:a};return cf(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){a.push(p)}});if(await Promise.all(c),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Zx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Yl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ur);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Ur);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ur}ms, refresh threshold is ${Nf} ticks`),o<=Nf&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Qx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,c]=await Nr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await Ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:m}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:c,error:h}=await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],o=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=df(o.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i||(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+IA>Date.now()))return i;const{data:o,error:a}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!o.keys||o.keys.length===0)throw new da("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),i=o.keys.find(c=>c.kid===e),!i)throw new da("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};i=w.session.access_token}const{header:o,payload:a,signature:c,raw:{header:h,payload:p}}=df(i);if(sN(a.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:a,header:o,signature:c},error:null}}const m=rN(o.alg),y=await this.fetchJwk(o.kid,n),T=await crypto.subtle.importKey("jwk",y,m,!0,["verify"]);if(!await crypto.subtle.verify(m,T,c,zA(`${h}.${p}`)))throw new da("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}}ya.nextInstanceID=0;const bN=ya;class SN extends bN{constructor(e){super(e)}}var wN=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class CN{constructor(e,n,i){var o,a,c;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=NA(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:TA,realtime:bA,auth:Object.assign(Object.assign({},_A),{storageKey:m}),global:xA},T=RA(i??{},y);this.storageKey=(o=T.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=T.global.headers)!==null&&a!==void 0?a:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=T.auth)!==null&&c!==void 0?c:{},this.headers,T.global.fetch),this.fetch=EA(n,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.rest=new jE(new URL("rest/v1",p).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),T.accessToken||this._listenForAuthEvents()}get functions(){return new kE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gA(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return wN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,storageKey:a,flowType:c,lock:h,debug:p},m,y){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SN({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),m),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,flowType:c,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new iA(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const EN=(t,e,n)=>new CN(t,e,n),ov=EN("https://zazwsuhcsscuxbvyiuwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphendzdWhjc3NjdXhidnlpdXdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA4MjExMjMsImV4cCI6MjA2NjM5NzEyM30.lt7ZjnkOKJdLW_oiJ-3Nu4YoeLWFGlmcuwMkMmrTqY0"),AN=async t=>{if(!t)return null;const e=t.name.split(".").pop(),i=`images/${`${Math.random().toString(36).slice(2)}.${e}`}`,{data:o,error:a}=await ov.storage.from("images").upload(i,t);if(a)return console.error(a),null;const{data:c,error:h}=ov.storage.from("images").getPublicUrl(i);if(h)return console.error("Public URL error:",h),null;if(c)return c.publicUrl},NN={getImageUrl:AN};var nt;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const a={};for(const c of o)a[c]=c;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(h=>typeof o[o[h]]!="number"),c={};for(const h of a)c[h]=o[h];return t.objectValues(c)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&a.push(c);return a},t.find=(o,a)=>{for(const c of o)if(a(c))return c},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,a=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}t.joinValues=i,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(nt||(nt={}));var av;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(av||(av={}));const ge=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qi=t=>{switch(typeof t){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return Number.isNaN(t)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(t)?ge.array:t===null?ge.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ge.promise:typeof Map<"u"&&t instanceof Map?ge.map:typeof Set<"u"&&t instanceof Set?ge.set:typeof Date<"u"&&t instanceof Date?ge.date:ge.object;default:return ge.unknown}},le=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class _i extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},i={_errors:[]},o=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)i._errors.push(n(c));else{let h=i,p=0;for(;p<c.path.length;){const m=c.path[p];p===c.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(n(c))):h[m]=h[m]||{_errors:[]},h=h[m],p++}}};return o(this),i}static assert(e){if(!(e instanceof _i))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):i.push(e(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}_i.create=t=>new _i(t);const Mf=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===ge.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,nt.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${nt.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${nt.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${nt.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:nt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,nt.assertNever(t)}return{message:n}};let RN=Mf;function kN(){return RN}const MN=t=>{const{data:e,path:n,errorMaps:i,issueData:o}=t,a=[...n,...o.path||[]],c={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let h="";const p=i.filter(m=>!!m).slice().reverse();for(const m of p)h=m(c,{data:e,defaultError:h}).message;return{...o,path:a,message:h}};function ce(t,e){const n=kN(),i=MN({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Mf?void 0:Mf].filter(o=>!!o)});t.common.issues.push(i)}class en{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const o of n){if(o.status==="aborted")return Ie;o.status==="dirty"&&e.dirty(),i.push(o.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const o of n){const a=await o.key,c=await o.value;i.push({key:a,value:c})}return en.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const o of n){const{key:a,value:c}=o;if(a.status==="aborted"||c.status==="aborted")return Ie;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(i[a.value]=c.value)}return{status:e.value,value:i}}}const Ie=Object.freeze({status:"aborted"}),aa=t=>({status:"dirty",value:t}),In=t=>({status:"valid",value:t}),lv=t=>t.status==="aborted",uv=t=>t.status==="dirty",Br=t=>t.status==="valid",du=t=>typeof Promise<"u"&&t instanceof Promise;var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));class ei{constructor(e,n,i,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cv=(t,e)=>{if(Br(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new _i(t.common.issues);return this._error=n,this._error}}};function Ve(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:o}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,h)=>{const{message:p}=t;return c.code==="invalid_enum_value"?{message:p??h.defaultError}:typeof h.data>"u"?{message:p??i??h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:p??n??h.defaultError}},description:o}}class Ze{get description(){return this._def.description}_getType(e){return Qi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Qi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new en,ctx:{common:e.parent.common,data:e.data,parsedType:Qi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(du(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qi(e)},o=this._parseSync({data:e,path:i.path,parent:i});return cv(i,o)}"~validate"(e){var i,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qi(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Br(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(o=(i=a==null?void 0:a.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Br(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qi(e)},o=this._parse({data:e,path:i.path,parent:i}),a=await(du(o)?o:Promise.resolve(o));return cv(i,a)}refine(e,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,a)=>{const c=e(o),h=()=>a.addIssue({code:le.custom,...i(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(p=>p?!0:(h(),!1)):c?!0:(h(),!1)})}refinement(e,n){return this._refinement((i,o)=>e(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(e){return new jr({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return es.create(this,this._def)}nullable(){return Fr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wn.create(this)}promise(){return gu.create(this,this._def)}or(e){return hu.create([this,e],this._def)}and(e){return mu.create(this,e,this._def)}transform(e){return new jr({...Ve(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Pf({...Ve(this._def),innerType:this,defaultValue:n,typeName:Ue.ZodDefault})}brand(){return new eR({typeName:Ue.ZodBranded,type:this,...Ve(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Lf({...Ve(this._def),innerType:this,catchValue:n,typeName:Ue.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return mh.create(this,e)}readonly(){return Of.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const DN=/^c[^\s-]{8,}$/i,UN=/^[0-9a-z]+$/,IN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,LN=/^[a-z0-9_-]{21}$/i,ON=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,qN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,BN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,VN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hf;const $N=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,FN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,HN=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Xx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",JN=new RegExp(`^${Xx}$`);function Wx(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function YN(t){return new RegExp(`^${Wx(t)}$`)}function KN(t){let e=`${Xx}T${Wx(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function ZN(t,e){return!!((e==="v4"||!e)&&$N.test(t)||(e==="v6"||!e)&&FN.test(t))}function QN(t,e){if(!ON.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function XN(t,e){return!!((e==="v4"||!e)&&jN.test(t)||(e==="v6"||!e)&&zN.test(t))}class Qn extends Ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ge.string){const a=this._getOrReturnCtx(e);return ce(a,{code:le.invalid_type,expected:ge.string,received:a.parsedType}),Ie}const i=new en;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,h=e.data.length<a.value;(c||h)&&(o=this._getOrReturnCtx(e,o),c?ce(o,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):h&&ce(o,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")BN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"email",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")hf||(hf=new RegExp(VN,"u")),hf.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"emoji",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")PN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"uuid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")LN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"nanoid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")DN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"cuid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")UN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"cuid2",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")IN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"ulid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ce(o,{validation:"url",code:le.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"regex",code:le.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?KN(a).test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?JN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?YN(a).test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?qN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"duration",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?ZN(e.data,a.version)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"ip",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?QN(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"jwt",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?XN(e.data,a.version)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"cidr",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?GN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"base64",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?HN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"base64url",code:le.invalid_string,message:a.message}),i.dirty()):nt.assertNever(a);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(o=>e.test(o),{validation:n,code:le.invalid_string,...ve.errToObj(i)})}_addCheck(e){return new Qn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ve.errToObj(n)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qn.create=t=>new Qn({checks:[],typeName:Ue.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ve(t)});function WN(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=n>i?n:i,a=Number.parseInt(t.toFixed(o).replace(".","")),c=Number.parseInt(e.toFixed(o).replace(".",""));return a%c/10**o}class Rs extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ge.number){const a=this._getOrReturnCtx(e);return ce(a,{code:le.invalid_type,expected:ge.number,received:a.parsedType}),Ie}let i;const o=new en;for(const a of this._def.checks)a.kind==="int"?nt.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{code:le.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?WN(e.data,a.value)!==0&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{code:le.not_finite,message:a.message}),o.dirty()):nt.assertNever(a);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,i,o){return new Rs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:ve.toString(o)}]})}_addCheck(e){return new Rs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&nt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Rs.create=t=>new Rs({checks:[],typeName:Ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class ks extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ge.bigint)return this._getInvalidInput(e);let i;const o=new en;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):nt.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ce(n,{code:le.invalid_type,expected:ge.bigint,received:n.parsedType}),Ie}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,i,o){return new ks({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:ve.toString(o)}]})}_addCheck(e){return new ks({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ks.create=t=>new ks({checks:[],typeName:Ue.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ve(t)});class fu extends Ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ge.boolean){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.boolean,received:i.parsedType}),Ie}return In(e.data)}}fu.create=t=>new fu({typeName:Ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class Vr extends Ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ge.date){const a=this._getOrReturnCtx(e);return ce(a,{code:le.invalid_type,expected:ge.date,received:a.parsedType}),Ie}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ce(a,{code:le.invalid_date}),Ie}const i=new en;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):nt.assertNever(a);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vr({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Vr.create=t=>new Vr({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ue.ZodDate,...Ve(t)});class dv extends Ze{_parse(e){if(this._getType(e)!==ge.symbol){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.symbol,received:i.parsedType}),Ie}return In(e.data)}}dv.create=t=>new dv({typeName:Ue.ZodSymbol,...Ve(t)});class fv extends Ze{_parse(e){if(this._getType(e)!==ge.undefined){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.undefined,received:i.parsedType}),Ie}return In(e.data)}}fv.create=t=>new fv({typeName:Ue.ZodUndefined,...Ve(t)});class hv extends Ze{_parse(e){if(this._getType(e)!==ge.null){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.null,received:i.parsedType}),Ie}return In(e.data)}}hv.create=t=>new hv({typeName:Ue.ZodNull,...Ve(t)});class mv extends Ze{constructor(){super(...arguments),this._any=!0}_parse(e){return In(e.data)}}mv.create=t=>new mv({typeName:Ue.ZodAny,...Ve(t)});class Df extends Ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return In(e.data)}}Df.create=t=>new Df({typeName:Ue.ZodUnknown,...Ve(t)});class ts extends Ze{_parse(e){const n=this._getOrReturnCtx(e);return ce(n,{code:le.invalid_type,expected:ge.never,received:n.parsedType}),Ie}}ts.create=t=>new ts({typeName:Ue.ZodNever,...Ve(t)});class pv extends Ze{_parse(e){if(this._getType(e)!==ge.undefined){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.void,received:i.parsedType}),Ie}return In(e.data)}}pv.create=t=>new pv({typeName:Ue.ZodVoid,...Ve(t)});class Wn extends Ze{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),o=this._def;if(n.parsedType!==ge.array)return ce(n,{code:le.invalid_type,expected:ge.array,received:n.parsedType}),Ie;if(o.exactLength!==null){const c=n.data.length>o.exactLength.value,h=n.data.length<o.exactLength.value;(c||h)&&(ce(n,{code:c?le.too_big:le.too_small,minimum:h?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(ce(n,{code:le.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(ce(n,{code:le.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((c,h)=>o.type._parseAsync(new ei(n,c,n.path,h)))).then(c=>en.mergeArray(i,c));const a=[...n.data].map((c,h)=>o.type._parseSync(new ei(n,c,n.path,h)));return en.mergeArray(i,a)}get element(){return this._def.type}min(e,n){return new Wn({...this._def,minLength:{value:e,message:ve.toString(n)}})}max(e,n){return new Wn({...this._def,maxLength:{value:e,message:ve.toString(n)}})}length(e,n){return new Wn({...this._def,exactLength:{value:e,message:ve.toString(n)}})}nonempty(e){return this.min(1,e)}}Wn.create=(t,e)=>new Wn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...Ve(e)});function Ir(t){if(t instanceof Nt){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=es.create(Ir(i))}return new Nt({...t._def,shape:()=>e})}else return t instanceof Wn?new Wn({...t._def,type:Ir(t.element)}):t instanceof es?es.create(Ir(t.unwrap())):t instanceof Fr?Fr.create(Ir(t.unwrap())):t instanceof Ms?Ms.create(t.items.map(e=>Ir(e))):t}class Nt extends Ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=nt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ge.object){const m=this._getOrReturnCtx(e);return ce(m,{code:le.invalid_type,expected:ge.object,received:m.parsedType}),Ie}const{status:i,ctx:o}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof ts&&this._def.unknownKeys==="strip"))for(const m in o.data)c.includes(m)||h.push(m);const p=[];for(const m of c){const y=a[m],T=o.data[m];p.push({key:{status:"valid",value:m},value:y._parse(new ei(o,T,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof ts){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of h)p.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(m==="strict")h.length>0&&(ce(o,{code:le.unrecognized_keys,keys:h}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of h){const T=o.data[y];p.push({key:{status:"valid",value:y},value:m._parse(new ei(o,T,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of p){const T=await y.key,_=await y.value;m.push({key:T,value:_,alwaysSet:y.alwaysSet})}return m}).then(m=>en.mergeObjectSync(i,m)):en.mergeObjectSync(i,p)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new Nt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var a,c;const o=((c=(a=this._def).errorMap)==null?void 0:c.call(a,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:ve.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Nt({...this._def,unknownKeys:"strip"})}passthrough(){return new Nt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Nt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Nt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ue.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Nt({...this._def,catchall:e})}pick(e){const n={};for(const i of nt.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Nt({...this._def,shape:()=>n})}omit(e){const n={};for(const i of nt.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new Nt({...this._def,shape:()=>n})}deepPartial(){return Ir(this)}partial(e){const n={};for(const i of nt.objectKeys(this.shape)){const o=this.shape[i];e&&!e[i]?n[i]=o:n[i]=o.optional()}return new Nt({...this._def,shape:()=>n})}required(e){const n={};for(const i of nt.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof es;)a=a._def.innerType;n[i]=a}return new Nt({...this._def,shape:()=>n})}keyof(){return eT(nt.objectKeys(this.shape))}}Nt.create=(t,e)=>new Nt({shape:()=>t,unknownKeys:"strip",catchall:ts.create(),typeName:Ue.ZodObject,...Ve(e)});Nt.strictCreate=(t,e)=>new Nt({shape:()=>t,unknownKeys:"strict",catchall:ts.create(),typeName:Ue.ZodObject,...Ve(e)});Nt.lazycreate=(t,e)=>new Nt({shape:t,unknownKeys:"strip",catchall:ts.create(),typeName:Ue.ZodObject,...Ve(e)});class hu extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function o(a){for(const h of a)if(h.result.status==="valid")return h.result;for(const h of a)if(h.result.status==="dirty")return n.common.issues.push(...h.ctx.common.issues),h.result;const c=a.map(h=>new _i(h.ctx.common.issues));return ce(n,{code:le.invalid_union,unionErrors:c}),Ie}if(n.common.async)return Promise.all(i.map(async a=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(o);{let a;const c=[];for(const p of i){const m={...n,common:{...n.common,issues:[]},parent:null},y=p._parseSync({data:n.data,path:n.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!a&&(a={result:y,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const h=c.map(p=>new _i(p));return ce(n,{code:le.invalid_union,unionErrors:h}),Ie}}get options(){return this._def.options}}hu.create=(t,e)=>new hu({options:t,typeName:Ue.ZodUnion,...Ve(e)});function Uf(t,e){const n=Qi(t),i=Qi(e);if(t===e)return{valid:!0,data:t};if(n===ge.object&&i===ge.object){const o=nt.objectKeys(e),a=nt.objectKeys(t).filter(h=>o.indexOf(h)!==-1),c={...t,...e};for(const h of a){const p=Uf(t[h],e[h]);if(!p.valid)return{valid:!1};c[h]=p.data}return{valid:!0,data:c}}else if(n===ge.array&&i===ge.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const c=t[a],h=e[a],p=Uf(c,h);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return n===ge.date&&i===ge.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class mu extends Ze{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=(a,c)=>{if(lv(a)||lv(c))return Ie;const h=Uf(a.value,c.value);return h.valid?((uv(a)||uv(c))&&n.dirty(),{status:n.value,value:h.data}):(ce(i,{code:le.invalid_intersection_types}),Ie)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,c])=>o(a,c)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}mu.create=(t,e,n)=>new mu({left:t,right:e,typeName:Ue.ZodIntersection,...Ve(n)});class Ms extends Ze{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ge.array)return ce(i,{code:le.invalid_type,expected:ge.array,received:i.parsedType}),Ie;if(i.data.length<this._def.items.length)return ce(i,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ie;!this._def.rest&&i.data.length>this._def.items.length&&(ce(i,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((c,h)=>{const p=this._def.items[h]||this._def.rest;return p?p._parse(new ei(i,c,i.path,h)):null}).filter(c=>!!c);return i.common.async?Promise.all(a).then(c=>en.mergeArray(n,c)):en.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Ms({...this._def,rest:e})}}Ms.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ms({items:t,typeName:Ue.ZodTuple,rest:null,...Ve(e)})};class pu extends Ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ge.object)return ce(i,{code:le.invalid_type,expected:ge.object,received:i.parsedType}),Ie;const o=[],a=this._def.keyType,c=this._def.valueType;for(const h in i.data)o.push({key:a._parse(new ei(i,h,i.path,h)),value:c._parse(new ei(i,i.data[h],i.path,h)),alwaysSet:h in i.data});return i.common.async?en.mergeObjectAsync(n,o):en.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof Ze?new pu({keyType:e,valueType:n,typeName:Ue.ZodRecord,...Ve(i)}):new pu({keyType:Qn.create(),valueType:e,typeName:Ue.ZodRecord,...Ve(n)})}}class gv extends Ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ge.map)return ce(i,{code:le.invalid_type,expected:ge.map,received:i.parsedType}),Ie;const o=this._def.keyType,a=this._def.valueType,c=[...i.data.entries()].map(([h,p],m)=>({key:o._parse(new ei(i,h,i.path,[m,"key"])),value:a._parse(new ei(i,p,i.path,[m,"value"]))}));if(i.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const p of c){const m=await p.key,y=await p.value;if(m.status==="aborted"||y.status==="aborted")return Ie;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}})}else{const h=new Map;for(const p of c){const m=p.key,y=p.value;if(m.status==="aborted"||y.status==="aborted")return Ie;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}}}}gv.create=(t,e,n)=>new gv({valueType:e,keyType:t,typeName:Ue.ZodMap,...Ve(n)});class va extends Ze{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ge.set)return ce(i,{code:le.invalid_type,expected:ge.set,received:i.parsedType}),Ie;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(ce(i,{code:le.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(ce(i,{code:le.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const a=this._def.valueType;function c(p){const m=new Set;for(const y of p){if(y.status==="aborted")return Ie;y.status==="dirty"&&n.dirty(),m.add(y.value)}return{status:n.value,value:m}}const h=[...i.data.values()].map((p,m)=>a._parse(new ei(i,p,i.path,m)));return i.common.async?Promise.all(h).then(p=>c(p)):c(h)}min(e,n){return new va({...this._def,minSize:{value:e,message:ve.toString(n)}})}max(e,n){return new va({...this._def,maxSize:{value:e,message:ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}va.create=(t,e)=>new va({valueType:t,minSize:null,maxSize:null,typeName:Ue.ZodSet,...Ve(e)});class If extends Ze{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}If.create=(t,e)=>new If({getter:t,typeName:Ue.ZodLazy,...Ve(e)});class yv extends Ze{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ce(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Ie}return{status:"valid",value:e.data}}get value(){return this._def.value}}yv.create=(t,e)=>new yv({value:t,typeName:Ue.ZodLiteral,...Ve(e)});function eT(t,e){return new $r({values:t,typeName:Ue.ZodEnum,...Ve(e)})}class $r extends Ze{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return ce(n,{expected:nt.joinValues(i),received:n.parsedType,code:le.invalid_type}),Ie}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return ce(n,{received:n.data,code:le.invalid_enum_value,options:i}),Ie}return In(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return $r.create(e,{...this._def,...n})}exclude(e,n=this._def){return $r.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}$r.create=eT;class vv extends Ze{_parse(e){const n=nt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==ge.string&&i.parsedType!==ge.number){const o=nt.objectValues(n);return ce(i,{expected:nt.joinValues(o),received:i.parsedType,code:le.invalid_type}),Ie}if(this._cache||(this._cache=new Set(nt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=nt.objectValues(n);return ce(i,{received:i.data,code:le.invalid_enum_value,options:o}),Ie}return In(e.data)}get enum(){return this._def.values}}vv.create=(t,e)=>new vv({values:t,typeName:Ue.ZodNativeEnum,...Ve(e)});class gu extends Ze{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.promise&&n.common.async===!1)return ce(n,{code:le.invalid_type,expected:ge.promise,received:n.parsedType}),Ie;const i=n.parsedType===ge.promise?n.data:Promise.resolve(n.data);return In(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}gu.create=(t,e)=>new gu({type:t,typeName:Ue.ZodPromise,...Ve(e)});class jr extends Ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:c=>{ce(i,c),c.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const c=o.transform(i.data,a);if(i.common.async)return Promise.resolve(c).then(async h=>{if(n.value==="aborted")return Ie;const p=await this._def.schema._parseAsync({data:h,path:i.path,parent:i});return p.status==="aborted"?Ie:p.status==="dirty"||n.value==="dirty"?aa(p.value):p});{if(n.value==="aborted")return Ie;const h=this._def.schema._parseSync({data:c,path:i.path,parent:i});return h.status==="aborted"?Ie:h.status==="dirty"||n.value==="dirty"?aa(h.value):h}}if(o.type==="refinement"){const c=h=>{const p=o.refinement(h,a);if(i.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(i.common.async===!1){const h=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return h.status==="aborted"?Ie:(h.status==="dirty"&&n.dirty(),c(h.value),{status:n.value,value:h.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(h=>h.status==="aborted"?Ie:(h.status==="dirty"&&n.dirty(),c(h.value).then(()=>({status:n.value,value:h.value}))))}if(o.type==="transform")if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Br(c))return Ie;const h=o.transform(c.value,a);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:h}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>Br(c)?Promise.resolve(o.transform(c.value,a)).then(h=>({status:n.value,value:h})):Ie);nt.assertNever(o)}}jr.create=(t,e,n)=>new jr({schema:t,typeName:Ue.ZodEffects,effect:e,...Ve(n)});jr.createWithPreprocess=(t,e,n)=>new jr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ue.ZodEffects,...Ve(n)});class es extends Ze{_parse(e){return this._getType(e)===ge.undefined?In(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}es.create=(t,e)=>new es({innerType:t,typeName:Ue.ZodOptional,...Ve(e)});class Fr extends Ze{_parse(e){return this._getType(e)===ge.null?In(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fr.create=(t,e)=>new Fr({innerType:t,typeName:Ue.ZodNullable,...Ve(e)});class Pf extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===ge.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Pf.create=(t,e)=>new Pf({innerType:t,typeName:Ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ve(e)});class Lf extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return du(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new _i(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new _i(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Lf.create=(t,e)=>new Lf({innerType:t,typeName:Ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ve(e)});class xv extends Ze{_parse(e){if(this._getType(e)!==ge.nan){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.nan,received:i.parsedType}),Ie}return{status:"valid",value:e.data}}}xv.create=t=>new xv({typeName:Ue.ZodNaN,...Ve(t)});class eR extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class mh extends Ze{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Ie:a.status==="dirty"?(n.dirty(),aa(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Ie:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(e,n){return new mh({in:e,out:n,typeName:Ue.ZodPipeline})}}class Of extends Ze{_parse(e){const n=this._def.innerType._parse(e),i=o=>(Br(o)&&(o.value=Object.freeze(o.value)),o);return du(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}Of.create=(t,e)=>new Of({innerType:t,typeName:Ue.ZodReadonly,...Ve(e)});var Ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const bs=Qn.create,Tv=Rs.create;ks.create;const tR=fu.create;Vr.create;const _v=Df.create;ts.create;const la=Wn.create,nR=Nt.create,iR=hu.create;mu.create;Ms.create;const sR=pu.create,rR=If.create,oR=$r.create;gu.create;es.create;Fr.create;const Mr={string:t=>Qn.create({...t,coerce:!0}),number:t=>Rs.create({...t,coerce:!0}),boolean:t=>fu.create({...t,coerce:!0}),bigint:t=>ks.create({...t,coerce:!0}),date:t=>Vr.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aR,lR;function uR(){return{geminiUrl:aR,vertexUrl:lR}}function cR(t,e,n){var i,o,a;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const c=uR();return t.vertexai?(o=c.vertexUrl)!==null&&o!==void 0?o:e:(a=c.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ps{}function _e(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function d(t,e,n){for(let a=0;a<e.length-1;a++){const c=e[a];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(n))for(let m=0;m<p.length;m++){const y=p[m];d(y,e.slice(a+1),n[m])}else for(const m of p)d(m,e.slice(a+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];d(p[0],e.slice(a+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(c=>u(c,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bv||(bv={}));var Sv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Sv||(Sv={}));var Xn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Xn||(Xn={}));var wv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(wv||(wv={}));var Cv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Cv||(Cv={}));var Ev;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ev||(Ev={}));var Av;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Av||(Av={}));var Nv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Nv||(Nv={}));var Rv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Rv||(Rv={}));var kv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(kv||(kv={}));var Mv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Mv||(Mv={}));var Dv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Dv||(Dv={}));var Uv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Uv||(Uv={}));var yu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(yu||(yu={}));var Iv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Iv||(Iv={}));var qf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qf||(qf={}));var Pv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Pv||(Pv={}));var Lv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Lv||(Lv={}));var Ov;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ov||(Ov={}));var qv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qv||(qv={}));var Bv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Bv||(Bv={}));var Vv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Vv||(Vv={}));var $v;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($v||($v={}));var jv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(jv||(jv={}));var Fv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Fv||(Fv={}));var zv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(zv||(zv={}));var Gv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Gv||(Gv={}));var Hv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hv||(Hv={}));var Jv;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Jv||(Jv={}));var Yv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Yv||(Yv={}));var Kv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Kv||(Kv={}));var Zv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Zv||(Zv={}));var Qv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Qv||(Qv={}));var Xv;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xv||(Xv={}));var Wv;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Wv||(Wv={}));var e0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(e0||(e0={}));var t0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(t0||(t0={}));var n0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(n0||(n0={}));var i0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(i0||(i0={}));var Pr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Pr||(Pr={}));function s0(t,e){return{fileData:{fileUri:t,mimeType:e}}}class Bf{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ra{get text(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const T=[];for(const _ of(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[w,S]of Object.entries(_))w!=="text"&&w!=="thought"&&(S!==null||S!==void 0)&&T.push(w);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;y=!0,m+=_.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const T of(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[_,w]of Object.entries(T))_!=="inlineData"&&(w!==null||w!==void 0)&&y.push(_);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,o,a,c,h,p,m;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,o,a,c,h,p,m;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class r0{}class o0{}class dR{}class fR{}class a0{}class l0{}class u0{}class hR{}class c0{}class d0{}class f0{}class mR{}class pR{}class gR{}class h0{}class yR{get text(){var e,n,i;let o="",a=!1;const c=[];for(const h of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&c.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;a=!0,o+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,i;let o="";const a=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(c))h!=="inlineData"&&p!==null&&a.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class vR{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function at(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function tT(t,e){const n=at(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function nT(t){return Array.isArray(t)?t.map(e=>vu(e)):[vu(t)]}function vu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function xR(t){const e=vu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function TR(t){const e=vu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function m0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function iT(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>m0(e)):[m0(t)]}function Vf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function p0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function g0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Zt(t){if(t==null)throw new Error("ContentUnion is required");return Vf(t)?t:{role:"user",parts:iT(t)}}function sT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Zt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Zt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Zt(n)):[Zt(e)]}function Dn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(p0(t)||g0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Zt(t)]}const e=[],n=[],i=Vf(t[0]);for(const o of t){const a=Vf(o);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(p0(o)||g0(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:iT(n)}),e}const _R=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),y0=oR(["string","number","integer","object","array","boolean","null"]),bR=iR([y0,la(y0)]);function SR(t=!0){const e=rR(()=>{const n=nR({type:bR.optional(),format:bs().optional(),title:bs().optional(),description:bs().optional(),default:_v().optional(),items:e.optional(),minItems:Mr.string().optional(),maxItems:Mr.string().optional(),enum:la(_v()).optional(),properties:sR(bs(),e).optional(),required:la(bs()).optional(),minProperties:Mr.string().optional(),maxProperties:Mr.string().optional(),propertyOrdering:la(bs()).optional(),minimum:Tv().optional(),maximum:Tv().optional(),minLength:Mr.string().optional(),maxLength:Mr.string().optional(),pattern:bs().optional(),anyOf:la(e).optional(),additionalProperties:tR().optional()});return t?n.strict():n});return e}function wR(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Xn).includes(n[0].toUpperCase())?n[0].toUpperCase():Xn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Xn).includes(i.toUpperCase())?i.toUpperCase():Xn.TYPE_UNSPECIFIED})}}function Lr(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&wR(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Xn).includes(h.toUpperCase())?h.toUpperCase():Xn.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=Lr(h);else if(i.includes(c)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(Lr(m))}e[c]=p}else if(o.includes(c)){const p={};for(const[m,y]of Object.entries(h))p[m]=Lr(y);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=h}return e}function xa(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=SR().parse(t);return Lr(e)}else return Lr(t)}function ph(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function gh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Kr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=xa(e.parameters)),e.response&&(e.response=xa(e.response));return t}function Zr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function CR(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Si(t,e){if(typeof e!="string")throw new Error("name must be a string");return CR(t,e,"cachedContents")}function rT(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function wi(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function ER(t){return t!=null&&typeof t=="object"&&"name"in t}function AR(t){return t!=null&&typeof t=="object"&&"video"in t}function NR(t){return t!=null&&typeof t=="object"&&"uri"in t}function oT(t){var e;let n;if(ER(t)&&(n=t.name),!(NR(t)&&(n=t.uri,n===void 0))&&!(AR(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function aT(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function lT(t){for(const e of["models","tunedModels","publisherModels"])if(RR(t,e))return t[e];return[]}function RR(t,e){return t!==null&&typeof t=="object"&&e in t}function kR(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:Lr(Du(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function MR(t,e={}){const n=[],i=new Set;for(const o of t){const a=o.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const c=kR(o,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function DR(t){const e=[];for(const n of t)e.push(Du(n));return e}function UR(t){const e={};for(const[n,i]of Object.entries(t)){const o=i;e[n]=Du(o)}return e}function Du(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),o={};for(const[a,c]of Object.entries(t))if(e.has(a))o[a]=Du(c);else if(n.has(a))o[a]=DR(c);else if(i.has(a))o[a]=UR(c);else if(a==="type"){const h=c.toUpperCase();o[a]=Object.values(Xn).includes(h)?h:Xn.TYPE_UNSPECIFIED}else _R.has(a)&&(o[a]=c);return o}function uT(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function IR(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Uu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function cT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PR(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function LR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function OR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function qR(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],PR(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],LR(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],OR(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function dT(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>qR(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function BR(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&d(e,["maxProperties"],T);const _=u(t,["maximum"]);_!=null&&d(e,["maximum"],_);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const S=u(t,["minLength"]);S!=null&&d(e,["minLength"],S);const A=u(t,["minProperties"]);A!=null&&d(e,["minProperties"],A);const E=u(t,["minimum"]);E!=null&&d(e,["minimum"],E);const k=u(t,["nullable"]);k!=null&&d(e,["nullable"],k);const I=u(t,["pattern"]);I!=null&&d(e,["pattern"],I);const U=u(t,["properties"]);U!=null&&d(e,["properties"],U);const M=u(t,["propertyOrdering"]);M!=null&&d(e,["propertyOrdering"],M);const L=u(t,["required"]);L!=null&&d(e,["required"],L);const Y=u(t,["title"]);Y!=null&&d(e,["title"],Y);const X=u(t,["type"]);return X!=null&&d(e,["type"],X),e}function VR(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&d(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&d(e,["threshold"],i),e}function $R(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function jR(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function FR(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],jR(n)),e}function zR(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function GR(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],zR(n)),e}function HR(){return{}}function JR(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>$R(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],FR(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],GR(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],HR());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function YR(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function KR(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function ZR(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],KR(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function QR(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],YR(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],ZR(i)),e}function XR(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function fT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],XR(n)),e}function WR(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],fT(i)),e}function ek(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>WR(o))),d(e,["speakerVoiceConfigs"],i)}return e}function tk(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],fT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],ek(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function nk(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function ik(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],dT(Zt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&d(i,["responseLogprobs"],T);const _=u(e,["logprobs"]);_!=null&&d(i,["logprobs"],_);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const S=u(e,["frequencyPenalty"]);S!=null&&d(i,["frequencyPenalty"],S);const A=u(e,["seed"]);A!=null&&d(i,["seed"],A);const E=u(e,["responseMimeType"]);E!=null&&d(i,["responseMimeType"],E);const k=u(e,["responseSchema"]);k!=null&&d(i,["responseSchema"],BR(xa(k)));const I=u(e,["responseJsonSchema"]);if(I!=null&&d(i,["responseJsonSchema"],I),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=u(e,["safetySettings"]);if(n!==void 0&&U!=null){let se=U;Array.isArray(se)&&(se=se.map(F=>VR(F))),d(n,["safetySettings"],se)}const M=u(e,["tools"]);if(n!==void 0&&M!=null){let se=Zr(M);Array.isArray(se)&&(se=se.map(F=>JR(Kr(F)))),d(n,["tools"],se)}const L=u(e,["toolConfig"]);if(n!==void 0&&L!=null&&d(n,["toolConfig"],QR(L)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=u(e,["cachedContent"]);n!==void 0&&Y!=null&&d(n,["cachedContent"],Si(t,Y));const X=u(e,["responseModalities"]);X!=null&&d(i,["responseModalities"],X);const ie=u(e,["mediaResolution"]);ie!=null&&d(i,["mediaResolution"],ie);const J=u(e,["speechConfig"]);if(J!=null&&d(i,["speechConfig"],tk(ph(J))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=u(e,["thinkingConfig"]);return K!=null&&d(i,["thinkingConfig"],nk(K)),i}function sk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["request","model"],at(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>dT(h))),d(n,["request","contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["request","generationConfig"],ik(t,a,n)),n}function rk(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&d(n,["fileName"],i);const o=u(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>sk(t,c))),d(n,["requests","requests"],a)}return n}function ok(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&d(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ak(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["src"]);o!=null&&d(n,["batch","inputConfig"],rk(t,uT(t,o)));const a=u(e,["config"]);return a!=null&&d(n,["config"],ok(a,n)),n}function lk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Uu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function uk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Uu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function ck(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);if(e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function dk(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],ck(n,e)),e}function fk(t){const e={},n=u(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&d(e,["gcsSource","uris"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&d(e,["bigquerySource","inputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function hk(t){const e={},n=u(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&d(e,["gcsDestination","outputUriPrefix"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&d(e,["bigqueryDestination","outputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function mk(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["dest"]);return e!==void 0&&o!=null&&d(e,["outputConfig"],hk(IR(o))),n}function pk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],at(t,i));const o=u(e,["src"]);o!=null&&d(n,["inputConfig"],fk(uT(t,o)));const a=u(e,["config"]);return a!=null&&d(n,["config"],mk(a,n)),n}function gk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Uu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function yk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Uu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function vk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function xk(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],vk(n,e)),e}function Tk(){return{}}function _k(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function bk(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Sk(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function wk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],_k(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],bk(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],Sk(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function Ck(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>wk(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function Ek(t){const e={},n=u(t,["citationSources"]);return n!=null&&d(e,["citations"],n),e}function Ak(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function Nk(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ak(o))),d(e,["urlMetadata"],i)}return e}function Rk(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],Ck(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],Ek(i));const o=u(t,["tokenCount"]);o!=null&&d(e,["tokenCount"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],Nk(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&d(e,["safetyRatings"],T),e}function kk(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>Rk(h))),d(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=u(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function Mk(t){const e={},n=u(t,["response"]);return n!=null&&d(e,["response"],kk(n)),u(t,["error"])!=null&&d(e,["error"],Tk()),e}function Dk(t){const e={},n=u(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Mk(a))),d(e,["inlinedResponses"],o)}return e}function $f(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["metadata","state"]);o!=null&&d(e,["state"],cT(o));const a=u(t,["metadata","createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["metadata","endTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["metadata","updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["metadata","model"]);p!=null&&d(e,["model"],p);const m=u(t,["metadata","output"]);return m!=null&&d(e,["dest"],Dk(m)),e}function Uk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>$f(a))),d(e,["batchJobs"],o)}return e}function Ik(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["code"]);i!=null&&d(e,["code"],i);const o=u(t,["message"]);return o!=null&&d(e,["message"],o),e}function Pk(t){const e={},n=u(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&d(e,["gcsUri"],i);const o=u(t,["bigquerySource","inputUri"]);return o!=null&&d(e,["bigqueryUri"],o),e}function Lk(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&d(e,["gcsUri"],i);const o=u(t,["bigqueryDestination","outputUri"]);return o!=null&&d(e,["bigqueryUri"],o),e}function jf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["state"]);o!=null&&d(e,["state"],cT(o));const a=u(t,["error"]);a!=null&&d(e,["error"],Ik(a));const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["startTime"]);h!=null&&d(e,["startTime"],h);const p=u(t,["endTime"]);p!=null&&d(e,["endTime"],p);const m=u(t,["updateTime"]);m!=null&&d(e,["updateTime"],m);const y=u(t,["model"]);y!=null&&d(e,["model"],y);const T=u(t,["inputConfig"]);T!=null&&d(e,["src"],Pk(T));const _=u(t,["outputConfig"]);return _!=null&&d(e,["dest"],Lk(_)),e}function Ok(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>jf(a))),d(e,["batchJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ds;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ds||(Ds={}));class Ea{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};i?typeof i=="object"?c=Object.assign({},i):c=i:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(a=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qk extends Ps{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Ea(Ds.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=pk(this.apiClient,e);return h=_e("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>jf(y))}else{const m=ak(this.apiClient,e);return h=_e("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>$f(y))}}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=gk(this.apiClient,e);return h=_e("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>jf(y))}else{const m=lk(this.apiClient,e);return h=_e("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>$f(y))}}async cancel(e){var n,i,o,a;let c="",h={};if(this.apiClient.isVertexAI()){const p=yk(this.apiClient,e);c=_e("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=uk(this.apiClient,e);c=_e("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=xk(e);return h=_e("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=Ok(y),_=new h0;return Object.assign(_,T),_})}else{const m=dk(e);return h=_e("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=Uk(y),_=new h0;return Object.assign(_,T),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bk(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function Vk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function $k(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function jk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],Bk(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],Vk(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],$k(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function v0(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>jk(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function Fk(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function zk(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function Gk(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],zk(n)),e}function Hk(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function Jk(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],Hk(n)),e}function Yk(){return{}}function Kk(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Fk(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],Gk(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],Jk(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],Yk());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function Zk(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function Qk(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function Xk(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],Qk(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function Wk(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],Zk(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],Xk(i)),e}function eM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const a=u(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let y=Dn(c);Array.isArray(y)&&(y=y.map(T=>v0(T))),d(e,["contents"],y)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],v0(Zt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(T=>Kk(T))),d(e,["tools"],y)}const m=u(t,["toolConfig"]);if(e!==void 0&&m!=null&&d(e,["toolConfig"],Wk(m)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function tM(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],tT(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],eM(o,n)),n}function nM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function iM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function sM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),n}function rM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],sM(o,n)),n}function oM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function aM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],oM(n,e)),e}function lM(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function uM(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function cM(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function dM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],lM(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],uM(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],cM(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function x0(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>dM(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function fM(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function hM(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function mM(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],hM(n)),e}function pM(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function gM(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],pM(n)),e}function yM(){return{}}function vM(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function xM(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],vM(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function TM(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],xM(n)),e}function _M(){return{}}function bM(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(T=>fM(T))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],mM(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],gM(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],yM());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],TM(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],_M());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function SM(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function wM(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function CM(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],wM(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function EM(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],SM(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],CM(i)),e}function AM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const a=u(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let T=Dn(c);Array.isArray(T)&&(T=T.map(_=>x0(_))),d(e,["contents"],T)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],x0(Zt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let T=p;Array.isArray(T)&&(T=T.map(_=>bM(_))),d(e,["tools"],T)}const m=u(t,["toolConfig"]);e!==void 0&&m!=null&&d(e,["toolConfig"],EM(m));const y=u(t,["kmsKeyName"]);return e!==void 0&&y!=null&&d(e,["encryption_spec","kmsKeyName"],y),n}function NM(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],tT(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],AM(o,n)),n}function RM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function kM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function MM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),n}function DM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],MM(o,n)),n}function UM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function IM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],UM(n,e)),e}function iu(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["model"]);o!=null&&d(e,["model"],o);const a=u(t,["createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&d(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function PM(){return{}}function LM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>iu(a))),d(e,["cachedContents"],o)}return e}function su(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["model"]);o!=null&&d(e,["model"],o);const a=u(t,["createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&d(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function OM(){return{}}function qM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>su(a))),d(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BM extends Ps{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ea(Ds.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=NM(this.apiClient,e);return h=_e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>su(y))}else{const m=tM(this.apiClient,e);return h=_e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>iu(y))}}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=RM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>su(y))}else{const m=nM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>iu(y))}}async delete(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=kM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=OM(),T=new d0;return Object.assign(T,y),T})}else{const m=iM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=PM(),T=new d0;return Object.assign(T,y),T})}}async update(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=DM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>su(y))}else{const m=rM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>iu(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=IM(e);return h=_e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=qM(y),_=new f0;return Object.assign(_,T),_})}else{const m=aM(e);return h=_e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=LM(y),_=new f0;return Object.assign(_,T),_})}}}function T0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(t){return this instanceof pt?(this.v=t,this):new pt(t)}function Or(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(w){return function(S){return Promise.resolve(S).then(w,T)}}function h(w,S){i[w]&&(o[w]=function(A){return new Promise(function(E,k){a.push([w,A,E,k])>1||p(w,A)})},S&&(o[w]=S(o[w])))}function p(w,S){try{m(i[w](S))}catch(A){_(a[0][3],A)}}function m(w){w.value instanceof pt?Promise.resolve(w.value.v).then(y,T):_(a[0][2],w)}function y(w){p("next",w)}function T(w){p("throw",w)}function _(w,S){w(S),a.shift(),a.length&&p(a[0][0],a[0][1])}}function ha(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof T0=="function"?T0(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(c){return new Promise(function(h,p){c=t[a](c),o(h,p,c.done,c.value)})}}function o(a,c,h,p){Promise.resolve(p).then(function(m){a({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VM(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:hT(n)}function hT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function $M(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let a=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),a&&!hT(t[i])&&(a=!1),i++;a?e.push(...o):e.pop()}return e}class jM{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new FM(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class FM{constructor(e,n,i,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),$M(a)}async sendMessage(e){var n;await this.sendPromise;const i=Zt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,c,h;const p=await o,m=(c=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content,y=p.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let _=[];y!=null&&(_=(h=y.slice(T))!==null&&h!==void 0?h:[]);const w=m?[m]:[];this.recordHistory(i,w,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Zt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?_0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return Or(this,arguments,function*(){var c,h,p,m;const y=[];try{for(var T=!0,_=ha(e),w;w=yield pt(_.next()),c=w.done,!c;T=!0){m=w.value,T=!1;const S=m;if(VM(S)){const A=(o=(i=S.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;A!==void 0&&y.push(A)}yield yield pt(S)}}catch(S){h={error:S}}finally{try{!T&&!c&&(p=_.return)&&(yield pt(p.call(_)))}finally{if(h)throw h.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(..._0(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Iu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function GM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],zM(n,e)),e}function HM(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["message"]);i!=null&&d(e,["message"],i);const o=u(t,["code"]);return o!=null&&d(e,["code"],o),e}function JM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&d(e,["mimeType"],o);const a=u(t,["sizeBytes"]);a!=null&&d(e,["sizeBytes"],a);const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&d(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&d(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&d(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&d(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&d(e,["downloadUri"],T);const _=u(t,["state"]);_!=null&&d(e,["state"],_);const w=u(t,["source"]);w!=null&&d(e,["source"],w);const S=u(t,["videoMetadata"]);S!=null&&d(e,["videoMetadata"],S);const A=u(t,["error"]);return A!=null&&d(e,["error"],HM(A)),e}function YM(t){const e={},n=u(t,["file"]);n!=null&&d(e,["file"],JM(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function KM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","file"],oT(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function ZM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","file"],oT(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function QM(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["message"]);i!=null&&d(e,["message"],i);const o=u(t,["code"]);return o!=null&&d(e,["code"],o),e}function Ff(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&d(e,["mimeType"],o);const a=u(t,["sizeBytes"]);a!=null&&d(e,["sizeBytes"],a);const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&d(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&d(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&d(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&d(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&d(e,["downloadUri"],T);const _=u(t,["state"]);_!=null&&d(e,["state"],_);const w=u(t,["source"]);w!=null&&d(e,["source"],w);const S=u(t,["videoMetadata"]);S!=null&&d(e,["videoMetadata"],S);const A=u(t,["error"]);return A!=null&&d(e,["error"],QM(A)),e}function XM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ff(a))),d(e,["files"],o)}return e}function WM(){return{}}function e1(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t1 extends Ps{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ea(Ds.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ff(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=GM(e);return a=_e("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=XM(p),y=new mR;return Object.assign(y,m),y})}}async createInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YM(e);return a=_e("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(()=>{const p=WM(),m=new pR;return Object.assign(m,p),m})}}async get(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KM(e);return a=_e("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>Ff(p))}}async delete(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ZM(e);return a=_e("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(()=>{const p=e1(),m=new gR;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n1(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function i1(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function mT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],n1(n)),e}function s1(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],i1(n)),e}function r1(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],mT(i)),e}function o1(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>r1(o))),d(e,["speakerVoiceConfigs"],i)}return e}function a1(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],mT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],o1(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function l1(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],s1(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function u1(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function c1(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function d1(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function f1(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function h1(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function m1(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function p1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],u1(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],d1(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],h1(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function g1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],c1(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],f1(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],m1(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function y1(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>p1(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function v1(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>g1(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function x1(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function T1(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function _1(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function b1(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function S1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],_1(n)),e}function w1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],b1(n)),e}function C1(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function E1(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function A1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],C1(n)),e}function N1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],E1(n)),e}function R1(){return{}}function k1(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function M1(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],k1(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function D1(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],M1(n)),e}function U1(){return{}}function I1(){return{}}function P1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>x1(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],S1(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],A1(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],U1());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function L1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(T=>T1(T))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],w1(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],N1(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],R1());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],D1(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],I1());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function O1(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function q1(t){const e={},n=u(t,["handle"]);n!=null&&d(e,["handle"],n);const i=u(t,["transparent"]);return i!=null&&d(e,["transparent"],i),e}function b0(){return{}}function S0(){return{}}function B1(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function V1(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function $1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],B1(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function j1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],V1(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function F1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function z1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function G1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],F1(i)),e}function H1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],z1(i)),e}function J1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function Y1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function K1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],a1(gh(T)));const _=u(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],_);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],y1(Zt(w)));const S=u(t,["tools"]);if(e!==void 0&&S!=null){let L=Zr(S);Array.isArray(L)&&(L=L.map(Y=>P1(Kr(Y)))),d(e,["setup","tools"],L)}const A=u(t,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],O1(A));const E=u(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&d(e,["setup","inputAudioTranscription"],b0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","outputAudioTranscription"],b0());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&d(e,["setup","realtimeInputConfig"],$1(I));const U=u(t,["contextWindowCompression"]);e!==void 0&&U!=null&&d(e,["setup","contextWindowCompression"],G1(U));const M=u(t,["proactivity"]);return e!==void 0&&M!=null&&d(e,["setup","proactivity"],J1(M)),n}function Z1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],l1(gh(T)));const _=u(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],_);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],v1(Zt(w)));const S=u(t,["tools"]);if(e!==void 0&&S!=null){let L=Zr(S);Array.isArray(L)&&(L=L.map(Y=>L1(Kr(Y)))),d(e,["setup","tools"],L)}const A=u(t,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],q1(A));const E=u(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&d(e,["setup","inputAudioTranscription"],S0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","outputAudioTranscription"],S0());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&d(e,["setup","realtimeInputConfig"],j1(I));const U=u(t,["contextWindowCompression"]);e!==void 0&&U!=null&&d(e,["setup","contextWindowCompression"],H1(U));const M=u(t,["proactivity"]);return e!==void 0&&M!=null&&d(e,["setup","proactivity"],Y1(M)),n}function Q1(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],at(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],K1(o,n)),n}function X1(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],at(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],Z1(o,n)),n}function W1(){return{}}function eD(){return{}}function tD(){return{}}function nD(){return{}}function iD(t){const e={},n=u(t,["media"]);n!=null&&d(e,["mediaChunks"],nT(n));const i=u(t,["audio"]);i!=null&&d(e,["audio"],TR(i));const o=u(t,["audioStreamEnd"]);o!=null&&d(e,["audioStreamEnd"],o);const a=u(t,["video"]);a!=null&&d(e,["video"],xR(a));const c=u(t,["text"]);return c!=null&&d(e,["text"],c),u(t,["activityStart"])!=null&&d(e,["activityStart"],W1()),u(t,["activityEnd"])!=null&&d(e,["activityEnd"],tD()),e}function sD(t){const e={},n=u(t,["media"]);if(n!=null&&d(e,["mediaChunks"],nT(n)),u(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=u(t,["audioStreamEnd"]);if(i!=null&&d(e,["audioStreamEnd"],i),u(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(t,["activityStart"])!=null&&d(e,["activityStart"],eD()),u(t,["activityEnd"])!=null&&d(e,["activityEnd"],nD()),e}function pT(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["weight"]);return i!=null&&d(e,["weight"],i),e}function rD(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pT(o))),d(e,["weightedPrompts"],i)}return e}function gT(t){const e={},n=u(t,["temperature"]);n!=null&&d(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&d(e,["topK"],i);const o=u(t,["seed"]);o!=null&&d(e,["seed"],o);const a=u(t,["guidance"]);a!=null&&d(e,["guidance"],a);const c=u(t,["bpm"]);c!=null&&d(e,["bpm"],c);const h=u(t,["density"]);h!=null&&d(e,["density"],h);const p=u(t,["brightness"]);p!=null&&d(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&d(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&d(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&d(e,["muteDrums"],T);const _=u(t,["onlyBassAndDrums"]);return _!=null&&d(e,["onlyBassAndDrums"],_),e}function oD(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],gT(n)),e}function yT(t){const e={},n=u(t,["model"]);return n!=null&&d(e,["model"],n),e}function vT(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pT(o))),d(e,["weightedPrompts"],i)}return e}function zf(t){const e={},n=u(t,["setup"]);n!=null&&d(e,["setup"],yT(n));const i=u(t,["clientContent"]);i!=null&&d(e,["clientContent"],vT(i));const o=u(t,["musicGenerationConfig"]);o!=null&&d(e,["musicGenerationConfig"],gT(o));const a=u(t,["playbackControl"]);return a!=null&&d(e,["playbackControl"],a),e}function aD(){return{}}function lD(){return{}}function uD(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function cD(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function dD(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function fD(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function hD(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function mD(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function pD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],uD(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],dD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],hD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function gD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],cD(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],fD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],mD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function yD(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>pD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function vD(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>gD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function w0(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["finished"]);return i!=null&&d(e,["finished"],i),e}function C0(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["finished"]);return i!=null&&d(e,["finished"],i),e}function xD(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function TD(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xD(o))),d(e,["urlMetadata"],i)}return e}function _D(t){const e={},n=u(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],yD(n));const i=u(t,["turnComplete"]);i!=null&&d(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&d(e,["interrupted"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const c=u(t,["generationComplete"]);c!=null&&d(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&d(e,["inputTranscription"],w0(h));const p=u(t,["outputTranscription"]);p!=null&&d(e,["outputTranscription"],w0(p));const m=u(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],TD(m)),e}function bD(t){const e={},n=u(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],vD(n));const i=u(t,["turnComplete"]);i!=null&&d(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&d(e,["interrupted"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const c=u(t,["generationComplete"]);c!=null&&d(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&d(e,["inputTranscription"],C0(h));const p=u(t,["outputTranscription"]);return p!=null&&d(e,["outputTranscription"],C0(p)),e}function SD(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const i=u(t,["args"]);i!=null&&d(e,["args"],i);const o=u(t,["name"]);return o!=null&&d(e,["name"],o),e}function wD(t){const e={},n=u(t,["args"]);n!=null&&d(e,["args"],n);const i=u(t,["name"]);return i!=null&&d(e,["name"],i),e}function CD(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>SD(o))),d(e,["functionCalls"],i)}return e}function ED(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wD(o))),d(e,["functionCalls"],i)}return e}function AD(t){const e={},n=u(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function ND(t){const e={},n=u(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function Kl(t){const e={},n=u(t,["modality"]);n!=null&&d(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&d(e,["tokenCount"],i),e}function Zl(t){const e={},n=u(t,["modality"]);n!=null&&d(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&d(e,["tokenCount"],i),e}function RD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&d(e,["cachedContentTokenCount"],i);const o=u(t,["responseTokenCount"]);o!=null&&d(e,["responseTokenCount"],o);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&d(e,["toolUsePromptTokenCount"],a);const c=u(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(w=>Kl(w))),d(e,["promptTokensDetails"],_)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(w=>Kl(w))),d(e,["cacheTokensDetails"],_)}const y=u(t,["responseTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(w=>Kl(w))),d(e,["responseTokensDetails"],_)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(w=>Kl(w))),d(e,["toolUsePromptTokensDetails"],_)}return e}function kD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&d(e,["cachedContentTokenCount"],i);const o=u(t,["candidatesTokenCount"]);o!=null&&d(e,["responseTokenCount"],o);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&d(e,["toolUsePromptTokenCount"],a);const c=u(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(S=>Zl(S))),d(e,["promptTokensDetails"],w)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(S=>Zl(S))),d(e,["cacheTokensDetails"],w)}const y=u(t,["candidatesTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(S=>Zl(S))),d(e,["responseTokensDetails"],w)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let w=T;Array.isArray(w)&&(w=w.map(S=>Zl(S))),d(e,["toolUsePromptTokensDetails"],w)}const _=u(t,["trafficType"]);return _!=null&&d(e,["trafficType"],_),e}function MD(t){const e={},n=u(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function DD(t){const e={},n=u(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function UD(t){const e={},n=u(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&d(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&d(e,["lastConsumedClientMessageIndex"],o),e}function ID(t){const e={},n=u(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&d(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&d(e,["lastConsumedClientMessageIndex"],o),e}function PD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],aD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],_D(i));const o=u(t,["toolCall"]);o!=null&&d(e,["toolCall"],CD(o));const a=u(t,["toolCallCancellation"]);a!=null&&d(e,["toolCallCancellation"],AD(a));const c=u(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],RD(c));const h=u(t,["goAway"]);h!=null&&d(e,["goAway"],MD(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&d(e,["sessionResumptionUpdate"],UD(p)),e}function LD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],lD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],bD(i));const o=u(t,["toolCall"]);o!=null&&d(e,["toolCall"],ED(o));const a=u(t,["toolCallCancellation"]);a!=null&&d(e,["toolCallCancellation"],ND(a));const c=u(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],kD(c));const h=u(t,["goAway"]);h!=null&&d(e,["goAway"],DD(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&d(e,["sessionResumptionUpdate"],ID(p)),e}function OD(){return{}}function qD(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["weight"]);return i!=null&&d(e,["weight"],i),e}function BD(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qD(o))),d(e,["weightedPrompts"],i)}return e}function VD(t){const e={},n=u(t,["temperature"]);n!=null&&d(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&d(e,["topK"],i);const o=u(t,["seed"]);o!=null&&d(e,["seed"],o);const a=u(t,["guidance"]);a!=null&&d(e,["guidance"],a);const c=u(t,["bpm"]);c!=null&&d(e,["bpm"],c);const h=u(t,["density"]);h!=null&&d(e,["density"],h);const p=u(t,["brightness"]);p!=null&&d(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&d(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&d(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&d(e,["muteDrums"],T);const _=u(t,["onlyBassAndDrums"]);return _!=null&&d(e,["onlyBassAndDrums"],_),e}function $D(t){const e={},n=u(t,["clientContent"]);n!=null&&d(e,["clientContent"],BD(n));const i=u(t,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],VD(i)),e}function jD(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);i!=null&&d(e,["mimeType"],i);const o=u(t,["sourceMetadata"]);return o!=null&&d(e,["sourceMetadata"],$D(o)),e}function FD(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jD(o))),d(e,["audioChunks"],i)}return e}function zD(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["filteredReason"]);return i!=null&&d(e,["filteredReason"],i),e}function GD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],OD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],FD(i));const o=u(t,["filteredPrompt"]);return o!=null&&d(e,["filteredPrompt"],zD(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HD(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function JD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function YD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function KD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],HD(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],JD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],YD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function Pu(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>KD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function ZD(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&d(e,["maxProperties"],T);const _=u(t,["maximum"]);_!=null&&d(e,["maximum"],_);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const S=u(t,["minLength"]);S!=null&&d(e,["minLength"],S);const A=u(t,["minProperties"]);A!=null&&d(e,["minProperties"],A);const E=u(t,["minimum"]);E!=null&&d(e,["minimum"],E);const k=u(t,["nullable"]);k!=null&&d(e,["nullable"],k);const I=u(t,["pattern"]);I!=null&&d(e,["pattern"],I);const U=u(t,["properties"]);U!=null&&d(e,["properties"],U);const M=u(t,["propertyOrdering"]);M!=null&&d(e,["propertyOrdering"],M);const L=u(t,["required"]);L!=null&&d(e,["required"],L);const Y=u(t,["title"]);Y!=null&&d(e,["title"],Y);const X=u(t,["type"]);return X!=null&&d(e,["type"],X),e}function QD(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&d(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&d(e,["threshold"],i),e}function XD(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function WD(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function e2(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],WD(n)),e}function t2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function n2(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],t2(n)),e}function i2(){return{}}function s2(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>XD(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],e2(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],n2(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],i2());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function r2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function o2(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function a2(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],o2(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function l2(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],r2(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],a2(i)),e}function u2(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function xT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],u2(n)),e}function c2(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],xT(i)),e}function d2(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>c2(o))),d(e,["speakerVoiceConfigs"],i)}return e}function f2(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],xT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],d2(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function h2(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function m2(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],Pu(Zt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&d(i,["responseLogprobs"],T);const _=u(e,["logprobs"]);_!=null&&d(i,["logprobs"],_);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const S=u(e,["frequencyPenalty"]);S!=null&&d(i,["frequencyPenalty"],S);const A=u(e,["seed"]);A!=null&&d(i,["seed"],A);const E=u(e,["responseMimeType"]);E!=null&&d(i,["responseMimeType"],E);const k=u(e,["responseSchema"]);k!=null&&d(i,["responseSchema"],ZD(xa(k)));const I=u(e,["responseJsonSchema"]);if(I!=null&&d(i,["responseJsonSchema"],I),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=u(e,["safetySettings"]);if(n!==void 0&&U!=null){let se=U;Array.isArray(se)&&(se=se.map(F=>QD(F))),d(n,["safetySettings"],se)}const M=u(e,["tools"]);if(n!==void 0&&M!=null){let se=Zr(M);Array.isArray(se)&&(se=se.map(F=>s2(Kr(F)))),d(n,["tools"],se)}const L=u(e,["toolConfig"]);if(n!==void 0&&L!=null&&d(n,["toolConfig"],l2(L)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=u(e,["cachedContent"]);n!==void 0&&Y!=null&&d(n,["cachedContent"],Si(t,Y));const X=u(e,["responseModalities"]);X!=null&&d(i,["responseModalities"],X);const ie=u(e,["mediaResolution"]);ie!=null&&d(i,["mediaResolution"],ie);const J=u(e,["speechConfig"]);if(J!=null&&d(i,["speechConfig"],f2(ph(J))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=u(e,["thinkingConfig"]);return K!=null&&d(i,["thinkingConfig"],h2(K)),i}function E0(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>Pu(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["generationConfig"],m2(t,a,n)),n}function p2(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&d(e,["requests[]","taskType"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&d(e,["requests[]","title"],o);const a=u(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&d(e,["requests[]","outputDimensionality"],a),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function g2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["contents"]);o!=null&&d(n,["requests[]","content"],sT(t,o));const a=u(e,["config"]);a!=null&&d(n,["config"],p2(a,n));const c=u(e,["model"]);return c!==void 0&&d(n,["requests[]","model"],at(t,c)),n}function y2(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const a=u(t,["guidanceScale"]);if(e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const p=u(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&d(e,["parameters","includeSafetyAttributes"],p);const m=u(t,["includeRaiReason"]);e!==void 0&&m!=null&&d(e,["parameters","includeRaiReason"],m);const y=u(t,["language"]);e!==void 0&&y!=null&&d(e,["parameters","language"],y);const T=u(t,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const _=u(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function v2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["config"]);return a!=null&&d(n,["config"],y2(a,n)),n}function x2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],at(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function T2(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&d(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&d(n,["_url","models_url"],aT(t,h)),i}function _2(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],T2(t,i,n)),n}function b2(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&d(e,["defaultCheckpointId"],a),n}function S2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],at(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],b2(o,n)),n}function w2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],at(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function C2(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function E2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>Pu(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],C2(a)),n}function A2(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],wi(n));const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function N2(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=u(t,["durationSeconds"]);if(e!==void 0&&o!=null&&d(e,["parameters","durationSeconds"],o),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=u(t,["aspectRatio"]);if(e!==void 0&&a!=null&&d(e,["parameters","aspectRatio"],a),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=u(t,["personGeneration"]);if(e!==void 0&&c!=null&&d(e,["parameters","personGeneration"],c),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(t,["negativePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","negativePrompt"],h);const p=u(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&d(e,["parameters","enhancePrompt"],p),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function R2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["image"]);if(a!=null&&d(n,["instances[0]","image"],A2(a)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const c=u(e,["config"]);return c!=null&&d(n,["config"],N2(c,n)),n}function k2(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function M2(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function D2(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function U2(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],k2(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],M2(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],D2(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function Qr(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>U2(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function I2(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&d(e,["maxProperties"],T);const _=u(t,["maximum"]);_!=null&&d(e,["maximum"],_);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const S=u(t,["minLength"]);S!=null&&d(e,["minLength"],S);const A=u(t,["minProperties"]);A!=null&&d(e,["minProperties"],A);const E=u(t,["minimum"]);E!=null&&d(e,["minimum"],E);const k=u(t,["nullable"]);k!=null&&d(e,["nullable"],k);const I=u(t,["pattern"]);I!=null&&d(e,["pattern"],I);const U=u(t,["properties"]);U!=null&&d(e,["properties"],U);const M=u(t,["propertyOrdering"]);M!=null&&d(e,["propertyOrdering"],M);const L=u(t,["required"]);L!=null&&d(e,["required"],L);const Y=u(t,["title"]);Y!=null&&d(e,["title"],Y);const X=u(t,["type"]);return X!=null&&d(e,["type"],X),e}function P2(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&d(e,["featureSelectionPreference"],n),e}function L2(t){const e={},n=u(t,["method"]);n!=null&&d(e,["method"],n);const i=u(t,["category"]);i!=null&&d(e,["category"],i);const o=u(t,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function O2(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function q2(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function B2(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],q2(n)),e}function V2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function $2(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],V2(n)),e}function j2(){return{}}function F2(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function z2(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],F2(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function G2(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],z2(n)),e}function H2(){return{}}function TT(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(T=>O2(T))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],B2(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],$2(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],j2());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],G2(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],H2());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function J2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function Y2(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function K2(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],Y2(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function Z2(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],J2(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],K2(i)),e}function Q2(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function X2(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],Q2(n)),e}function W2(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],X2(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function eU(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function tU(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],Qr(Zt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&d(i,["responseLogprobs"],T);const _=u(e,["logprobs"]);_!=null&&d(i,["logprobs"],_);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const S=u(e,["frequencyPenalty"]);S!=null&&d(i,["frequencyPenalty"],S);const A=u(e,["seed"]);A!=null&&d(i,["seed"],A);const E=u(e,["responseMimeType"]);E!=null&&d(i,["responseMimeType"],E);const k=u(e,["responseSchema"]);k!=null&&d(i,["responseSchema"],I2(xa(k)));const I=u(e,["responseJsonSchema"]);I!=null&&d(i,["responseJsonSchema"],I);const U=u(e,["routingConfig"]);U!=null&&d(i,["routingConfig"],U);const M=u(e,["modelSelectionConfig"]);M!=null&&d(i,["modelConfig"],P2(M));const L=u(e,["safetySettings"]);if(n!==void 0&&L!=null){let Le=L;Array.isArray(Le)&&(Le=Le.map(Z=>L2(Z))),d(n,["safetySettings"],Le)}const Y=u(e,["tools"]);if(n!==void 0&&Y!=null){let Le=Zr(Y);Array.isArray(Le)&&(Le=Le.map(Z=>TT(Kr(Z)))),d(n,["tools"],Le)}const X=u(e,["toolConfig"]);n!==void 0&&X!=null&&d(n,["toolConfig"],Z2(X));const ie=u(e,["labels"]);n!==void 0&&ie!=null&&d(n,["labels"],ie);const J=u(e,["cachedContent"]);n!==void 0&&J!=null&&d(n,["cachedContent"],Si(t,J));const K=u(e,["responseModalities"]);K!=null&&d(i,["responseModalities"],K);const se=u(e,["mediaResolution"]);se!=null&&d(i,["mediaResolution"],se);const F=u(e,["speechConfig"]);F!=null&&d(i,["speechConfig"],W2(ph(F)));const Pe=u(e,["audioTimestamp"]);Pe!=null&&d(i,["audioTimestamp"],Pe);const it=u(e,["thinkingConfig"]);return it!=null&&d(i,["thinkingConfig"],eU(it)),i}function A0(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>Qr(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["generationConfig"],tU(t,a,n)),n}function nU(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&d(e,["instances[]","task_type"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&d(e,["instances[]","title"],o);const a=u(t,["outputDimensionality"]);e!==void 0&&a!=null&&d(e,["parameters","outputDimensionality"],a);const c=u(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const h=u(t,["autoTruncate"]);return e!==void 0&&h!=null&&d(e,["parameters","autoTruncate"],h),n}function iU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["contents"]);o!=null&&d(n,["instances[]","content"],sT(t,o));const a=u(e,["config"]);return a!=null&&d(n,["config"],nU(a,n)),n}function sU(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const _=u(t,["includeRaiReason"]);e!==void 0&&_!=null&&d(e,["parameters","includeRaiReason"],_);const w=u(t,["language"]);e!==void 0&&w!=null&&d(e,["parameters","language"],w);const S=u(t,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const A=u(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","compressionQuality"],A);const E=u(t,["addWatermark"]);e!==void 0&&E!=null&&d(e,["parameters","addWatermark"],E);const k=u(t,["enhancePrompt"]);return e!==void 0&&k!=null&&d(e,["parameters","enhancePrompt"],k),n}function rU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["config"]);return a!=null&&d(n,["config"],sU(a,n)),n}function Lu(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],wi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function oU(t){const e={},n=u(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&d(e,["maskClasses"],i);const o=u(t,["maskDilation"]);return o!=null&&d(e,["dilation"],o),e}function aU(t){const e={},n=u(t,["controlType"]);n!=null&&d(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&d(e,["computeControl"],i),e}function lU(t){const e={},n=u(t,["styleDescription"]);return n!=null&&d(e,["styleDescription"],n),e}function uU(t){const e={},n=u(t,["subjectType"]);n!=null&&d(e,["subjectType"],n);const i=u(t,["subjectDescription"]);return i!=null&&d(e,["subjectDescription"],i),e}function cU(t){const e={},n=u(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],Lu(n));const i=u(t,["referenceId"]);i!=null&&d(e,["referenceId"],i);const o=u(t,["referenceType"]);o!=null&&d(e,["referenceType"],o);const a=u(t,["maskImageConfig"]);a!=null&&d(e,["maskImageConfig"],oU(a));const c=u(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],aU(c));const h=u(t,["styleImageConfig"]);h!=null&&d(e,["styleImageConfig"],lU(h));const p=u(t,["subjectImageConfig"]);return p!=null&&d(e,["subjectImageConfig"],uU(p)),e}function dU(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const _=u(t,["includeRaiReason"]);e!==void 0&&_!=null&&d(e,["parameters","includeRaiReason"],_);const w=u(t,["language"]);e!==void 0&&w!=null&&d(e,["parameters","language"],w);const S=u(t,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const A=u(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","compressionQuality"],A);const E=u(t,["editMode"]);e!==void 0&&E!=null&&d(e,["parameters","editMode"],E);const k=u(t,["baseSteps"]);return e!==void 0&&k!=null&&d(e,["parameters","editConfig","baseSteps"],k),n}function fU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["referenceImages"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>cU(p))),d(n,["instances[0]","referenceImages"],h)}const c=u(e,["config"]);return c!=null&&d(n,["config"],dU(c,n)),n}function hU(t,e){const n={},i=u(t,["includeRaiReason"]);e!==void 0&&i!=null&&d(e,["parameters","includeRaiReason"],i);const o=u(t,["outputMimeType"]);e!==void 0&&o!=null&&d(e,["parameters","outputOptions","mimeType"],o);const a=u(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&d(e,["parameters","outputOptions","compressionQuality"],a);const c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],c);const h=u(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=u(t,["numberOfImages"]);e!==void 0&&p!=null&&d(e,["parameters","sampleCount"],p);const m=u(t,["mode"]);return e!==void 0&&m!=null&&d(e,["parameters","mode"],m),n}function mU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["image"]);o!=null&&d(n,["instances[0]","image"],Lu(o));const a=u(e,["upscaleFactor"]);a!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],a);const c=u(e,["config"]);return c!=null&&d(n,["config"],hU(c,n)),n}function pU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],at(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function gU(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&d(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&d(n,["_url","models_url"],aT(t,h)),i}function yU(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],gU(t,i,n)),n}function vU(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&d(e,["defaultCheckpointId"],a),n}function xU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],vU(o,n)),n}function TU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],at(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function _U(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&d(e,["systemInstruction"],Qr(Zt(i)));const o=u(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>TT(h))),d(e,["tools"],c)}const a=u(t,["generationConfig"]);return e!==void 0&&a!=null&&d(e,["generationConfig"],a),n}function bU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>Qr(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],_U(a,n)),n}function SU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>Qr(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],a),n}function wU(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&d(e,["bytesBase64Encoded"],wi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function CU(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const a=u(t,["fps"]);e!==void 0&&a!=null&&d(e,["parameters","fps"],a);const c=u(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const p=u(t,["aspectRatio"]);e!==void 0&&p!=null&&d(e,["parameters","aspectRatio"],p);const m=u(t,["resolution"]);e!==void 0&&m!=null&&d(e,["parameters","resolution"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=u(t,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const _=u(t,["negativePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","negativePrompt"],_);const w=u(t,["enhancePrompt"]);e!==void 0&&w!=null&&d(e,["parameters","enhancePrompt"],w);const S=u(t,["generateAudio"]);e!==void 0&&S!=null&&d(e,["parameters","generateAudio"],S);const A=u(t,["lastFrame"]);e!==void 0&&A!=null&&d(e,["instances[0]","lastFrame"],Lu(A));const E=u(t,["compressionQuality"]);return e!==void 0&&E!=null&&d(e,["parameters","compressionQuality"],E),n}function EU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],at(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["image"]);a!=null&&d(n,["instances[0]","image"],Lu(a));const c=u(e,["video"]);c!=null&&d(n,["instances[0]","video"],wU(c));const h=u(e,["config"]);return h!=null&&d(n,["config"],CU(h,n)),n}function AU(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function NU(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function RU(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function kU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],AU(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],NU(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],RU(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function MU(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>kU(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function DU(t){const e={},n=u(t,["citationSources"]);return n!=null&&d(e,["citations"],n),e}function UU(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function IU(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>UU(o))),d(e,["urlMetadata"],i)}return e}function PU(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],MU(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],DU(i));const o=u(t,["tokenCount"]);o!=null&&d(e,["tokenCount"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],IU(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&d(e,["safetyRatings"],T),e}function N0(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>PU(h))),d(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=u(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function LU(t){const e={},n=u(t,["values"]);return n!=null&&d(e,["values"],n),e}function OU(){return{}}function qU(t){const e={},n=u(t,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>LU(a))),d(e,["embeddings"],o)}return u(t,["metadata"])!=null&&d(e,["metadata"],OU()),e}function BU(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],wi(n));const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function _T(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&d(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function VU(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],BU(n));const i=u(t,["raiFilteredReason"]);i!=null&&d(e,["raiFilteredReason"],i);const o=u(t,["_self"]);return o!=null&&d(e,["safetyAttributes"],_T(o)),e}function $U(t){const e={},n=u(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>VU(a))),d(e,["generatedImages"],o)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],_T(i)),e}function jU(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function Gf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["version"]);a!=null&&d(e,["version"],a);const c=u(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],jU(c));const h=u(t,["inputTokenLimit"]);h!=null&&d(e,["inputTokenLimit"],h);const p=u(t,["outputTokenLimit"]);p!=null&&d(e,["outputTokenLimit"],p);const m=u(t,["supportedGenerationMethods"]);return m!=null&&d(e,["supportedActions"],m),e}function FU(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=u(e,["_self"]);if(o!=null){let a=lT(o);Array.isArray(a)&&(a=a.map(c=>Gf(c))),d(n,["models"],a)}return n}function zU(){return{}}function GU(t){const e={},n=u(t,["totalTokens"]);n!=null&&d(e,["totalTokens"],n);const i=u(t,["cachedContentTokenCount"]);return i!=null&&d(e,["cachedContentTokenCount"],i),e}function HU(t){const e={},n=u(t,["video","uri"]);n!=null&&d(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&d(e,["videoBytes"],wi(i));const o=u(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function JU(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],HU(n)),e}function YU(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>JU(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function KU(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],YU(c)),e}function ZU(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function QU(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function XU(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function WU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],ZU(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],QU(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],XU(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function eI(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>WU(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function tI(t){const e={},n=u(t,["citations"]);return n!=null&&d(e,["citations"],n),e}function nI(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function iI(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nI(o))),d(e,["urlMetadata"],i)}return e}function sI(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],eI(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],tI(i));const o=u(t,["finishMessage"]);o!=null&&d(e,["finishMessage"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],iI(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&d(e,["safetyRatings"],T),e}function R0(t){const e={},n=u(t,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>sI(m))),d(e,["candidates"],p)}const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["responseId"]);o!=null&&d(e,["responseId"],o);const a=u(t,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const c=u(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const h=u(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function rI(t){const e={},n=u(t,["truncated"]);n!=null&&d(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&d(e,["tokenCount"],i),e}function oI(t){const e={},n=u(t,["values"]);n!=null&&d(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&d(e,["statistics"],rI(i)),e}function aI(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&d(e,["billableCharacterCount"],n),e}function lI(t){const e={},n=u(t,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>oI(a))),d(e,["embeddings"],o)}const i=u(t,["metadata"]);return i!=null&&d(e,["metadata"],aI(i)),e}function uI(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],wi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function bT(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&d(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function yh(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],uI(n));const i=u(t,["raiFilteredReason"]);i!=null&&d(e,["raiFilteredReason"],i);const o=u(t,["_self"]);o!=null&&d(e,["safetyAttributes"],bT(o));const a=u(t,["prompt"]);return a!=null&&d(e,["enhancedPrompt"],a),e}function cI(t){const e={},n=u(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>yh(a))),d(e,["generatedImages"],o)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],bT(i)),e}function dI(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yh(o))),d(e,["generatedImages"],i)}return e}function fI(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yh(o))),d(e,["generatedImages"],i)}return e}function hI(t){const e={},n=u(t,["endpoint"]);n!=null&&d(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&d(e,["deployedModelId"],i),e}function mI(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function pI(t){const e={},n=u(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&d(e,["epoch"],i);const o=u(t,["step"]);return o!=null&&d(e,["step"],o),e}function Hf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["versionId"]);a!=null&&d(e,["version"],a);const c=u(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(_=>hI(_))),d(e,["endpoints"],T)}const h=u(t,["labels"]);h!=null&&d(e,["labels"],h);const p=u(t,["_self"]);p!=null&&d(e,["tunedModelInfo"],mI(p));const m=u(t,["defaultCheckpointId"]);m!=null&&d(e,["defaultCheckpointId"],m);const y=u(t,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(_=>pI(_))),d(e,["checkpoints"],T)}return e}function gI(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=u(e,["_self"]);if(o!=null){let a=lT(o);Array.isArray(a)&&(a=a.map(c=>Hf(c))),d(n,["models"],a)}return n}function yI(){return{}}function vI(t){const e={},n=u(t,["totalTokens"]);return n!=null&&d(e,["totalTokens"],n),e}function xI(t){const e={},n=u(t,["tokensInfo"]);return n!=null&&d(e,["tokensInfo"],n),e}function TI(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["videoBytes"],wi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function _I(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],TI(n)),e}function bI(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>_I(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function SI(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],bI(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wI="Content-Type",CI="X-Server-Timeout",EI="User-Agent",Jf="x-goog-api-client",AI="1.7.0",NI=`google-genai-sdk/${AI}`,RI="v1beta1",kI="v1beta",k0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class MI{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:RI,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:kI,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))o.searchParams.append(c,String(h));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?i[o]=Object.assign(Object.assign({},i[o]),a):a!==void 0&&(i[o]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&DI(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await M0(o),new Bf(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await M0(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return Or(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:p}=yield pt(o.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(p);try{const T=JSON.parse(m);if("error"in T){const _=JSON.parse(JSON.stringify(T.error)),w=_.status,S=_.code,A=`got status: ${w}. ${JSON.stringify(T)}`;if(S>=400&&S<600)throw new Iu({message:A,status:S})}}catch(T){if(T.name==="ApiError")throw T}c+=m;let y=c.match(k0);for(;y;){const T=y[1];try{const _=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield pt(new Bf(_)),c=c.slice(y[0].length),y=c.match(k0)}catch(_){throw new Error(`exception parsing stream chunk ${T}. ${_}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=NI+" "+this.clientOptions.userAgentExtra;return e[EI]=n,e[Jf]=n,e[wI]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(CI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,c=await a.stat(e);o.sizeBytes=String(c.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=h;const p=await this.fetchUploadUrl(o,n);return a.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},c=await this.request({path:_e("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:o});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function M0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Iu({message:o,status:n}):new Error(o)}}function DI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,c){const h=Object.assign({},a);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const m=c[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UI="mcp_used/unknown";function ST(t){for(const e of t)if(vh(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function wT(t){var e;const n=(e=t[Jf])!==null&&e!==void 0?e:"";t[Jf]=(n+` ${UI}`).trimStart()}function II(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>vh(o)))!==null&&i!==void 0?i:!1}function PI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!vh(o)))!==null&&i!==void 0?i:!1}function vh(t){return t!==null&&typeof t=="object"&&t instanceof xh}function LI(t,e=100){return Or(this,arguments,function*(){let i,o=0;for(;o<e;){const a=yield pt(t.listTools({cursor:i}));for(const c of a.tools)yield yield pt(c),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class xh{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new xh(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const a={},c=[];for(const y of this.mcpClients)try{for(var h=!0,p=(n=void 0,ha(LI(y))),m;m=await p.next(),e=m.done,!e;h=!0){o=m.value,h=!1;const T=o;c.push(T);const _=T.name;if(a[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);a[_]=y}}catch(T){n={error:T}}finally{try{!h&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),MR(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const c=await o.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OI(t,e,n){const i=new vR;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const a=GD(o);Object.assign(i,a),e(i)}class qI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),c=$I(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(U=>{m=U}),T=e.callbacks,_=function(){m({})},w=this.apiClient,S={onopen:_,onmessage:U=>{OI(w,T.onmessage,U)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(U){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(U){}},A=this.webSocketFactory.create(p,VI(c),S);A.connect(),await y;const E=at(this.apiClient,e.model),k=yT({model:E}),I=zf({setup:k});return A.send(JSON.stringify(I)),new BI(A,this.apiClient)}}class BI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=rD(e),i=vT(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=oD(e),i=zf(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=zf({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Pr.PLAY)}pause(){this.sendPlaybackControl(Pr.PAUSE)}stop(){this.sendPlaybackControl(Pr.STOP)}resetContext(){this.sendPlaybackControl(Pr.RESET_CONTEXT)}close(){this.conn.close()}}function VI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function $I(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FI(t,e,n){const i=new yR;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const c=LD(a);Object.assign(i,c)}else{const c=PD(a);Object.assign(i,c)}e(i)}class zI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new qI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,a,c,h;const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const T=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&ST(e.config.tools)&&wT(T);const _=YI(T);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const J=this.apiClient.getApiKey();let K="BidiGenerateContent",se="key";J!=null&&J.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),K="BidiGenerateContentConstrained",se="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${K}?${se}=${J}`}let w=()=>{};const S=new Promise(J=>{w=J}),A=e.callbacks,E=function(){var J;(J=A==null?void 0:A.onopen)===null||J===void 0||J.call(A),w({})},k=this.apiClient,I={onopen:E,onmessage:J=>{FI(k,A.onmessage,J)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(J){},onclose:(i=A==null?void 0:A.onclose)!==null&&i!==void 0?i:function(J){}},U=this.webSocketFactory.create(y,JI(_),I);U.connect(),await S;let M=at(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const J=this.apiClient.getProject(),K=this.apiClient.getLocation();M=`projects/${J}/locations/${K}/`+M}let L={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[yu.AUDIO]}:e.config.responseModalities=[yu.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Y=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],X=[];for(const J of Y)if(this.isCallableTool(J)){const K=J;X.push(await K.tool())}else X.push(J);X.length>0&&(e.config.tools=X);const ie={model:M,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=X1(this.apiClient,ie):L=Q1(this.apiClient,ie),delete L.config,U.send(JSON.stringify(L)),new HI(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const GI={turnComplete:!0};class HI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Dn(n.turns),e.isVertexAI()?i=i.map(o=>Qr(o)):i=i.map(o=>Pu(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(jI)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},GI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:sD(e)}:n={realtimeInput:iD(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function JI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function YI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D0=10;function U0(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ru(c)){o=!0;break}if(!o)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ru(t){return"callTool"in t&&typeof t.callTool=="function"}function I0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KI extends Ps{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,a,c,h;const p=await this.processParamsForMcpUsage(n);if(!II(n)||U0(n.config))return await this.generateContentInternal(p);if(PI(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const T=Dn(p.contents),_=(a=(o=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:D0;let w=0;for(;w<_&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const S=m.candidates[0].content,A=[];for(const E of(h=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(ru(E)){const I=await E.callTool(m.functionCalls);A.push(...I)}w++,y={role:"user",parts:A},p.contents=Dn(p.contents),p.contents.push(S),p.contents.push(y),I0(p.config)&&(T.push(S),T.push(y))}return I0(p.config)&&(m.automaticFunctionCallingHistory=T),m},this.generateContentStream=async n=>{if(U0(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let a;const c=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=p==null?void 0:p.safetyAttributes:c.push(p);let h;return a?h={generatedImages:c,positivePromptSafetyAttributes:a}:h={generatedImages:c},h}),this.list=async n=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Ea(Ds.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var n,i,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const c=await Promise.all(a.map(async p=>ru(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&ST(e.config.tools)){const p=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),wT(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var n,i,o;const a=new Map;for(const c of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(ru(c)){const h=c,p=await h.tool();for(const m of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!m.name)throw new Error("Function declaration name is required.");if(a.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);a.set(m.name,h)}}return a}async processAfcStream(e){var n,i,o;const a=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:D0;let c=!1,h=0;const p=await this.initAfcToolsMap(e);return function(m,y,T){var _,w;return Or(this,arguments,function*(){for(var S,A,E,k;h<a;){c&&(h++,c=!1);const L=yield pt(m.processParamsForMcpUsage(T)),Y=yield pt(m.generateContentStreamInternal(L)),X=[],ie=[];try{for(var I=!0,U=(A=void 0,ha(Y)),M;M=yield pt(U.next()),S=M.done,!S;I=!0){k=M.value,I=!1;const J=k;if(yield yield pt(J),J.candidates&&(!((_=J.candidates[0])===null||_===void 0)&&_.content)){ie.push(J.candidates[0].content);for(const K of(w=J.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(h<a&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(K.functionCall.name)){const se=yield pt(y.get(K.functionCall.name).callTool([K.functionCall]));X.push(...se)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(J){A={error:J}}finally{try{!I&&!S&&(E=U.return)&&(yield pt(E.call(U)))}finally{if(A)throw A.error}}if(X.length>0){c=!0;const J=new ra;J.candidates=[{content:{role:"user",parts:X}}],yield yield pt(J);const K=[];K.push(...ie),K.push({role:"user",parts:X});const se=Dn(T.contents).concat(K);T.contents=se}else break}})}(this,p,e)}async generateContentInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=A0(this.apiClient,e);return h=_e("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=R0(y),_=new ra;return Object.assign(_,T),_})}else{const m=E0(this.apiClient,e);return h=_e("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=N0(y),_=new ra;return Object.assign(_,T),_})}}async generateContentStreamInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=A0(this.apiClient,e);return h=_e("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(T){return Or(this,arguments,function*(){var _,w,S,A;try{for(var E=!0,k=ha(T),I;I=yield pt(k.next()),_=I.done,!_;E=!0){A=I.value,E=!1;const M=R0(yield pt(A.json())),L=new ra;Object.assign(L,M),yield yield pt(L)}}catch(U){w={error:U}}finally{try{!E&&!_&&(S=k.return)&&(yield pt(S.call(k)))}finally{if(w)throw w.error}}})})}else{const m=E0(this.apiClient,e);return h=_e("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(T){return Or(this,arguments,function*(){var _,w,S,A;try{for(var E=!0,k=ha(T),I;I=yield pt(k.next()),_=I.done,!_;E=!0){A=I.value,E=!1;const M=N0(yield pt(A.json())),L=new ra;Object.assign(L,M),yield yield pt(L)}}catch(U){w={error:U}}finally{try{!E&&!_&&(S=k.return)&&(yield pt(S.call(k)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=iU(this.apiClient,e);return h=_e("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=lI(y),_=new r0;return Object.assign(_,T),_})}else{const m=g2(this.apiClient,e);return h=_e("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=qU(y),_=new r0;return Object.assign(_,T),_})}}async generateImagesInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=rU(this.apiClient,e);return h=_e("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=cI(y),_=new o0;return Object.assign(_,T),_})}else{const m=v2(this.apiClient,e);return h=_e("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=$U(y),_=new o0;return Object.assign(_,T),_})}}async editImageInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=fU(this.apiClient,e);return a=_e("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=dI(p),y=new dR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=mU(this.apiClient,e);return a=_e("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=fI(p),y=new fR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=pU(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Hf(y))}else{const m=x2(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Gf(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=yU(this.apiClient,e);return h=_e("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=gI(this.apiClient,y),_=new a0;return Object.assign(_,T),_})}else{const m=_2(this.apiClient,e);return h=_e("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=FU(this.apiClient,y),_=new a0;return Object.assign(_,T),_})}}async update(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=xU(this.apiClient,e);return h=_e("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Hf(y))}else{const m=S2(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Gf(y))}}async delete(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=TU(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=yI(),T=new l0;return Object.assign(T,y),T})}else{const m=w2(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=zU(),T=new l0;return Object.assign(T,y),T})}}async countTokens(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=bU(this.apiClient,e);return h=_e("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=vI(y),_=new u0;return Object.assign(_,T),_})}else{const m=E2(this.apiClient,e);return h=_e("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=GU(y),_=new u0;return Object.assign(_,T),_})}}async computeTokens(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=SU(this.apiClient,e);return a=_e("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=xI(p),y=new hR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=EU(this.apiClient,e);return h=_e("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>SI(y))}else{const m=R2(this.apiClient,e);return h=_e("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>KU(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function QI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function XI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["operationName"],n);const i=u(t,["resourceName"]);i!=null&&d(e,["_url","resourceName"],i);const o=u(t,["config"]);return o!=null&&d(e,["config"],o),e}function WI(t){const e={},n=u(t,["video","uri"]);n!=null&&d(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&d(e,["videoBytes"],wi(i));const o=u(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function eP(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],WI(n)),e}function tP(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>eP(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function nP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],tP(c)),e}function iP(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["videoBytes"],wi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function sP(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],iP(n)),e}function rP(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>sP(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function P0(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],rP(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oP extends Ps{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;return i&&"httpOptions"in i&&(a=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=QI(e);return h=_e("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>P0(y))}else{const m=ZI(e);return h=_e("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>nP(y))}}async fetchPredictVideosOperationInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=XI(e);return a=_e("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>P0(p))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aP(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function CT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],aP(n)),e}function lP(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],CT(i)),e}function uP(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lP(o))),d(e,["speakerVoiceConfigs"],i)}return e}function cP(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],CT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],uP(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function dP(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function fP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function hP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function mP(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],dP(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],fP(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],hP(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function pP(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>mP(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function gP(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function yP(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function vP(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],yP(n)),e}function xP(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function TP(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],xP(n)),e}function _P(){return{}}function bP(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>gP(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],vP(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],TP(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],_P());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function SP(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function L0(){return{}}function wP(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function CP(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],wP(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function EP(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function AP(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],EP(i)),e}function NP(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function RP(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],cP(gh(T)));const _=u(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],_);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],pP(Zt(w)));const S=u(t,["tools"]);if(e!==void 0&&S!=null){let L=Zr(S);Array.isArray(L)&&(L=L.map(Y=>bP(Kr(Y)))),d(e,["setup","tools"],L)}const A=u(t,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],SP(A));const E=u(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&d(e,["setup","inputAudioTranscription"],L0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","outputAudioTranscription"],L0());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&d(e,["setup","realtimeInputConfig"],CP(I));const U=u(t,["contextWindowCompression"]);e!==void 0&&U!=null&&d(e,["setup","contextWindowCompression"],AP(U));const M=u(t,["proactivity"]);return e!==void 0&&M!=null&&d(e,["setup","proactivity"],NP(M)),n}function kP(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],at(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],RP(o,n)),n}function MP(t,e,n){const i={},o=u(e,["expireTime"]);n!==void 0&&o!=null&&d(n,["expireTime"],o);const a=u(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&d(n,["newSessionExpireTime"],a);const c=u(e,["uses"]);n!==void 0&&c!=null&&d(n,["uses"],c);const h=u(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&d(n,["bidiGenerateContentSetup"],kP(t,h));const p=u(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&d(n,["fieldMask"],p),i}function DP(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],MP(t,i,n)),n}function UP(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IP(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function PP(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=IP(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];o.length>0&&(h=o.map(m=>c.includes(m)?`generationConfig.${m}`:m));const p=[];a&&p.push(a),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class LP extends Ps{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=DP(this.apiClient,e);a=_e("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const p=PP(h,e.config);return o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),o.then(m=>UP(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function qP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function BP(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],qP(n,e)),e}function VP(t){const e={},n=u(t,["textInput"]);n!=null&&d(e,["textInput"],n);const i=u(t,["output"]);return i!=null&&d(e,["output"],i),e}function $P(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>VP(o))),d(e,["examples","examples"],i)}return e}function jP(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&d(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=u(t,["epochCount"]);e!==void 0&&o!=null&&d(e,["tuningTask","hyperparameters","epochCount"],o);const a=u(t,["learningRateMultiplier"]);if(a!=null&&d(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=u(t,["batchSize"]);e!==void 0&&c!=null&&d(e,["tuningTask","hyperparameters","batchSize"],c);const h=u(t,["learningRate"]);return e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","learningRate"],h),n}function FP(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&d(e,["tuningTask","trainingData"],$P(i));const o=u(t,["config"]);return o!=null&&d(e,["config"],jP(o,e)),e}function zP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function GP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function HP(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],GP(n,e)),e}function JP(t,e){const n={},i=u(t,["gcsUri"]);if(e!==void 0&&i!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],i),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function YP(t){const e={},n=u(t,["gcsUri"]);return n!=null&&d(e,["validationDatasetUri"],n),e}function KP(t,e){const n={},i=u(t,["validationDataset"]);e!==void 0&&i!=null&&d(e,["supervisedTuningSpec"],YP(i));const o=u(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&d(e,["tunedModelDisplayName"],o);const a=u(t,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const c=u(t,["epochCount"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const h=u(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=u(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=u(t,["adapterSize"]);if(e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function ZP(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],JP(i,e));const o=u(t,["config"]);return o!=null&&d(e,["config"],KP(o,e)),e}function QP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["model"],n);const i=u(t,["name"]);return i!=null&&d(e,["endpoint"],i),e}function ET(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["state"]);i!=null&&d(e,["state"],rT(i));const o=u(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=u(t,["tuningTask","startTime"]);a!=null&&d(e,["startTime"],a);const c=u(t,["tuningTask","completeTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["description"]);p!=null&&d(e,["description"],p);const m=u(t,["baseModel"]);m!=null&&d(e,["baseModel"],m);const y=u(t,["_self"]);y!=null&&d(e,["tunedModel"],QP(y));const T=u(t,["distillationSpec"]);T!=null&&d(e,["distillationSpec"],T);const _=u(t,["experiment"]);_!=null&&d(e,["experiment"],_);const w=u(t,["labels"]);w!=null&&d(e,["labels"],w);const S=u(t,["pipelineJob"]);S!=null&&d(e,["pipelineJob"],S);const A=u(t,["serviceAccount"]);A!=null&&d(e,["serviceAccount"],A);const E=u(t,["tunedModelDisplayName"]);return E!=null&&d(e,["tunedModelDisplayName"],E),e}function XP(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ET(a))),d(e,["tuningJobs"],o)}return e}function WP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);return a!=null&&d(e,["error"],a),e}function eL(t){const e={},n=u(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&d(e,["epoch"],i);const o=u(t,["step"]);o!=null&&d(e,["step"],o);const a=u(t,["endpoint"]);return a!=null&&d(e,["endpoint"],a),e}function tL(t){const e={},n=u(t,["model"]);n!=null&&d(e,["model"],n);const i=u(t,["endpoint"]);i!=null&&d(e,["endpoint"],i);const o=u(t,["checkpoints"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>eL(c))),d(e,["checkpoints"],a)}return e}function Yf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["state"]);i!=null&&d(e,["state"],rT(i));const o=u(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=u(t,["startTime"]);a!=null&&d(e,["startTime"],a);const c=u(t,["endTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["error"]);p!=null&&d(e,["error"],p);const m=u(t,["description"]);m!=null&&d(e,["description"],m);const y=u(t,["baseModel"]);y!=null&&d(e,["baseModel"],y);const T=u(t,["tunedModel"]);T!=null&&d(e,["tunedModel"],tL(T));const _=u(t,["supervisedTuningSpec"]);_!=null&&d(e,["supervisedTuningSpec"],_);const w=u(t,["tuningDataStats"]);w!=null&&d(e,["tuningDataStats"],w);const S=u(t,["encryptionSpec"]);S!=null&&d(e,["encryptionSpec"],S);const A=u(t,["partnerModelTuningSpec"]);A!=null&&d(e,["partnerModelTuningSpec"],A);const E=u(t,["distillationSpec"]);E!=null&&d(e,["distillationSpec"],E);const k=u(t,["experiment"]);k!=null&&d(e,["experiment"],k);const I=u(t,["labels"]);I!=null&&d(e,["labels"],I);const U=u(t,["pipelineJob"]);U!=null&&d(e,["pipelineJob"],U);const M=u(t,["serviceAccount"]);M!=null&&d(e,["serviceAccount"],M);const L=u(t,["tunedModelDisplayName"]);return L!=null&&d(e,["tunedModelDisplayName"],L),e}function nL(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Yf(a))),d(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iL extends Ps{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ea(Ds.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:qf.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=zP(e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Yf(y))}else{const m=OP(e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>ET(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=HP(e);return h=_e("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=nL(y),_=new c0;return Object.assign(_,T),_})}else{const m=BP(e);return h=_e("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=XP(y),_=new c0;return Object.assign(_,T),_})}}async tuneInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=ZP(e);return a=_e("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>Yf(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=FP(e);return a=_e("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>WP(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sL{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const rL=1024*1024*8,oL=3,aL=1e3,lL=2,mf="x-goog-upload-status";async function uL(t,e,n){var i,o,a;let c=0,h=0,p=new Bf(new Response),m="upload";for(c=t.size;h<c;){const T=Math.min(rL,c-h),_=t.slice(h,h+T);h+T>=c&&(m+=", finalize");let w=0,S=aL;for(;w<oL&&(p=await n.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[mf]));)w++,await dL(S),S=S*lL;if(h+=T,((o=p==null?void 0:p.headers)===null||o===void 0?void 0:o[mf])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[mf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function cL(t){return{size:t.size,type:t.type}}function dL(t){return new Promise(e=>setTimeout(e,t))}class fL{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uL(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cL(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hL{create(e,n,i){return new mL(e,n,i)}}class mL{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O0="x-goog-api-key";class pL{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(O0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(O0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gL="gl-node/";class yL{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=cR(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new pL(this.apiKey);this.apiClient=new MI({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:gL+"web",uploader:new fL,downloader:new sL}),this.models=new KI(this.apiClient),this.live=new zI(this.apiClient,o,new hL),this.batches=new qk(this.apiClient),this.chats=new jM(this.models,this.apiClient),this.caches=new BM(this.apiClient),this.files=new t1(this.apiClient),this.operations=new oP(this.apiClient),this.authTokens=new LP(this.apiClient),this.tunings=new iL(this.apiClient)}}const ou=new yL({apiKey:"AIzaSyA-6iYToU_byydoAlucPvc0qnZXciaSI2A"}),vL=`
    # The following files given to you are a science olympiad invitational test and the answer/solutions.
    # Take all the questions and return them in an array of question JSON objects.
    # Each question object should have the following details: 
    {
      type,
      question,
      points,
      choices,
      answer,
      group,
    }

    # Go through the pdf, and identify the type of each question.
    # The type can be either mcq, saq, or leq, NOTHING ELSE!! 
    # mcq: multiple choice, saq: short answer (so one word, objective answers), leq: (longer answers where you have to explain or show your work)
    # If it's a matching question, the questions should be mcqs and just make as many questions as there are things to match
    # And the things to match are the choices
    # If it's a question where you have a few items/facts with letters, and each following question requires you to pull from that answer bank, then make the question an mcq, with the answer bank as choices, and each question as its own question.
    # Choices can be null if the question is not multiple choice
    # The question attribute is the question itself, so for example "What is blah"
    # The points are the points assigned to the question. Some tests will have this and others won't.
    # For tests that don't assign points, assign 1 point to each mcq and saq, and 5 for each leq.
    # For choices, don't label A, B, C (I'll do that myself). Choices is an array of strings, where the strings are the choices themselves without any other attachments.
    # For answers look at the answers pdf. For mcqs, the answer is the choice letter, so A, B, C, D, etc. If the test has the choices labeled differently still use A, B, C, and consecutive letters as the answer
    # If for mcqs the test answer refers to the actual answer, change it so the test answer is the correct letter instead. So for example if the test choices were labeled 1 through 10, and the answer was 1, your answer will be A.
    # Just to reiterate, the answer to mcqs will always be the correct LETTER choice and nothing else!
    # For questions that ask to order something, make that an mcq as well. For the choices, include the correct answer, and make up other orders of that order.
    # Make true-false questions mcqs with true and false as the two choices. 
    # The answer to an mcq should always be an option letter so even though the options for true and false are true or false, the answer will either be A or B
    # If a question is in a set, and there is context given pertaining to all questions in the beginning, then put that context in the question string of each question
    # If a question is in a set where they all refer to the same image, then you should also give a group attribute in the question object with a unique identifer for all questions in that group
    # The group attribute is optional, and ONLY for questions who have the same image used. So ONLY give and it and DEFINITELY give it when you have that situation where a bunch of questions use the same image, chart, drawing, etc 
    # Do not describe images for the test taker! 
    # For saqs, simply write down the one word or short phrase answer
    # If there are multiple answers for mcqs and saqs separate them with a comma and a space.
    # For leqs, put whatever the answer key for that test has in the answer, as a string, including directions to grade the problem if there are those.
    # Do not care about any images in the test. I will handle those later.
    # Only send the valid JSON array and no other words, because your response has to be JSON parsable
    # To reiterate, send an array of objects that have the property, type, which is either mcq, saq, or leq, question, which is a string, points, which is a number, choices, which is an array of strings (only if the q is multiple choice), and answer, which is either a singuler string or a string with comma separated values
    # In the case you are not given an answers pdf, or the answer might be unclear, you may generate the answer to the best of your knowledge. Ensure that none of the answers are anything such as "this will be determined later." For those type of "lab-based" questions, provide a range if you can from the best of your knowledge. 
    # ONLY GENERATE AN ANSWER WHEN IT IS CLEARLY NOT CLEAR OR NOT PRESENT. OTHERWISE DO NOT INTERFERE!
    # Do NOT generate your own questions!!
    # Make sure to return a **complete and valid JSON array**.
    # Your response should start with a left bracket [ and end with a right bracket ].
    # Once you end your triple quotes STOP!
    # Every question should stand on its own without other questions. So if any question refers to a previous question, ensure that the relevant context is in this question without needing the previous question.
    # Do not have wording such as "previous question" or "next question" because the order might change, so make the question so it can stand without having done other questions.
    # If you have an leq, then you can put all the parts that depend on each other as one question
    # If you have mcqs or saqs that refer to other questions, put that relevant information in the current question so it stands alone.
    # DO NOT PUT CHOICES IN THE QUESTION!! If you have choices, no matter how the test pdf has it, make the question an mcq and put choices as strings in an array
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), then all questions should be an leq! Make sure to use spaces and newlines properly as it is in the test. So put spaces between characters, words, and lines where appropriate so there's space for users to write in their answers or for me to put in boxes.
    # IF AND ONLY IF the test is Codebusters, then make sure that if a question is a special bonus question you add special bonus to it, and if the question has points listed, put those points in the points attribute.
    # IF AND ONLY IF the test is Codebusters, ensure that the question that might say (decode this) is separated from the cipher (the actual words) through new lines and such. Clearly separate the question from the cipher. 
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), the answer should be the solution to the cipher, with proper spaces. Do not add newlines or anything like that to the answer key. That should just be the simple answer.
    # FINAL INSTRUCTION: Your response must be *only* a valid JSON array, starting with '[' and ending with ']'. No explanations, no formatting, no extra text.
`;async function q0(t){const e=await ou.files.upload({file:t,config:{displayName:t.name}});let n=await ou.files.get({name:e.name});for(;n.state==="PROCESSING";)n=await ou.files.get({name:e.name}),console.log(`current file status: ${n.state}`),console.log("File is still processing, retrying in 5 seconds"),await new Promise(i=>{setTimeout(i,5e3)});if(e.state==="FAILED")throw new Error("File processing failed.");return e}async function xL(t,e){const n=[vL];let i=await q0(t);if(i.uri&&i.mimeType){const c=s0(i.uri,i.mimeType);n.push(c)}let o=await q0(e);if(o.uri&&o.mimeType){const c=s0(o.uri,o.mimeType);n.push(c)}const a=await ou.models.generateContent({model:"gemini-2.5-flash",contents:n});return console.log(a.text),a.text}const TL={createQuestions:xL},_L=({q:t,index:e,onEdit:n,onDelete:i})=>{const[o,a]=N.useState(!1),[c,h]=N.useState({...t}),p=()=>{a(!1),n(e,c)};return v.jsx("div",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:o?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Question"}),v.jsx("input",{value:c.question,onChange:m=>h({...c,question:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),v.jsxs("select",{value:c.type,onChange:m=>h({...c,type:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"mcq",children:"Multiple Choice"}),v.jsx("option",{value:"saq",children:"Short Answer"}),v.jsx("option",{value:"leq",children:"Long Answer"})]})]}),c.type==="mcq"&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Choices"}),v.jsx("div",{className:"space-y-2",children:c.choices.map((m,y)=>v.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+y),"."]}),v.jsx("input",{value:m,onChange:T=>{const _=[...c.choices];_[y]=T.target.value,h({...c,choices:_})},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}),v.jsx("button",{type:"button",className:"text-orange-600 font-medium",onClick:()=>{const T=c.choices.filter((_,w)=>w!==y);h({...c,choices:T})},children:"Remove"})]},y))}),v.jsx("button",{type:"button",className:"mt-2 text-orange-600 hover:underline",onClick:()=>h({...c,choices:[...c.choices,""]}),children:"+ Add Choice"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),c.type==="leq"?v.jsx("textarea",{value:c.answer,onChange:m=>h({...c,answer:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}):v.jsx("input",{value:c.answer,onChange:m=>h({...c,answer:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),v.jsx("input",{type:"number",value:c.points,onChange:m=>h({...c,points:+m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),c.selectedFile?v.jsxs("div",{className:"mt-4 w-full",children:[v.jsxs("div",{className:"flex justify-between items-center pb-2",children:[v.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),v.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>h({...c,selectedFile:null}),children:"×"})]}),v.jsx("img",{src:URL.createObjectURL(c.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):v.jsxs("label",{htmlFor:`file-upload-${e}`,className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[v.jsx("input",{id:`file-upload-${e}`,type:"file",className:"hidden",onChange:m=>{m.target.files&&m.target.files.length>0&&h({...c,selectedFile:m.target.files[0]})}}),v.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]}),v.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[v.jsx("button",{onClick:()=>a(!1),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Cancel"}),v.jsx("button",{onClick:p,className:"bg-orange-600 text-black px-4 py-1 rounded-md hover:bg-orange-700",children:"Save"})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"flex justify-between items-center mb-3",children:v.jsxs("div",{className:"mb-2 font-medium text-orange-900",children:["Q",e+1,": ",t.question]})}),t.type==="mcq"&&t.choices.map((m,y)=>v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+y),"."]}),v.jsx("span",{className:"text-gray-800",children:m})]},`${m}-${y}`)),v.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",v.jsx("span",{className:"font-semibold",children:t.points})]}),v.jsxs("div",{className:"text-sm text-gray-700",children:["Answer (s): ",v.jsx("span",{className:"font-semibold",children:t.answer})]}),t.selectedFile&&v.jsx("div",{className:"mt-4 w-full",children:v.jsx("img",{src:URL.createObjectURL(t.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})}),v.jsx("div",{className:"flex justify-end py-2",children:v.jsxs("div",{className:"flex justify-between gap-3",children:[v.jsx("button",{onClick:()=>a(!0),className:"bg-orange-500 hover:bg-orange-600 px-4 py-1 rounded-md",children:"Edit"}),v.jsx("button",{onClick:()=>i(e),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Delete"})]})})]})})},bL=t=>{const[e,n]=N.useState(!0),[i,o]=N.useState([]),[a,c]=N.useState(""),[h,p]=N.useState(""),[m,y]=N.useState(""),[T,_]=N.useState(1),[w,S]=N.useState([]),[A,E]=N.useState(""),[k,I]=N.useState(""),[U,M]=N.useState(""),[L,Y]=N.useState(""),[X,ie]=N.useState(null),[J,K]=N.useState(""),[se,F]=N.useState(""),[Pe,it]=N.useState(!1),Le=B=>B.split(",").map(R=>R.trim()).every(R=>/^[A-Za-z]$/.test(R)),Z=()=>{if(m.length===0){t.setError("Type of question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(a.length===0)t.setError("Question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);else if(h.length===0){t.setError("Answer required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(m==="mcq"){if(!w||w.length<2){t.setError("Choices required for multiple choice question!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(!Le(h)){t.setError("Invalid formatting of answers. Separate multiple answers with commas."),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}o(i.concat({type:m,question:a,choices:w,points:T,answer:h,selectedFile:X})),c(""),p(""),y(""),_(1),S([]),ie(null)},ae=async B=>{if(B.preventDefault(),L)if(k)if(U){if(i.length===0){t.setError("Questions are required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}else{t.setError("Test year required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Tournament name required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Event required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}if(t.tests.find(q=>q.school===k&&q.year===U)){t.setError("Test already uploaded to bank"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}const R=[];t.setNotif("Processing Test...");for(const q of i){let W;q.selectedFile&&(W=await NN.getImageUrl(q.selectedFile)),console.log(W);const re=await Dr.createQuestion({event:L,school:k,year:U,type:q.type,question:q.question,points:q.points,choices:q.choices,answer:q.answer,imageUrl:W});re&&R.push(re.id)}const O=await kn.createTest({event:L,random:!1,school:k,year:U,questions:R});console.log("Added Test"),t.setNotif("Added Test",O),t.setTests(t.tests.concat(O)),o([]),c(""),p(""),y(""),_(1),S([]),ie(null),Y(""),I(""),M(""),setTimeout(()=>{t.setNotif(null)},5e3)},G=async B=>{B.preventDefault(),it(!1),n(!1),window.scrollTo({top:0,behavior:"smooth"}),t.setNotif("Processing PDFs...");let O=(await TL.createQuestions(J,se)).trim();O.startsWith("```json")?O=O.replace(/^```json/,"").replace(/```$/,"").trim():O.startsWith("```")&&(O=O.replace(/^```/,"").replace(/```$/,"").trim());try{const q=JSON.parse(O);o(q),K(!1),F(!1),t.setNotif("Questions loaded!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch(q){t.setNotif(null),t.setError("Error loading questions"),setTimeout(()=>{t.setError(null)},5e3),console.log("Error",q)}};return t.user?v.jsxs("div",{className:"max-w-3xl mx-auto mt-10 p-6 bg-white rounded-md shadow-md",children:[v.jsxs("form",{className:"space-y-6",onSubmit:ae,children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Test"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Save Test"}),v.jsx(tt,{to:"/tests",className:"bg-amber-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Test Bank"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Tournament Name"}),v.jsx("input",{value:k,onChange:({target:B})=>I(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: Libertyville High School"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Year"}),v.jsx("input",{value:U,onChange:({target:B})=>M(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: 2025"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Event"}),v.jsxs("select",{value:L,onChange:({target:B})=>Y(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select Event"}),t.events.map(B=>v.jsx("option",{value:B.name,children:B.name},B.name))]})]}),e?v.jsx("div",{children:v.jsxs("div",{className:"bg-orange-50 p-6 rounded-md border border-orange-200",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-4",children:"Add Question"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Question"}),v.jsx("input",{value:a,onChange:({target:B})=>c(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"What is ..."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),v.jsxs("select",{value:m,onChange:({target:B})=>y(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"",disabled:!0,children:"Select question type"}),v.jsx("option",{value:"mcq",children:"Multiple Choice"}),v.jsx("option",{value:"saq",children:"Short Answer"}),v.jsx("option",{value:"leq",children:"Paragraph/Long Answer"})]})]}),m==="mcq"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Choices"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:A,onChange:({target:B})=>E(B.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: H20"}),v.jsx("button",{type:"button",onClick:()=>{A.trim()!==""&&(S([...w,A.trim()]),E(""))},className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]}),w.length>0&&v.jsx("div",{className:"space-y-2 mt-3",children:w.map((B,R)=>v.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+R),"."]}),v.jsx("span",{className:"text-gray-800",children:B})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{className:"text-orange-600 font-medium",onClick:()=>S(w.filter(O=>O!==B)),children:"Remove"})})]},B))})]}),m==="leq"?v.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer"}),v.jsx("textarea",{value:h,onChange:({target:B})=>p(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),v.jsx("input",{type:"number",value:T,onChange:({target:B})=>_(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}):v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),v.jsx("input",{value:h,onChange:({target:B})=>p(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: A, B"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),v.jsx("input",{type:"number",value:T,onChange:({target:B})=>_(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),X?v.jsxs("div",{className:"mt-4 w-full",children:[v.jsxs("div",{className:"flex justify-between items-center pb-2",children:[v.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),v.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>ie(null),children:"×"})]}),v.jsx("img",{src:URL.createObjectURL(X),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):v.jsxs("label",{htmlFor:"file-upload-add",className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[v.jsx("input",{id:"file-upload-add",type:"file",className:"hidden",onChange:B=>{B.target.files&&B.target.files.length>0&&ie(B.target.files[0])}}),v.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]})]}),v.jsxs("div",{className:"flex justify-between mt-6",children:[v.jsx("button",{type:"button",onClick:Z,className:"bg-orange-600 text-white px-6 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Save Question"}),v.jsx("button",{type:"button",onClick:()=>n(!1),className:"bg-orange-50 mb-2 text-orange-700 font-semibold hover:underline",children:"Close Question Editor"})]})]})}):v.jsx("button",{type:"button",onClick:()=>n(!0),className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Open Question Editor"})]}),v.jsxs("div",{className:"mt-5",children:[v.jsx("button",{onClick:()=>{it(!0),K(null),F(null)},className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Add Questions From PDF"}),v.jsx(Mx,{isOpen:Pe,onClose:()=>{it(!1)},title:"Add Questions From PDF",children:v.jsxs("form",{onSubmit:G,className:"max-w-md mx-auto space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question PDF"}),v.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:B})=>K(B.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer PDF"}),v.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:B})=>F(B.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),v.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg shadow-md transition duration-200",children:"Upload"})]})})]}),v.jsx("ul",{className:"mb-8 mt-10 space-y-4",children:i.length>0?i.map((B,R)=>v.jsx(_L,{q:B,index:R,onEdit:(O,q)=>{o(i.map((W,re)=>re===O?q:W))},onDelete:O=>{o(i.filter((q,W)=>W!==O))}},R)):v.jsx("div",{className:"border-2 border-dashed border-orange-300 rounded-md p-6 text-center text-orange-700 italic bg-orange-50",children:"No questions added yet. Use the forms above to add questions."})})]}):null},SL=t=>{const[e,n]=N.useState([]),[i,o]=N.useState(""),[a,c]=N.useState(""),[h,p]=N.useState("");N.useEffect(()=>{const y=t.tests.filter(T=>!T.random&&T.event.includes(i)&&T.school.includes(a)&&T.year.toString().includes(h));n(y)},[i,a,h,t.tests]);const m=()=>{o(""),c(""),p("")};return t.user?v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:v.jsxs("div",{className:"bg-white border border-orange-200 rounded-md p-6 shadow-md",children:[v.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-6",children:"Test Bank"}),v.jsxs("div",{className:"mb-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Event"}),v.jsxs("select",{value:i,onChange:({target:y})=>o(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[v.jsx("option",{value:"",children:"All"},"all"),t.events.map(y=>v.jsx("option",{value:y.name,children:y.name},y.name))]})]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"School"}),v.jsxs("select",{value:a,onChange:({target:y})=>c(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[v.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.school))].map(y=>v.jsx("option",{value:y,children:y},y))]})]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Year"}),v.jsxs("select",{value:h,onChange:({target:y})=>p(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[v.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.year))].map(y=>v.jsx("option",{value:y,children:y},y))]})]}),v.jsx("div",{className:"flex items-end",children:v.jsx("button",{onClick:m,className:"bg-orange-200 hover:bg-orange-300 text-orange-900 font-medium px-4 py-2 rounded-md transition w-full",children:"Reset Filters"})})]}),e.length>0?v.jsx("div",{className:"flex flex-col space-y-3",children:e.map(y=>v.jsx(tt,{to:`/tests/${y.id}`,children:v.jsx("div",{className:"flex justify-between items-center border border-orange-200 border-2 rounded-lg p-4 hover:bg-orange-100 transition",children:v.jsxs("div",{children:[v.jsxs("p",{className:"text-base font-semibold text-orange-800",children:[y.school," ",y.year]}),v.jsx("p",{className:"text-sm text-orange-700",children:y.event})]})})},y.id))}):v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-orange-700 mb-3 italic",children:"No tests found."}),v.jsx(tt,{to:"/tests/create",className:"inline-block bg-orange-200 text-orange-800 font-medium px-4 py-2 rounded-md hover:bg-orange-300 transition",children:"Add a Test"})]})]})}):null},wL=({tests:t,user:e,teams:n,setError:i,setNotif:o,setTests:a})=>{const[c,h]=N.useState(null),p=K0("/tests/:id"),m=Un();if(N.useEffect(()=>{if(p&&t){const T=t.find(_=>String(_.id)===p.params.id);h(T||null)}},[p,t]),!e)return;if(!t||!p)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(!c)return t.map(T=>T.id).includes(p.params.id.toString())?v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsx("div",{className:"text-center max-w-4xl mx-auto bg-white rounded-lg px-2 py-5 mt-10 font-medium text-orange-600",children:"Test not found."});const y=async()=>{if(!e||!c)return;if(!n||n.length===0){i("No teams available to assign this test."),setTimeout(()=>{i(null)},5e3);return}let T;try{T=await kn.updateTest(c.id,{assignees:n.filter(_=>_.event===c.event).map(_=>_.id)}),T&&(a(t.map(_=>_.id===c.id?T:_)),o("Test assigned successfully!"),setTimeout(()=>{o(null)},5e3),m("/tests"))}catch(_){console.error("Error assigning test:",_),_.response&&_.response.status===409?i(_.response.data.error):i("Failed to assign test. Please try again."),setTimeout(()=>{i(null)},5e3)}};return v.jsxs("div",{className:"max-w-4xl mx-auto mt-10 p-6 bg-white rounded-md shadow",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx(tt,{to:"/tests",className:"text-sm sm:text-base text-orange-600 font-semibold hover:text-orange-700 hover:underline transition",children:"← Return to Test Bank"}),v.jsx("button",{onClick:y,className:"bg-orange-500 hover:bg-orange-600 text-white font-medium px-4 py-2 rounded shadow transition",children:"Assign"})]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("h2",{className:"text-2xl font-semibold text-orange-700",children:[c.school," Science Olympiad ",c.year]}),v.jsx("h3",{className:"text-lg font-medium text-gray-700 mt-1",children:c.event})]})]}),v.jsx("ul",{className:"space-y-6 mt-8",children:c.questions&&c.questions.length>0?c.questions.map((T,_)=>{var w;return v.jsxs("li",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:[v.jsxs("div",{className:"mb-3 font-medium text-orange-900",children:["Q",_+1,": ",T.question]}),T.type==="mcq"&&((w=T.choices)==null?void 0:w.map((S,A)=>v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+A),"."]}),v.jsx("span",{className:"text-gray-800",children:S})]},A))),v.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",v.jsx("span",{className:"font-semibold",children:T.points})]}),v.jsxs("div",{className:"text-sm text-gray-700",children:["Answer: ",v.jsx("span",{className:"font-semibold",children:T.answer})]}),T.imageUrl&&v.jsx("div",{className:"mt-4 w-full flex justify-center",children:v.jsx("img",{src:T.imageUrl,alt:"Attached",className:"max-w-lg border border-orange-300 rounded-md shadow"})})]},_)}):v.jsx("div",{className:"text-center italic text-orange-500",children:"No questions available for this test."})})]})},CL=t=>{const[e,n]=N.useState(""),[i,o]=N.useState([]),[a,c]=N.useState("20"),[h,p]=N.useState("20"),[m,y]=N.useState("10");if(!t.user)return null;if(!t.questions||t.questions.length===0)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});const T=async()=>{if(!e){t.setError("Please select an event."),setTimeout(()=>t.setError(null),5e3);return}if(a.length===0||h.length===0||m.length===0){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}if(isNaN(Number(a))||isNaN(Number(h))||isNaN(Number(m))){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}try{const w=t.questions.filter(k=>k.event===e&&k.type==="mcq"),S=t.questions.filter(k=>k.event===e&&k.type==="saq"),A=t.questions.filter(k=>k.event===e&&k.type==="leq"),E=[...w.sort(()=>.5-Math.random()).slice(0,Number(a)),...S.sort(()=>.5-Math.random()).slice(0,Number(h)),...A.sort(()=>.5-Math.random()).slice(0,Number(m))];o(E)}catch(w){console.error("Error creating test:",w)}},_=async()=>{if(i.length===0){t.setError("No questions generated to assign."),setTimeout(()=>{t.setError(null)},5e3);return}const w={event:e,random:!0,questions:i.map(S=>S.id)};try{if(!t.teams||t.teams.length===0){t.setError("No teams available to assign this test."),setTimeout(()=>{t.setError(null)},5e3);return}const S=await kn.createTest(w);if(S){const A=await kn.updateTest(S.id,{assignees:t.teams.filter(E=>E.event===e).map(E=>E.id)});t.setNotif("Test assigned successfully!"),setTimeout(()=>{t.setNotif(null)},5e3),t.setTests(t.tests.concat(A))}o([])}catch(S){console.error("Error assigning test:",S),S.response&&S.response.status===409?t.setError(S.response.data.error):t.setError("Failed to assign test. Please try again."),setTimeout(()=>{t.setError(null)},5e3)}};return v.jsxs("div",{className:"max-w-3xl mx-auto mt-12 p-6 bg-white rounded-lg shadow-md space-y-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Random Practice Test"}),v.jsxs("div",{className:"grid-cols-2 gap-4",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"Event"}),v.jsxs("select",{value:e,onChange:({target:w})=>n(w.value),className:"w-full px-4 py-2 mt-2 mb-4 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[v.jsx("option",{value:"",children:"Select Event"}),t.events.map(w=>v.jsx("option",{value:w.name,children:w.name},w.name))]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of Multiple Choice"}),v.jsx("input",{type:"number",min:"0",value:a,onChange:w=>c(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of Short Answer"}),v.jsx("input",{type:"number",min:"0",value:h,onChange:w=>p(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of Long Answer"}),v.jsx("input",{type:"number",min:"0",value:m,onChange:w=>y(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]})]})]}),v.jsx("div",{className:"text-center",children:v.jsx("button",{onClick:T,className:"bg-orange-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-orange-700 transition",children:"Generate"})}),i.length>0&&v.jsxs("div",{className:"mt-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:"Generated Questions"}),v.jsx("button",{onClick:_,className:"bg-amber-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-amber-700 transition",children:"Assign Test"})]}),v.jsx("ul",{className:"space-y-3 mb-6",children:i.map((w,S)=>v.jsxs("li",{className:"bg-orange-50 border border-orange-200 rounded-md p-4 text-gray-800 shadow-sm",children:["Q",S+1,": ",w.question]},S))})]})]})},EL=({event:t,users:e,teams:n,onSave:i,user:o})=>{const[a,c]=N.useState({orange:[],black:[],white:[]}),[h,p]=N.useState({orange:[],black:[],white:[]}),[m,y]=N.useState({orange:"",black:"",white:""}),[T,_]=N.useState(!1),[w,S]=N.useState(!1),[A,E]=N.useState(!1);N.useEffect(()=>{var Y,X,ie;const M={orange:[],black:[],white:[]};M.orange=((Y=n.find(J=>J.name==="Varsity"))==null?void 0:Y.students)||[],M.black=((X=n.find(J=>J.name==="JV"))==null?void 0:X.students)||[],M.white=((ie=n.find(J=>J.name==="JV2"))==null?void 0:ie.students)||[],c({...M}),p({...M});const L=M.white.length>0;_(L),S(L)},[n]);const k=M=>{const L=m[M].trim().toLowerCase(),Y=e.find(X=>X.firstName.toLowerCase().includes(L)||`${X.firstName} ${X.lastName}`.toLowerCase().includes(L));Y&&!a[M].some(X=>X.id===Y.id)&&(c(X=>({...X,[M]:[...X[M],Y]})),y(X=>({...X,[M]:""})))},I=(M,L)=>{c(Y=>({...Y,[M]:Y[M].filter(X=>X.id!==L)}))},U=(M,L,Y,X)=>v.jsxs("div",{className:"w-full",children:[v.jsx("div",{className:`text-[10px] font-bold py-1 px-1 rounded-t text-center ${Y} ${X}`,children:L}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-b px-1 py-1 space-y-1 min-h-[40px]",onClick:()=>{var ie;return A&&((ie=document.getElementById(`${t.id}-${M}-input`))==null?void 0:ie.focus())},children:[a[M].map(ie=>v.jsxs("div",{className:"flex justify-between items-center text-[10px] bg-orange-50 px-1 py-[2px] rounded",children:[v.jsxs("span",{className:"truncate",children:[ie.firstName," ",ie.lastName]}),A&&v.jsx("button",{className:"text-gray-400 hover:text-red-500 ml-1 text-xs",onClick:J=>{J.stopPropagation(),I(M,ie.id)},children:"×"})]},ie.id)),A&&v.jsx("input",{id:`${t.id}-${M}-input`,value:m[M],onChange:ie=>y(J=>({...J,[M]:ie.target.value})),onKeyDown:ie=>ie.key==="Enter"&&k(M),placeholder:"Enter name and press enter",className:"w-full mt-1 px-1 py-[2px] text-[10px] border border-orange-300 rounded focus:outline-none focus:ring-1 focus:ring-orange-500"})]})]});return v.jsxs("div",{className:"border border-orange-200 rounded p-2 bg-orange-50 shadow-sm text-xs",children:[v.jsx("h4",{className:"font-semibold text-orange-700 text-center mb-2 truncate",children:t.name}),v.jsxs("div",{className:"flex gap-2 justify-center",children:[U("orange","Varsity","bg-orange-600","text-white"),U("black","JV","bg-black","text-white"),T&&U("white","JV2","bg-white","text-black")]}),(o==null?void 0:o.admin)&&A&&v.jsx("div",{className:"text-center mt-2",children:T?v.jsx("button",{className:"text-[10px] text-red-500 hover:underline",onClick:()=>{c(M=>({...M,white:[]})),_(!1)},children:"Remove JV2"}):v.jsx("button",{className:"text-orange-600 text-[10px] hover:underline",onClick:()=>_(!0),children:"+ Add JV2"})}),v.jsxs("div",{className:"text-center mt-3 space-x-2",children:[(o==null?void 0:o.admin)&&!A&&v.jsx("button",{onClick:()=>E(!0),className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Edit"}),(o==null?void 0:o.admin)&&A&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>{console.log("Saving assignment for",t.name,a),p(a),S(T),E(!1),i(t.name,a)},className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Save"}),v.jsx("button",{onClick:()=>{c(h),_(w),y({orange:"",black:"",white:""}),E(!1)},className:"bg-gray-200 text-gray-700 px-3 py-1 rounded text-xs hover:bg-gray-300 transition",children:"Cancel"})]})]})]})},Ou="/api/teams";let Aa=null;const AL=t=>{Aa=`Bearer ${t}`},NL=async()=>(await be.get(Ou,{headers:{Authorization:Aa}})).data,RL=async t=>(await be.post(Ou,t,{headers:{Authorization:Aa}})).data,kL=async(t,e)=>{const n=`${Ou}/${t}`;return(await be.put(n,e,{headers:{Authorization:Aa}})).data},ML=async t=>{const e=`${Ou}/${t}`;if((await be.delete(e,{headers:{Authorization:Aa}})).status===204)return{id:t}},Yt={setToken:AL,getAll:NL,createTeam:RL,changeTeam:kL,deleteTeam:ML},DL=({user:t,users:e,events:n,teams:i,setTeams:o})=>{const[a,c]=N.useState([]),[h,p]=N.useState([]),[m,y]=N.useState([]),[T,_]=N.useState([]),[w,S]=N.useState([]),[A,E]=N.useState([]),k=(M,L)=>{if(M.length!==L.length)return!1;const Y=J=>J.map(K=>typeof K=="object"?K.id:K),X=Y(M).sort(),ie=Y(L).sort();return X.every((J,K)=>J===ie[K])},I=async(M,L)=>{const Y=i.find(J=>J.event===M&&J.name==="Varsity"),X=i.find(J=>J.event===M&&J.name==="JV"),ie=i.find(J=>J.event===M&&J.name==="JV2");try{if(L.orange.length>0)if(Y){if(k(Y.students,L.orange.map(K=>K.id)))return;console.log("Updating Varsity team for",M);const J=await Yt.changeTeam(Y.id,{students:L.orange.map(K=>K.id)});o(i.map(K=>K.id===Y.id?J:K))}else{console.log("Creating new Varsity team for",M);const J=await Yt.createTeam({event:M,name:"Varsity",students:L.orange.map(K=>K.id)});o(i.concat(J))}else if(Y){console.log("Deleting Varsity team for",M);const J=await Yt.deleteTeam(Y.id);J&&o(i.filter(K=>K.id!==J.id))}if(L.black.length>0)if(X){if(k(X.students,L.black.map(K=>K.id)))return;console.log("Updating JV team for",M);const J=await Yt.changeTeam(X.id,{students:L.black.map(K=>K.id)});o(i.map(K=>K.id===X.id?J:K))}else{console.log("Creating new JV team for",M);const J=await Yt.createTeam({event:M,name:"JV",students:L.black.map(K=>K.id)});o(i.concat(J))}else if(X){console.log("Deleting JV team for",M);const J=await Yt.deleteTeam(X.id);J&&o(i.filter(K=>K.id!==J.id))}if(L.white.length>0)if(ie){if(k(ie.students,L.white.map(K=>K.id)))return;console.log("Updating JV2 team for",M);const J=await Yt.changeTeam(ie.id,{students:L.white.map(K=>K.id)});o(i.map(K=>K.id===ie.id?J:K))}else{console.log("Creating new JV2 team for",M);const J=await Yt.createTeam({event:M,name:"JV2",students:L.white.map(K=>K.id)});o(i.concat(J))}else if(ie){console.log("Deleting JV2 team for",M);const J=await Yt.deleteTeam(ie.id);J&&o(i.filter(K=>K.id!==J.id))}console.log("Team assignments saved successfully for",M)}catch(J){throw console.error("Full error object:",J),J.response&&J.response.data?(console.error(`API Error: ${J.response.data.error}`),console.error("Response status:",J.response.status),console.error("Response data:",J.response.data)):J.message?console.error("Error message:",J.message):console.error("An unexpected error occurred while saving team assignments:",J),J}};N.useEffect(()=>{n&&(c(n.filter(M=>M.block==="1")),p(n.filter(M=>M.block==="2")),y(n.filter(M=>M.block==="3")),_(n.filter(M=>M.block==="4")),S(n.filter(M=>M.block==="5")),E(n.filter(M=>M.block==="")))},[n]);const U=(M,L)=>v.jsxs("div",{className:"bg-white shadow rounded-lg p-4 flex flex-col",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-3 text-center border-b border-orange-200 pb-1",children:M}),v.jsx("div",{className:"space-y-3 min-h-[360px]",children:L.map(Y=>v.jsx(EL,{event:Y,users:e,teams:i.filter(X=>X.event===Y.name),user:t,onSave:I},Y.id))})]},M);if(t)return!e||!i||!n?v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsxs("div",{className:"px-4 py-8 space-y-10",children:[v.jsx("h2",{className:"w-full text-center font-semibold text-2xl text-orange-800 mb-6 bg-white rounded-lg shadow-lg p-4",children:"Team Lineup"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[U("Block 1",a),U("Block 2",h),U("Block 3",m)]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[U("Block 4",T),U("Block 5",w),U("Self Schedule",A)]}),v.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mt-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 border-b border-orange-200 pb-2 mb-4 text-center",children:"Events Per Student"}),v.jsx("div",{className:"flex flex-wrap gap-3",children:e.filter(M=>M.teams&&M.teams.length>0).map(M=>v.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-md px-3 py-2 text-sm text-orange-800 shadow-sm",children:[v.jsxs("span",{className:"font-medium",children:[M.firstName," ",M.lastName]}),": ",M.teams.length]},M.id))})]})]})},Na="/api/answers";let AT=null;const UL=t=>{AT=`Bearer ${t}`},Ra=()=>({headers:{Authorization:AT}}),IL=async t=>(await be.post(Na,t,Ra())).data,PL=async(t,e)=>(await be.get(`${Na}/${t}/${e}`,Ra())).data,LL=async(t,e,n)=>(await be.put(`${Na}/${t}/${e}`,n,Ra())).data,OL=async(t,e,{questionId:n,answer:i,drawing:o})=>(await be.patch(`${Na}/${t}/${e}`,{questionId:n,answer:i,drawing:o},Ra())).data,qL=async()=>(await be.get(Na,Ra())).data,jt={setToken:UL,create:IL,getByTestAndTeam:PL,update:LL,updateSpecific:OL,getAll:qL},Xr="/api/submissions";let NT=null;const BL=t=>{NT=`Bearer ${t}`},Wr=()=>({headers:{Authorization:NT}}),VL=async t=>(await be.post(Xr,t,Wr())).data,$L=async()=>(await be.get(Xr,Wr())).data,jL=async t=>(await be.get(`${Xr}/${t}`,Wr())).data,FL=async(t,e)=>(await be.get(`${Xr}/check/${t}/${e}`,Wr())).data,zL=async t=>(await be.get(`${Xr}/team/${t}`,Wr())).data,GL=async(t,e)=>(await be.put(`${Xr}/${t}`,e,Wr())).data,qt={setToken:BL,create:VL,getAll:$L,getById:jL,checkSubmission:FL,getByTeam:zL,update:GL},HL=({tests:t,user:e,users:n,teams:i})=>{const[o,a]=N.useState([]),[c,h]=N.useState({});return N.useEffect(()=>{var p;if(t&&e&&n){const m=n.find(_=>_.id===e.id),y=((p=m==null?void 0:m.teams)==null?void 0:p.map(_=>_.id))||[];console.log(y),console.log(t);const T=t.filter(_=>{var w;return(w=_.assignees)==null?void 0:w.some(S=>y.includes(S))});a(T)}},[t,e,n]),N.useEffect(()=>{(async()=>{if(o.length>0&&i&&e){const m=localStorage.getItem("loggedAppUser");if(m){const T=JSON.parse(m);jt.setToken(T.token),qt.setToken(T.token)}const y={};for(const T of o){const _=i.find(w=>w&&w.event===T.event&&w.students&&Array.isArray(w.students)&&w.students.some(S=>S&&S.id===e.id));if(_)try{if((await qt.checkSubmission(T.id,_.id)).submitted)y[T.id]="submitted";else{const S=await jt.getByTestAndTeam(T.id,_.id);y[T.id]=S?"started":"not_started"}}catch{y[T.id]="not_started"}else y[T.id]="no_team"}h(y)}})()},[o,i,e]),e?v.jsxs("div",{className:"max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"Assigned Tests"}),o.length===0?v.jsx("p",{className:"text-center text-gray-500 italic",children:"You currently have no assigned tests."}):v.jsx("ul",{className:"space-y-3",children:o.map(p=>v.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:p.random?`Random Test - ${p.event}`:`${p.school} ${p.year} - ${p.event}`}),c[p.id]==="submitted"&&v.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Submitted"})]}),c[p.id]==="submitted"?v.jsx("span",{className:"text-sm text-green-600 font-medium",children:"✓ Completed"}):v.jsxs(tt,{to:`/assigned/${p.id}`,className:"text-sm text-orange-600 hover:underline",children:[c[p.id]==="started"?"Continue Test":"Take Test"," →"]})]})},p.id))})]}):null};function B0(t,e,n,i,o,a,c){try{var h=t[a](c),p=h.value}catch(m){n(m);return}h.done?e(p):Promise.resolve(p).then(i,o)}function JL(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function c(p){B0(a,i,o,c,h,"next",p)}function h(p){B0(a,i,o,c,h,"throw",p)}c(void 0)})}}function As(){return As=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},As.apply(this,arguments)}var RT={exports:{}};(function(t){var e=function(n){var i=Object.prototype,o=i.hasOwnProperty,a,c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",m=c.toStringTag||"@@toStringTag";function y(G,B,R){return Object.defineProperty(G,B,{value:R,enumerable:!0,configurable:!0,writable:!0}),G[B]}try{y({},"")}catch{y=function(B,R,O){return B[R]=O}}function T(G,B,R,O){var q=B&&B.prototype instanceof I?B:I,W=Object.create(q.prototype),re=new Le(O||[]);return W._invoke=se(G,R,re),W}n.wrap=T;function _(G,B,R){try{return{type:"normal",arg:G.call(B,R)}}catch(O){return{type:"throw",arg:O}}}var w="suspendedStart",S="suspendedYield",A="executing",E="completed",k={};function I(){}function U(){}function M(){}var L={};y(L,h,function(){return this});var Y=Object.getPrototypeOf,X=Y&&Y(Y(Z([])));X&&X!==i&&o.call(X,h)&&(L=X);var ie=M.prototype=I.prototype=Object.create(L);U.prototype=M,y(ie,"constructor",M),y(M,"constructor",U),U.displayName=y(M,m,"GeneratorFunction");function J(G){["next","throw","return"].forEach(function(B){y(G,B,function(R){return this._invoke(B,R)})})}n.isGeneratorFunction=function(G){var B=typeof G=="function"&&G.constructor;return B?B===U||(B.displayName||B.name)==="GeneratorFunction":!1},n.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,M):(G.__proto__=M,y(G,m,"GeneratorFunction")),G.prototype=Object.create(ie),G},n.awrap=function(G){return{__await:G}};function K(G,B){function R(W,re,fe,oe){var Ce=_(G[W],G,re);if(Ce.type==="throw")oe(Ce.arg);else{var Ae=Ce.arg,ue=Ae.value;return ue&&typeof ue=="object"&&o.call(ue,"__await")?B.resolve(ue.__await).then(function(de){R("next",de,fe,oe)},function(de){R("throw",de,fe,oe)}):B.resolve(ue).then(function(de){Ae.value=de,fe(Ae)},function(de){return R("throw",de,fe,oe)})}}var O;function q(W,re){function fe(){return new B(function(oe,Ce){R(W,re,oe,Ce)})}return O=O?O.then(fe,fe):fe()}this._invoke=q}J(K.prototype),y(K.prototype,p,function(){return this}),n.AsyncIterator=K,n.async=function(G,B,R,O,q){q===void 0&&(q=Promise);var W=new K(T(G,B,R,O),q);return n.isGeneratorFunction(B)?W:W.next().then(function(re){return re.done?re.value:W.next()})};function se(G,B,R){var O=w;return function(W,re){if(O===A)throw new Error("Generator is already running");if(O===E){if(W==="throw")throw re;return ae()}for(R.method=W,R.arg=re;;){var fe=R.delegate;if(fe){var oe=F(fe,R);if(oe){if(oe===k)continue;return oe}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(O===w)throw O=E,R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);O=A;var Ce=_(G,B,R);if(Ce.type==="normal"){if(O=R.done?E:S,Ce.arg===k)continue;return{value:Ce.arg,done:R.done}}else Ce.type==="throw"&&(O=E,R.method="throw",R.arg=Ce.arg)}}}function F(G,B){var R=G.iterator[B.method];if(R===a){if(B.delegate=null,B.method==="throw"){if(G.iterator.return&&(B.method="return",B.arg=a,F(G,B),B.method==="throw"))return k;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var O=_(R,G.iterator,B.arg);if(O.type==="throw")return B.method="throw",B.arg=O.arg,B.delegate=null,k;var q=O.arg;if(!q)return B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,k;if(q.done)B[G.resultName]=q.value,B.next=G.nextLoc,B.method!=="return"&&(B.method="next",B.arg=a);else return q;return B.delegate=null,k}J(ie),y(ie,m,"Generator"),y(ie,h,function(){return this}),y(ie,"toString",function(){return"[object Generator]"});function Pe(G){var B={tryLoc:G[0]};1 in G&&(B.catchLoc=G[1]),2 in G&&(B.finallyLoc=G[2],B.afterLoc=G[3]),this.tryEntries.push(B)}function it(G){var B=G.completion||{};B.type="normal",delete B.arg,G.completion=B}function Le(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(Pe,this),this.reset(!0)}n.keys=function(G){var B=[];for(var R in G)B.push(R);return B.reverse(),function O(){for(;B.length;){var q=B.pop();if(q in G)return O.value=q,O.done=!1,O}return O.done=!0,O}};function Z(G){if(G){var B=G[h];if(B)return B.call(G);if(typeof G.next=="function")return G;if(!isNaN(G.length)){var R=-1,O=function q(){for(;++R<G.length;)if(o.call(G,R))return q.value=G[R],q.done=!1,q;return q.value=a,q.done=!0,q};return O.next=O}}return{next:ae}}n.values=Z;function ae(){return{value:a,done:!0}}return Le.prototype={constructor:Le,reset:function(G){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(it),!G)for(var B in this)B.charAt(0)==="t"&&o.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=a)},stop:function(){this.done=!0;var G=this.tryEntries[0],B=G.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(G){if(this.done)throw G;var B=this;function R(oe,Ce){return W.type="throw",W.arg=G,B.next=oe,Ce&&(B.method="next",B.arg=a),!!Ce}for(var O=this.tryEntries.length-1;O>=0;--O){var q=this.tryEntries[O],W=q.completion;if(q.tryLoc==="root")return R("end");if(q.tryLoc<=this.prev){var re=o.call(q,"catchLoc"),fe=o.call(q,"finallyLoc");if(re&&fe){if(this.prev<q.catchLoc)return R(q.catchLoc,!0);if(this.prev<q.finallyLoc)return R(q.finallyLoc)}else if(re){if(this.prev<q.catchLoc)return R(q.catchLoc,!0)}else if(fe){if(this.prev<q.finallyLoc)return R(q.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(G,B){for(var R=this.tryEntries.length-1;R>=0;--R){var O=this.tryEntries[R];if(O.tryLoc<=this.prev&&o.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var q=O;break}}q&&(G==="break"||G==="continue")&&q.tryLoc<=B&&B<=q.finallyLoc&&(q=null);var W=q?q.completion:{};return W.type=G,W.arg=B,q?(this.method="next",this.next=q.finallyLoc,k):this.complete(W)},complete:function(G,B){if(G.type==="throw")throw G.arg;return G.type==="break"||G.type==="continue"?this.next=G.arg:G.type==="return"?(this.rval=this.arg=G.arg,this.method="return",this.next="end"):G.type==="normal"&&B&&(this.next=B),k},finish:function(G){for(var B=this.tryEntries.length-1;B>=0;--B){var R=this.tryEntries[B];if(R.finallyLoc===G)return this.complete(R.completion,R.afterLoc),it(R),k}},catch:function(G){for(var B=this.tryEntries.length-1;B>=0;--B){var R=this.tryEntries[B];if(R.tryLoc===G){var O=R.completion;if(O.type==="throw"){var q=O.arg;it(R)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(G,B,R){return this.delegate={iterator:Z(G),resultName:B,nextLoc:R},this.method==="next"&&(this.arg=a),k}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(RT);var V0=RT.exports,kT=function(e){var n=e.paths,i=e.id,o=e.strokeWidth,a=e.strokeColor,c=e.command,h=c===void 0?MT:c;if(n.length===1){var p=n[0],m=p.x,y=p.y,T=o/2;return N.createElement("circle",{key:i,id:i,cx:m,cy:y,r:T,stroke:a,fill:a})}var _=n.reduce(function(w,S,A,E){return A===0?"M "+S.x+","+S.y:w+" "+h(S,A,E)},"");return N.createElement("path",{key:i,id:i,d:_,fill:"none",strokeLinecap:"round",stroke:a,strokeWidth:o})},YL=function(e,n){var i=n.x-e.x,o=n.y-e.y;return{length:Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),angle:Math.atan2(o,i)}},Ql=function(e){var n=e.current,i=e.next,o=e.previous,a=e.reverse,c=o||n,h=i||n,p=.2,m=YL(c,h),y=m.angle+(a?Math.PI:0),T=m.length*p,_=n.x+Math.cos(y)*T,w=n.y+Math.sin(y)*T;return[_,w]},MT=function(e,n,i){var o=null,a=null;switch(n){case 0:var c=Ql({current:e});o=c[0],a=c[1];break;case 1:var h=Ql({current:i[n-1],next:e});o=h[0],a=h[1];break;default:var p=Ql({current:i[n-1],previous:i[n-2],next:e});o=p[0],a=p[1];break}var m=Ql({current:e,previous:i[n-1],next:i[n+1],reverse:!0}),y=m[0],T=m[1];return"C "+o+","+a+" "+y+","+T+" "+e.x+", "+e.y},KL=function(e){var n=e.id,i=e.paths;return N.createElement(N.Fragment,null,i.map(function(o,a){return N.createElement(kT,{key:n+"__"+a,paths:o.paths,id:n+"__"+a,strokeWidth:o.strokeWidth,strokeColor:o.strokeColor,command:MT})}))},$0=function(e){return new Promise(function(n,i){var o=new Image;o.addEventListener("load",function(){o.width>0&&n(o),i("Image not found")}),o.addEventListener("error",function(a){return i(a)}),o.src=e,o.setAttribute("crossorigin","anonymous")})};function j0(t){var e,n=(e=t.firstChild)==null?void 0:e.cloneNode(!0),i=t.offsetWidth,o=t.offsetHeight;return n.setAttribute("viewBox","0 0 "+i+" "+o),n.setAttribute("width",i.toString()),n.setAttribute("height",o.toString()),{svgCanvas:n,width:i,height:o}}var ZL=N.forwardRef(function(t,e){var n=t.paths,i=t.isDrawing,o=t.onPointerDown,a=t.onPointerMove,c=t.onPointerUp,h=t.id,p=h===void 0?"react-sketch-canvas":h,m=t.width,y=m===void 0?"100%":m,T=t.height,_=T===void 0?"100%":T,w=t.className,S=w===void 0?"react-sketch-canvas":w,A=t.canvasColor,E=A===void 0?"red":A,k=t.backgroundImage,I=k===void 0?"":k,U=t.exportWithBackgroundImage,M=U===void 0?!1:U,L=t.preserveBackgroundImageAspectRatio,Y=L===void 0?"none":L,X=t.allowOnlyPointerType,ie=X===void 0?"all":X,J=t.style,K=J===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:J,se=t.svgStyle,F=se===void 0?{}:se,Pe=N.useRef(null),it=function(q){var W,re,fe,oe=(W=Pe.current)==null?void 0:W.getBoundingClientRect(),Ce=(re=window.scrollX)!=null?re:0,Ae=(fe=window.scrollY)!=null?fe:0;if(!oe)return{x:0,y:0};var ue={x:q.pageX-oe.left-Ce,y:q.pageY-oe.top-Ae};return ue},Le=function(q){if(!(ie!=="all"&&q.pointerType!==ie)&&!(q.pointerType==="mouse"&&q.button!==0)){var W=it(q);o(W)}},Z=function(q){if(i&&!(ie!=="all"&&q.pointerType!==ie)){var W=it(q);a(W)}},ae=function(q){q.pointerType==="mouse"&&q.button!==0||ie!=="all"&&q.pointerType!==ie||c()};N.useImperativeHandle(e,function(){return{exportImage:function(q){return new Promise(function(){var W=JL(V0.mark(function re(fe,oe){var Ce,Ae,ue,de,Me,he,je,Se;return V0.wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(Re.prev=0,Ce=Pe.current,Ce){Re.next=4;break}throw Error("Canvas not rendered yet");case 4:return Ae=j0(Ce),ue=Ae.svgCanvas,de=Ae.width,Me=Ae.height,he="data:image/svg+xml;base64,"+btoa(ue.outerHTML),Re.next=8,$0(he);case 8:if(Re.t0=Re.sent,je=[Re.t0],!M){Re.next=21;break}return Re.prev=11,Re.next=14,$0(I);case 14:Se=Re.sent,je.push(Se),Re.next=21;break;case 18:Re.prev=18,Re.t1=Re.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(je).then(function(Ge){var We=document.createElement("canvas");We.setAttribute("width",de.toString()),We.setAttribute("height",Me.toString());var yt=We.getContext("2d");if(!yt)throw Error("Canvas not rendered yet");Ge.reverse().forEach(function(De){yt.drawImage(De,0,0)}),fe(We.toDataURL("image/"+q))}).catch(function(Ge){throw Ge}),Re.next=27;break;case 24:Re.prev=24,Re.t2=Re.catch(0),oe(Re.t2);case 27:case"end":return Re.stop()}},re,null,[[0,24],[11,18]])}));return function(re,fe){return W.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(q,W){try{var re,fe=(re=Pe.current)!=null?re:null;if(fe!==null){var oe,Ce,Ae=j0(fe),ue=Ae.svgCanvas;if(M){q(ue.outerHTML);return}(oe=ue.querySelector("#"+p+"__background"))==null||oe.remove(),(Ce=ue.querySelector("#"+p+"__canvas-background"))==null||Ce.setAttribute("fill",E),q(ue.outerHTML)}W(new Error("Canvas not loaded"))}catch(de){W(de)}})}}}),N.useEffect(function(){return document.addEventListener("pointerup",ae),function(){document.removeEventListener("pointerup",ae)}},[ae]);var G=n.filter(function(O){return!O.drawMode}),B=0,R=n.reduce(function(O,q){return q.drawMode?(O[B]===void 0&&(O[B]=[]),O[B].push(q),O):(B+=1,O)},[[]]);return N.createElement("div",{role:"presentation",ref:Pe,className:S,style:As({touchAction:"none",width:y,height:_},K),"touch-action":"none",onPointerDown:Le,onPointerMove:Z,onPointerUp:ae},N.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:As({width:"100%",height:"100%"},F),id:p},N.createElement("g",{id:p+"__eraser-stroke-group",display:"none"},N.createElement("rect",{id:p+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),G.map(function(O,q){return N.createElement(kT,{key:p+"__eraser-"+q,id:p+"__eraser-"+q,paths:O.paths,strokeColor:"#000000",strokeWidth:O.strokeWidth})})),N.createElement("defs",null,I&&N.createElement("pattern",{id:p+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},N.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:I,preserveAspectRatio:Y})),G.map(function(O,q){return N.createElement("mask",{id:p+"__eraser-mask-"+q,key:p+"__eraser-mask-"+q,maskUnits:"userSpaceOnUse"},N.createElement("use",{href:"#"+p+"__mask-background"}),Array.from({length:G.length-q},function(W,re){return re+q}).map(function(W){return N.createElement("use",{key:W.toString(),href:"#"+p+"__eraser-"+W.toString()})}))})),N.createElement("g",{id:p+"__canvas-background-group"},N.createElement("rect",{id:p+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:I?"url(#"+p+"__background)":E})),R.map(function(O,q){return N.createElement("g",{id:p+"__stroke-group-"+q,key:p+"__stroke-group-"+q,mask:"url(#"+p+"__eraser-mask-"+q+")"},N.createElement(KL,{id:p,paths:O}))})))}),DT=N.forwardRef(function(t,e){var n=t.id,i=n===void 0?"react-sketch-canvas":n,o=t.width,a=o===void 0?"100%":o,c=t.height,h=c===void 0?"100%":c,p=t.className,m=p===void 0?"":p,y=t.canvasColor,T=y===void 0?"white":y,_=t.strokeColor,w=_===void 0?"red":_,S=t.backgroundImage,A=S===void 0?"":S,E=t.exportWithBackgroundImage,k=E===void 0?!1:E,I=t.preserveBackgroundImageAspectRatio,U=I===void 0?"none":I,M=t.strokeWidth,L=M===void 0?4:M,Y=t.eraserWidth,X=Y===void 0?8:Y,ie=t.allowOnlyPointerType,J=ie===void 0?"all":ie,K=t.style,se=K===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:K,F=t.svgStyle,Pe=F===void 0?{}:F,it=t.onChange,Le=it===void 0?function(De){}:it,Z=t.onStroke,ae=Z===void 0?function(De,we){}:Z,G=t.withTimestamp,B=G===void 0?!1:G,R=N.createRef(),O=N.useState(!0),q=O[0],W=O[1],re=N.useState(!1),fe=re[0],oe=re[1],Ce=N.useState([]),Ae=Ce[0],ue=Ce[1],de=N.useState([]),Me=de[0],he=de[1],je=N.useState([]),Se=je[0],Ke=je[1],Re=N.useCallback(function(){var De,we,Qe=(De=(we=Se.slice(-1))==null?void 0:we[0])!=null?De:null;if(Qe===null){console.warn("No stroke found!");return}ae(Qe,!Qe.drawMode)},[fe]);N.useEffect(function(){Re()},[fe]),N.useEffect(function(){Le(Se)},[Se]),N.useImperativeHandle(e,function(){return{eraseMode:function(we){W(!we)},clearCanvas:function(){ue([].concat(Se)),Ke([])},undo:function(){if(Ae.length!==0){Ke([].concat(Ae)),ue([]);return}he(function(we){return[].concat(we,Se.slice(-1))}),Ke(function(we){return we.slice(0,-1)})},redo:function(){Me.length!==0&&(Ke(function(we){return[].concat(we,Me.slice(-1))}),he(function(we){return we.slice(0,-1)}))},exportImage:function(we){var Qe,mt=(Qe=R.current)==null?void 0:Qe.exportImage;if(mt)return mt(we);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(we,Qe){var mt,Mt=(mt=R.current)==null?void 0:mt.exportSvg;Mt?Mt().then(function(ye){we(ye)}).catch(function(ye){Qe(ye)}):Qe(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(we,Qe){try{we(Se)}catch(mt){Qe(mt)}})},loadPaths:function(we){Ke(function(Qe){return[].concat(Qe,we)})},getSketchingTime:function(){return new Promise(function(we,Qe){B||Qe(new Error("Set 'withTimestamp' prop to get sketching time"));try{var mt=Se.reduce(function(Mt,ye){var me,xe,Fe=(me=ye.startTimestamp)!=null?me:0,xt=(xe=ye.endTimestamp)!=null?xe:0;return Mt+(xt-Fe)},0);we(mt)}catch(Mt){Qe(Mt)}})},resetCanvas:function(){ue([]),he([]),Ke([])}}});var Ge=function(we){oe(!0),he([]);var Qe={drawMode:q,strokeColor:q?w:"#000000",strokeWidth:q?L:X,paths:[we]};B&&(Qe=As({},Qe,{startTimestamp:Date.now(),endTimestamp:0})),Ke(function(mt){return[].concat(mt,[Qe])})},We=function(we){if(fe){var Qe=Se.slice(-1)[0],mt=As({},Qe,{paths:[].concat(Qe.paths,[we])});Ke(function(Mt){return[].concat(Mt.slice(0,-1),[mt])})}},yt=function(){var we,Qe;if(fe&&(oe(!1),!!B)){var mt=(we=(Qe=Se.slice(-1))==null?void 0:Qe[0])!=null?we:null;if(mt!==null){var Mt=As({},mt,{endTimestamp:Date.now()});Ke(function(ye){return[].concat(ye.slice(0,-1),[Mt])})}}};return N.createElement(ZL,{ref:R,id:i,width:a,height:h,className:m,canvasColor:T,backgroundImage:A,exportWithBackgroundImage:k,preserveBackgroundImageAspectRatio:U,allowOnlyPointerType:J,style:se,svgStyle:Pe,paths:Se,isDrawing:fe,onPointerDown:Ge,onPointerMove:We,onPointerUp:yt})});const UT=({questions:t,currentIdx:e,setCurrentIdx:n,bookmarked:i,answers:o,drawings:a={}})=>{const c=h=>{const p=o[h],m=a[h]&&a[h].length>0;return p||m};return v.jsx("div",{className:"p-3 space-y-2",children:t.map((h,p)=>v.jsxs("button",{onClick:()=>n(p),className:`w-full px-3 py-2 rounded text-left border text-sm ${p===e?"bg-orange-300 border-orange-600":"bg-white border-orange-200"} ${c(h.id)?"font-bold":""}`,children:["Q",p+1,i.includes(h.id)&&v.jsx("span",{className:"ml-2 text-yellow-700",children:"★"})]},h.id||p))})},QL=({idx:t,question:e,answer:n,onChange:i,onBookmark:o,isBookmarked:a})=>{const c=e.type==="mcq"&&e.answer.includes(", "),h=e.type==="saq",p=m=>{const y=Array.isArray(n)?n:[],T=y.includes(m)?y.filter(_=>_!==m):[...y,m];i(e.id,T)};return v.jsxs("div",{className:"relative",children:[v.jsxs("div",{className:"sticky top-0 bg-white z-40 flex justify-between items-center mb-3 pb-2 border-b border-orange-200",children:[v.jsxs("h4",{className:"text-lg font-semibold text-orange-700",children:["Question ",t+1]}),v.jsx("button",{onClick:()=>o(e.id),className:"text-yellow-600 hover:text-yellow-700",children:a?"★ Bookmarked":"☆ Bookmark"})]}),v.jsxs("div",{className:"pt-2",children:[v.jsx("p",{className:"mb-4 text-orange-900",children:e.question}),e.imageUrl&&v.jsx("img",{src:e.imageUrl,alt:"Question Visual",className:"mb-4 border rounded max-w-md"}),e.type==="mcq"&&e.choices?e.choices.map((m,y)=>v.jsxs("label",{className:"block bg-orange-100 border border-orange-200 rounded px-4 py-2 mb-2 cursor-pointer",children:[v.jsx("input",{type:c?"checkbox":"radio",name:`q-${e.id}`,value:m,checked:c?(n||[]).includes(m):n===m,onChange:()=>c?p(m):i(e.id,m),className:"mr-2"}),String.fromCharCode(65+y),". ",m]},y)):h?v.jsx("input",{type:"text",className:"w-full border border-orange-300 rounded p-2",placeholder:"Short answer...",value:n||"",onChange:m=>i(e.id,m.target.value)}):v.jsx("textarea",{rows:4,className:"w-full border border-orange-300 rounded p-2",placeholder:"Type your answer...",value:n||"",onChange:m=>i(e.id,m.target.value)})]})]})},XL=(t,e,n)=>{if(n<1e3)return!0;if(t===e)return!1;const i=o=>o==null?!0:typeof o=="string"?o.trim()==="":typeof o=="number"||typeof o=="boolean"?!1:Array.isArray(o)?o.length===0:!1;return i(t)&&!i(e)?!0:i(e)&&!i(t)?!1:n<1500},WL=(t,e,n)=>{if(n<1e3)return!0;if(JSON.stringify(t)===JSON.stringify(e))return!1;const i=o=>o?Array.isArray(o)?o.length===0:typeof o=="object"?Object.keys(o).length===0:!1:!0;return i(t)&&!i(e)?!0:i(e)&&!i(t)?!1:n<1500},eO=({tests:t,user:e,users:n,teams:i,setNotif:o,setError:a,setTests:c})=>{var Mt;const h=K0("/assigned/:id"),p=(Mt=h==null?void 0:h.params)==null?void 0:Mt.id,m=Un(),[y,T]=N.useState(null),[_,w]=N.useState(!1),[S,A]=N.useState(50*60),[E,k]=N.useState({}),[I,U]=N.useState([]),[M,L]=N.useState(0),[Y,X]=N.useState(!1),[ie,J]=N.useState(!1),[K,se]=N.useState({}),[F,Pe]=N.useState(null),[it,Le]=N.useState(!1),[Z,ae]=N.useState(!0),[G,B]=N.useState(null),[R,O]=N.useState(0),[q,W]=N.useState(!1),re=N.useRef(null),fe=N.useRef(null),oe=N.useRef(null),Ce=N.useRef(null),[Ae,ue]=N.useState({width:0,height:0});N.useEffect(()=>{if(t&&p){const ye=t.find(me=>String(me.id)===p);T(ye||null)}},[t,p]),N.useEffect(()=>{if(e&&y&&i&&Array.isArray(i)){const ye=i.find(me=>me&&me.event===y.event&&me.students&&Array.isArray(me.students)&&me.students.some(xe=>xe&&xe.id===e.id));ye&&Pe(ye.id)}},[e,y,i]),N.useEffect(()=>{(async()=>{if(p&&F){const me=localStorage.getItem("loggedAppUser");if(me){const xe=JSON.parse(me);jt.setToken(xe.token),qt.setToken(xe.token)}try{if((await qt.checkSubmission(p,F)).submitted){a&&(a("This test has already been submitted."),setTimeout(()=>a(null),5e3)),m("/assigned");return}const Fe=await jt.getByTestAndTeam(p,F);Fe&&(k(Fe.answers||{}),se(Fe.drawings||{}),A(Fe.timeLeft||3e3),w(!0))}catch{console.log("No existing answers found, starting fresh")}finally{ae(!1)}}else p&&ae(!1)})()},[p,F,m,a]),N.useEffect(()=>(_&&S>0&&!q?re.current=setTimeout(()=>{A(ye=>Math.max(0,ye-1))},1e3):_&&S===0&&!q&&Ge(),()=>clearTimeout(re.current)),[_,S,q]),N.useLayoutEffect(()=>{function ye(){if(fe.current){const me=fe.current.getBoundingClientRect();ue({width:Math.floor(me.width),height:Math.floor(me.height)})}}return ye(),window.addEventListener("resize",ye),()=>window.removeEventListener("resize",ye)},[Y,M]),N.useEffect(()=>{Ce.current&&Ce.current.scrollIntoView({behavior:"smooth",block:"start"})},[_,M]),N.useEffect(()=>{const ye=async()=>{var me;if(G&&p&&F&&_&&!q){const xe=localStorage.getItem("loggedAppUser");if(xe){const Fe=JSON.parse(xe);jt.setToken(Fe.token)}try{const Fe=await jt.updateSpecific(p,F,G);B(null),A(Fe.timeLeft)}catch(Fe){if(console.error("Failed to sync specific answer:",Fe),((me=Fe.response)==null?void 0:me.status)===404)try{await jt.create({testId:p,teamId:F,answers:E,drawings:K,timeLeft:3e3}),B(null)}catch(xt){console.error("Failed to create answer document:",xt)}}}};if(G&&!q){const me=setTimeout(ye,500);return()=>clearTimeout(me)}},[G,p,F,_,E,K,q]),N.useEffect(()=>{const ye=async()=>{if(p&&F&&_&&!q){if(Date.now()-R<1e3)return;const xe=localStorage.getItem("loggedAppUser");if(xe){const Fe=JSON.parse(xe);jt.setToken(Fe.token),qt.setToken(Fe.token)}try{const Fe=await jt.getByTestAndTeam(p,F);if(Fe){try{if((await qt.checkSubmission(p,F)).submitted&&!q){W(!0),w(!1),clearTimeout(re.current),o&&(o("Test has been submitted by another team member!"),setTimeout(()=>o(null),5e3));return}}catch(Qt){console.log("Could not check submission status:",Qt)}const xt=Fe.answers||{},qu=Fe.drawings||{},ka=Fe.answerTimestamps||{},Ma=Fe.drawingTimestamps||{};k(Qt=>{const Tn={...Qt};let Xt=!1;for(const[fn,tn]of Object.entries(xt)){const Ci=Qt[fn],is=ka[fn]?new Date(ka[fn]):new Date(0),nn=Date.now()-is.getTime();nn<2e3&&Ci!==tn?XL(Ci,tn,nn)&&(Tn[fn]=tn,Xt=!0):Ci!==tn&&nn>=2e3&&(Tn[fn]=tn,Xt=!0)}return Xt?Tn:Qt}),se(Qt=>{var fn,tn,Ci,is;const Tn={...Qt};let Xt=!1;for(const[nn,Ft]of Object.entries(qu)){const ti=Qt[nn],Bu=Ma[nn]?new Date(Ma[nn]):new Date(0),Ls=Date.now()-Bu.getTime();if(Ls<2e3&&JSON.stringify(ti)!==JSON.stringify(Ft)){if(WL(ti,Ft,Ls)){Tn[nn]=Ft,Xt=!0;const no=(tn=(fn=y==null?void 0:y.questions)==null?void 0:fn[M])==null?void 0:tn.id;Y&&no===nn&&oe.current&&setTimeout(()=>{Ft&&Ft.length>0?oe.current.loadPaths(Ft):oe.current.clearCanvas()},100)}}else if(JSON.stringify(ti)!==JSON.stringify(Ft)&&Ls>=2e3){Tn[nn]=Ft,Xt=!0;const to=(is=(Ci=y==null?void 0:y.questions)==null?void 0:Ci[M])==null?void 0:is.id;Y&&to===nn&&oe.current&&setTimeout(()=>{Ft&&Ft.length>0?oe.current.loadPaths(Ft):oe.current.clearCanvas()},100)}}return Xt?Tn:Qt}),A(Fe.timeLeft)}}catch(Fe){console.error("Failed to sync from backend:",Fe)}}};if(_&&!q){const me=setInterval(ye,2e3);return()=>clearInterval(me)}},[p,F,_,Y,M,y,R,q]);const de=ye=>{const me=String(Math.floor(ye/60)).padStart(2,"0"),xe=String(ye%60).padStart(2,"0");return`${me}:${xe}`},Me=(ye,me)=>{k(xe=>({...xe,[ye]:me})),O(Date.now()),B({questionId:ye,answer:me})},he=ye=>{U(me=>me.includes(ye)?me.filter(xe=>xe!==ye):[...me,ye])},je=async()=>{if(Y&&oe.current){const ye=await oe.current.exportPaths(),me=y.questions[M].id;se(xe=>({...xe,[me]:ye})),O(Date.now()),B({questionId:me,drawing:ye})}},Se=async ye=>{await je(),X(!1),L(ye)},Ke=async()=>{await je(),X(!1),L(ye=>ye+1)},Re=async()=>{await je(),X(!1),L(ye=>ye-1)},Ge=async()=>{if(it)return;Le(!0),await je();const ye=localStorage.getItem("loggedAppUser");if(ye){const me=JSON.parse(ye);jt.setToken(me.token),qt.setToken(me.token),kn.setToken(me.token)}try{if(p&&F){await jt.update(p,F,{answers:E,drawings:K,timeLeft:S}),await qt.create({testId:p,teamId:F,finalTimeLeft:S});const me=t.find(xe=>String(xe.id)===p);if(me){const xe=me.assignees.filter(Fe=>Fe!==F);await kn.updateTest(p,{assignees:xe}),c&&c(Fe=>Fe.map(xt=>String(xt.id)===p?{...xt,assignees:xe}:xt))}w(!1),W(!0),clearTimeout(re.current),o&&(o("Test submitted successfully!"),setTimeout(()=>o(null),5e3)),console.log("Test submitted successfully!")}}catch(me){console.error("Failed to submit test:",me),a&&(a("Failed to submit test. Please try again."),setTimeout(()=>a(null),5e3))}finally{Le(!1)}},We=async()=>{var me;w(!0),X(!1),J(!1);const ye=localStorage.getItem("loggedAppUser");if(ye){const xe=JSON.parse(ye);jt.setToken(xe.token),kn.setToken(xe.token)}if(p&&F)try{const xe=await jt.create({testId:p,teamId:F,answers:{},drawings:{},timeLeft:3e3});A(xe.timeLeft)}catch(xe){((me=xe.response)==null?void 0:me.status)!==409&&console.error("Failed to create initial answers:",xe)}},yt=async()=>{const ye=y.questions[M].id;if(Y){if(oe.current){const me=await oe.current.exportPaths();se(xe=>({...xe,[ye]:me})),O(Date.now()),B({questionId:ye,drawing:me})}X(!1)}else X(!0),setTimeout(()=>{if(oe.current){const me=K[ye];me?oe.current.loadPaths(me):oe.current.clearCanvas()}},100)},De=()=>{if(oe.current){oe.current.clearCanvas();const ye=y.questions[M].id;se(me=>{const xe={...me};return delete xe[ye],xe}),O(Date.now()),B({questionId:ye,drawing:null})}},we=()=>{oe.current&&(oe.current.eraseMode(!ie),J(ye=>!ye))};if(!e||!y||Z)return v.jsx("div",{className:"flex justify-center items-center h-screen",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(q)return v.jsx("div",{className:"flex flex-col justify-center items-center p-20 bg-white space-y-10 rounded-lg",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),v.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-2",children:"Test Submitted Successfully!"}),v.jsx("p",{className:"text-gray-600",children:"Your answers have been saved and submitted for grading."}),v.jsx("div",{className:"pt-10",children:v.jsx(tt,{to:"/review",className:"text-white bg-orange-500 font-semibold text-md py-3 px-4 rounded-lg hover:bg-orange-600",children:"Review Test"})})]})});if(!_)return v.jsxs("div",{className:"flex flex-col justify-center items-center p-20 bg-white space-y-10 rounded-lg",children:[v.jsxs("h1",{className:"text-3xl font-bold text-orange-800",children:[y.random?"Random Test":`${y.school} ${y.year}`," — ",y.event," Practice Test"]}),F?v.jsx("button",{onClick:We,className:"bg-orange-500 text-white px-6 py-2 rounded-lg shadow-lg text-lg hover:bg-orange-600 transition",children:"Start Test"}):v.jsx("p",{className:"text-red-600",children:"You are not assigned to a team for this event."})]});const Qe=y.questions[M],mt=Qe.id;return v.jsx("div",{ref:Ce,className:"w-full min-h-screen bg-transparent py-5 px-4",children:v.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow-md py-6 px-8 space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("h2",{className:"text-2xl font-bold text-orange-800",children:[y.school," ",y.year," — ",y.event]}),v.jsxs("div",{className:"text-orange-600 font-semibold text-lg",children:["Time Left: ",de(S)]})]}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsxs("div",{className:"w-64 h-[500px] overflow-y-auto pr-2 scrollbar-hide bg-gray-100 rounded-lg",children:[v.jsx("div",{className:"sticky top-0 bg-gray-100 z-10 pb-2 pt-3",children:v.jsx("h3",{className:"text-lg font-semibold text-orange-700 text-center",children:"Questions"})}),v.jsx(UT,{questions:y.questions,currentIdx:M,setCurrentIdx:Se,bookmarked:I,answers:E,drawings:K})]}),v.jsxs("div",{ref:fe,className:"flex-1 relative max-h-[500px] overflow-auto pr-2 scrollbar-hide",children:[v.jsx(QL,{idx:M,question:Qe,answer:E[mt],onChange:Me,onBookmark:he,isBookmarked:I.includes(mt)}),Y&&v.jsx("div",{className:"absolute top-0 left-0 bg-transparent z-30",style:{width:Ae.width,height:Ae.height},children:v.jsx(DT,{ref:oe,width:Ae.width,height:Ae.height,strokeWidth:"2",eraserWidth:"30",strokeColor:"#000",canvasColor:"transparent",className:"touch-none select-none",style:{border:"none",outline:"none"}})})]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex gap-2 items-center",children:[Y&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:we,className:`px-3 py-1 rounded ${ie?"bg-gray-300":"bg-orange-600 text-white"}`,children:"Pencil"}),v.jsx("button",{onClick:we,className:`px-3 py-1 rounded ${ie?"bg-orange-600 text-white":"bg-gray-300"}`,children:"Eraser"}),v.jsx("button",{onClick:De,className:"px-3 py-1 rounded bg-red-500 text-white",children:"Clear"})]}),v.jsx("button",{onClick:yt,className:`rounded shadow text-white ${Y?"px-3 py-1 bg-gray-500 hover:bg-gray-600":"px-4 py-2 bg-amber-600 hover:bg-amber-700"}`,children:Y?"Hide Drawing":"Show Drawing"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{disabled:M===0,onClick:Re,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Previous"}),v.jsx("button",{disabled:M===y.questions.length-1,onClick:Ke,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Next"}),v.jsx("button",{onClick:Ge,disabled:it||q,className:`px-6 py-2 rounded shadow transition ${it||q?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"} text-white`,children:it?"Submitting...":q?"Submitted":"Submit Test"})]})]})]})})},tO=t=>{const[e,n]=N.useState("");if(!t.user)return;const i=async o=>{o.preventDefault(),await t.handleReset(e),n("")};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[v.jsx("div",{children:v.jsxs("p",{className:"text-xl font-semibold text-orange-800 mb-2",children:[t.user.firstName," ",t.user.lastName,"'s Settings"]})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-lg font-medium text-orange-700 mb-2",children:"Password Reset"}),v.jsxs("form",{onSubmit:i,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),v.jsx("input",{type:"password",value:e,onChange:({target:o})=>n(o.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})]}),v.jsx("button",{type:"button",onClick:t.handleLogout,className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700 transition",children:"Logout"})]})},Kf="/api/statistics";let IT=null;const nO=t=>{IT=`Bearer ${t}`},Th=()=>({headers:{Authorization:IT}}),iO=async(t=null)=>{const e=t?`${Kf}?schoolYear=${t}`:Kf;return(await be.get(e,Th())).data},sO=async t=>(await be.get(`${Kf}/${t}`,Th())).data,rO=async t=>(await be.get(`/api/submissions/user/${t}`,Th())).data,Mn={setToken:nO,getOverallStatistics:iO,getStudentStatistics:sO,getUserSubmissions:rO},oO=({user:t,users:e,teams:n})=>{const[i,o]=N.useState([]),[a,c]=N.useState([]),[h,p]=N.useState(!0);N.useEffect(()=>{(async()=>{if(t&&e&&n){const _=localStorage.getItem("loggedAppUser");if(_){const w=JSON.parse(_);qt.setToken(w.token),Mn.setToken(w.token)}try{const w=e.find(M=>M.id===t.id),S=(w==null?void 0:w.teams)||[],A=S.map(M=>M.id),E=[];for(const M of S)try{const L=await qt.getByTeam(M.id);E.push(...L)}catch{console.log(`No submissions found for team ${M.id}`)}console.log("Attempting to fetch user submissions for user:",t.id);const k=await Mn.getUserSubmissions(t.id);console.log("User submissions response:",k);const I=new Set(E.map(M=>M.id)),U=k.filter(M=>!I.has(M.id));o(E),c(U)}catch(w){console.error("Error fetching submissions:",w)}finally{p(!1)}}else p(!1)})()},[t,e,n]);const m=i.filter(T=>T.graded),y=i.filter(T=>!T.graded);return t?h?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsxs("div",{className:"max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md space-y-8",children:[v.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"Review Tests"}),i.length===0?v.jsx("p",{className:"text-center text-gray-500 italic",children:"You haven't submitted any tests yet."}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-green-700 mb-4 text-left border-b border-green-200 pb-2",children:["Graded Tests (",m.length,")"]}),m.length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No graded tests yet."}):v.jsx("ul",{className:"space-y-3",children:m.map(T=>{var _,w,S,A,E,k;return v.jsx("li",{className:"bg-green-50 border border-green-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-green-700 font-semibold",children:(_=T.test)!=null&&_.random?`Random Test - ${(w=T.test)==null?void 0:w.event}`:`${(S=T.test)==null?void 0:S.school} ${(A=T.test)==null?void 0:A.year} - ${(E=T.test)==null?void 0:E.event}`}),v.jsxs("p",{className:"text-xs text-green-600",children:["Team: ",(k=T.team)==null?void 0:k.name," • Score: ",T.totalScore,"/",T.maxScore]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(T.submittedAt).toLocaleDateString()]})]}),v.jsx(tt,{to:`/review/${T.id}`,className:"text-sm text-green-600 hover:underline font-medium",children:"View Results →"})]})},T.id)})})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-orange-700 mb-4 text-left border-b border-orange-200 pb-2",children:["Pending Grading (",y.length,")"]}),y.length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No tests pending grading."}):v.jsx("ul",{className:"space-y-3",children:y.map(T=>{var _,w,S,A,E,k;return v.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:(_=T.test)!=null&&_.random?`Random Test - ${(w=T.test)==null?void 0:w.event}`:`${(S=T.test)==null?void 0:S.school} ${(A=T.test)==null?void 0:A.year} - ${(E=T.test)==null?void 0:E.event}`}),v.jsxs("p",{className:"text-xs text-orange-600",children:["Team: ",(k=T.team)==null?void 0:k.name]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(T.submittedAt).toLocaleDateString()]})]}),v.jsx(tt,{to:`/review/${T.id}`,className:"text-sm text-orange-600 hover:underline font-medium",children:"View Submission →"})]})},T.id)})})]}),a.length>0&&v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-blue-700 mb-4 text-left border-b border-blue-200 pb-2",children:["Historical Tests (",a.length,")"]}),v.jsx("p",{className:"text-sm text-gray-600 mb-4 italic",children:"Tests you took in previous teams or school years"}),v.jsx("ul",{className:"space-y-3",children:a.map(T=>{var _,w,S,A,E,k;return v.jsx("li",{className:"bg-blue-50 border border-blue-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-blue-700 font-semibold",children:(_=T.test)!=null&&_.random?`Random Test - ${(w=T.test)==null?void 0:w.event}`:`${(S=T.test)==null?void 0:S.school} ${(A=T.test)==null?void 0:A.year} - ${(E=T.test)==null?void 0:E.event}`}),v.jsxs("p",{className:"text-xs text-blue-600",children:["Team: ",(k=T.team)==null?void 0:k.name," • School Year: ",T.schoolYear,T.graded&&v.jsxs("span",{children:[" • Score: ",T.totalScore,"/",T.maxScore]})]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(T.submittedAt).toLocaleDateString()]})]}),v.jsx(tt,{to:`/review/${T.id}`,className:"text-sm text-blue-600 hover:underline font-medium",children:"View Submission →"})]})},T.id)})})]})]})]}):null},aO=()=>{const t=Un(),[e,n]=N.useState(!0),[i,o]=N.useState(null),[a,c]=N.useState([]),[h,p]=N.useState(""),[m,y]=N.useState([]);N.useEffect(()=>{(async()=>{try{n(!0);const A=localStorage.getItem("loggedAppUser");if(A){const I=JSON.parse(A);Mn.setToken(I.token),Yt.setToken(I.token)}const[E,k]=await Promise.all([Mn.getOverallStatistics(),Yt.getAll()]);o(E),c(k),p(E.selectedSchoolYear||""),E.selectedSchoolYear&&T(k,E.selectedSchoolYear)}catch(A){console.error("Error loading statistics:",A)}finally{n(!1)}})()},[]);const T=(S,A)=>{const E=new Set,k=new Map;S.filter(I=>I.schoolYear===A).forEach(I=>{var U;(U=I.students)==null||U.forEach(M=>{E.has(M.id)||(E.add(M.id),k.set(M.id,{id:M.id,firstName:M.firstName,lastName:M.lastName,teams:[]})),k.get(M.id).teams.push(I.name)})}),y(Array.from(k.values()))},_=async S=>{try{n(!0);const A=localStorage.getItem("loggedAppUser");if(A){const k=JSON.parse(A);Mn.setToken(k.token)}const E=await Mn.getOverallStatistics(S);o(E),p(S),T(a,S)}catch(A){console.error(A.message)}finally{n(!1)}},w=S=>{t(`/statistics/${S}`)};return e?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[v.jsxs("div",{className:"flex items-center bg-white rounded-lg p-6 justify-between mb-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-orange-800",children:"Statistics Overview"}),i&&i.availableSchoolYears.length>0&&v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("label",{htmlFor:"schoolYear",className:"text-sm font-medium text-orange-800",children:"School Year:"}),v.jsx("select",{id:"schoolYear",value:h,onChange:S=>_(S.target.value),className:"rounded-md border border-gray-300 px-3 py-2 bg-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:i.availableSchoolYears.map(S=>v.jsx("option",{value:S,children:S},S))})]})]}),i&&i.availableSchoolYears.length===0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[v.jsx("p",{className:"text-gray-500",children:"No statistics available yet."}),v.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Statistics will appear once students submit and complete graded tests."})]}),i&&i.eventStatistics.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 pb-6",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsxs("h2",{className:"text-xl font-semibold text-orange-700",children:["Performance by Event - ",h]})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-orange-200",children:[v.jsx("thead",{className:"bg-orange-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Event"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Average Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Highest Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Lowest Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Submissions"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-orange-200",children:i.eventStatistics.map((S,A)=>v.jsxs("tr",{children:[v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-orange-900",children:S.event})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[S.averagePercentage,"%"]})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[S.highestScore,"%"]})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[S.lowestScore,"%"]})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-900",children:S.totalSubmissions})})]},S.event))})]})})]}),m.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsxs("h2",{className:"text-xl font-semibold text-orange-700",children:["Students in ",h]})}),v.jsx("div",{className:"p-6",children:v.jsx("div",{className:"flex flex-wrap gap-4",children:m.map(S=>v.jsx("button",{onClick:()=>w(S.id),className:"text-left p-4 border border-orange-200 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-colors",children:v.jsxs("div",{className:"text-sm text-orange-700",children:[S.firstName," ",S.lastName]})},S.id))})})]}),i&&i.eventStatistics.length===0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[v.jsxs("p",{className:"text-orange-500",children:["No statistics available for ",h||"the selected school year","."]}),v.jsx("p",{className:"text-sm text-orange-400 mt-2",children:"Statistics are only shown for graded submissions."})]})]})},lO=({user:t})=>{const{id:e}=X0(),n=Un(),[i,o]=N.useState(!0),[a,c]=N.useState(null);return N.useEffect(()=>{(async()=>{try{o(!0);const p=localStorage.getItem("loggedAppUser");if(p){const y=JSON.parse(p);Mn.setToken(y.token)}let m=e;if(m){const y=await Mn.getStudentStatistics(m);c(y)}else setError("User not found")}catch(p){console.log(p.message)}finally{o(!1)}})()},[e]),i?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):a?v.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 w-full mb-6 flex flex-row items-center justify-between",children:[v.jsx("div",{children:v.jsx("h1",{className:"text-2xl font-semibold text-orange-800",children:`Statistics for ${a.student.firstName} ${a.student.lastName}`})}),t!=null&&t.admin?v.jsx("div",{children:v.jsx("button",{onClick:()=>n("/statistics"),className:"px-4 py-2 text-md text-orange-500 font-bold rounded-lg hover:text-orange-600 hover:underline transition-colors",children:"All Statistics →"})}):v.jsx("div",{children:v.jsx("button",{onClick:()=>n("/review"),className:"px-4 py-2 text-md text-orange-500 font-bold rounded-lg hover:text-orange-600 hover:underline transition-colors",children:"Review Tests →"})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Total Tests"}),v.jsx("p",{className:"text-3xl font-bold text-orange-500",children:a.totalTests})]}),a.bestPerformingEvent?v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Best Event"}),v.jsx("p",{className:"text-xl font-bold text-orange-500",children:a.bestPerformingEvent.event}),v.jsxs("p",{className:"text-sm font-semibold text-orange-700",children:[a.bestPerformingEvent.averagePercentage,"% average"]})]}):v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Best Event"}),v.jsx("p",{className:"text-xl font-bold text-orange-500",children:"No data available"})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Events Participated"}),v.jsx("p",{className:"text-3xl font-bold text-orange-500",children:a.eventStatistics.length})]})]}),a.eventStatistics.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 pb-6",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsx("h2",{className:"text-xl font-semibold text-orange-700",children:"Performance by Event"})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-orange-200",children:[v.jsx("thead",{className:"bg-orange-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Event"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Average Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Most Recent"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Highest Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Total Tests"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-orange-200",children:a.eventStatistics.map(h=>v.jsxs("tr",{children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-red-900",children:h.event})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[h.averagePercentage,"%"]})}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[v.jsxs("div",{className:"text-sm text-gray-900",children:[h.mostRecentScore,"%"]}),v.jsx("div",{className:"text-xs text-gray-500",children:h.mostRecentTest.teamName})]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[h.highestScore,"%"]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-900",children:h.totalTests})})]},h.event))})]})})]}),a.schoolYearStatistics.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsx("h2",{className:"text-xl font-semibold text-orange-700",children:"Performance by School Year"})}),v.jsx("div",{className:"p-6",children:a.schoolYearStatistics.map(h=>v.jsxs("div",{className:"mb-6 last:mb-0",children:[v.jsxs("h3",{className:"text-lg font-semibold text-orange-900 mb-3",children:[h.schoolYear," (",h.totalTests," tests)"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.events.map(p=>v.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[v.jsx("h4",{className:"font-medium text-orange-500",children:p.event}),v.jsxs("p",{className:"font-semibold text-sm text-orange-700",children:[p.averagePercentage,"% average"]}),v.jsxs("p",{className:"font-semibold text-xs text-orange-800",children:[p.tests," tests"]})]},p.event))})]},h.schoolYear))})]}),a.eventStatistics.length===0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[v.jsx("p",{className:"font-bold text-orange-500",children:"No test submissions found."}),v.jsx("p",{className:"font-semibold text-sm text-gray-400 mt-2",children:"Statistics will appear once you submit and get graded tests."})]})]}):v.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:v.jsx("div",{className:"text-yellow-800",children:"No statistics found for this user."})})},uO=({idx:t,question:e,userAnswer:n,isCorrect:i,isGraded:o,onSelfGrade:a,selfGradedScore:c,selfGradedComment:h,showCanvas:p=!1,actualQuestionNumber:m,drawings:y={}})=>{const T=e.type==="mcq"&&e.answer&&e.answer.includes(", "),_=e.type==="saq",w=e.type==="leq",S=e.answer&&e.choices?T?e.answer.split(", ").map(k=>{var M;const I=k.trim(),U=I.charCodeAt(0)-65;return((M=e.choices[U])==null?void 0:M.trim())||I}):(()=>{var M;const k=e.answer.trim(),I=k.charCodeAt(0)-65,U=(M=e.choices[I])==null?void 0:M.trim();return U?[U]:[k]})():[],A=Array.isArray(n)?n.map(k=>k.toString().trim()):n?[n.toString().trim()]:[],E=k=>{const I=k.trim(),U=A.some(L=>L.trim()===I),M=S.some(L=>L.trim()===I);return M&&U?"bg-green-200 border-green-400":M?"bg-green-100 border-green-300":U?"bg-red-200 border-red-400":"bg-gray-100 border-gray-300"};return v.jsxs("div",{className:"relative padding-5",children:[v.jsxs("div",{className:"sticky top-0 bg-white z-40 flex justify-between items-center mb-2 pb-2 border-b border-orange-200",children:[v.jsxs("h4",{className:"text-lg font-semibold text-orange-700",children:["Question ",m||t+1," (",e.points," pts)"]}),e.type==="mcq"&&v.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${i?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i?"✓ Correct":"✗ Incorrect"})]}),v.jsxs("div",{className:"pt-2",children:[v.jsx("p",{className:"mb-3 text-orange-900",children:e.question}),e.imageUrl&&v.jsx("img",{src:e.imageUrl,alt:"Question Visual",className:"mb-3 border rounded max-w-md"}),e.type==="mcq"&&e.choices?v.jsx("div",{className:"space-y-2 mb-3",children:e.choices.map((k,I)=>{const U=k.trim(),M=A.some(Y=>Y.trim()===U),L=S.some(Y=>Y.trim()===U);return v.jsx("div",{className:`border rounded px-4 py-2 ${E(k)}`,children:v.jsxs("div",{className:"flex justify-between items-start gap-3",children:[v.jsxs("span",{className:"font-medium flex-1",children:[String.fromCharCode(65+I),". ",k]}),v.jsxs("div",{className:"flex flex-col gap-1 items-end flex-shrink-0 min-w-0",children:[M&&v.jsx("span",{className:"text-xs font-medium text-blue-700 whitespace-nowrap",children:"Your answer"}),L&&v.jsx("span",{className:"text-xs font-medium text-green-700 whitespace-nowrap",children:"Correct answer"})]})]})},I)})}):_||w?v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Answer:"}),v.jsx("div",{className:"w-full border border-gray-300 rounded p-2 bg-gray-50 min-h-[2.5rem]",children:n||v.jsx("em",{className:"text-gray-500",children:"No answer provided"})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sample Answer:"}),v.jsx("div",{className:"w-full border border-green-300 rounded p-2 bg-green-50 min-h-[2.5rem]",children:e.answer})]}),!o&&v.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[v.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Self-Grade This Question"}),(!n||n.trim()==="")&&(!y[e.id]||y[e.id].length===0)&&c==="0"&&v.jsxs("div",{className:"mb-3 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"Auto-scored:"})," This question was automatically scored as 0 (no answer or drawing provided)."]}),(!n||n.trim()==="")&&(!y[e.id]||y[e.id].length===0)&&(!c||c==="")&&v.jsxs("div",{className:"mb-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-800",children:[v.jsx("span",{className:"font-medium",children:"Note:"})," This question has no answer or drawing and will be auto-scored as 0 when you finish grading."]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:["Your Score (out of ",e.points," points):"]}),v.jsx("input",{type:"number",min:"0",max:e.points,className:"w-20 border border-blue-300 rounded px-2 py-1",value:c||"",onChange:k=>a(e.id,"score",k.target.value),placeholder:!n||n.trim()===""?"0":""})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Comments (optional):"}),v.jsx("textarea",{rows:2,className:"w-full border border-blue-300 rounded px-2 py-1",placeholder:"Add comments about your answer...",value:h||"",onChange:k=>a(e.id,"comment",k.target.value)})]})]})]}),o&&(c!==void 0||h)&&v.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded p-3",children:[v.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Your Self-Assessment"}),v.jsxs("div",{className:"space-y-1",children:[c!==void 0&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Score:"})," ",c,"/",e.points," points"]}),h&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Comments:"})," ",h]})]})]})]}):null]})]})},cO=()=>{const{id:t}=X0(),e=Un(),[n,i]=N.useState(null),[o,a]=N.useState(null),[c,h]=N.useState({}),[p,m]=N.useState({}),[y,T]=N.useState(0),[_,w]=N.useState(!0),[S,A]=N.useState(!1),[E,k]=N.useState("all"),[I,U]=N.useState({}),[M,L]=N.useState({}),[Y,X]=N.useState(!1),[ie,J]=N.useState(""),K=N.useRef(null),se=N.useRef(null),F=N.useRef(null),[Pe,it]=N.useState({width:0,height:0});N.useEffect(()=>{(async()=>{var de,Me,he;if(t){const je=localStorage.getItem("loggedAppUser");if(je){const Se=JSON.parse(je);qt.setToken(Se.token)}try{const Se=await qt.getById(t);i(Se),a(Se.test),h(((de=Se.answer)==null?void 0:de.answers)||{}),m(((Me=Se.answer)==null?void 0:Me.drawings)||{});const Ke=Se.selfGradedScores||{},Re={},Ge={};if(Object.entries(Ke).forEach(([We,yt])=>{yt.score!==void 0&&(Re[We]=yt.score),yt.comment&&(Ge[We]=yt.comment)}),U(Re),L(Ge),(he=Se.test)!=null&&he.questions){const We={...Re};let yt=!1;Se.test.questions.forEach(De=>{var we,Qe,mt,Mt;if(De.type==="saq"||De.type==="leq"){const ye=((Qe=(we=Se.answer)==null?void 0:we.answers)==null?void 0:Qe[De.id])&&Se.answer.answers[De.id].trim()!=="",me=((Mt=(mt=Se.answer)==null?void 0:mt.drawings)==null?void 0:Mt[De.id])&&Se.answer.drawings[De.id].length>0,xe=We[De.id]!==void 0&&We[De.id]!=="";!ye&&!me&&!xe&&(We[De.id]="0",yt=!0)}}),yt&&U(We)}}catch(Se){console.error("Error fetching submission:",Se),e("/review")}finally{w(!1)}}})()},[t,e]),N.useLayoutEffect(()=>{function ue(){if(K.current){const de=K.current.getBoundingClientRect();it({width:Math.floor(de.width),height:Math.floor(de.height)})}}return ue(),window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[S,y]);const Le=()=>{if(n!=null&&n.graded&&(n==null?void 0:n.totalScore)!==void 0&&(n==null?void 0:n.maxScore)!==void 0){let he=0,je=0;o!=null&&o.questions&&o.questions.forEach(Re=>{if(Re.type==="saq"||Re.type==="leq"){je+=Re.points||1;const Ge=I[Re.id];Ge!==void 0&&Ge!==""&&(he+=parseFloat(Ge)||0)}});const Se=Math.max(0,n.totalScore-he),Ke=Math.max(0,n.maxScore-je);return{score:Se,total:Ke}}if(!(o!=null&&o.questions))return{score:0,total:0};const ue=o.questions.filter(he=>he.type==="mcq");let de=0,Me=0;return ue.forEach(he=>{Me+=he.points||1;const je=c[he.id],Se=he.answer;if(!Se||!he.choices)return;const Ke=Se.includes(", "),Re=Ke?Se.split(", ").map(We=>{var we;const yt=We.trim(),De=yt.charCodeAt(0)-65;return((we=he.choices[De])==null?void 0:we.trim())||yt}):(()=>{var we;const We=Se.trim(),yt=We.charCodeAt(0)-65,De=(we=he.choices[yt])==null?void 0:we.trim();return De?[De]:[We]})(),Ge=Array.isArray(je)?je.map(We=>We.toString().trim()).sort():je?[je.toString().trim()]:[];Ke?JSON.stringify(Re.sort())===JSON.stringify(Ge)&&(de+=he.points||1):Ge.length===1&&Ge[0]===Re[0]&&(de+=he.points||1)}),{score:de,total:Me}},Z=()=>{if(!(o!=null&&o.questions))return{score:0,total:0};const ue=Le();let de=0,Me=0;return o.questions.forEach(he=>{if(he.type==="saq"||he.type==="leq"){Me+=he.points||1;const je=I[he.id];je!==void 0&&(de+=parseFloat(je)||0)}}),{score:ue.score+de,total:ue.total+Me,mcqScore:ue.score,mcqTotal:ue.total,saqLeqScore:de,saqLeqTotal:Me}},ae=(ue=E)=>o!=null&&o.questions?o.questions.filter(de=>{if(ue==="all")return!0;if(ue==="saq")return de.type==="saq";if(ue==="leq")return de.type==="leq";if(ue==="unanswered"){if(de.type==="mcq"){const Me=c[de.id];return!Me||Array.isArray(Me)&&Me.length===0}else if(de.type==="saq"||de.type==="leq"){const Me=c[de.id]&&c[de.id].trim()!=="",he=p[de.id]&&p[de.id].length>0;return!Me&&!he}return!1}if(ue==="correct"||ue==="incorrect"){if(de.type!=="mcq")return!1;const Me=B(de);return ue==="correct"?Me:!Me}return!0}):[],G=()=>["all","correct","incorrect","unanswered","saq","leq"].filter(de=>ae(de).length>0),B=ue=>{const de=c[ue.id],Me=ue.answer;if(!Me||!ue.choices)return!1;const he=Me.includes(", "),je=he?Me.split(", ").map(Ke=>{var We;const Re=Ke.trim(),Ge=Re.charCodeAt(0)-65;return((We=ue.choices[Ge])==null?void 0:We.trim())||Re}):(()=>{var We;const Ke=Me.trim(),Re=Ke.charCodeAt(0)-65,Ge=(We=ue.choices[Re])==null?void 0:We.trim();return Ge?[Ge]:[Ke]})(),Se=Array.isArray(de)?de.map(Ke=>Ke.toString().trim()).sort():de?[de.toString().trim()]:[];return he?JSON.stringify(je.sort())===JSON.stringify(Se):Se.length===1&&Se[0]===je[0]},R=(ue,de,Me)=>{ie&&J(""),de==="score"?U(he=>({...he,[ue]:Me})):de==="comment"&&L(he=>({...he,[ue]:Me}))},O=async()=>{J("");const ue=o.questions.filter(he=>he.type==="saq"||he.type==="leq"),de={...I};ue.forEach(he=>{const je=c[he.id]&&c[he.id].trim()!=="",Se=p[he.id]&&p[he.id].length>0,Ke=de[he.id]!==void 0&&de[he.id]!=="";!je&&!Se&&!Ke&&(de[he.id]="0")}),U(de);const Me=ue.filter(he=>{const je=c[he.id]&&c[he.id].trim()!=="",Se=p[he.id]&&p[he.id].length>0,Ke=de[he.id]!==void 0&&de[he.id]!=="";return(je||Se)&&!Ke});if(Me.length>0){J(`Please provide scores for all answered SAQ/LEQ questions. Missing scores for ${Me.length} question(s).`);return}X(!0);try{const he={},je=de;let Se=0,Ke=0;o.questions.forEach(De=>{if(De.type==="saq"||De.type==="leq"){Ke+=De.points||1;const we=je[De.id];we!==void 0&&we!==""&&(Se+=parseFloat(we)||0,he[De.id]={score:parseFloat(we)||0,comment:M[De.id]||""})}});const Re=Le(),Ge=Re.score+Se,We=Re.total+Ke;await qt.update(t,{selfGradedScores:he,totalScore:Ge,maxScore:We,graded:!0});const yt=await qt.getById(t);i(yt)}catch(he){console.error("Error submitting grades:",he),J("Failed to submit grades. Please try again.")}finally{X(!1)}},q=ue=>{A(!1),T(ue),K.current&&K.current.scrollTo({top:0,behavior:"smooth"}),se.current&&se.current.scrollIntoView({behavior:"smooth",block:"center"})};N.useEffect(()=>{A(!1)},[E]),N.useEffect(()=>{!_&&n&&o&&se.current&&setTimeout(()=>{se.current.scrollIntoView({behavior:"smooth",block:"center"})},300)},[_,n,o]);const W=()=>{var de;const ue=(de=re[y])==null?void 0:de.id;S?A(!1):(A(!0),setTimeout(()=>{if(F.current&&ue){const Me=p[ue];Me&&Me.length>0?F.current.loadPaths(Me):F.current.clearCanvas()}},100))};if(_)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(!n||!o)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Submission not found"}),v.jsx("button",{onClick:()=>e("/review"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Back to Reviews"})]})});if(!o.questions||o.questions.length===0)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"No questions found for this test"}),v.jsx("p",{className:"text-gray-600 mt-2",children:"The test data may be incomplete."}),v.jsx("button",{onClick:()=>e("/review"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Back to Reviews"})]})});const re=ae(),fe=G(),oe=re[y],Ce=Z(),Ae=Le();return oe?v.jsx("div",{ref:se,className:"w-full min-h-screen bg-transparent py-4 px-4",children:v.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow-md py-4 px-6 space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("h2",{className:"text-2xl font-bold text-orange-800",children:[o.random?"Random Test":`${o.school} ${o.year}`," — ",o.event," Review"]}),v.jsx("div",{className:"text-right",children:n.graded?v.jsxs("div",{className:"text-orange-600 font-semibold",children:[v.jsxs("div",{children:["Total Score: ",Ce.score,"/",Ce.total," (",(Ce.score/Ce.total*100).toFixed(1),"%)"]}),v.jsxs("div",{className:"text-sm",children:["MCQ: ",Ae.score,"/",Ae.total," • FRQ: ",Ce.saqLeqScore,"/",Ce.saqLeqTotal]})]}):v.jsxs("div",{className:"text-orange-600 font-semibold",children:[v.jsxs("div",{children:["MCQ Score: ",Ae.score,"/",Ae.total]}),v.jsx("div",{className:"text-sm text-orange-500",children:"Complete self-grading to see total score"})]})})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),fe.map(ue=>v.jsx("button",{onClick:()=>{k(ue),T(0),A(!1)},className:`px-3 py-1 rounded text-sm ${E===ue?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:ue==="saq"?"Short Answer":ue==="leq"?"Long Answer":ue==="mcq"?"Multiple Choice":ue.charAt(0).toUpperCase()+ue.slice(1)},ue))]}),ie&&v.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:v.jsx("div",{className:"flex items-center",children:v.jsxs("div",{className:"text-red-800",children:[v.jsx("p",{className:"font-medium",children:"Error"}),v.jsx("p",{className:"text-sm",children:ie})]})})}),!n.graded&&v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-blue-800",children:"Self-Grading Required"}),v.jsx("p",{className:"text-sm text-blue-600",children:"Grade your free response questions to complete your review."})]}),v.jsx("button",{onClick:O,disabled:Y,className:`px-4 py-2 rounded font-medium ${Y?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:Y?"Submitting...":"Finish Grading"})]})}),v.jsxs("div",{className:`flex space-x-4 ${n.graded?"h-[500px]":"h-[400px]"}`,children:[v.jsxs("div",{className:"w-64 h-full overflow-y-auto pr-2 scrollbar-hide bg-gray-100 rounded-lg",children:[v.jsx("div",{className:"sticky top-0 bg-gray-100 z-10 pb-2 pt-3",children:v.jsx("h3",{className:"text-lg font-semibold text-orange-700 text-center",children:"Questions"})}),v.jsx(UT,{questions:re,currentIdx:y,setCurrentIdx:q,bookmarked:[],answers:c,drawings:p})]}),v.jsxs("div",{ref:K,className:"flex-1 relative h-full overflow-auto pr-2 scrollbar-hide",children:[v.jsx(uO,{idx:o.questions.findIndex(ue=>ue.id===oe.id),question:oe,userAnswer:c[oe.id],isCorrect:oe.type==="mcq"?B(oe):null,isGraded:n.graded,onSelfGrade:R,selfGradedScore:I[oe.id],selfGradedComment:M[oe.id],showCanvas:S,actualQuestionNumber:o.questions.findIndex(ue=>ue.id===oe.id)+1,drawings:p}),S&&v.jsx("div",{className:"absolute top-0 left-0 bg-transparent z-20 pointer-events-none",style:{width:Pe.width,height:Pe.height},children:v.jsx(DT,{ref:F,width:Pe.width,height:Pe.height,strokeWidth:"2",strokeColor:"#000",canvasColor:"transparent",className:"touch-none select-none",style:{border:"none",outline:"none"},readOnly:!0})})]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("div",{className:"flex gap-2 items-center min-w-[120px]",children:re[y]&&p[re[y].id]&&p[re[y].id].length>0&&v.jsx("button",{onClick:W,className:`rounded shadow text-white ${S?"px-3 py-1 bg-gray-500 hover:bg-gray-600":"px-4 py-2 bg-amber-600 hover:bg-amber-700"}`,children:S?"Hide Drawing":"Show Drawing"})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{disabled:y===0,onClick:()=>q(y-1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Previous"}),v.jsx("button",{disabled:y===re.length-1,onClick:()=>q(y+1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Next"}),v.jsx("button",{onClick:()=>e("/review"),className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded shadow transition",children:"Back to Reviews"})]})]})]})}):v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"No questions match the current filter"}),v.jsx("button",{onClick:()=>k("all"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Show All Questions"})]})})},dO=t=>{const[e,n]=N.useState(""),i=Un(),a=new URLSearchParams(window.location.search).get("token");if(!a)return;const c=h=>{h.preventDefault(),t.handleEmailReset(a,e)&&(n(""),i("/signin"))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[v.jsx("div",{children:v.jsx("p",{className:"text-xl font-semibold text-orange-800 text-center",children:"Reset Your Password"})}),v.jsx("div",{children:v.jsxs("form",{onSubmit:c,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),v.jsx("input",{type:"password",value:e,onChange:({target:h})=>n(h.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})})]})},eo="/api/users";let PT=null;const fO=t=>{PT=`Bearer ${t}`},hO=async()=>(await be.get(eo)).data,mO=async t=>(await be.post(eo,t)).data,pO=async t=>{const e=`${eo}/reset/${t.id}`;return(await be.put(e,{password:t.password},{headers:{Authorization:PT}})).data},gO=async t=>{const e=`${eo}/forgot`;return(await be.post(e,{email:t})).data},yO=async(t,e)=>{const n=`${eo}/reset`;return(await be.post(n,{token:t,password:e})).data},vO=async t=>{const e=`${eo}/verify?token=${t}`;return(await be.get(e)).data},Zn={setToken:fO,getAll:hO,createUser:mO,resetPass:pO,forgot:gO,resetEmailPass:yO,verify:vO},xO=t=>{const e=Un();N.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("token");i?(async()=>{try{await Zn.verify(i),t.setNotif("Email verified successfully!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch(a){a.response.data.error&&a.response.data.error==="Invalid or expired token"&&(t.setError("Invalid or expired verification token"),setTimeout(()=>{t.setError(null)},5e3))}})():(t.setError("No token provided"),setTimeout(()=>{t.setError(null)},5e3)),e("/")},[])},TO=()=>v.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-[60vh] bg-white max-w-md mx-auto p-8 shadow-lg rounded-lg",children:[v.jsx("h1",{className:"text-6xl font-bold text-orange-600 mb-4",children:"404"}),v.jsx("h2",{className:"text-2xl font-semibold mb-2 text-orange-800",children:"Page Not Found"}),v.jsx("p",{className:"text-orange-700 mb-6",children:"Sorry, the page you are looking for does not exist."}),v.jsx(tt,{to:"/",className:"px-6 py-2 bg-orange-200 text-orange-800 rounded hover:bg-orange-300 transition",children:"Go Home"})]}),_O="/api/login",bO=async t=>(await be.post(_O,t)).data,SO={login:bO};function wO(){var X,ie,J,K;const[t,e]=N.useState(null),[n,i]=N.useState(null),[o,a]=N.useState(null),[c,h]=N.useState([]),[p,m]=N.useState([]),[y,T]=N.useState([]),[_,w]=N.useState([]),[S,A]=N.useState([]),E=Un();N.useEffect(()=>{const se=localStorage.getItem("loggedAppUser");if(se){const F=JSON.parse(se);e(F),Zn.setToken(F.token),Xi.setToken(F.token),kn.setToken(F.token),Dr.setToken(F.token),Yt.setToken(F.token),jt.setToken(F.token),qt.setToken(F.token),Mn.setToken(F.token)}},[]),N.useEffect(()=>{(async()=>{try{const F=await Xi.getAll();F&&h(F)}catch(F){console.error("Failed to fetch events:",F)}})()},[]),N.useEffect(()=>{const se=async()=>{try{const F=await kn.getAll();F&&m(F)}catch(F){console.error("Failed to fetch tests:",F)}};t&&p.length===0&&se()},[t]),N.useEffect(()=>{t&&(async()=>{try{const F=await Zn.getAll();F&&T(F)}catch(F){console.error("Failed to fetch users:",F)}})()},[t,S]),N.useEffect(()=>{const se=async()=>{try{const F=await Dr.getAll();F&&w(F)}catch(F){console.error("Failed to fetch questions:",F)}};t&&_.length===0&&se()},[t]),N.useEffect(()=>{const se=async()=>{try{const F=await Yt.getAll();F&&A(F)}catch(F){console.error("Failed to fetch teams:",F)}};t&&S.length===0&&se()},[t]);const k=async se=>{try{const F=await Zn.createUser(se);return window.localStorage.setItem("loggedAppUser",JSON.stringify(F)),e(F),Zn.setToken(F.token),Xi.setToken(F.token),kn.setToken(F.token),Dr.setToken(F.token),Yt.setToken(F.token),jt.setToken(F.token),qt.setToken(F.token),Mn.setToken(F.token),E("/"),console.log("Sign Up"),a("signed up successfully, please check your email to verify your email"),setTimeout(()=>{a(null)},5e3),!0}catch(F){F.response.data.error?F.response.data.error==="Invalid admin key"?i("Invalid admin key!"):F.response.data.error==="Path `password` is required"?i("Password is required!"):F.response.data.error.includes("Path `email` is required")?i("Email is required!"):F.response.data.error.includes("Path `firstName` is required")?i("First name is required!"):F.response.data.error.includes("Path `lastName` is required")?i("Last name is required!"):F.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):F.response.data.error==="expected `email` to be unique"?i("Email already taken"):F.response.data.error==="expected `name` to be unique"?i("Name already taken. Please add your middle name/initial to your first name"):console.log(F.response.data.error):console.log(F.message),setTimeout(()=>{i(null)},5e3)}},I=()=>{window.localStorage.removeItem("loggedAppUser"),e(null),Zn.setToken(""),Xi.setToken(""),kn.setToken(""),Dr.setToken(""),Yt.setToken(""),jt.setToken(""),qt.setToken(""),Mn.setToken(""),E("/signin"),a("Logged out successfully"),setTimeout(()=>{a(null)},5e3)},U=async se=>{try{const F=await SO.login(se);return window.localStorage.setItem("loggedAppUser",JSON.stringify(F)),e(F),Zn.setToken(F.token),Xi.setToken(F.token),kn.setToken(F.token),Dr.setToken(F.token),Yt.setToken(F.token),jt.setToken(F.token),qt.setToken(F.token),Mn.setToken(F.token),console.log("Sign In"),E("/"),a("Logged in successfully"),setTimeout(()=>{a(null)},5e3),!0}catch(F){F.status===401?(i("Invalid username or password"),setTimeout(()=>{i(null)},5e3)):F.status===403&&(i("Cannot sign in. Please verify your account first!"),setTimeout(()=>{i(null)},5e3))}},M=async se=>{try{await Zn.resetPass({id:t.id,password:se}),a("Reset password successfully"),setTimeout(()=>{a(null)},5e3)}catch(F){F.response.data.error?F.response.data.error==="Path `password` is required"?i("Password is required!"):F.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):F.status===403?i("Unauthorized!"):console.log(F.response.data.error):console.log(F),setTimeout(()=>{i(null)},5e3)}},L=async se=>{try{return await Zn.forgot(se),a("Check your email for the reset link!"),setTimeout(()=>{a(null)},5e3),!0}catch(F){F.status===404?(i("Email not found"),setTimeout(()=>{i(null)},5e3)):console.log(F)}},Y=async(se,F)=>{try{await Zn.resetEmailPass(se,F),a("Password reset successfully"),setTimeout(()=>{a(null)},5e3)}catch(Pe){Pe.response.data.error?Pe.response.data.error==="Path `password` is required"?i("Password is required!"):Pe.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):Pe.response.data.error==="Invalid or expired token"?i("Invalid or expired token!"):console.log(Pe.response.data.error):console.log(Pe.message),setTimeout(()=>{i(null)},5e3)}};return v.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-repeat-y bg-[url('/radiant-combined.svg')] bg-[length:100%]",children:[v.jsx("nav",{className:"bg-white shadow-md",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between h-16 items-center",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx(tt,{to:"/",className:"flex items-center space-x-2",children:v.jsx("img",{src:"/lville.png",alt:"Logo",className:"h-8 transition-transform duration-200 hover:scale-110"})}),v.jsx(tt,{to:"/",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Home"}),v.jsx(tt,{to:"/events",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Events"}),t&&t.admin&&v.jsx("div",{className:"flex items-center space-x-2",children:v.jsx(tt,{to:"/statistics",className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Statistics"})}),t&&v.jsxs("div",{className:"relative inline-block text-left group z-2",children:[v.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Meetings"}),v.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:v.jsxs("ul",{className:"py-1",children:[v.jsx("li",{children:v.jsx(tt,{to:"/lineup",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Lineup"})}),((ie=(X=y.find(se=>se.id===t.id))==null?void 0:X.teams)==null?void 0:ie.length)>0&&v.jsx("li",{children:v.jsx(tt,{to:"/assigned",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Assigned Tests"})}),((K=(J=y.find(se=>se.id===t.id))==null?void 0:J.teams)==null?void 0:K.length)>0&&v.jsx("li",{children:v.jsx(tt,{to:"/review",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Review Tests"})}),v.jsx("li",{children:v.jsx(tt,{to:`/statistics/${t.id}`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"My Statistics"})})]})})]}),t&&t.admin&&v.jsxs("div",{className:"relative inline-block text-left group",children:[v.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Tests"}),v.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:v.jsxs("ul",{className:"py-1",children:[v.jsx("li",{children:v.jsx(tt,{to:"/tests",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Test Bank"})}),v.jsx("li",{children:v.jsx(tt,{to:"/tests/create",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Test"})}),v.jsx("li",{children:v.jsx(tt,{to:"/tests/random",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Random Test"})})]})})]})]}),v.jsx("div",{className:"flex space-x-4",children:t?v.jsxs(v.Fragment,{children:[v.jsx(tt,{to:"/settings",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Settings"}),v.jsx("button",{onClick:I,className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-red-600 hover:text-white transition",children:"Logout"})]}):v.jsxs(v.Fragment,{children:[v.jsx(tt,{to:"/signin",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign In"}),v.jsx(tt,{to:"/signup",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign Up"})]})})]})})}),v.jsx("div",{className:"flex-grow pt-6 pb-24",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n&&v.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[v.jsx("strong",{className:"font-bold",children:"Error: "}),v.jsx("span",{className:"block sm:inline",children:n})]}),o&&v.jsxs("div",{className:"mb-4 rounded-md bg-green-100 border border-green-500 text-green-800 px-4 py-3 shadow-md",role:"alert",children:[v.jsx("strong",{className:"font-bold",children:"Notice: "}),v.jsx("span",{className:"block sm:inline",children:o})]}),v.jsxs(KS,{children:[v.jsx(Ct,{path:"/",element:v.jsx(Rw,{user:t})}),v.jsx(Ct,{path:"/signin",element:v.jsx(kw,{handleSignIn:U,setError:i})}),v.jsx(Ct,{path:"/signup",element:v.jsx(Mw,{handleSignUp:k,setError:i})}),v.jsx(Ct,{path:"/events",element:v.jsx(mE,{user:t,events:c,setEvents:h})}),v.jsx(Ct,{path:"/settings",element:v.jsx(tO,{handleReset:M,user:t,handleLogout:I})}),v.jsx(Ct,{path:"/forgot",element:v.jsx(pE,{handleForgot:L})}),v.jsx(Ct,{path:"/reset",element:v.jsx(dO,{handleEmailReset:Y})}),v.jsx(Ct,{path:"/verify",element:v.jsx(xO,{setError:i,setNotif:a})}),v.jsx(Ct,{path:"/tests",element:v.jsx(SL,{tests:p,events:c,user:t,teams:S,setTests:m})}),v.jsx(Ct,{path:"/tests/create",element:v.jsx(bL,{setNotif:a,events:c,tests:p,setTests:m,setError:i,user:t})}),v.jsx(Ct,{path:"/tests/random",element:v.jsx(CL,{tests:p,questions:_,user:t,events:c,setError:i,setNotif:a,teams:S,setTests:m})}),v.jsx(Ct,{path:"/tests/:id",element:v.jsx(wL,{tests:p,user:t,teams:S,setError:i,setNotif:a,setTests:m})}),v.jsx(Ct,{path:"/lineup",element:v.jsx(DL,{setTeams:A,events:c,users:y,teams:S,user:t})}),v.jsx(Ct,{path:"/assigned",element:v.jsx(HL,{tests:p,user:t,users:y,teams:S})}),v.jsx(Ct,{path:"/assigned/:id",element:v.jsx(eO,{tests:p,user:t,users:y,teams:S,setNotif:a,setError:i,setTests:m})}),v.jsx(Ct,{path:"/review",element:v.jsx(oO,{user:t,users:y,teams:S})}),v.jsx(Ct,{path:"/review/:id",element:v.jsx(cO,{})}),v.jsx(Ct,{path:"/statistics",element:t&&t.admin?v.jsx(aO,{}):v.jsx(JS,{to:"/",replace:!0})}),v.jsx(Ct,{path:"/statistics/:id",element:v.jsx(lO,{user:t})}),v.jsx(Ct,{path:"*",element:v.jsx(TO,{})})]})]})}),v.jsxs("footer",{className:"bg-orange-100 text-orange-700 py-6 text-center text-sm",children:["© ",new Date().getFullYear()," Libertyville High School Science Olympiad"]})]})}sS.createRoot(document.getElementById("root")).render(v.jsx(xw,{children:v.jsx(wO,{})}));
