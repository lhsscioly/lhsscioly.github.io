(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function J_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Y_(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}),n}var Zd={exports:{}},sa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function K_(){if(ay)return sa;ay=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,a){var c=null;if(a!==void 0&&(c=""+a),o.key!==void 0&&(c=""+o.key),"key"in o){a={};for(var h in o)h!=="key"&&(a[h]=o[h])}else a=o;return o=a.ref,{$$typeof:t,type:i,key:c,ref:o!==void 0?o:null,props:a}}return sa.Fragment=e,sa.jsx=n,sa.jsxs=n,sa}var ly;function Q_(){return ly||(ly=1,Zd.exports=K_()),Zd.exports}var v=Q_(),Xd={exports:{}},ra={},Wd={exports:{}},ef={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function Z_(){return uy||(uy=1,function(t){function e(Z,ae){var Y=Z.length;Z.push(ae);e:for(;0<Y;){var q=Y-1>>>1,k=Z[q];if(0<o(k,ae))Z[q]=ae,Z[Y]=k,Y=q;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ae=Z[0],Y=Z.pop();if(Y!==ae){Z[0]=Y;e:for(var q=0,k=Z.length,L=k>>>1;q<L;){var B=2*(q+1)-1,W=Z[B],re=B+1,he=Z[re];if(0>o(W,Y))re<k&&0>o(he,W)?(Z[q]=he,Z[re]=Y,q=re):(Z[q]=W,Z[B]=Y,q=B);else if(re<k&&0>o(he,Y))Z[q]=he,Z[re]=Y,q=re;else break e}}return ae}function o(Z,ae){var Y=Z.sortIndex-ae.sortIndex;return Y!==0?Y:Z.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,T=null,b=3,w=!1,S=!1,N=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function C(Z){for(var ae=n(m);ae!==null;){if(ae.callback===null)i(m);else if(ae.startTime<=Z)i(m),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(m)}}function I(Z){if(N=!1,C(Z),!S)if(n(p)!==null)S=!0,V||(V=!0,$());else{var ae=n(m);ae!==null&&Ae(I,ae.startTime-Z)}}var V=!1,H=-1,ee=5,z=-1;function K(){return A?!0:!(t.unstable_now()-z<ee)}function ne(){if(A=!1,V){var Z=t.unstable_now();z=Z;var ae=!0;try{e:{S=!1,N&&(N=!1,P(H),H=-1),w=!0;var Y=b;try{t:{for(C(Z),T=n(p);T!==null&&!(T.expirationTime>Z&&K());){var q=T.callback;if(typeof q=="function"){T.callback=null,b=T.priorityLevel;var k=q(T.expirationTime<=Z);if(Z=t.unstable_now(),typeof k=="function"){T.callback=k,C(Z),ae=!0;break t}T===n(p)&&i(p),C(Z)}else i(p);T=n(p)}if(T!==null)ae=!0;else{var L=n(m);L!==null&&Ae(I,L.startTime-Z),ae=!1}}break e}finally{T=null,b=Y,w=!1}ae=void 0}}finally{ae?$():V=!1}}}var $;if(typeof D=="function")$=function(){D(ne)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ce=we.port2;we.port1.onmessage=ne,$=function(){Ce.postMessage(null)}}else $=function(){M(ne,0)};function Ae(Z,ae){H=M(function(){Z(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var Y=b;b=ae;try{return Z()}finally{b=Y}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Y=b;b=Z;try{return ae()}finally{b=Y}},t.unstable_scheduleCallback=function(Z,ae,Y){var q=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?q+Y:q):Y=q,Z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Y+k,Z={id:y++,callback:ae,priorityLevel:Z,startTime:Y,expirationTime:k,sortIndex:-1},Y>q?(Z.sortIndex=Y,e(m,Z),n(p)===null&&Z===n(m)&&(N?(P(H),H=-1):N=!0,Ae(I,Y-q))):(Z.sortIndex=k,e(p,Z),S||w||(S=!0,V||(V=!0,$()))),Z},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(Z){var ae=b;return function(){var Y=b;b=ae;try{return Z.apply(this,arguments)}finally{b=Y}}}}(ef)),ef}var cy;function X_(){return cy||(cy=1,Wd.exports=Z_()),Wd.exports}var tf={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function W_(){if(dy)return Ve;dy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function A(k,L,B){this.props=k,this.context=L,this.refs=N,this.updater=B||w}A.prototype.isReactComponent={},A.prototype.setState=function(k,L){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,L,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function M(){}M.prototype=A.prototype;function P(k,L,B){this.props=k,this.context=L,this.refs=N,this.updater=B||w}var D=P.prototype=new M;D.constructor=P,S(D,A.prototype),D.isPureReactComponent=!0;var C=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function H(k,L,B,W,re,he){return B=he.ref,{$$typeof:t,type:k,key:L,ref:B!==void 0?B:null,props:he}}function ee(k,L){return H(k.type,L,void 0,void 0,void 0,k.props)}function z(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function K(k){var L={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(B){return L[B]})}var ne=/\/+/g;function $(k,L){return typeof k=="object"&&k!==null&&k.key!=null?K(""+k.key):L.toString(36)}function we(){}function Ce(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(we,we):(k.status="pending",k.then(function(L){k.status==="pending"&&(k.status="fulfilled",k.value=L)},function(L){k.status==="pending"&&(k.status="rejected",k.reason=L)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ae(k,L,B,W,re){var he=typeof k;(he==="undefined"||he==="boolean")&&(k=null);var oe=!1;if(k===null)oe=!0;else switch(he){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(k.$$typeof){case t:case e:oe=!0;break;case y:return oe=k._init,Ae(oe(k._payload),L,B,W,re)}}if(oe)return re=re(k),oe=W===""?"."+$(k,0):W,C(re)?(B="",oe!=null&&(B=oe.replace(ne,"$&/")+"/"),Ae(re,L,B,"",function(et){return et})):re!=null&&(z(re)&&(re=ee(re,B+(re.key==null||k&&k.key===re.key?"":(""+re.key).replace(ne,"$&/")+"/")+oe)),L.push(re)),1;oe=0;var Ue=W===""?".":W+":";if(C(k))for(var Ee=0;Ee<k.length;Ee++)W=k[Ee],he=Ue+$(W,Ee),oe+=Ae(W,L,B,he,re);else if(Ee=b(k),typeof Ee=="function")for(k=Ee.call(k),Ee=0;!(W=k.next()).done;)W=W.value,he=Ue+$(W,Ee++),oe+=Ae(W,L,B,he,re);else if(he==="object"){if(typeof k.then=="function")return Ae(Ce(k),L,B,W,re);throw L=String(k),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return oe}function Z(k,L,B){if(k==null)return k;var W=[],re=0;return Ae(k,W,"","",function(he){return L.call(B,he,re++)}),W}function ae(k){if(k._status===-1){var L=k._result;L=L(),L.then(function(B){(k._status===0||k._status===-1)&&(k._status=1,k._result=B)},function(B){(k._status===0||k._status===-1)&&(k._status=2,k._result=B)}),k._status===-1&&(k._status=0,k._result=L)}if(k._status===1)return k._result.default;throw k._result}var Y=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function q(){}return Ve.Children={map:Z,forEach:function(k,L,B){Z(k,function(){L.apply(this,arguments)},B)},count:function(k){var L=0;return Z(k,function(){L++}),L},toArray:function(k){return Z(k,function(L){return L})||[]},only:function(k){if(!z(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ve.Component=A,Ve.Fragment=n,Ve.Profiler=o,Ve.PureComponent=P,Ve.StrictMode=i,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Ve.cache=function(k){return function(){return k.apply(null,arguments)}},Ve.cloneElement=function(k,L,B){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var W=S({},k.props),re=k.key,he=void 0;if(L!=null)for(oe in L.ref!==void 0&&(he=void 0),L.key!==void 0&&(re=""+L.key),L)!V.call(L,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&L.ref===void 0||(W[oe]=L[oe]);var oe=arguments.length-2;if(oe===1)W.children=B;else if(1<oe){for(var Ue=Array(oe),Ee=0;Ee<oe;Ee++)Ue[Ee]=arguments[Ee+2];W.children=Ue}return H(k.type,re,void 0,void 0,he,W)},Ve.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},Ve.createElement=function(k,L,B){var W,re={},he=null;if(L!=null)for(W in L.key!==void 0&&(he=""+L.key),L)V.call(L,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(re[W]=L[W]);var oe=arguments.length-2;if(oe===1)re.children=B;else if(1<oe){for(var Ue=Array(oe),Ee=0;Ee<oe;Ee++)Ue[Ee]=arguments[Ee+2];re.children=Ue}if(k&&k.defaultProps)for(W in oe=k.defaultProps,oe)re[W]===void 0&&(re[W]=oe[W]);return H(k,he,void 0,void 0,null,re)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(k){return{$$typeof:h,render:k}},Ve.isValidElement=z,Ve.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:ae}},Ve.memo=function(k,L){return{$$typeof:m,type:k,compare:L===void 0?null:L}},Ve.startTransition=function(k){var L=I.T,B={};I.T=B;try{var W=k(),re=I.S;re!==null&&re(B,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(q,Y)}catch(he){Y(he)}finally{I.T=L}},Ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ve.use=function(k){return I.H.use(k)},Ve.useActionState=function(k,L,B){return I.H.useActionState(k,L,B)},Ve.useCallback=function(k,L){return I.H.useCallback(k,L)},Ve.useContext=function(k){return I.H.useContext(k)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(k,L){return I.H.useDeferredValue(k,L)},Ve.useEffect=function(k,L,B){var W=I.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(k,L)},Ve.useId=function(){return I.H.useId()},Ve.useImperativeHandle=function(k,L,B){return I.H.useImperativeHandle(k,L,B)},Ve.useInsertionEffect=function(k,L){return I.H.useInsertionEffect(k,L)},Ve.useLayoutEffect=function(k,L){return I.H.useLayoutEffect(k,L)},Ve.useMemo=function(k,L){return I.H.useMemo(k,L)},Ve.useOptimistic=function(k,L){return I.H.useOptimistic(k,L)},Ve.useReducer=function(k,L,B){return I.H.useReducer(k,L,B)},Ve.useRef=function(k){return I.H.useRef(k)},Ve.useState=function(k){return I.H.useState(k)},Ve.useSyncExternalStore=function(k,L,B){return I.H.useSyncExternalStore(k,L,B)},Ve.useTransition=function(){return I.H.useTransition()},Ve.version="19.1.0",Ve}var fy;function Xf(){return fy||(fy=1,tf.exports=W_()),tf.exports}var nf={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function eS(){if(hy)return Kt;hy=1;var t=Xf();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(p,m,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Kt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(p,m,null,y)},Kt.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},Kt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Kt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Kt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:w}):y==="script"&&i.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Kt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Kt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Kt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Kt.requestFormReset=function(p){i.d.r(p)},Kt.unstable_batchedUpdates=function(p,m){return p(m)},Kt.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},Kt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var my;function tS(){if(my)return nf.exports;my=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nf.exports=eS(),nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function nS(){if(py)return ra;py=1;var t=X_(),e=Xf(),n=tS();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=a(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,f=r;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return h(g),s;if(x===f)return h(g),r;x=x.sibling}throw Error(i(188))}if(l.return!==f.return)l=g,f=x;else{for(var _=!1,E=g.child;E;){if(E===l){_=!0,l=g,f=x;break}if(E===f){_=!0,f=g,l=x;break}E=E.sibling}if(!_){for(E=x.child;E;){if(E===l){_=!0,l=x,f=g;break}if(E===f){_=!0,f=x,l=g;break}E=E.sibling}if(!_)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function m(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=m(s),r!==null)return r;s=s.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var we=Symbol.for("react.client.reference");function Ce(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===we?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case A:return"Profiler";case N:return"StrictMode";case I:return"Suspense";case V:return"SuspenseList";case z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case D:return(s.displayName||"Context")+".Provider";case P:return(s._context.displayName||"Context")+".Consumer";case C:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return r=s.displayName||null,r!==null?r:Ce(s.type)||"Memo";case ee:r=s._payload,s=s._init;try{return Ce(s(r))}catch{}}return null}var Ae=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},q=[],k=-1;function L(s){return{current:s}}function B(s){0>k||(s.current=q[k],q[k]=null,k--)}function W(s,r){k++,q[k]=s.current,s.current=r}var re=L(null),he=L(null),oe=L(null),Ue=L(null);function Ee(s,r){switch(W(oe,r),W(he,s),W(re,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Pg(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Pg(r),s=Lg(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}B(re),W(re,s)}function et(){B(re),B(he),B(oe)}function it(s){s.memoizedState!==null&&W(Ue,s);var r=re.current,l=Lg(r,s.type);r!==l&&(W(he,s),W(re,l))}function kt(s){he.current===s&&(B(re),B(he)),Ue.current===s&&(B(Ue),Wo._currentValue=Y)}var Ut=Object.prototype.hasOwnProperty,me=t.unstable_scheduleCallback,de=t.unstable_cancelCallback,Ne=t.unstable_shouldYield,ue=t.unstable_requestPaint,qe=t.unstable_now,Le=t.unstable_getCurrentPriorityLevel,rt=t.unstable_ImmediatePriority,Oe=t.unstable_UserBlockingPriority,Te=t.unstable_NormalPriority,ve=t.unstable_LowPriority,He=t.unstable_IdlePriority,ze=t.log,ft=t.unstable_setDisableYieldValue,sn=null,Tt=null;function Gt(s){if(typeof ze=="function"&&ft(s),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(sn,s)}catch{}}var fe=Math.clz32?Math.clz32:Xe,_e=Math.log,De=Math.LN2;function Xe(s){return s>>>=0,s===0?32:31-(_e(s)/De|0)|0}var It=256,On=4194304;function Kn(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ls(s,r,l){var f=s.pendingLanes;if(f===0)return 0;var g=0,x=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var E=f&134217727;return E!==0?(f=E&~x,f!==0?g=Kn(f):(_&=E,_!==0?g=Kn(_):l||(l=E&~s,l!==0&&(g=Kn(l))))):(E=f&~x,E!==0?g=Kn(E):_!==0?g=Kn(_):l||(l=f&~s,l!==0&&(g=Kn(l)))),g===0?0:r!==0&&r!==g&&(r&x)===0&&(x=g&-g,l=r&-r,x>=l||x===32&&(l&4194048)!==0)?r:g}function Ht(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function ui(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qn(){var s=It;return It<<=1,(It&4194048)===0&&(It=256),s}function qn(){var s=On;return On<<=1,(On&62914560)===0&&(On=4194304),s}function _n(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Sn(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $s(s,r,l,f,g,x){var _=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var E=s.entanglements,U=s.expirationTimes,G=s.hiddenUpdates;for(l=_&~l;0<l;){var te=31-fe(l),se=1<<te;E[te]=0,U[te]=-1;var J=G[te];if(J!==null)for(G[te]=null,te=0;te<J.length;te++){var Q=J[te];Q!==null&&(Q.lane&=-536870913)}l&=~se}f!==0&&rn(s,f,0),x!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=x&~(_&~r))}function rn(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var f=31-fe(r);s.entangledLanes|=r,s.entanglements[f]=s.entanglements[f]|1073741824|l&4194090}function en(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var f=31-fe(l),g=1<<f;g&r|s[f]&r&&(s[f]|=r),l&=~g}}function us(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function lo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Fs(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:ty(s.type))}function La(s,r){var l=ae.p;try{return ae.p=s,r()}finally{ae.p=l}}var Zn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Zn,on="__reactProps$"+Zn,zs="__reactContainer$"+Zn,Fu="__reactEvents$"+Zn,OT="__reactListeners$"+Zn,qT="__reactHandles$"+Zn,Sh="__reactResources$"+Zn,uo="__reactMarker$"+Zn;function zu(s){delete s[Jt],delete s[on],delete s[Fu],delete s[OT],delete s[qT]}function Gs(s){var r=s[Jt];if(r)return r;for(var l=s.parentNode;l;){if(r=l[zs]||l[Jt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=jg(s);s!==null;){if(l=s[Jt])return l;s=jg(s)}return r}s=l,l=s.parentNode}return null}function Hs(s){if(s=s[Jt]||s[zs]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function co(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Js(s){var r=s[Sh];return r||(r=s[Sh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pt(s){s[uo]=!0}var wh=new Set,Ch={};function cs(s,r){Ys(s,r),Ys(s+"Capture",r)}function Ys(s,r){for(Ch[s]=r,s=0;s<r.length;s++)wh.add(r[s])}var BT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eh={},Ah={};function jT(s){return Ut.call(Ah,s)?!0:Ut.call(Eh,s)?!1:BT.test(s)?Ah[s]=!0:(Eh[s]=!0,!1)}function Oa(s,r,l){if(jT(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function qa(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function ci(s,r,l,f){if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+f)}}var Gu,Nh;function Ks(s){if(Gu===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Gu=r&&r[1]||"",Nh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gu+s+Nh}var Hu=!1;function Ju(s,r){if(!s||Hu)return"";Hu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Q){var J=Q}Reflect.construct(s,[],se)}else{try{se.call()}catch(Q){J=Q}s.call(se.prototype)}}else{try{throw Error()}catch(Q){J=Q}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Q){if(Q&&J&&typeof Q.stack=="string")return[Q.stack,J.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),_=x[0],E=x[1];if(_&&E){var U=_.split(`
`),G=E.split(`
`);for(g=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(f===U.length||g===G.length)for(f=U.length-1,g=G.length-1;1<=f&&0<=g&&U[f]!==G[g];)g--;for(;1<=f&&0<=g;f--,g--)if(U[f]!==G[g]){if(f!==1||g!==1)do if(f--,g--,0>g||U[f]!==G[g]){var te=`
`+U[f].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=f&&0<=g);break}}}finally{Hu=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ks(l):""}function VT(s){switch(s.tag){case 26:case 27:case 5:return Ks(s.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 15:return Ju(s.type,!1);case 11:return Ju(s.type.render,!1);case 1:return Ju(s.type,!0);case 31:return Ks("Activity");default:return""}}function Rh(s){try{var r="";do r+=VT(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function wn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function kh(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $T(s){var r=kh(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),f=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,x=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(_){f=""+_,x.call(this,_)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(_){f=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Ba(s){s._valueTracker||(s._valueTracker=$T(s))}function Mh(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),f="";return s&&(f=kh(s)?s.checked?"true":"false":s.value),s=f,s!==l?(r.setValue(s),!0):!1}function ja(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var FT=/[\n"\\]/g;function Cn(s){return s.replace(FT,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Yu(s,r,l,f,g,x,_,E){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+wn(r)):s.value!==""+wn(r)&&(s.value=""+wn(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?Ku(s,_,wn(r)):l!=null?Ku(s,_,wn(l)):f!=null&&s.removeAttribute("value"),g==null&&x!=null&&(s.defaultChecked=!!x),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.name=""+wn(E):s.removeAttribute("name")}function Dh(s,r,l,f,g,x,_,E){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),r!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||r!=null))return;l=l!=null?""+wn(l):"",r=r!=null?""+wn(r):l,E||r===s.value||(s.value=r),s.defaultValue=r}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=E?s.checked:!!f,s.defaultChecked=!!f,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_)}function Ku(s,r,l){r==="number"&&ja(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Qs(s,r,l,f){if(s=s.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=r.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&f&&(s[l].defaultSelected=!0)}else{for(l=""+wn(l),r=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function Uh(s,r,l){if(r!=null&&(r=""+wn(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+wn(l):""}function Ih(s,r,l,f){if(r==null){if(f!=null){if(l!=null)throw Error(i(92));if(Ae(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),r=l}l=wn(r),s.defaultValue=l,f=s.textContent,f===l&&f!==""&&f!==null&&(s.value=f)}function Zs(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var zT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ph(s,r,l){var f=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":f?s.setProperty(r,l):typeof l!="number"||l===0||zT.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Lh(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var g in r)f=r[g],r.hasOwnProperty(g)&&l[g]!==f&&Ph(s,g,f)}else for(var x in r)r.hasOwnProperty(x)&&Ph(s,x,r[x])}function Qu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(s){return HT.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Zu=null;function Xu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xs=null,Ws=null;function Oh(s){var r=Hs(s);if(r&&(s=r.stateNode)){var l=s[on]||null;e:switch(s=r.stateNode,r.type){case"input":if(Yu(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Cn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var f=l[r];if(f!==s&&f.form===s.form){var g=f[on]||null;if(!g)throw Error(i(90));Yu(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)f=l[r],f.form===s.form&&Mh(f)}break e;case"textarea":Uh(s,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Qs(s,!!l.multiple,r,!1)}}}var Wu=!1;function qh(s,r,l){if(Wu)return s(r,l);Wu=!0;try{var f=s(r);return f}finally{if(Wu=!1,(Xs!==null||Ws!==null)&&(El(),Xs&&(r=Xs,s=Ws,Ws=Xs=null,Oh(r),s)))for(r=0;r<s.length;r++)Oh(s[r])}}function fo(s,r){var l=s.stateNode;if(l===null)return null;var f=l[on]||null;if(f===null)return null;l=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(di)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){ec=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{ec=!1}var Di=null,tc=null,$a=null;function Bh(){if($a)return $a;var s,r=tc,l=r.length,f,g="value"in Di?Di.value:Di.textContent,x=g.length;for(s=0;s<l&&r[s]===g[s];s++);var _=l-s;for(f=1;f<=_&&r[l-f]===g[x-f];f++);return $a=g.slice(s,1<f?1-f:void 0)}function Fa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function za(){return!0}function jh(){return!1}function an(s){function r(l,f,g,x,_){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(l=s[E],this[E]=l?l(x):x[E]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?za:jh,this.isPropagationStopped=jh,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),r}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=an(ds),mo=y({},ds,{view:0,detail:0}),JT=an(mo),nc,ic,po,Ha=y({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==po&&(po&&s.type==="mousemove"?(nc=s.screenX-po.screenX,ic=s.screenY-po.screenY):ic=nc=0,po=s),nc)},movementY:function(s){return"movementY"in s?s.movementY:ic}}),Vh=an(Ha),YT=y({},Ha,{dataTransfer:0}),KT=an(YT),QT=y({},mo,{relatedTarget:0}),sc=an(QT),ZT=y({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),XT=an(ZT),WT=y({},ds,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),eb=an(WT),tb=y({},ds,{data:0}),$h=an(tb),nb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ib={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rb(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=sb[s])?!!r[s]:!1}function rc(){return rb}var ob=y({},mo,{key:function(s){if(s.key){var r=nb[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Fa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ib[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(s){return s.type==="keypress"?Fa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ab=an(ob),lb=y({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=an(lb),ub=y({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),cb=an(ub),db=y({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),fb=an(db),hb=y({},Ha,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),mb=an(hb),pb=y({},ds,{newState:0,oldState:0}),gb=an(pb),yb=[9,13,27,32],oc=di&&"CompositionEvent"in window,go=null;di&&"documentMode"in document&&(go=document.documentMode);var vb=di&&"TextEvent"in window&&!go,zh=di&&(!oc||go&&8<go&&11>=go),Gh=" ",Hh=!1;function Jh(s,r){switch(s){case"keyup":return yb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var er=!1;function xb(s,r){switch(s){case"compositionend":return Yh(r);case"keypress":return r.which!==32?null:(Hh=!0,Gh);case"textInput":return s=r.data,s===Gh&&Hh?null:s;default:return null}}function Tb(s,r){if(er)return s==="compositionend"||!oc&&Jh(s,r)?(s=Bh(),$a=tc=Di=null,er=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return zh&&r.locale!=="ko"?null:r.data;default:return null}}var bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!bb[s.type]:r==="textarea"}function Qh(s,r,l,f){Xs?Ws?Ws.push(f):Ws=[f]:Xs=f,r=Dl(r,"onChange"),0<r.length&&(l=new Ga("onChange","change",null,l,f),s.push({event:l,listeners:r}))}var yo=null,vo=null;function _b(s){kg(s,0)}function Ja(s){var r=co(s);if(Mh(r))return s}function Zh(s,r){if(s==="change")return r}var Xh=!1;if(di){var ac;if(di){var lc="oninput"in document;if(!lc){var Wh=document.createElement("div");Wh.setAttribute("oninput","return;"),lc=typeof Wh.oninput=="function"}ac=lc}else ac=!1;Xh=ac&&(!document.documentMode||9<document.documentMode)}function em(){yo&&(yo.detachEvent("onpropertychange",tm),vo=yo=null)}function tm(s){if(s.propertyName==="value"&&Ja(vo)){var r=[];Qh(r,vo,s,Xu(s)),qh(_b,r)}}function Sb(s,r,l){s==="focusin"?(em(),yo=r,vo=l,yo.attachEvent("onpropertychange",tm)):s==="focusout"&&em()}function wb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ja(vo)}function Cb(s,r){if(s==="click")return Ja(r)}function Eb(s,r){if(s==="input"||s==="change")return Ja(r)}function Ab(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var pn=typeof Object.is=="function"?Object.is:Ab;function xo(s,r){if(pn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),f=Object.keys(r);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!Ut.call(r,g)||!pn(s[g],r[g]))return!1}return!0}function nm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function im(s,r){var l=nm(s);s=0;for(var f;l;){if(l.nodeType===3){if(f=s+l.textContent.length,s<=r&&f>=r)return{node:l,offset:r-s};s=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=nm(l)}}function sm(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?sm(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function rm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ja(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=ja(s.document)}return r}function uc(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Nb=di&&"documentMode"in document&&11>=document.documentMode,tr=null,cc=null,To=null,dc=!1;function om(s,r,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dc||tr==null||tr!==ja(f)||(f=tr,"selectionStart"in f&&uc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),To&&xo(To,f)||(To=f,f=Dl(cc,"onSelect"),0<f.length&&(r=new Ga("onSelect","select",null,r,l),s.push({event:r,listeners:f}),r.target=tr)))}function fs(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var nr={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},fc={},am={};di&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function hs(s){if(fc[s])return fc[s];if(!nr[s])return s;var r=nr[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in am)return fc[s]=r[l];return s}var lm=hs("animationend"),um=hs("animationiteration"),cm=hs("animationstart"),Rb=hs("transitionrun"),kb=hs("transitionstart"),Mb=hs("transitioncancel"),dm=hs("transitionend"),fm=new Map,hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hc.push("scrollEnd");function Bn(s,r){fm.set(s,r),cs(r,[s])}var hm=new WeakMap;function En(s,r){if(typeof s=="object"&&s!==null){var l=hm.get(s);return l!==void 0?l:(r={value:s,source:r,stack:Rh(r)},hm.set(s,r),r)}return{value:s,source:r,stack:Rh(r)}}var An=[],ir=0,mc=0;function Ya(){for(var s=ir,r=mc=ir=0;r<s;){var l=An[r];An[r++]=null;var f=An[r];An[r++]=null;var g=An[r];An[r++]=null;var x=An[r];if(An[r++]=null,f!==null&&g!==null){var _=f.pending;_===null?g.next=g:(g.next=_.next,_.next=g),f.pending=g}x!==0&&mm(l,g,x)}}function Ka(s,r,l,f){An[ir++]=s,An[ir++]=r,An[ir++]=l,An[ir++]=f,mc|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function pc(s,r,l,f){return Ka(s,r,l,f),Qa(s)}function sr(s,r){return Ka(s,null,null,r),Qa(s)}function mm(s,r,l){s.lanes|=l;var f=s.alternate;f!==null&&(f.lanes|=l);for(var g=!1,x=s.return;x!==null;)x.childLanes|=l,f=x.alternate,f!==null&&(f.childLanes|=l),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(g=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,g&&r!==null&&(g=31-fe(l),s=x.hiddenUpdates,f=s[g],f===null?s[g]=[r]:f.push(r),r.lane=l|536870912),x):null}function Qa(s){if(50<Go)throw Go=0,bd=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var rr={};function Db(s,r,l,f){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(s,r,l,f){return new Db(s,r,l,f)}function gc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fi(s,r){var l=s.alternate;return l===null?(l=gn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function pm(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Za(s,r,l,f,g,x){var _=0;if(f=s,typeof s=="function")gc(s)&&(_=1);else if(typeof s=="string")_=I_(s,l,re.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case z:return s=gn(31,l,r,g),s.elementType=z,s.lanes=x,s;case S:return ms(l.children,g,x,r);case N:_=8,g|=24;break;case A:return s=gn(12,l,r,g|2),s.elementType=A,s.lanes=x,s;case I:return s=gn(13,l,r,g),s.elementType=I,s.lanes=x,s;case V:return s=gn(19,l,r,g),s.elementType=V,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case D:_=10;break e;case P:_=9;break e;case C:_=11;break e;case H:_=14;break e;case ee:_=16,f=null;break e}_=29,l=Error(i(130,s===null?"null":typeof s,"")),f=null}return r=gn(_,l,r,g),r.elementType=s,r.type=f,r.lanes=x,r}function ms(s,r,l,f){return s=gn(7,s,f,r),s.lanes=l,s}function yc(s,r,l){return s=gn(6,s,null,r),s.lanes=l,s}function vc(s,r,l){return r=gn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var or=[],ar=0,Xa=null,Wa=0,Nn=[],Rn=0,ps=null,hi=1,mi="";function gs(s,r){or[ar++]=Wa,or[ar++]=Xa,Xa=s,Wa=r}function gm(s,r,l){Nn[Rn++]=hi,Nn[Rn++]=mi,Nn[Rn++]=ps,ps=s;var f=hi;s=mi;var g=32-fe(f)-1;f&=~(1<<g),l+=1;var x=32-fe(r)+g;if(30<x){var _=g-g%5;x=(f&(1<<_)-1).toString(32),f>>=_,g-=_,hi=1<<32-fe(r)+g|l<<g|f,mi=x+s}else hi=1<<x|l<<g|f,mi=s}function xc(s){s.return!==null&&(gs(s,1),gm(s,1,0))}function Tc(s){for(;s===Xa;)Xa=or[--ar],or[ar]=null,Wa=or[--ar],or[ar]=null;for(;s===ps;)ps=Nn[--Rn],Nn[Rn]=null,mi=Nn[--Rn],Nn[Rn]=null,hi=Nn[--Rn],Nn[Rn]=null}var tn=null,bt=null,st=!1,ys=null,Xn=!1,bc=Error(i(519));function vs(s){var r=Error(i(418,""));throw So(En(r,s)),bc}function ym(s){var r=s.stateNode,l=s.type,f=s.memoizedProps;switch(r[Jt]=s,r[on]=f,l){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(l=0;l<Jo.length;l++)Ye(Jo[l],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Ye("invalid",r),Dh(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ba(r);break;case"select":Ye("invalid",r);break;case"textarea":Ye("invalid",r),Ih(r,f.value,f.defaultValue,f.children),Ba(r)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||f.suppressHydrationWarning===!0||Ig(r.textContent,l)?(f.popover!=null&&(Ye("beforetoggle",r),Ye("toggle",r)),f.onScroll!=null&&Ye("scroll",r),f.onScrollEnd!=null&&Ye("scrollend",r),f.onClick!=null&&(r.onclick=Ul),r=!0):r=!1,r||vs(s)}function vm(s){for(tn=s.return;tn;)switch(tn.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:tn=tn.return}}function bo(s){if(s!==tn)return!1;if(!st)return vm(s),st=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Od(s.type,s.memoizedProps)),l=!l),l&&bt&&vs(s),vm(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){bt=Vn(s.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}bt=null}}else r===27?(r=bt,Yi(s.type)?(s=Vd,Vd=null,bt=s):bt=r):bt=tn?Vn(s.stateNode.nextSibling):null;return!0}function _o(){bt=tn=null,st=!1}function xm(){var s=ys;return s!==null&&(cn===null?cn=s:cn.push.apply(cn,s),ys=null),s}function So(s){ys===null?ys=[s]:ys.push(s)}var _c=L(null),xs=null,pi=null;function Ui(s,r,l){W(_c,r._currentValue),r._currentValue=l}function gi(s){s._currentValue=_c.current,B(_c)}function Sc(s,r,l){for(;s!==null;){var f=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),s===l)break;s=s.return}}function wc(s,r,l,f){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var x=g.dependencies;if(x!==null){var _=g.child;x=x.firstContext;e:for(;x!==null;){var E=x;x=g;for(var U=0;U<r.length;U++)if(E.context===r[U]){x.lanes|=l,E=x.alternate,E!==null&&(E.lanes|=l),Sc(x.return,l,s),f||(_=null);break e}x=E.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(i(341));_.lanes|=l,x=_.alternate,x!==null&&(x.lanes|=l),Sc(_,l,s),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function wo(s,r,l,f){s=null;for(var g=r,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var E=g.type;pn(g.pendingProps.value,_.value)||(s!==null?s.push(E):s=[E])}}else if(g===Ue.current){if(_=g.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Wo):s=[Wo])}g=g.return}s!==null&&wc(r,s,l,f),r.flags|=262144}function el(s){for(s=s.firstContext;s!==null;){if(!pn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ts(s){xs=s,pi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Yt(s){return Tm(xs,s)}function tl(s,r){return xs===null&&Ts(s),Tm(s,r)}function Tm(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},pi===null){if(s===null)throw Error(i(308));pi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else pi=pi.next=r;return l}var Ub=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,f){s.push(f)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},Ib=t.unstable_scheduleCallback,Pb=t.unstable_NormalPriority,Mt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cc(){return{controller:new Ub,data:new Map,refCount:0}}function Co(s){s.refCount--,s.refCount===0&&Ib(Pb,function(){s.controller.abort()})}var Eo=null,Ec=0,lr=0,ur=null;function Lb(s,r){if(Eo===null){var l=Eo=[];Ec=0,lr=Nd(),ur={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Ec++,r.then(bm,bm),r}function bm(){if(--Ec===0&&Eo!==null){ur!==null&&(ur.status="fulfilled");var s=Eo;Eo=null,lr=0,ur=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function Ob(s,r){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){f.status="fulfilled",f.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var _m=Z.S;Z.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Lb(s,r),_m!==null&&_m(s,r)};var bs=L(null);function Ac(){var s=bs.current;return s!==null?s:mt.pooledCache}function nl(s,r){r===null?W(bs,bs.current):W(bs,r.pool)}function Sm(){var s=Ac();return s===null?null:{parent:Mt._currentValue,pool:s}}var Ao=Error(i(460)),wm=Error(i(474)),il=Error(i(542)),Nc={then:function(){}};function Cm(s){return s=s.status,s==="fulfilled"||s==="rejected"}function sl(){}function Em(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(sl,sl),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Nm(s),s;default:if(typeof r.status=="string")r.then(sl,sl);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(f){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=f}},function(f){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Nm(s),s}throw No=r,Ao}}var No=null;function Am(){if(No===null)throw Error(i(459));var s=No;return No=null,s}function Nm(s){if(s===Ao||s===il)throw Error(i(483))}var Ii=!1;function Rc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kc(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Pi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Li(s,r,l){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(ot&2)!==0){var g=f.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),f.pending=r,r=Qa(s),mm(s,null,l),r}return Ka(s,f,r,l),Qa(s)}function Ro(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,en(s,l)}}function Mc(s,r){var l=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=_:x=x.next=_,l=l.next}while(l!==null);x===null?g=x=r:x=x.next=r}else g=x=r;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var Dc=!1;function ko(){if(Dc){var s=ur;if(s!==null)throw s}}function Mo(s,r,l,f){Dc=!1;var g=s.updateQueue;Ii=!1;var x=g.firstBaseUpdate,_=g.lastBaseUpdate,E=g.shared.pending;if(E!==null){g.shared.pending=null;var U=E,G=U.next;U.next=null,_===null?x=G:_.next=G,_=U;var te=s.alternate;te!==null&&(te=te.updateQueue,E=te.lastBaseUpdate,E!==_&&(E===null?te.firstBaseUpdate=G:E.next=G,te.lastBaseUpdate=U))}if(x!==null){var se=g.baseState;_=0,te=G=U=null,E=x;do{var J=E.lane&-536870913,Q=J!==E.lane;if(Q?(We&J)===J:(f&J)===J){J!==0&&J===lr&&(Dc=!0),te!==null&&(te=te.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Me=s,Re=E;J=r;var dt=l;switch(Re.tag){case 1:if(Me=Re.payload,typeof Me=="function"){se=Me.call(dt,se,J);break e}se=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Re.payload,J=typeof Me=="function"?Me.call(dt,se,J):Me,J==null)break e;se=y({},se,J);break e;case 2:Ii=!0}}J=E.callback,J!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=g.callbacks,Q===null?g.callbacks=[J]:Q.push(J))}else Q={lane:J,tag:E.tag,payload:E.payload,callback:E.callback,next:null},te===null?(G=te=Q,U=se):te=te.next=Q,_|=J;if(E=E.next,E===null){if(E=g.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,g.lastBaseUpdate=Q,g.shared.pending=null}}while(!0);te===null&&(U=se),g.baseState=U,g.firstBaseUpdate=G,g.lastBaseUpdate=te,x===null&&(g.shared.lanes=0),zi|=_,s.lanes=_,s.memoizedState=se}}function Rm(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function km(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Rm(l[s],r)}var cr=L(null),rl=L(0);function Mm(s,r){s=Si,W(rl,s),W(cr,r),Si=s|r.baseLanes}function Uc(){W(rl,Si),W(cr,cr.current)}function Ic(){Si=rl.current,B(cr),B(rl)}var Oi=0,Fe=null,ut=null,Et=null,ol=!1,dr=!1,_s=!1,al=0,Do=0,fr=null,qb=0;function wt(){throw Error(i(321))}function Pc(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!pn(s[l],r[l]))return!1;return!0}function Lc(s,r,l,f,g,x){return Oi=x,Fe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=s===null||s.memoizedState===null?mp:pp,_s=!1,x=l(f,g),_s=!1,dr&&(x=Um(r,l,f,g)),Dm(s),x}function Dm(s){Z.H=hl;var r=ut!==null&&ut.next!==null;if(Oi=0,Et=ut=Fe=null,ol=!1,Do=0,fr=null,r)throw Error(i(300));s===null||Lt||(s=s.dependencies,s!==null&&el(s)&&(Lt=!0))}function Um(s,r,l,f){Fe=s;var g=0;do{if(dr&&(fr=null),Do=0,dr=!1,25<=g)throw Error(i(301));if(g+=1,Et=ut=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Z.H=Gb,x=r(l,f)}while(dr);return x}function Bb(){var s=Z.H,r=s.useState()[0];return r=typeof r.then=="function"?Uo(r):r,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Fe.flags|=1024),r}function Oc(){var s=al!==0;return al=0,s}function qc(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Bc(s){if(ol){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ol=!1}Oi=0,Et=ut=Fe=null,dr=!1,Do=al=0,fr=null}function ln(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Fe.memoizedState=Et=s:Et=Et.next=s,Et}function At(){if(ut===null){var s=Fe.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var r=Et===null?Fe.memoizedState:Et.next;if(r!==null)Et=r,ut=s;else{if(s===null)throw Fe.alternate===null?Error(i(467)):Error(i(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Et===null?Fe.memoizedState=Et=s:Et=Et.next=s}return Et}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(s){var r=Do;return Do+=1,fr===null&&(fr=[]),s=Em(fr,s,r),r=Fe,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?mp:pp),s}function ll(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Uo(s);if(s.$$typeof===D)return Yt(s)}throw Error(i(438,String(s)))}function Vc(s){var r=null,l=Fe.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var f=Fe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=jc(),Fe.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),f=0;f<s;f++)l[f]=K;return r.index++,l}function yi(s,r){return typeof r=="function"?r(s):r}function ul(s){var r=At();return $c(r,ut,s)}function $c(s,r,l){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var g=s.baseQueue,x=f.pending;if(x!==null){if(g!==null){var _=g.next;g.next=x.next,x.next=_}r.baseQueue=g=x,f.pending=null}if(x=s.baseState,g===null)s.memoizedState=x;else{r=g.next;var E=_=null,U=null,G=r,te=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(We&se)===se:(Oi&se)===se){var J=G.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===lr&&(te=!0);else if((Oi&J)===J){G=G.next,J===lr&&(te=!0);continue}else se={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(E=U=se,_=x):U=U.next=se,Fe.lanes|=J,zi|=J;se=G.action,_s&&l(x,se),x=G.hasEagerState?G.eagerState:l(x,se)}else J={lane:se,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(E=U=J,_=x):U=U.next=J,Fe.lanes|=se,zi|=se;G=G.next}while(G!==null&&G!==r);if(U===null?_=x:U.next=E,!pn(x,s.memoizedState)&&(Lt=!0,te&&(l=ur,l!==null)))throw l;s.memoizedState=x,s.baseState=_,s.baseQueue=U,f.lastRenderedState=x}return g===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function Fc(s){var r=At(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var f=l.dispatch,g=l.pending,x=r.memoizedState;if(g!==null){l.pending=null;var _=g=g.next;do x=s(x,_.action),_=_.next;while(_!==g);pn(x,r.memoizedState)||(Lt=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),l.lastRenderedState=x}return[x,f]}function Im(s,r,l){var f=Fe,g=At(),x=st;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=r();var _=!pn((ut||g).memoizedState,l);_&&(g.memoizedState=l,Lt=!0),g=g.queue;var E=Om.bind(null,f,g,s);if(Io(2048,8,E,[s]),g.getSnapshot!==r||_||Et!==null&&Et.memoizedState.tag&1){if(f.flags|=2048,hr(9,cl(),Lm.bind(null,f,g,l,r),null),mt===null)throw Error(i(349));x||(Oi&124)!==0||Pm(f,r,l)}return l}function Pm(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Fe.updateQueue,r===null?(r=jc(),Fe.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function Lm(s,r,l,f){r.value=l,r.getSnapshot=f,qm(r)&&Bm(s)}function Om(s,r,l){return l(function(){qm(r)&&Bm(s)})}function qm(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!pn(s,l)}catch{return!0}}function Bm(s){var r=sr(s,2);r!==null&&bn(r,s,2)}function zc(s){var r=ln();if(typeof s=="function"){var l=s;if(s=l(),_s){Gt(!0);try{l()}finally{Gt(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:s},r}function jm(s,r,l,f){return s.baseState=l,$c(s,ut,typeof f=="function"?f:yi)}function jb(s,r,l,f,g){if(fl(s))throw Error(i(485));if(s=r.action,s!==null){var x={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){x.listeners.push(_)}};Z.T!==null?l(!0):x.isTransition=!1,f(x),l=r.pending,l===null?(x.next=r.pending=x,Vm(r,x)):(x.next=l.next,r.pending=l.next=x)}}function Vm(s,r){var l=r.action,f=r.payload,g=s.state;if(r.isTransition){var x=Z.T,_={};Z.T=_;try{var E=l(g,f),U=Z.S;U!==null&&U(_,E),$m(s,r,E)}catch(G){Gc(s,r,G)}finally{Z.T=x}}else try{x=l(g,f),$m(s,r,x)}catch(G){Gc(s,r,G)}}function $m(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Fm(s,r,f)},function(f){return Gc(s,r,f)}):Fm(s,r,l)}function Fm(s,r,l){r.status="fulfilled",r.value=l,zm(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,Vm(s,l)))}function Gc(s,r,l){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=l,zm(r),r=r.next;while(r!==f)}s.action=null}function zm(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Gm(s,r){return r}function Hm(s,r){if(st){var l=mt.formState;if(l!==null){e:{var f=Fe;if(st){if(bt){t:{for(var g=bt,x=Xn;g.nodeType!==8;){if(!x){g=null;break t}if(g=Vn(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){bt=Vn(g.nextSibling),f=g.data==="F!";break e}}vs(f)}f=!1}f&&(r=l[0])}}return l=ln(),l.memoizedState=l.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:r},l.queue=f,l=dp.bind(null,Fe,f),f.dispatch=l,f=zc(!1),x=Qc.bind(null,Fe,!1,f.queue),f=ln(),g={state:r,dispatch:null,action:s,pending:null},f.queue=g,l=jb.bind(null,Fe,g,x,l),g.dispatch=l,f.memoizedState=s,[r,l,!1]}function Jm(s){var r=At();return Ym(r,ut,s)}function Ym(s,r,l){if(r=$c(s,r,Gm)[0],s=ul(yi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=Uo(r)}catch(_){throw _===Ao?il:_}else f=r;r=At();var g=r.queue,x=g.dispatch;return l!==r.memoizedState&&(Fe.flags|=2048,hr(9,cl(),Vb.bind(null,g,l),null)),[f,x,s]}function Vb(s,r){s.action=r}function Km(s){var r=At(),l=ut;if(l!==null)return Ym(r,l,s);At(),r=r.memoizedState,l=At();var f=l.queue.dispatch;return l.memoizedState=s,[r,f,!1]}function hr(s,r,l,f){return s={tag:s,create:l,deps:f,inst:r,next:null},r=Fe.updateQueue,r===null&&(r=jc(),Fe.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(f=l.next,l.next=s,s.next=f,r.lastEffect=s),s}function cl(){return{destroy:void 0,resource:void 0}}function Qm(){return At().memoizedState}function dl(s,r,l,f){var g=ln();f=f===void 0?null:f,Fe.flags|=s,g.memoizedState=hr(1|r,cl(),l,f)}function Io(s,r,l,f){var g=At();f=f===void 0?null:f;var x=g.memoizedState.inst;ut!==null&&f!==null&&Pc(f,ut.memoizedState.deps)?g.memoizedState=hr(r,x,l,f):(Fe.flags|=s,g.memoizedState=hr(1|r,x,l,f))}function Zm(s,r){dl(8390656,8,s,r)}function Xm(s,r){Io(2048,8,s,r)}function Wm(s,r){return Io(4,2,s,r)}function ep(s,r){return Io(4,4,s,r)}function tp(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function np(s,r,l){l=l!=null?l.concat([s]):null,Io(4,4,tp.bind(null,r,s),l)}function Hc(){}function ip(s,r){var l=At();r=r===void 0?null:r;var f=l.memoizedState;return r!==null&&Pc(r,f[1])?f[0]:(l.memoizedState=[s,r],s)}function sp(s,r){var l=At();r=r===void 0?null:r;var f=l.memoizedState;if(r!==null&&Pc(r,f[1]))return f[0];if(f=s(),_s){Gt(!0);try{s()}finally{Gt(!1)}}return l.memoizedState=[f,r],f}function Jc(s,r,l){return l===void 0||(Oi&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=ag(),Fe.lanes|=s,zi|=s,l)}function rp(s,r,l,f){return pn(l,r)?l:cr.current!==null?(s=Jc(s,l,f),pn(s,r)||(Lt=!0),s):(Oi&42)===0?(Lt=!0,s.memoizedState=l):(s=ag(),Fe.lanes|=s,zi|=s,r)}function op(s,r,l,f,g){var x=ae.p;ae.p=x!==0&&8>x?x:8;var _=Z.T,E={};Z.T=E,Qc(s,!1,r,l);try{var U=g(),G=Z.S;if(G!==null&&G(E,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var te=Ob(U,f);Po(s,r,te,Tn(s))}else Po(s,r,f,Tn(s))}catch(se){Po(s,r,{then:function(){},status:"rejected",reason:se},Tn())}finally{ae.p=x,Z.T=_}}function $b(){}function Yc(s,r,l,f){if(s.tag!==5)throw Error(i(476));var g=ap(s).queue;op(s,g,r,Y,l===null?$b:function(){return lp(s),l(f)})}function ap(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:Y},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function lp(s){var r=ap(s).next.queue;Po(s,r,{},Tn())}function Kc(){return Yt(Wo)}function up(){return At().memoizedState}function cp(){return At().memoizedState}function Fb(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Tn();s=Pi(l);var f=Li(r,s,l);f!==null&&(bn(f,r,l),Ro(f,r,l)),r={cache:Cc()},s.payload=r;return}r=r.return}}function zb(s,r,l){var f=Tn();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},fl(s)?fp(r,l):(l=pc(s,r,l,f),l!==null&&(bn(l,s,f),hp(l,r,f)))}function dp(s,r,l){var f=Tn();Po(s,r,l,f)}function Po(s,r,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(fl(s))fp(r,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var _=r.lastRenderedState,E=x(_,l);if(g.hasEagerState=!0,g.eagerState=E,pn(E,_))return Ka(s,r,g,0),mt===null&&Ya(),!1}catch{}finally{}if(l=pc(s,r,g,f),l!==null)return bn(l,s,f),hp(l,r,f),!0}return!1}function Qc(s,r,l,f){if(f={lane:2,revertLane:Nd(),action:f,hasEagerState:!1,eagerState:null,next:null},fl(s)){if(r)throw Error(i(479))}else r=pc(s,l,f,2),r!==null&&bn(r,s,2)}function fl(s){var r=s.alternate;return s===Fe||r!==null&&r===Fe}function fp(s,r){dr=ol=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function hp(s,r,l){if((l&4194048)!==0){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,en(s,l)}}var hl={readContext:Yt,use:ll,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},mp={readContext:Yt,use:ll,useCallback:function(s,r){return ln().memoizedState=[s,r===void 0?null:r],s},useContext:Yt,useEffect:Zm,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,dl(4194308,4,tp.bind(null,r,s),l)},useLayoutEffect:function(s,r){return dl(4194308,4,s,r)},useInsertionEffect:function(s,r){dl(4,2,s,r)},useMemo:function(s,r){var l=ln();r=r===void 0?null:r;var f=s();if(_s){Gt(!0);try{s()}finally{Gt(!1)}}return l.memoizedState=[f,r],f},useReducer:function(s,r,l){var f=ln();if(l!==void 0){var g=l(r);if(_s){Gt(!0);try{l(r)}finally{Gt(!1)}}}else g=r;return f.memoizedState=f.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},f.queue=s,s=s.dispatch=zb.bind(null,Fe,s),[f.memoizedState,s]},useRef:function(s){var r=ln();return s={current:s},r.memoizedState=s},useState:function(s){s=zc(s);var r=s.queue,l=dp.bind(null,Fe,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Hc,useDeferredValue:function(s,r){var l=ln();return Jc(l,s,r)},useTransition:function(){var s=zc(!1);return s=op.bind(null,Fe,s.queue,!0,!1),ln().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var f=Fe,g=ln();if(st){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),mt===null)throw Error(i(349));(We&124)!==0||Pm(f,r,l)}g.memoizedState=l;var x={value:l,getSnapshot:r};return g.queue=x,Zm(Om.bind(null,f,x,s),[s]),f.flags|=2048,hr(9,cl(),Lm.bind(null,f,x,l,r),null),l},useId:function(){var s=ln(),r=mt.identifierPrefix;if(st){var l=mi,f=hi;l=(f&~(1<<32-fe(f)-1)).toString(32)+l,r="«"+r+"R"+l,l=al++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=qb++,r="«"+r+"r"+l.toString(32)+"»";return s.memoizedState=r},useHostTransitionStatus:Kc,useFormState:Hm,useActionState:Hm,useOptimistic:function(s){var r=ln();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Qc.bind(null,Fe,!0,l),l.dispatch=r,[s,r]},useMemoCache:Vc,useCacheRefresh:function(){return ln().memoizedState=Fb.bind(null,Fe)}},pp={readContext:Yt,use:ll,useCallback:ip,useContext:Yt,useEffect:Xm,useImperativeHandle:np,useInsertionEffect:Wm,useLayoutEffect:ep,useMemo:sp,useReducer:ul,useRef:Qm,useState:function(){return ul(yi)},useDebugValue:Hc,useDeferredValue:function(s,r){var l=At();return rp(l,ut.memoizedState,s,r)},useTransition:function(){var s=ul(yi)[0],r=At().memoizedState;return[typeof s=="boolean"?s:Uo(s),r]},useSyncExternalStore:Im,useId:up,useHostTransitionStatus:Kc,useFormState:Jm,useActionState:Jm,useOptimistic:function(s,r){var l=At();return jm(l,ut,s,r)},useMemoCache:Vc,useCacheRefresh:cp},Gb={readContext:Yt,use:ll,useCallback:ip,useContext:Yt,useEffect:Xm,useImperativeHandle:np,useInsertionEffect:Wm,useLayoutEffect:ep,useMemo:sp,useReducer:Fc,useRef:Qm,useState:function(){return Fc(yi)},useDebugValue:Hc,useDeferredValue:function(s,r){var l=At();return ut===null?Jc(l,s,r):rp(l,ut.memoizedState,s,r)},useTransition:function(){var s=Fc(yi)[0],r=At().memoizedState;return[typeof s=="boolean"?s:Uo(s),r]},useSyncExternalStore:Im,useId:up,useHostTransitionStatus:Kc,useFormState:Km,useActionState:Km,useOptimistic:function(s,r){var l=At();return ut!==null?jm(l,ut,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Vc,useCacheRefresh:cp},mr=null,Lo=0;function ml(s){var r=Lo;return Lo+=1,mr===null&&(mr=[]),Em(mr,s,r)}function Oo(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function pl(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function gp(s){var r=s._init;return r(s._payload)}function yp(s){function r(j,O){if(s){var F=j.deletions;F===null?(j.deletions=[O],j.flags|=16):F.push(O)}}function l(j,O){if(!s)return null;for(;O!==null;)r(j,O),O=O.sibling;return null}function f(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function g(j,O){return j=fi(j,O),j.index=0,j.sibling=null,j}function x(j,O,F){return j.index=F,s?(F=j.alternate,F!==null?(F=F.index,F<O?(j.flags|=67108866,O):F):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function _(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,F,ie){return O===null||O.tag!==6?(O=yc(F,j.mode,ie),O.return=j,O):(O=g(O,F),O.return=j,O)}function U(j,O,F,ie){var pe=F.type;return pe===S?te(j,O,F.props.children,ie,F.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ee&&gp(pe)===O.type)?(O=g(O,F.props),Oo(O,F),O.return=j,O):(O=Za(F.type,F.key,F.props,null,j.mode,ie),Oo(O,F),O.return=j,O)}function G(j,O,F,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=vc(F,j.mode,ie),O.return=j,O):(O=g(O,F.children||[]),O.return=j,O)}function te(j,O,F,ie,pe){return O===null||O.tag!==7?(O=ms(F,j.mode,ie,pe),O.return=j,O):(O=g(O,F),O.return=j,O)}function se(j,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=yc(""+O,j.mode,F),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return F=Za(O.type,O.key,O.props,null,j.mode,F),Oo(F,O),F.return=j,F;case w:return O=vc(O,j.mode,F),O.return=j,O;case ee:var ie=O._init;return O=ie(O._payload),se(j,O,F)}if(Ae(O)||$(O))return O=ms(O,j.mode,F,null),O.return=j,O;if(typeof O.then=="function")return se(j,ml(O),F);if(O.$$typeof===D)return se(j,tl(j,O),F);pl(j,O)}return null}function J(j,O,F,ie){var pe=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pe!==null?null:E(j,O,""+F,ie);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return F.key===pe?U(j,O,F,ie):null;case w:return F.key===pe?G(j,O,F,ie):null;case ee:return pe=F._init,F=pe(F._payload),J(j,O,F,ie)}if(Ae(F)||$(F))return pe!==null?null:te(j,O,F,ie,null);if(typeof F.then=="function")return J(j,O,ml(F),ie);if(F.$$typeof===D)return J(j,O,tl(j,F),ie);pl(j,F)}return null}function Q(j,O,F,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return j=j.get(F)||null,E(O,j,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return j=j.get(ie.key===null?F:ie.key)||null,U(O,j,ie,pe);case w:return j=j.get(ie.key===null?F:ie.key)||null,G(O,j,ie,pe);case ee:var Ge=ie._init;return ie=Ge(ie._payload),Q(j,O,F,ie,pe)}if(Ae(ie)||$(ie))return j=j.get(F)||null,te(O,j,ie,pe,null);if(typeof ie.then=="function")return Q(j,O,F,ml(ie),pe);if(ie.$$typeof===D)return Q(j,O,F,tl(O,ie),pe);pl(O,ie)}return null}function Me(j,O,F,ie){for(var pe=null,Ge=null,xe=O,ke=O=0,qt=null;xe!==null&&ke<F.length;ke++){xe.index>ke?(qt=xe,xe=null):qt=xe.sibling;var tt=J(j,xe,F[ke],ie);if(tt===null){xe===null&&(xe=qt);break}s&&xe&&tt.alternate===null&&r(j,xe),O=x(tt,O,ke),Ge===null?pe=tt:Ge.sibling=tt,Ge=tt,xe=qt}if(ke===F.length)return l(j,xe),st&&gs(j,ke),pe;if(xe===null){for(;ke<F.length;ke++)xe=se(j,F[ke],ie),xe!==null&&(O=x(xe,O,ke),Ge===null?pe=xe:Ge.sibling=xe,Ge=xe);return st&&gs(j,ke),pe}for(xe=f(xe);ke<F.length;ke++)qt=Q(xe,j,ke,F[ke],ie),qt!==null&&(s&&qt.alternate!==null&&xe.delete(qt.key===null?ke:qt.key),O=x(qt,O,ke),Ge===null?pe=qt:Ge.sibling=qt,Ge=qt);return s&&xe.forEach(function(Wi){return r(j,Wi)}),st&&gs(j,ke),pe}function Re(j,O,F,ie){if(F==null)throw Error(i(151));for(var pe=null,Ge=null,xe=O,ke=O=0,qt=null,tt=F.next();xe!==null&&!tt.done;ke++,tt=F.next()){xe.index>ke?(qt=xe,xe=null):qt=xe.sibling;var Wi=J(j,xe,tt.value,ie);if(Wi===null){xe===null&&(xe=qt);break}s&&xe&&Wi.alternate===null&&r(j,xe),O=x(Wi,O,ke),Ge===null?pe=Wi:Ge.sibling=Wi,Ge=Wi,xe=qt}if(tt.done)return l(j,xe),st&&gs(j,ke),pe;if(xe===null){for(;!tt.done;ke++,tt=F.next())tt=se(j,tt.value,ie),tt!==null&&(O=x(tt,O,ke),Ge===null?pe=tt:Ge.sibling=tt,Ge=tt);return st&&gs(j,ke),pe}for(xe=f(xe);!tt.done;ke++,tt=F.next())tt=Q(xe,j,ke,tt.value,ie),tt!==null&&(s&&tt.alternate!==null&&xe.delete(tt.key===null?ke:tt.key),O=x(tt,O,ke),Ge===null?pe=tt:Ge.sibling=tt,Ge=tt);return s&&xe.forEach(function(H_){return r(j,H_)}),st&&gs(j,ke),pe}function dt(j,O,F,ie){if(typeof F=="object"&&F!==null&&F.type===S&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case b:e:{for(var pe=F.key;O!==null;){if(O.key===pe){if(pe=F.type,pe===S){if(O.tag===7){l(j,O.sibling),ie=g(O,F.props.children),ie.return=j,j=ie;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ee&&gp(pe)===O.type){l(j,O.sibling),ie=g(O,F.props),Oo(ie,F),ie.return=j,j=ie;break e}l(j,O);break}else r(j,O);O=O.sibling}F.type===S?(ie=ms(F.props.children,j.mode,ie,F.key),ie.return=j,j=ie):(ie=Za(F.type,F.key,F.props,null,j.mode,ie),Oo(ie,F),ie.return=j,j=ie)}return _(j);case w:e:{for(pe=F.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){l(j,O.sibling),ie=g(O,F.children||[]),ie.return=j,j=ie;break e}else{l(j,O);break}else r(j,O);O=O.sibling}ie=vc(F,j.mode,ie),ie.return=j,j=ie}return _(j);case ee:return pe=F._init,F=pe(F._payload),dt(j,O,F,ie)}if(Ae(F))return Me(j,O,F,ie);if($(F)){if(pe=$(F),typeof pe!="function")throw Error(i(150));return F=pe.call(F),Re(j,O,F,ie)}if(typeof F.then=="function")return dt(j,O,ml(F),ie);if(F.$$typeof===D)return dt(j,O,tl(j,F),ie);pl(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(l(j,O.sibling),ie=g(O,F),ie.return=j,j=ie):(l(j,O),ie=yc(F,j.mode,ie),ie.return=j,j=ie),_(j)):l(j,O)}return function(j,O,F,ie){try{Lo=0;var pe=dt(j,O,F,ie);return mr=null,pe}catch(xe){if(xe===Ao||xe===il)throw xe;var Ge=gn(29,xe,null,j.mode);return Ge.lanes=ie,Ge.return=j,Ge}finally{}}}var pr=yp(!0),vp=yp(!1),kn=L(null),Wn=null;function qi(s){var r=s.alternate;W(Dt,Dt.current&1),W(kn,s),Wn===null&&(r===null||cr.current!==null||r.memoizedState!==null)&&(Wn=s)}function xp(s){if(s.tag===22){if(W(Dt,Dt.current),W(kn,s),Wn===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(Wn=s)}}else Bi()}function Bi(){W(Dt,Dt.current),W(kn,kn.current)}function vi(s){B(kn),Wn===s&&(Wn=null),B(Dt)}var Dt=L(0);function gl(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||jd(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Zc(s,r,l,f){r=s.memoizedState,l=l(f,r),l=l==null?r:y({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Xc={enqueueSetState:function(s,r,l){s=s._reactInternals;var f=Tn(),g=Pi(f);g.payload=r,l!=null&&(g.callback=l),r=Li(s,g,f),r!==null&&(bn(r,s,f),Ro(r,s,f))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var f=Tn(),g=Pi(f);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Li(s,g,f),r!==null&&(bn(r,s,f),Ro(r,s,f))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Tn(),f=Pi(l);f.tag=2,r!=null&&(f.callback=r),r=Li(s,f,l),r!==null&&(bn(r,s,l),Ro(r,s,l))}};function Tp(s,r,l,f,g,x,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,_):r.prototype&&r.prototype.isPureReactComponent?!xo(l,f)||!xo(g,x):!0}function bp(s,r,l,f){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,f),r.state!==s&&Xc.enqueueReplaceState(r,r.state,null)}function Ss(s,r){var l=r;if("ref"in r){l={};for(var f in r)f!=="ref"&&(l[f]=r[f])}if(s=s.defaultProps){l===r&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var yl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function _p(s){yl(s)}function Sp(s){console.error(s)}function wp(s){yl(s)}function vl(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function Cp(s,r,l){try{var f=s.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Wc(s,r,l){return l=Pi(l),l.tag=3,l.payload={element:null},l.callback=function(){vl(s,r)},l}function Ep(s){return s=Pi(s),s.tag=3,s}function Ap(s,r,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=f.value;s.payload=function(){return g(x)},s.callback=function(){Cp(r,l,f)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Cp(r,l,f),typeof g!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var E=f.stack;this.componentDidCatch(f.value,{componentStack:E!==null?E:""})})}function Hb(s,r,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=l.alternate,r!==null&&wo(r,l,g,!0),l=kn.current,l!==null){switch(l.tag){case 13:return Wn===null?Sd():l.alternate===null&&_t===0&&(_t=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===Nc?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([f]):r.add(f),Cd(s,f,g)),!1;case 22:return l.flags|=65536,f===Nc?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([f]):l.add(f)),Cd(s,f,g)),!1}throw Error(i(435,l.tag))}return Cd(s,f,g),Sd(),!1}if(st)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,f!==bc&&(s=Error(i(422),{cause:f}),So(En(s,l)))):(f!==bc&&(r=Error(i(423),{cause:f}),So(En(r,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,f=En(f,l),g=Wc(s.stateNode,f,g),Mc(s,g),_t!==4&&(_t=2)),!1;var x=Error(i(520),{cause:f});if(x=En(x,l),zo===null?zo=[x]:zo.push(x),_t!==4&&(_t=2),r===null)return!0;f=En(f,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Wc(l.stateNode,f,s),Mc(l,s),!1;case 1:if(r=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gi===null||!Gi.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Ep(g),Ap(g,s,l,f),Mc(l,g),!1}l=l.return}while(l!==null);return!1}var Np=Error(i(461)),Lt=!1;function Vt(s,r,l,f){r.child=s===null?vp(r,null,l,f):pr(r,s.child,l,f)}function Rp(s,r,l,f,g){l=l.render;var x=r.ref;if("ref"in f){var _={};for(var E in f)E!=="ref"&&(_[E]=f[E])}else _=f;return Ts(r),f=Lc(s,r,l,_,x,g),E=Oc(),s!==null&&!Lt?(qc(s,r,g),xi(s,r,g)):(st&&E&&xc(r),r.flags|=1,Vt(s,r,f,g),r.child)}function kp(s,r,l,f,g){if(s===null){var x=l.type;return typeof x=="function"&&!gc(x)&&x.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=x,Mp(s,r,x,f,g)):(s=Za(l.type,null,f,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(x=s.child,!ad(s,g)){var _=x.memoizedProps;if(l=l.compare,l=l!==null?l:xo,l(_,f)&&s.ref===r.ref)return xi(s,r,g)}return r.flags|=1,s=fi(x,f),s.ref=r.ref,s.return=r,r.child=s}function Mp(s,r,l,f,g){if(s!==null){var x=s.memoizedProps;if(xo(x,f)&&s.ref===r.ref)if(Lt=!1,r.pendingProps=f=x,ad(s,g))(s.flags&131072)!==0&&(Lt=!0);else return r.lanes=s.lanes,xi(s,r,g)}return ed(s,r,l,f,g)}function Dp(s,r,l){var f=r.pendingProps,g=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((r.flags&128)!==0){if(f=x!==null?x.baseLanes|l:l,s!==null){for(g=r.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;r.childLanes=x&~f}else r.childLanes=0,r.child=null;return Up(s,r,f,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&nl(r,x!==null?x.cachePool:null),x!==null?Mm(r,x):Uc(),xp(r);else return r.lanes=r.childLanes=536870912,Up(s,r,x!==null?x.baseLanes|l:l,l)}else x!==null?(nl(r,x.cachePool),Mm(r,x),Bi(),r.memoizedState=null):(s!==null&&nl(r,null),Uc(),Bi());return Vt(s,r,g,l),r.child}function Up(s,r,l,f){var g=Ac();return g=g===null?null:{parent:Mt._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},s!==null&&nl(r,null),Uc(),xp(r),s!==null&&wo(s,r,f,!0),null}function xl(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function ed(s,r,l,f,g){return Ts(r),l=Lc(s,r,l,f,void 0,g),f=Oc(),s!==null&&!Lt?(qc(s,r,g),xi(s,r,g)):(st&&f&&xc(r),r.flags|=1,Vt(s,r,l,g),r.child)}function Ip(s,r,l,f,g,x){return Ts(r),r.updateQueue=null,l=Um(r,f,l,g),Dm(s),f=Oc(),s!==null&&!Lt?(qc(s,r,x),xi(s,r,x)):(st&&f&&xc(r),r.flags|=1,Vt(s,r,l,x),r.child)}function Pp(s,r,l,f,g){if(Ts(r),r.stateNode===null){var x=rr,_=l.contextType;typeof _=="object"&&_!==null&&(x=Yt(_)),x=new l(f,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Xc,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=f,x.state=r.memoizedState,x.refs={},Rc(r),_=l.contextType,x.context=typeof _=="object"&&_!==null?Yt(_):rr,x.state=r.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Zc(r,l,_,f),x.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(_=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),_!==x.state&&Xc.enqueueReplaceState(x,x.state,null),Mo(r,f,x,g),ko(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(s===null){x=r.stateNode;var E=r.memoizedProps,U=Ss(l,E);x.props=U;var G=x.context,te=l.contextType;_=rr,typeof te=="object"&&te!==null&&(_=Yt(te));var se=l.getDerivedStateFromProps;te=typeof se=="function"||typeof x.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,te||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E||G!==_)&&bp(r,x,f,_),Ii=!1;var J=r.memoizedState;x.state=J,Mo(r,f,x,g),ko(),G=r.memoizedState,E||J!==G||Ii?(typeof se=="function"&&(Zc(r,l,se,f),G=r.memoizedState),(U=Ii||Tp(r,l,U,f,J,G,_))?(te||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=G),x.props=f,x.state=G,x.context=_,f=U):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{x=r.stateNode,kc(s,r),_=r.memoizedProps,te=Ss(l,_),x.props=te,se=r.pendingProps,J=x.context,G=l.contextType,U=rr,typeof G=="object"&&G!==null&&(U=Yt(G)),E=l.getDerivedStateFromProps,(G=typeof E=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==se||J!==U)&&bp(r,x,f,U),Ii=!1,J=r.memoizedState,x.state=J,Mo(r,f,x,g),ko();var Q=r.memoizedState;_!==se||J!==Q||Ii||s!==null&&s.dependencies!==null&&el(s.dependencies)?(typeof E=="function"&&(Zc(r,l,E,f),Q=r.memoizedState),(te=Ii||Tp(r,l,te,f,J,Q,U)||s!==null&&s.dependencies!==null&&el(s.dependencies))?(G||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,Q,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,Q,U)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=Q),x.props=f,x.state=Q,x.context=U,f=te):(typeof x.componentDidUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),f=!1)}return x=f,xl(s,r),f=(r.flags&128)!==0,x||f?(x=r.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,s!==null&&f?(r.child=pr(r,s.child,null,g),r.child=pr(r,null,l,g)):Vt(s,r,l,g),r.memoizedState=x.state,s=r.child):s=xi(s,r,g),s}function Lp(s,r,l,f){return _o(),r.flags|=256,Vt(s,r,l,f),r.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(s){return{baseLanes:s,cachePool:Sm()}}function id(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Mn),s}function Op(s,r,l){var f=r.pendingProps,g=!1,x=(r.flags&128)!==0,_;if((_=x)||(_=s!==null&&s.memoizedState===null?!1:(Dt.current&2)!==0),_&&(g=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(st){if(g?qi(r):Bi(),st){var E=bt,U;if(U=E){e:{for(U=E,E=Xn;U.nodeType!==8;){if(!E){E=null;break e}if(U=Vn(U.nextSibling),U===null){E=null;break e}}E=U}E!==null?(r.memoizedState={dehydrated:E,treeContext:ps!==null?{id:hi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},U=gn(18,null,null,0),U.stateNode=E,U.return=r,r.child=U,tn=r,bt=null,U=!0):U=!1}U||vs(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return jd(E)?r.lanes=32:r.lanes=536870912,null;vi(r)}return E=f.children,f=f.fallback,g?(Bi(),g=r.mode,E=Tl({mode:"hidden",children:E},g),f=ms(f,g,l,null),E.return=r,f.return=r,E.sibling=f,r.child=E,g=r.child,g.memoizedState=nd(l),g.childLanes=id(s,_,l),r.memoizedState=td,f):(qi(r),sd(r,E))}if(U=s.memoizedState,U!==null&&(E=U.dehydrated,E!==null)){if(x)r.flags&256?(qi(r),r.flags&=-257,r=rd(s,r,l)):r.memoizedState!==null?(Bi(),r.child=s.child,r.flags|=128,r=null):(Bi(),g=f.fallback,E=r.mode,f=Tl({mode:"visible",children:f.children},E),g=ms(g,E,l,null),g.flags|=2,f.return=r,g.return=r,f.sibling=g,r.child=f,pr(r,s.child,null,l),f=r.child,f.memoizedState=nd(l),f.childLanes=id(s,_,l),r.memoizedState=td,r=g);else if(qi(r),jd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var G=_.dgst;_=G,f=Error(i(419)),f.stack="",f.digest=_,So({value:f,source:null,stack:null}),r=rd(s,r,l)}else if(Lt||wo(s,r,l,!1),_=(l&s.childLanes)!==0,Lt||_){if(_=mt,_!==null&&(f=l&-l,f=(f&42)!==0?1:us(f),f=(f&(_.suspendedLanes|l))!==0?0:f,f!==0&&f!==U.retryLane))throw U.retryLane=f,sr(s,f),bn(_,s,f),Np;E.data==="$?"||Sd(),r=rd(s,r,l)}else E.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=U.treeContext,bt=Vn(E.nextSibling),tn=r,st=!0,ys=null,Xn=!1,s!==null&&(Nn[Rn++]=hi,Nn[Rn++]=mi,Nn[Rn++]=ps,hi=s.id,mi=s.overflow,ps=r),r=sd(r,f.children),r.flags|=4096);return r}return g?(Bi(),g=f.fallback,E=r.mode,U=s.child,G=U.sibling,f=fi(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&65011712,G!==null?g=fi(G,g):(g=ms(g,E,l,null),g.flags|=2),g.return=r,f.return=r,f.sibling=g,r.child=f,f=g,g=r.child,E=s.child.memoizedState,E===null?E=nd(l):(U=E.cachePool,U!==null?(G=Mt._currentValue,U=U.parent!==G?{parent:G,pool:G}:U):U=Sm(),E={baseLanes:E.baseLanes|l,cachePool:U}),g.memoizedState=E,g.childLanes=id(s,_,l),r.memoizedState=td,f):(qi(r),l=s.child,s=l.sibling,l=fi(l,{mode:"visible",children:f.children}),l.return=r,l.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=l,r.memoizedState=null,l)}function sd(s,r){return r=Tl({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Tl(s,r){return s=gn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function rd(s,r,l){return pr(r,s.child,null,l),s=sd(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function qp(s,r,l){s.lanes|=r;var f=s.alternate;f!==null&&(f.lanes|=r),Sc(s.return,r,l)}function od(s,r,l,f,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=l,x.tailMode=g)}function Bp(s,r,l){var f=r.pendingProps,g=f.revealOrder,x=f.tail;if(Vt(s,r,f.children,l),f=Dt.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qp(s,l,r);else if(s.tag===19)qp(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(W(Dt,f),g){case"forwards":for(l=r.child,g=null;l!==null;)s=l.alternate,s!==null&&gl(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),od(r,!1,g,l,x);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&gl(s)===null){r.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}od(r,!0,l,null,x);break;case"together":od(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function xi(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),zi|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(wo(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=fi(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=fi(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function ad(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&el(s)))}function Jb(s,r,l){switch(r.tag){case 3:Ee(r,r.stateNode.containerInfo),Ui(r,Mt,s.memoizedState.cache),_o();break;case 27:case 5:it(r);break;case 4:Ee(r,r.stateNode.containerInfo);break;case 10:Ui(r,r.type,r.memoizedProps.value);break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(qi(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Op(s,r,l):(qi(r),s=xi(s,r,l),s!==null?s.sibling:null);qi(r);break;case 19:var g=(s.flags&128)!==0;if(f=(l&r.childLanes)!==0,f||(wo(s,r,l,!1),f=(l&r.childLanes)!==0),g){if(f)return Bp(s,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),W(Dt,Dt.current),f)break;return null;case 22:case 23:return r.lanes=0,Dp(s,r,l);case 24:Ui(r,Mt,s.memoizedState.cache)}return xi(s,r,l)}function jp(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Lt=!0;else{if(!ad(s,l)&&(r.flags&128)===0)return Lt=!1,Jb(s,r,l);Lt=(s.flags&131072)!==0}else Lt=!1,st&&(r.flags&1048576)!==0&&gm(r,Wa,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var f=r.elementType,g=f._init;if(f=g(f._payload),r.type=f,typeof f=="function")gc(f)?(s=Ss(f,s),r.tag=1,r=Pp(null,r,f,s,l)):(r.tag=0,r=ed(null,r,f,s,l));else{if(f!=null){if(g=f.$$typeof,g===C){r.tag=11,r=Rp(null,r,f,s,l);break e}else if(g===H){r.tag=14,r=kp(null,r,f,s,l);break e}}throw r=Ce(f)||f,Error(i(306,r,""))}}return r;case 0:return ed(s,r,r.type,r.pendingProps,l);case 1:return f=r.type,g=Ss(f,r.pendingProps),Pp(s,r,f,g,l);case 3:e:{if(Ee(r,r.stateNode.containerInfo),s===null)throw Error(i(387));f=r.pendingProps;var x=r.memoizedState;g=x.element,kc(s,r),Mo(r,f,null,l);var _=r.memoizedState;if(f=_.cache,Ui(r,Mt,f),f!==x.cache&&wc(r,[Mt],l,!0),ko(),f=_.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=Lp(s,r,f,l);break e}else if(f!==g){g=En(Error(i(424)),r),So(g),r=Lp(s,r,f,l);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(bt=Vn(s.firstChild),tn=r,st=!0,ys=null,Xn=!0,l=vp(r,null,f,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(_o(),f===g){r=xi(s,r,l);break e}Vt(s,r,f,l)}r=r.child}return r;case 26:return xl(s,r),s===null?(l=zg(r.type,null,r.pendingProps,null))?r.memoizedState=l:st||(l=r.type,s=r.pendingProps,f=Il(oe.current).createElement(l),f[Jt]=r,f[on]=s,Ft(f,l,s),Pt(f),r.stateNode=f):r.memoizedState=zg(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return it(r),s===null&&st&&(f=r.stateNode=Vg(r.type,r.pendingProps,oe.current),tn=r,Xn=!0,g=bt,Yi(r.type)?(Vd=g,bt=Vn(f.firstChild)):bt=g),Vt(s,r,r.pendingProps.children,l),xl(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&st&&((g=f=bt)&&(f=b_(f,r.type,r.pendingProps,Xn),f!==null?(r.stateNode=f,tn=r,bt=Vn(f.firstChild),Xn=!1,g=!0):g=!1),g||vs(r)),it(r),g=r.type,x=r.pendingProps,_=s!==null?s.memoizedProps:null,f=x.children,Od(g,x)?f=null:_!==null&&Od(g,_)&&(r.flags|=32),r.memoizedState!==null&&(g=Lc(s,r,Bb,null,null,l),Wo._currentValue=g),xl(s,r),Vt(s,r,f,l),r.child;case 6:return s===null&&st&&((s=l=bt)&&(l=__(l,r.pendingProps,Xn),l!==null?(r.stateNode=l,tn=r,bt=null,s=!0):s=!1),s||vs(r)),null;case 13:return Op(s,r,l);case 4:return Ee(r,r.stateNode.containerInfo),f=r.pendingProps,s===null?r.child=pr(r,null,f,l):Vt(s,r,f,l),r.child;case 11:return Rp(s,r,r.type,r.pendingProps,l);case 7:return Vt(s,r,r.pendingProps,l),r.child;case 8:return Vt(s,r,r.pendingProps.children,l),r.child;case 12:return Vt(s,r,r.pendingProps.children,l),r.child;case 10:return f=r.pendingProps,Ui(r,r.type,f.value),Vt(s,r,f.children,l),r.child;case 9:return g=r.type._context,f=r.pendingProps.children,Ts(r),g=Yt(g),f=f(g),r.flags|=1,Vt(s,r,f,l),r.child;case 14:return kp(s,r,r.type,r.pendingProps,l);case 15:return Mp(s,r,r.type,r.pendingProps,l);case 19:return Bp(s,r,l);case 31:return f=r.pendingProps,l=r.mode,f={mode:f.mode,children:f.children},s===null?(l=Tl(f,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=fi(s.child,f),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Dp(s,r,l);case 24:return Ts(r),f=Yt(Mt),s===null?(g=Ac(),g===null&&(g=mt,x=Cc(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),r.memoizedState={parent:f,cache:g},Rc(r),Ui(r,Mt,g)):((s.lanes&l)!==0&&(kc(s,r),Mo(r,null,null,l),ko()),g=s.memoizedState,x=r.memoizedState,g.parent!==f?(g={parent:f,cache:f},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ui(r,Mt,f)):(f=x.cache,Ui(r,Mt,f),f!==g.cache&&wc(r,[Mt],l,!0))),Vt(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ti(s){s.flags|=4}function Vp(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Kg(r)){if(r=kn.current,r!==null&&((We&4194048)===We?Wn!==null:(We&62914560)!==We&&(We&536870912)===0||r!==Wn))throw No=Nc,wm;s.flags|=8192}}function bl(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?qn():536870912,s.lanes|=r,xr|=r)}function qo(s,r){if(!st)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function xt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,f=0;if(r)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=l,r}function Yb(s,r,l){var f=r.pendingProps;switch(Tc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(r),null;case 1:return xt(r),null;case 3:return l=r.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),gi(Mt),et(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(bo(r)?Ti(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xm())),xt(r),null;case 26:return l=r.memoizedState,s===null?(Ti(r),l!==null?(xt(r),Vp(r,l)):(xt(r),r.flags&=-16777217)):l?l!==s.memoizedState?(Ti(r),xt(r),Vp(r,l)):(xt(r),r.flags&=-16777217):(s.memoizedProps!==f&&Ti(r),xt(r),r.flags&=-16777217),null;case 27:kt(r),l=oe.current;var g=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==f&&Ti(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return xt(r),null}s=re.current,bo(r)?ym(r):(s=Vg(g,f,l),r.stateNode=s,Ti(r))}return xt(r),null;case 5:if(kt(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==f&&Ti(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return xt(r),null}if(s=re.current,bo(r))ym(r);else{switch(g=Il(oe.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}s[Jt]=r,s[on]=f;e:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break e;for(;g.sibling===null;){if(g.return===null||g.return===r)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=s;e:switch(Ft(s,l,f),l){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ti(r)}}return xt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==f&&Ti(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(i(166));if(s=oe.current,bo(r)){if(s=r.stateNode,l=r.memoizedProps,f=null,g=tn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}s[Jt]=r,s=!!(s.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Ig(s.nodeValue,l)),s||vs(r)}else s=Il(s).createTextNode(f),s[Jt]=r,r.stateNode=s}return xt(r),null;case 13:if(f=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=bo(r),f!==null&&f.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Jt]=r}else _o(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;xt(r),g=!1}else g=xm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(vi(r),r):(vi(r),null)}if(vi(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=f!==null,s=s!==null&&s.memoizedState!==null,l){f=r.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==g&&(f.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),bl(r,r.updateQueue),xt(r),null;case 4:return et(),s===null&&Dd(r.stateNode.containerInfo),xt(r),null;case 10:return gi(r.type),xt(r),null;case 19:if(B(Dt),g=r.memoizedState,g===null)return xt(r),null;if(f=(r.flags&128)!==0,x=g.rendering,x===null)if(f)qo(g,!1);else{if(_t!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(x=gl(s),x!==null){for(r.flags|=128,qo(g,!1),s=x.updateQueue,r.updateQueue=s,bl(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)pm(l,s),l=l.sibling;return W(Dt,Dt.current&1|2),r.child}s=s.sibling}g.tail!==null&&qe()>wl&&(r.flags|=128,f=!0,qo(g,!1),r.lanes=4194304)}else{if(!f)if(s=gl(x),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,bl(r,s),qo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!st)return xt(r),null}else 2*qe()-g.renderingStartTime>wl&&l!==536870912&&(r.flags|=128,f=!0,qo(g,!1),r.lanes=4194304);g.isBackwards?(x.sibling=r.child,r.child=x):(s=g.last,s!==null?s.sibling=x:r.child=x,g.last=x)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=qe(),r.sibling=null,s=Dt.current,W(Dt,f?s&1|2:s&1),r):(xt(r),null);case 22:case 23:return vi(r),Ic(),f=r.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(l&536870912)!==0&&(r.flags&128)===0&&(xt(r),r.subtreeFlags&6&&(r.flags|=8192)):xt(r),l=r.updateQueue,l!==null&&bl(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==l&&(r.flags|=2048),s!==null&&B(bs),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),gi(Mt),xt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Kb(s,r){switch(Tc(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return gi(Mt),et(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return kt(r),null;case 13:if(vi(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));_o()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return B(Dt),null;case 4:return et(),null;case 10:return gi(r.type),null;case 22:case 23:return vi(r),Ic(),s!==null&&B(bs),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return gi(Mt),null;case 25:return null;default:return null}}function $p(s,r){switch(Tc(r),r.tag){case 3:gi(Mt),et();break;case 26:case 27:case 5:kt(r);break;case 4:et();break;case 13:vi(r);break;case 19:B(Dt);break;case 10:gi(r.type);break;case 22:case 23:vi(r),Ic(),s!==null&&B(bs);break;case 24:gi(Mt)}}function Bo(s,r){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&s)===s){f=void 0;var x=l.create,_=l.inst;f=x(),_.destroy=f}l=l.next}while(l!==g)}}catch(E){ht(r,r.return,E)}}function ji(s,r,l){try{var f=r.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var x=g.next;f=x;do{if((f.tag&s)===s){var _=f.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,g=r;var U=l,G=E;try{G()}catch(te){ht(g,U,te)}}}f=f.next}while(f!==x)}}catch(te){ht(r,r.return,te)}}function Fp(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{km(r,l)}catch(f){ht(s,s.return,f)}}}function zp(s,r,l){l.props=Ss(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(f){ht(s,r,f)}}function jo(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof l=="function"?s.refCleanup=l(f):l.current=f}}catch(g){ht(s,r,g)}}function ei(s,r){var l=s.ref,f=s.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){ht(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ht(s,r,g)}else l.current=null}function Gp(s){var r=s.type,l=s.memoizedProps,f=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){ht(s,s.return,g)}}function ld(s,r,l){try{var f=s.stateNode;g_(f,s.type,l,r),f[on]=r}catch(g){ht(s,s.return,g)}}function Hp(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Yi(s.type)||s.tag===4}function ud(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Hp(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Yi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cd(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Ul));else if(f!==4&&(f===27&&Yi(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(cd(s,r,l),s=s.sibling;s!==null;)cd(s,r,l),s=s.sibling}function _l(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(f!==4&&(f===27&&Yi(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(_l(s,r,l),s=s.sibling;s!==null;)_l(s,r,l),s=s.sibling}function Jp(s){var r=s.stateNode,l=s.memoizedProps;try{for(var f=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Ft(r,f,l),r[Jt]=s,r[on]=l}catch(x){ht(s,s.return,x)}}var bi=!1,Ct=!1,dd=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Qb(s,r){if(s=s.containerInfo,Pd=jl,s=rm(s),uc(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var _=0,E=-1,U=-1,G=0,te=0,se=s,J=null;t:for(;;){for(var Q;se!==l||g!==0&&se.nodeType!==3||(E=_+g),se!==x||f!==0&&se.nodeType!==3||(U=_+f),se.nodeType===3&&(_+=se.nodeValue.length),(Q=se.firstChild)!==null;)J=se,se=Q;for(;;){if(se===s)break t;if(J===l&&++G===g&&(E=_),J===x&&++te===f&&(U=_),(Q=se.nextSibling)!==null)break;se=J,J=se.parentNode}se=Q}l=E===-1||U===-1?null:{start:E,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ld={focusedElem:s,selectionRange:l},jl=!1,Ot=r;Ot!==null;)if(r=Ot,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Ot=s;else for(;Ot!==null;){switch(r=Ot,x=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,l=r,g=x.memoizedProps,x=x.memoizedState,f=l.stateNode;try{var Me=Ss(l.type,g,l.elementType===l.type);s=f.getSnapshotBeforeUpdate(Me,x),f.__reactInternalSnapshotBeforeUpdate=s}catch(Re){ht(l,l.return,Re)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Bd(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Bd(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Ot=s;break}Ot=r.return}}function Kp(s,r,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Vi(s,l),f&4&&Bo(5,l);break;case 1:if(Vi(s,l),f&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(_){ht(l,l.return,_)}else{var g=Ss(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){ht(l,l.return,_)}}f&64&&Fp(l),f&512&&jo(l,l.return);break;case 3:if(Vi(s,l),f&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{km(s,r)}catch(_){ht(l,l.return,_)}}break;case 27:r===null&&f&4&&Jp(l);case 26:case 5:Vi(s,l),r===null&&f&4&&Gp(l),f&512&&jo(l,l.return);break;case 12:Vi(s,l);break;case 13:Vi(s,l),f&4&&Xp(s,l),f&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=r_.bind(null,l),S_(s,l))));break;case 22:if(f=l.memoizedState!==null||bi,!f){r=r!==null&&r.memoizedState!==null||Ct,g=bi;var x=Ct;bi=f,(Ct=r)&&!x?$i(s,l,(l.subtreeFlags&8772)!==0):Vi(s,l),bi=g,Ct=x}break;case 30:break;default:Vi(s,l)}}function Qp(s){var r=s.alternate;r!==null&&(s.alternate=null,Qp(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&zu(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,un=!1;function _i(s,r,l){for(l=l.child;l!==null;)Zp(s,r,l),l=l.sibling}function Zp(s,r,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(sn,l)}catch{}switch(l.tag){case 26:Ct||ei(l,r),_i(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ct||ei(l,r);var f=vt,g=un;Yi(l.type)&&(vt=l.stateNode,un=!1),_i(s,r,l),Ko(l.stateNode),vt=f,un=g;break;case 5:Ct||ei(l,r);case 6:if(f=vt,g=un,vt=null,_i(s,r,l),vt=f,un=g,vt!==null)if(un)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(x){ht(l,r,x)}else try{vt.removeChild(l.stateNode)}catch(x){ht(l,r,x)}break;case 18:vt!==null&&(un?(s=vt,Bg(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),ia(s)):Bg(vt,l.stateNode));break;case 4:f=vt,g=un,vt=l.stateNode.containerInfo,un=!0,_i(s,r,l),vt=f,un=g;break;case 0:case 11:case 14:case 15:Ct||ji(2,l,r),Ct||ji(4,l,r),_i(s,r,l);break;case 1:Ct||(ei(l,r),f=l.stateNode,typeof f.componentWillUnmount=="function"&&zp(l,r,f)),_i(s,r,l);break;case 21:_i(s,r,l);break;case 22:Ct=(f=Ct)||l.memoizedState!==null,_i(s,r,l),Ct=f;break;default:_i(s,r,l)}}function Xp(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ia(s)}catch(l){ht(r,r.return,l)}}function Zb(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Yp),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Yp),r;default:throw Error(i(435,s.tag))}}function fd(s,r){var l=Zb(s);r.forEach(function(f){var g=o_.bind(null,s,f);l.has(f)||(l.add(f),f.then(g,g))})}function yn(s,r){var l=r.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],x=s,_=r,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Yi(E.type)){vt=E.stateNode,un=!1;break e}break;case 5:vt=E.stateNode,un=!1;break e;case 3:case 4:vt=E.stateNode.containerInfo,un=!0;break e}E=E.return}if(vt===null)throw Error(i(160));Zp(x,_,g),vt=null,un=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Wp(r,s),r=r.sibling}var jn=null;function Wp(s,r){var l=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:yn(r,s),vn(s),f&4&&(ji(3,s,s.return),Bo(3,s),ji(5,s,s.return));break;case 1:yn(r,s),vn(s),f&512&&(Ct||l===null||ei(l,l.return)),f&64&&bi&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=jn;if(yn(r,s),vn(s),f&512&&(Ct||l===null||ei(l,l.return)),f&4){var x=l!==null?l.memoizedState:null;if(f=s.memoizedState,l===null)if(f===null)if(s.stateNode===null){e:{f=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":x=g.getElementsByTagName("title")[0],(!x||x[uo]||x[Jt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(f),g.head.insertBefore(x,g.querySelector("head > title"))),Ft(x,f,l),x[Jt]=s,Pt(x),f=x;break e;case"link":var _=Jg("link","href",g).get(f+(l.href||""));if(_){for(var E=0;E<_.length;E++)if(x=_[E],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(E,1);break t}}x=g.createElement(f),Ft(x,f,l),g.head.appendChild(x);break;case"meta":if(_=Jg("meta","content",g).get(f+(l.content||""))){for(E=0;E<_.length;E++)if(x=_[E],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(E,1);break t}}x=g.createElement(f),Ft(x,f,l),g.head.appendChild(x);break;default:throw Error(i(468,f))}x[Jt]=s,Pt(x),f=x}s.stateNode=f}else Yg(g,s.type,s.stateNode);else s.stateNode=Hg(g,f,s.memoizedProps);else x!==f?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,f===null?Yg(g,s.type,s.stateNode):Hg(g,f,s.memoizedProps)):f===null&&s.stateNode!==null&&ld(s,s.memoizedProps,l.memoizedProps)}break;case 27:yn(r,s),vn(s),f&512&&(Ct||l===null||ei(l,l.return)),l!==null&&f&4&&ld(s,s.memoizedProps,l.memoizedProps);break;case 5:if(yn(r,s),vn(s),f&512&&(Ct||l===null||ei(l,l.return)),s.flags&32){g=s.stateNode;try{Zs(g,"")}catch(Q){ht(s,s.return,Q)}}f&4&&s.stateNode!=null&&(g=s.memoizedProps,ld(s,g,l!==null?l.memoizedProps:g)),f&1024&&(dd=!0);break;case 6:if(yn(r,s),vn(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,l=s.stateNode;try{l.nodeValue=f}catch(Q){ht(s,s.return,Q)}}break;case 3:if(Ol=null,g=jn,jn=Pl(r.containerInfo),yn(r,s),jn=g,vn(s),f&4&&l!==null&&l.memoizedState.isDehydrated)try{ia(r.containerInfo)}catch(Q){ht(s,s.return,Q)}dd&&(dd=!1,eg(s));break;case 4:f=jn,jn=Pl(s.stateNode.containerInfo),yn(r,s),vn(s),jn=f;break;case 12:yn(r,s),vn(s);break;case 13:yn(r,s),vn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vd=qe()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,fd(s,f)));break;case 22:g=s.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,G=bi,te=Ct;if(bi=G||g,Ct=te||U,yn(r,s),Ct=te,bi=G,vn(s),f&8192)e:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||U||bi||Ct||ws(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){U=l=r;try{if(x=U.stateNode,g)_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=U.stateNode;var se=U.memoizedProps.style,J=se!=null&&se.hasOwnProperty("display")?se.display:null;E.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Q){ht(U,U.return,Q)}}}else if(r.tag===6){if(l===null){U=r;try{U.stateNode.nodeValue=g?"":U.memoizedProps}catch(Q){ht(U,U.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=s.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,fd(s,l))));break;case 19:yn(r,s),vn(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,fd(s,f)));break;case 30:break;case 21:break;default:yn(r,s),vn(s)}}function vn(s){var r=s.flags;if(r&2){try{for(var l,f=s.return;f!==null;){if(Hp(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,x=ud(s);_l(s,x,g);break;case 5:var _=l.stateNode;l.flags&32&&(Zs(_,""),l.flags&=-33);var E=ud(s);_l(s,E,_);break;case 3:case 4:var U=l.stateNode.containerInfo,G=ud(s);cd(s,G,U);break;default:throw Error(i(161))}}catch(te){ht(s,s.return,te)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function eg(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;eg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Vi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Kp(s,r.alternate,r),r=r.sibling}function ws(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:ji(4,r,r.return),ws(r);break;case 1:ei(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&zp(r,r.return,l),ws(r);break;case 27:Ko(r.stateNode);case 26:case 5:ei(r,r.return),ws(r);break;case 22:r.memoizedState===null&&ws(r);break;case 30:ws(r);break;default:ws(r)}s=s.sibling}}function $i(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,g=s,x=r,_=x.flags;switch(x.tag){case 0:case 11:case 15:$i(g,x,l),Bo(4,x);break;case 1:if($i(g,x,l),f=x,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){ht(f,f.return,G)}if(f=x,g=f.updateQueue,g!==null){var E=f.stateNode;try{var U=g.shared.hiddenCallbacks;if(U!==null)for(g.shared.hiddenCallbacks=null,g=0;g<U.length;g++)Rm(U[g],E)}catch(G){ht(f,f.return,G)}}l&&_&64&&Fp(x),jo(x,x.return);break;case 27:Jp(x);case 26:case 5:$i(g,x,l),l&&f===null&&_&4&&Gp(x),jo(x,x.return);break;case 12:$i(g,x,l);break;case 13:$i(g,x,l),l&&_&4&&Xp(g,x);break;case 22:x.memoizedState===null&&$i(g,x,l),jo(x,x.return);break;case 30:break;default:$i(g,x,l)}r=r.sibling}}function hd(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Co(l))}function md(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Co(s))}function ti(s,r,l,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tg(s,r,l,f),r=r.sibling}function tg(s,r,l,f){var g=r.flags;switch(r.tag){case 0:case 11:case 15:ti(s,r,l,f),g&2048&&Bo(9,r);break;case 1:ti(s,r,l,f);break;case 3:ti(s,r,l,f),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Co(s)));break;case 12:if(g&2048){ti(s,r,l,f),s=r.stateNode;try{var x=r.memoizedProps,_=x.id,E=x.onPostCommit;typeof E=="function"&&E(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){ht(r,r.return,U)}}else ti(s,r,l,f);break;case 13:ti(s,r,l,f);break;case 23:break;case 22:x=r.stateNode,_=r.alternate,r.memoizedState!==null?x._visibility&2?ti(s,r,l,f):Vo(s,r):x._visibility&2?ti(s,r,l,f):(x._visibility|=2,gr(s,r,l,f,(r.subtreeFlags&10256)!==0)),g&2048&&hd(_,r);break;case 24:ti(s,r,l,f),g&2048&&md(r.alternate,r);break;default:ti(s,r,l,f)}}function gr(s,r,l,f,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var x=s,_=r,E=l,U=f,G=_.flags;switch(_.tag){case 0:case 11:case 15:gr(x,_,E,U,g),Bo(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&2?gr(x,_,E,U,g):Vo(x,_):(te._visibility|=2,gr(x,_,E,U,g)),g&&G&2048&&hd(_.alternate,_);break;case 24:gr(x,_,E,U,g),g&&G&2048&&md(_.alternate,_);break;default:gr(x,_,E,U,g)}r=r.sibling}}function Vo(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,f=r,g=f.flags;switch(f.tag){case 22:Vo(l,f),g&2048&&hd(f.alternate,f);break;case 24:Vo(l,f),g&2048&&md(f.alternate,f);break;default:Vo(l,f)}r=r.sibling}}var $o=8192;function yr(s){if(s.subtreeFlags&$o)for(s=s.child;s!==null;)ng(s),s=s.sibling}function ng(s){switch(s.tag){case 26:yr(s),s.flags&$o&&s.memoizedState!==null&&L_(jn,s.memoizedState,s.memoizedProps);break;case 5:yr(s);break;case 3:case 4:var r=jn;jn=Pl(s.stateNode.containerInfo),yr(s),jn=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=$o,$o=16777216,yr(s),$o=r):yr(s));break;default:yr(s)}}function ig(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Fo(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];Ot=f,rg(f,s)}ig(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sg(s),s=s.sibling}function sg(s){switch(s.tag){case 0:case 11:case 15:Fo(s),s.flags&2048&&ji(9,s,s.return);break;case 3:Fo(s);break;case 12:Fo(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Sl(s)):Fo(s);break;default:Fo(s)}}function Sl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];Ot=f,rg(f,s)}ig(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:ji(8,r,r.return),Sl(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Sl(r));break;default:Sl(r)}s=s.sibling}}function rg(s,r){for(;Ot!==null;){var l=Ot;switch(l.tag){case 0:case 11:case 15:ji(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Co(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Ot=f;else e:for(l=s;Ot!==null;){f=Ot;var g=f.sibling,x=f.return;if(Qp(f),f===l){Ot=null;break e}if(g!==null){g.return=x,Ot=g;break e}Ot=x}}}var Xb={getCacheForType:function(s){var r=Yt(Mt),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},Wb=typeof WeakMap=="function"?WeakMap:Map,ot=0,mt=null,Je=null,We=0,at=0,xn=null,Fi=!1,vr=!1,pd=!1,Si=0,_t=0,zi=0,Cs=0,gd=0,Mn=0,xr=0,zo=null,cn=null,yd=!1,vd=0,wl=1/0,Cl=null,Gi=null,$t=0,Hi=null,Tr=null,br=0,xd=0,Td=null,og=null,Go=0,bd=null;function Tn(){if((ot&2)!==0&&We!==0)return We&-We;if(Z.T!==null){var s=lr;return s!==0?s:Nd()}return Fs()}function ag(){Mn===0&&(Mn=(We&536870912)===0||st?Qn():536870912);var s=kn.current;return s!==null&&(s.flags|=32),Mn}function bn(s,r,l){(s===mt&&(at===2||at===9)||s.cancelPendingCommit!==null)&&(_r(s,0),Ji(s,We,Mn,!1)),Sn(s,l),((ot&2)===0||s!==mt)&&(s===mt&&((ot&2)===0&&(Cs|=l),_t===4&&Ji(s,We,Mn,!1)),ni(s))}function lg(s,r,l){if((ot&6)!==0)throw Error(i(327));var f=!l&&(r&124)===0&&(r&s.expiredLanes)===0||Ht(s,r),g=f?n_(s,r):wd(s,r,!0),x=f;do{if(g===0){vr&&!f&&Ji(s,r,0,!1);break}else{if(l=s.current.alternate,x&&!e_(l)){g=wd(s,r,!1),x=!1;continue}if(g===2){if(x=r,s.errorRecoveryDisabledLanes&x)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var E=s;g=zo;var U=E.current.memoizedState.isDehydrated;if(U&&(_r(E,_).flags|=256),_=wd(E,_,!1),_!==2){if(pd&&!U){E.errorRecoveryDisabledLanes|=x,Cs|=x,g=4;break e}x=cn,cn=g,x!==null&&(cn===null?cn=x:cn.push.apply(cn,x))}g=_}if(x=!1,g!==2)continue}}if(g===1){_r(s,0),Ji(s,r,0,!0);break}e:{switch(f=s,x=g,x){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ji(f,r,Mn,!Fi);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=vd+300-qe(),10<g)){if(Ji(f,r,Mn,!Fi),ls(f,0,!0)!==0)break e;f.timeoutHandle=Og(ug.bind(null,f,l,cn,Cl,yd,r,Mn,Cs,xr,Fi,x,2,-0,0),g);break e}ug(f,l,cn,Cl,yd,r,Mn,Cs,xr,Fi,x,0,-0,0)}}break}while(!0);ni(s)}function ug(s,r,l,f,g,x,_,E,U,G,te,se,J,Q){if(s.timeoutHandle=-1,se=r.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Xo={stylesheets:null,count:0,unsuspend:P_},ng(r),se=O_(),se!==null)){s.cancelPendingCommit=se(gg.bind(null,s,r,x,l,f,g,_,E,U,te,1,J,Q)),Ji(s,x,_,!G);return}gg(s,r,x,l,f,g,_,E,U)}function e_(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],x=g.getSnapshot;g=g.value;try{if(!pn(x(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ji(s,r,l,f){r&=~gd,r&=~Cs,s.suspendedLanes|=r,s.pingedLanes&=~r,f&&(s.warmLanes|=r),f=s.expirationTimes;for(var g=r;0<g;){var x=31-fe(g),_=1<<x;f[x]=-1,g&=~_}l!==0&&rn(s,l,r)}function El(){return(ot&6)===0?(Ho(0),!1):!0}function _d(){if(Je!==null){if(at===0)var s=Je.return;else s=Je,pi=xs=null,Bc(s),mr=null,Lo=0,s=Je;for(;s!==null;)$p(s.alternate,s),s=s.return;Je=null}}function _r(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,v_(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),_d(),mt=s,Je=l=fi(s.current,null),We=r,at=0,xn=null,Fi=!1,vr=Ht(s,r),pd=!1,xr=Mn=gd=Cs=zi=_t=0,cn=zo=null,yd=!1,(r&8)!==0&&(r|=r&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=r;0<f;){var g=31-fe(f),x=1<<g;r|=s[g],f&=~x}return Si=r,Ya(),l}function cg(s,r){Fe=null,Z.H=hl,r===Ao||r===il?(r=Am(),at=3):r===wm?(r=Am(),at=4):at=r===Np?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,Je===null&&(_t=1,vl(s,En(r,s.current)))}function dg(){var s=Z.H;return Z.H=hl,s===null?hl:s}function fg(){var s=Z.A;return Z.A=Xb,s}function Sd(){_t=4,Fi||(We&4194048)!==We&&kn.current!==null||(vr=!0),(zi&134217727)===0&&(Cs&134217727)===0||mt===null||Ji(mt,We,Mn,!1)}function wd(s,r,l){var f=ot;ot|=2;var g=dg(),x=fg();(mt!==s||We!==r)&&(Cl=null,_r(s,r)),r=!1;var _=_t;e:do try{if(at!==0&&Je!==null){var E=Je,U=xn;switch(at){case 8:_d(),_=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var G=at;if(at=0,xn=null,Sr(s,E,U,G),l&&vr){_=0;break e}break;default:G=at,at=0,xn=null,Sr(s,E,U,G)}}t_(),_=_t;break}catch(te){cg(s,te)}while(!0);return r&&s.shellSuspendCounter++,pi=xs=null,ot=f,Z.H=g,Z.A=x,Je===null&&(mt=null,We=0,Ya()),_}function t_(){for(;Je!==null;)hg(Je)}function n_(s,r){var l=ot;ot|=2;var f=dg(),g=fg();mt!==s||We!==r?(Cl=null,wl=qe()+500,_r(s,r)):vr=Ht(s,r);e:do try{if(at!==0&&Je!==null){r=Je;var x=xn;t:switch(at){case 1:at=0,xn=null,Sr(s,r,x,1);break;case 2:case 9:if(Cm(x)){at=0,xn=null,mg(r);break}r=function(){at!==2&&at!==9||mt!==s||(at=7),ni(s)},x.then(r,r);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Cm(x)?(at=0,xn=null,mg(r)):(at=0,xn=null,Sr(s,r,x,7));break;case 5:var _=null;switch(Je.tag){case 26:_=Je.memoizedState;case 5:case 27:var E=Je;if(!_||Kg(_)){at=0,xn=null;var U=E.sibling;if(U!==null)Je=U;else{var G=E.return;G!==null?(Je=G,Al(G)):Je=null}break t}}at=0,xn=null,Sr(s,r,x,5);break;case 6:at=0,xn=null,Sr(s,r,x,6);break;case 8:_d(),_t=6;break e;default:throw Error(i(462))}}i_();break}catch(te){cg(s,te)}while(!0);return pi=xs=null,Z.H=f,Z.A=g,ot=l,Je!==null?0:(mt=null,We=0,Ya(),_t)}function i_(){for(;Je!==null&&!Ne();)hg(Je)}function hg(s){var r=jp(s.alternate,s,Si);s.memoizedProps=s.pendingProps,r===null?Al(s):Je=r}function mg(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=Ip(l,r,r.pendingProps,r.type,void 0,We);break;case 11:r=Ip(l,r,r.pendingProps,r.type.render,r.ref,We);break;case 5:Bc(r);default:$p(l,r),r=Je=pm(r,Si),r=jp(l,r,Si)}s.memoizedProps=s.pendingProps,r===null?Al(s):Je=r}function Sr(s,r,l,f){pi=xs=null,Bc(r),mr=null,Lo=0;var g=r.return;try{if(Hb(s,g,r,l,We)){_t=1,vl(s,En(l,s.current)),Je=null;return}}catch(x){if(g!==null)throw Je=g,x;_t=1,vl(s,En(l,s.current)),Je=null;return}r.flags&32768?(st||f===1?s=!0:vr||(We&536870912)!==0?s=!1:(Fi=s=!0,(f===2||f===9||f===3||f===6)&&(f=kn.current,f!==null&&f.tag===13&&(f.flags|=16384))),pg(r,s)):Al(r)}function Al(s){var r=s;do{if((r.flags&32768)!==0){pg(r,Fi);return}s=r.return;var l=Yb(r.alternate,r,Si);if(l!==null){Je=l;return}if(r=r.sibling,r!==null){Je=r;return}Je=r=s}while(r!==null);_t===0&&(_t=5)}function pg(s,r){do{var l=Kb(s.alternate,s);if(l!==null){l.flags&=32767,Je=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Je=s;return}Je=s=l}while(s!==null);_t=6,Je=null}function gg(s,r,l,f,g,x,_,E,U){s.cancelPendingCommit=null;do Nl();while($t!==0);if((ot&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(x=r.lanes|r.childLanes,x|=mc,$s(s,l,x,_,E,U),s===mt&&(Je=mt=null,We=0),Tr=r,Hi=s,br=l,xd=x,Td=g,og=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,a_(Te,function(){return bg(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null,g=ae.p,ae.p=2,_=ot,ot|=4;try{Qb(s,r,l)}finally{ot=_,ae.p=g,Z.T=f}}$t=1,yg(),vg(),xg()}}function yg(){if($t===1){$t=0;var s=Hi,r=Tr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var f=ae.p;ae.p=2;var g=ot;ot|=4;try{Wp(r,s);var x=Ld,_=rm(s.containerInfo),E=x.focusedElem,U=x.selectionRange;if(_!==E&&E&&E.ownerDocument&&sm(E.ownerDocument.documentElement,E)){if(U!==null&&uc(E)){var G=U.start,te=U.end;if(te===void 0&&(te=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(te,E.value.length);else{var se=E.ownerDocument||document,J=se&&se.defaultView||window;if(J.getSelection){var Q=J.getSelection(),Me=E.textContent.length,Re=Math.min(U.start,Me),dt=U.end===void 0?Re:Math.min(U.end,Me);!Q.extend&&Re>dt&&(_=dt,dt=Re,Re=_);var j=im(E,Re),O=im(E,dt);if(j&&O&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var F=se.createRange();F.setStart(j.node,j.offset),Q.removeAllRanges(),Re>dt?(Q.addRange(F),Q.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),Q.addRange(F))}}}}for(se=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&se.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<se.length;E++){var ie=se[E];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}jl=!!Pd,Ld=Pd=null}finally{ot=g,ae.p=f,Z.T=l}}s.current=r,$t=2}}function vg(){if($t===2){$t=0;var s=Hi,r=Tr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var f=ae.p;ae.p=2;var g=ot;ot|=4;try{Kp(s,r.alternate,r)}finally{ot=g,ae.p=f,Z.T=l}}$t=3}}function xg(){if($t===4||$t===3){$t=0,ue();var s=Hi,r=Tr,l=br,f=og;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,Tr=Hi=null,Tg(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Gi=null),lo(l),r=r.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(sn,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=Z.T,g=ae.p,ae.p=2,Z.T=null;try{for(var x=s.onRecoverableError,_=0;_<f.length;_++){var E=f[_];x(E.value,{componentStack:E.stack})}}finally{Z.T=r,ae.p=g}}(br&3)!==0&&Nl(),ni(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===bd?Go++:(Go=0,bd=s):Go=0,Ho(0)}}function Tg(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Co(r)))}function Nl(s){return yg(),vg(),xg(),bg()}function bg(){if($t!==5)return!1;var s=Hi,r=xd;xd=0;var l=lo(br),f=Z.T,g=ae.p;try{ae.p=32>l?32:l,Z.T=null,l=Td,Td=null;var x=Hi,_=br;if($t=0,Tr=Hi=null,br=0,(ot&6)!==0)throw Error(i(331));var E=ot;if(ot|=4,sg(x.current),tg(x,x.current,_,l),ot=E,Ho(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(sn,x)}catch{}return!0}finally{ae.p=g,Z.T=f,Tg(s,r)}}function _g(s,r,l){r=En(l,r),r=Wc(s.stateNode,r,2),s=Li(s,r,2),s!==null&&(Sn(s,2),ni(s))}function ht(s,r,l){if(s.tag===3)_g(s,s,l);else for(;r!==null;){if(r.tag===3){_g(r,s,l);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Gi===null||!Gi.has(f))){s=En(l,s),l=Ep(2),f=Li(r,l,2),f!==null&&(Ap(l,f,r,s),Sn(f,2),ni(f));break}}r=r.return}}function Cd(s,r,l){var f=s.pingCache;if(f===null){f=s.pingCache=new Wb;var g=new Set;f.set(r,g)}else g=f.get(r),g===void 0&&(g=new Set,f.set(r,g));g.has(l)||(pd=!0,g.add(l),s=s_.bind(null,s,r,l),r.then(s,s))}function s_(s,r,l){var f=s.pingCache;f!==null&&f.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(We&l)===l&&(_t===4||_t===3&&(We&62914560)===We&&300>qe()-vd?(ot&2)===0&&_r(s,0):gd|=l,xr===We&&(xr=0)),ni(s)}function Sg(s,r){r===0&&(r=qn()),s=sr(s,r),s!==null&&(Sn(s,r),ni(s))}function r_(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),Sg(s,l)}function o_(s,r){var l=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(r),Sg(s,l)}function a_(s,r){return me(s,r)}var Rl=null,wr=null,Ed=!1,kl=!1,Ad=!1,Es=0;function ni(s){s!==wr&&s.next===null&&(wr===null?Rl=wr=s:wr=wr.next=s),kl=!0,Ed||(Ed=!0,u_())}function Ho(s,r){if(!Ad&&kl){Ad=!0;do for(var l=!1,f=Rl;f!==null;){if(s!==0){var g=f.pendingLanes;if(g===0)var x=0;else{var _=f.suspendedLanes,E=f.pingedLanes;x=(1<<31-fe(42|s)+1)-1,x&=g&~(_&~E),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,Ag(f,x))}else x=We,x=ls(f,f===mt?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||Ht(f,x)||(l=!0,Ag(f,x));f=f.next}while(l);Ad=!1}}function l_(){wg()}function wg(){kl=Ed=!1;var s=0;Es!==0&&(y_()&&(s=Es),Es=0);for(var r=qe(),l=null,f=Rl;f!==null;){var g=f.next,x=Cg(f,r);x===0?(f.next=null,l===null?Rl=g:l.next=g,g===null&&(wr=l)):(l=f,(s!==0||(x&3)!==0)&&(kl=!0)),f=g}Ho(s)}function Cg(s,r){for(var l=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var _=31-fe(x),E=1<<_,U=g[_];U===-1?((E&l)===0||(E&f)!==0)&&(g[_]=ui(E,r)):U<=r&&(s.expiredLanes|=E),x&=~E}if(r=mt,l=We,l=ls(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,l===0||s===r&&(at===2||at===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&de(f),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Ht(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(f!==null&&de(f),lo(l)){case 2:case 8:l=Oe;break;case 32:l=Te;break;case 268435456:l=He;break;default:l=Te}return f=Eg.bind(null,s),l=me(l,f),s.callbackPriority=r,s.callbackNode=l,r}return f!==null&&f!==null&&de(f),s.callbackPriority=2,s.callbackNode=null,2}function Eg(s,r){if($t!==0&&$t!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Nl()&&s.callbackNode!==l)return null;var f=We;return f=ls(s,s===mt?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(lg(s,f,r),Cg(s,qe()),s.callbackNode!=null&&s.callbackNode===l?Eg.bind(null,s):null)}function Ag(s,r){if(Nl())return null;lg(s,r,!0)}function u_(){x_(function(){(ot&6)!==0?me(rt,l_):wg()})}function Nd(){return Es===0&&(Es=Qn()),Es}function Ng(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Va(""+s)}function Rg(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function c_(s,r,l,f,g){if(r==="submit"&&l&&l.stateNode===g){var x=Ng((g[on]||null).action),_=f.submitter;_&&(r=(r=_[on]||null)?Ng(r.formAction):_.getAttribute("formAction"),r!==null&&(x=r,_=null));var E=new Ga("action","action",null,f,g);s.push({event:E,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Es!==0){var U=_?Rg(g,_):new FormData(g);Yc(l,{pending:!0,data:U,method:g.method,action:x},null,U)}}else typeof x=="function"&&(E.preventDefault(),U=_?Rg(g,_):new FormData(g),Yc(l,{pending:!0,data:U,method:g.method,action:x},x,U))},currentTarget:g}]})}}for(var Rd=0;Rd<hc.length;Rd++){var kd=hc[Rd],d_=kd.toLowerCase(),f_=kd[0].toUpperCase()+kd.slice(1);Bn(d_,"on"+f_)}Bn(lm,"onAnimationEnd"),Bn(um,"onAnimationIteration"),Bn(cm,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Rb,"onTransitionRun"),Bn(kb,"onTransitionStart"),Bn(Mb,"onTransitionCancel"),Bn(dm,"onTransitionEnd"),Ys("onMouseEnter",["mouseout","mouseover"]),Ys("onMouseLeave",["mouseout","mouseover"]),Ys("onPointerEnter",["pointerout","pointerover"]),Ys("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function kg(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var f=s[l],g=f.event;f=f.listeners;e:{var x=void 0;if(r)for(var _=f.length-1;0<=_;_--){var E=f[_],U=E.instance,G=E.currentTarget;if(E=E.listener,U!==x&&g.isPropagationStopped())break e;x=E,g.currentTarget=G;try{x(g)}catch(te){yl(te)}g.currentTarget=null,x=U}else for(_=0;_<f.length;_++){if(E=f[_],U=E.instance,G=E.currentTarget,E=E.listener,U!==x&&g.isPropagationStopped())break e;x=E,g.currentTarget=G;try{x(g)}catch(te){yl(te)}g.currentTarget=null,x=U}}}}function Ye(s,r){var l=r[Fu];l===void 0&&(l=r[Fu]=new Set);var f=s+"__bubble";l.has(f)||(Mg(r,s,2,!1),l.add(f))}function Md(s,r,l){var f=0;r&&(f|=4),Mg(l,s,f,r)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function Dd(s){if(!s[Ml]){s[Ml]=!0,wh.forEach(function(l){l!=="selectionchange"&&(h_.has(l)||Md(l,!1,s),Md(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Ml]||(r[Ml]=!0,Md("selectionchange",!1,r))}}function Mg(s,r,l,f){switch(ty(r)){case 2:var g=j_;break;case 8:g=V_;break;default:g=Hd}l=g.bind(null,r,l,s),g=void 0,!ec||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(r,l,{capture:!0,passive:g}):s.addEventListener(r,l,!0):g!==void 0?s.addEventListener(r,l,{passive:g}):s.addEventListener(r,l,!1)}function Ud(s,r,l,f,g){var x=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var E=f.stateNode.containerInfo;if(E===g)break;if(_===4)for(_=f.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;E!==null;){if(_=Gs(E),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){f=x=_;continue e}E=E.parentNode}}f=f.return}qh(function(){var G=x,te=Xu(l),se=[];e:{var J=fm.get(s);if(J!==void 0){var Q=Ga,Me=s;switch(s){case"keypress":if(Fa(l)===0)break e;case"keydown":case"keyup":Q=ab;break;case"focusin":Me="focus",Q=sc;break;case"focusout":Me="blur",Q=sc;break;case"beforeblur":case"afterblur":Q=sc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=KT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=cb;break;case lm:case um:case cm:Q=XT;break;case dm:Q=fb;break;case"scroll":case"scrollend":Q=JT;break;case"wheel":Q=mb;break;case"copy":case"cut":case"paste":Q=eb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Fh;break;case"toggle":case"beforetoggle":Q=gb}var Re=(r&4)!==0,dt=!Re&&(s==="scroll"||s==="scrollend"),j=Re?J!==null?J+"Capture":null:J;Re=[];for(var O=G,F;O!==null;){var ie=O;if(F=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||F===null||j===null||(ie=fo(O,j),ie!=null&&Re.push(Yo(O,ie,F))),dt)break;O=O.return}0<Re.length&&(J=new Q(J,Me,null,l,te),se.push({event:J,listeners:Re}))}}if((r&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",J&&l!==Zu&&(Me=l.relatedTarget||l.fromElement)&&(Gs(Me)||Me[zs]))break e;if((Q||J)&&(J=te.window===te?te:(J=te.ownerDocument)?J.defaultView||J.parentWindow:window,Q?(Me=l.relatedTarget||l.toElement,Q=G,Me=Me?Gs(Me):null,Me!==null&&(dt=a(Me),Re=Me.tag,Me!==dt||Re!==5&&Re!==27&&Re!==6)&&(Me=null)):(Q=null,Me=G),Q!==Me)){if(Re=Vh,ie="onMouseLeave",j="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(Re=Fh,ie="onPointerLeave",j="onPointerEnter",O="pointer"),dt=Q==null?J:co(Q),F=Me==null?J:co(Me),J=new Re(ie,O+"leave",Q,l,te),J.target=dt,J.relatedTarget=F,ie=null,Gs(te)===G&&(Re=new Re(j,O+"enter",Me,l,te),Re.target=F,Re.relatedTarget=dt,ie=Re),dt=ie,Q&&Me)t:{for(Re=Q,j=Me,O=0,F=Re;F;F=Cr(F))O++;for(F=0,ie=j;ie;ie=Cr(ie))F++;for(;0<O-F;)Re=Cr(Re),O--;for(;0<F-O;)j=Cr(j),F--;for(;O--;){if(Re===j||j!==null&&Re===j.alternate)break t;Re=Cr(Re),j=Cr(j)}Re=null}else Re=null;Q!==null&&Dg(se,J,Q,Re,!1),Me!==null&&dt!==null&&Dg(se,dt,Me,Re,!0)}}e:{if(J=G?co(G):window,Q=J.nodeName&&J.nodeName.toLowerCase(),Q==="select"||Q==="input"&&J.type==="file")var pe=Zh;else if(Kh(J))if(Xh)pe=Eb;else{pe=wb;var Ge=Sb}else Q=J.nodeName,!Q||Q.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?G&&Qu(G.elementType)&&(pe=Zh):pe=Cb;if(pe&&(pe=pe(s,G))){Qh(se,pe,l,te);break e}Ge&&Ge(s,J,G),s==="focusout"&&G&&J.type==="number"&&G.memoizedProps.value!=null&&Ku(J,"number",J.value)}switch(Ge=G?co(G):window,s){case"focusin":(Kh(Ge)||Ge.contentEditable==="true")&&(tr=Ge,cc=G,To=null);break;case"focusout":To=cc=tr=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,om(se,l,te);break;case"selectionchange":if(Nb)break;case"keydown":case"keyup":om(se,l,te)}var xe;if(oc)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else er?Jh(s,l)&&(ke="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(zh&&l.locale!=="ko"&&(er||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&er&&(xe=Bh()):(Di=te,tc="value"in Di?Di.value:Di.textContent,er=!0)),Ge=Dl(G,ke),0<Ge.length&&(ke=new $h(ke,s,null,l,te),se.push({event:ke,listeners:Ge}),xe?ke.data=xe:(xe=Yh(l),xe!==null&&(ke.data=xe)))),(xe=vb?xb(s,l):Tb(s,l))&&(ke=Dl(G,"onBeforeInput"),0<ke.length&&(Ge=new $h("onBeforeInput","beforeinput",null,l,te),se.push({event:Ge,listeners:ke}),Ge.data=xe)),c_(se,s,G,l,te)}kg(se,r)})}function Yo(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Dl(s,r){for(var l=r+"Capture",f=[];s!==null;){var g=s,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=fo(s,l),g!=null&&f.unshift(Yo(s,g,x)),g=fo(s,r),g!=null&&f.push(Yo(s,g,x))),s.tag===3)return f;s=s.return}return[]}function Cr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Dg(s,r,l,f,g){for(var x=r._reactName,_=[];l!==null&&l!==f;){var E=l,U=E.alternate,G=E.stateNode;if(E=E.tag,U!==null&&U===f)break;E!==5&&E!==26&&E!==27||G===null||(U=G,g?(G=fo(l,x),G!=null&&_.unshift(Yo(l,G,U))):g||(G=fo(l,x),G!=null&&_.push(Yo(l,G,U)))),l=l.return}_.length!==0&&s.push({event:r,listeners:_})}var m_=/\r\n?/g,p_=/\u0000|\uFFFD/g;function Ug(s){return(typeof s=="string"?s:""+s).replace(m_,`
`).replace(p_,"")}function Ig(s,r){return r=Ug(r),Ug(s)===r}function Ul(){}function ct(s,r,l,f,g,x){switch(l){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||Zs(s,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&Zs(s,""+f);break;case"className":qa(s,"class",f);break;case"tabIndex":qa(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":qa(s,l,f);break;case"style":Lh(s,f,x);break;case"data":if(r!=="object"){qa(s,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=Va(""+f),s.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(r!=="input"&&ct(s,r,"name",g.name,g,null),ct(s,r,"formEncType",g.formEncType,g,null),ct(s,r,"formMethod",g.formMethod,g,null),ct(s,r,"formTarget",g.formTarget,g,null)):(ct(s,r,"encType",g.encType,g,null),ct(s,r,"method",g.method,g,null),ct(s,r,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=Va(""+f),s.setAttribute(l,f);break;case"onClick":f!=null&&(s.onclick=Ul);break;case"onScroll":f!=null&&Ye("scroll",s);break;case"onScrollEnd":f!=null&&Ye("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}l=Va(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""+f):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":f===!0?s.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,f):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(l,f):s.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(l):s.setAttribute(l,f);break;case"popover":Ye("beforetoggle",s),Ye("toggle",s),Oa(s,"popover",f);break;case"xlinkActuate":ci(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ci(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ci(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ci(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ci(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ci(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ci(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ci(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ci(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Oa(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=GT.get(l)||l,Oa(s,l,f))}}function Id(s,r,l,f,g,x){switch(l){case"style":Lh(s,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof f=="string"?Zs(s,f):(typeof f=="number"||typeof f=="bigint")&&Zs(s,""+f);break;case"onScroll":f!=null&&Ye("scroll",s);break;case"onScrollEnd":f!=null&&Ye("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Ul);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ch.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),x=s[on]||null,x=x!=null?x[l]:null,typeof x=="function"&&s.removeEventListener(r,x,g),typeof f=="function")){typeof x!="function"&&x!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,f,g);break e}l in s?s[l]=f:f===!0?s.setAttribute(l,""):Oa(s,l,f)}}}function Ft(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",s),Ye("load",s);var f=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var _=l[x];if(_!=null)switch(x){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ct(s,r,x,_,l,null)}}g&&ct(s,r,"srcSet",l.srcSet,l,null),f&&ct(s,r,"src",l.src,l,null);return;case"input":Ye("invalid",s);var E=x=_=g=null,U=null,G=null;for(f in l)if(l.hasOwnProperty(f)){var te=l[f];if(te!=null)switch(f){case"name":g=te;break;case"type":_=te;break;case"checked":U=te;break;case"defaultChecked":G=te;break;case"value":x=te;break;case"defaultValue":E=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:ct(s,r,f,te,l,null)}}Dh(s,x,E,U,G,_,g,!1),Ba(s);return;case"select":Ye("invalid",s),f=_=x=null;for(g in l)if(l.hasOwnProperty(g)&&(E=l[g],E!=null))switch(g){case"value":x=E;break;case"defaultValue":_=E;break;case"multiple":f=E;default:ct(s,r,g,E,l,null)}r=x,l=_,s.multiple=!!f,r!=null?Qs(s,!!f,r,!1):l!=null&&Qs(s,!!f,l,!0);return;case"textarea":Ye("invalid",s),x=g=f=null;for(_ in l)if(l.hasOwnProperty(_)&&(E=l[_],E!=null))switch(_){case"value":f=E;break;case"defaultValue":g=E;break;case"children":x=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:ct(s,r,_,E,l,null)}Ih(s,f,g,x),Ba(s);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(f=l[U],f!=null))switch(U){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ct(s,r,U,f,l,null)}return;case"dialog":Ye("beforetoggle",s),Ye("toggle",s),Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":Ye("load",s);break;case"video":case"audio":for(f=0;f<Jo.length;f++)Ye(Jo[f],s);break;case"image":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"embed":case"source":case"link":Ye("error",s),Ye("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(f=l[G],f!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ct(s,r,G,f,l,null)}return;default:if(Qu(r)){for(te in l)l.hasOwnProperty(te)&&(f=l[te],f!==void 0&&Id(s,r,te,f,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(f=l[E],f!=null&&ct(s,r,E,f,l,null))}function g_(s,r,l,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,_=null,E=null,U=null,G=null,te=null;for(Q in l){var se=l[Q];if(l.hasOwnProperty(Q)&&se!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":U=se;default:f.hasOwnProperty(Q)||ct(s,r,Q,null,f,se)}}for(var J in f){var Q=f[J];if(se=l[J],f.hasOwnProperty(J)&&(Q!=null||se!=null))switch(J){case"type":x=Q;break;case"name":g=Q;break;case"checked":G=Q;break;case"defaultChecked":te=Q;break;case"value":_=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==se&&ct(s,r,J,Q,f,se)}}Yu(s,_,E,U,G,te,x,g);return;case"select":Q=_=E=J=null;for(x in l)if(U=l[x],l.hasOwnProperty(x)&&U!=null)switch(x){case"value":break;case"multiple":Q=U;default:f.hasOwnProperty(x)||ct(s,r,x,null,f,U)}for(g in f)if(x=f[g],U=l[g],f.hasOwnProperty(g)&&(x!=null||U!=null))switch(g){case"value":J=x;break;case"defaultValue":E=x;break;case"multiple":_=x;default:x!==U&&ct(s,r,g,x,f,U)}r=E,l=_,f=Q,J!=null?Qs(s,!!l,J,!1):!!f!=!!l&&(r!=null?Qs(s,!!l,r,!0):Qs(s,!!l,l?[]:"",!1));return;case"textarea":Q=J=null;for(E in l)if(g=l[E],l.hasOwnProperty(E)&&g!=null&&!f.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ct(s,r,E,null,f,g)}for(_ in f)if(g=f[_],x=l[_],f.hasOwnProperty(_)&&(g!=null||x!=null))switch(_){case"value":J=g;break;case"defaultValue":Q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==x&&ct(s,r,_,g,f,x)}Uh(s,J,Q);return;case"option":for(var Me in l)if(J=l[Me],l.hasOwnProperty(Me)&&J!=null&&!f.hasOwnProperty(Me))switch(Me){case"selected":s.selected=!1;break;default:ct(s,r,Me,null,f,J)}for(U in f)if(J=f[U],Q=l[U],f.hasOwnProperty(U)&&J!==Q&&(J!=null||Q!=null))switch(U){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ct(s,r,U,J,f,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)J=l[Re],l.hasOwnProperty(Re)&&J!=null&&!f.hasOwnProperty(Re)&&ct(s,r,Re,null,f,J);for(G in f)if(J=f[G],Q=l[G],f.hasOwnProperty(G)&&J!==Q&&(J!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:ct(s,r,G,J,f,Q)}return;default:if(Qu(r)){for(var dt in l)J=l[dt],l.hasOwnProperty(dt)&&J!==void 0&&!f.hasOwnProperty(dt)&&Id(s,r,dt,void 0,f,J);for(te in f)J=f[te],Q=l[te],!f.hasOwnProperty(te)||J===Q||J===void 0&&Q===void 0||Id(s,r,te,J,f,Q);return}}for(var j in l)J=l[j],l.hasOwnProperty(j)&&J!=null&&!f.hasOwnProperty(j)&&ct(s,r,j,null,f,J);for(se in f)J=f[se],Q=l[se],!f.hasOwnProperty(se)||J===Q||J==null&&Q==null||ct(s,r,se,J,f,Q)}var Pd=null,Ld=null;function Il(s){return s.nodeType===9?s:s.ownerDocument}function Pg(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lg(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Od(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qd=null;function y_(){var s=window.event;return s&&s.type==="popstate"?s===qd?!1:(qd=s,!0):(qd=null,!1)}var Og=typeof setTimeout=="function"?setTimeout:void 0,v_=typeof clearTimeout=="function"?clearTimeout:void 0,qg=typeof Promise=="function"?Promise:void 0,x_=typeof queueMicrotask=="function"?queueMicrotask:typeof qg<"u"?function(s){return qg.resolve(null).then(s).catch(T_)}:Og;function T_(s){setTimeout(function(){throw s})}function Yi(s){return s==="head"}function Bg(s,r){var l=r,f=0,g=0;do{var x=l.nextSibling;if(s.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<f&&8>f){l=f;var _=s.ownerDocument;if(l&1&&Ko(_.documentElement),l&2&&Ko(_.body),l&4)for(l=_.head,Ko(l),_=l.firstChild;_;){var E=_.nextSibling,U=_.nodeName;_[uo]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=E}}if(g===0){s.removeChild(x),ia(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=x}while(l);ia(r)}function Bd(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Bd(l),zu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function b_(s,r,l,f){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[uo])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=Vn(s.nextSibling),s===null)break}return null}function __(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Vn(s.nextSibling),s===null))return null;return s}function jd(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function S_(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var f=function(){r(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Vn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Vd=null;function jg(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function Vg(s,r,l){switch(r=Il(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ko(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);zu(s)}var Dn=new Map,$g=new Set;function Pl(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var wi=ae.d;ae.d={f:w_,r:C_,D:E_,C:A_,L:N_,m:R_,X:M_,S:k_,M:D_};function w_(){var s=wi.f(),r=El();return s||r}function C_(s){var r=Hs(s);r!==null&&r.tag===5&&r.type==="form"?lp(r):wi.r(s)}var Er=typeof document>"u"?null:document;function Fg(s,r,l){var f=Er;if(f&&typeof r=="string"&&r){var g=Cn(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),$g.has(g)||($g.add(g),s={rel:s,crossOrigin:l,href:r},f.querySelector(g)===null&&(r=f.createElement("link"),Ft(r,"link",s),Pt(r),f.head.appendChild(r)))}}function E_(s){wi.D(s),Fg("dns-prefetch",s,null)}function A_(s,r){wi.C(s,r),Fg("preconnect",s,r)}function N_(s,r,l){wi.L(s,r,l);var f=Er;if(f&&s&&r){var g='link[rel="preload"][as="'+Cn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Cn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Cn(l.imageSizes)+'"]')):g+='[href="'+Cn(s)+'"]';var x=g;switch(r){case"style":x=Ar(s);break;case"script":x=Nr(s)}Dn.has(x)||(s=y({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),Dn.set(x,s),f.querySelector(g)!==null||r==="style"&&f.querySelector(Qo(x))||r==="script"&&f.querySelector(Zo(x))||(r=f.createElement("link"),Ft(r,"link",s),Pt(r),f.head.appendChild(r)))}}function R_(s,r){wi.m(s,r);var l=Er;if(l&&s){var f=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Cn(f)+'"][href="'+Cn(s)+'"]',x=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Nr(s)}if(!Dn.has(x)&&(s=y({rel:"modulepreload",href:s},r),Dn.set(x,s),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zo(x)))return}f=l.createElement("link"),Ft(f,"link",s),Pt(f),l.head.appendChild(f)}}}function k_(s,r,l){wi.S(s,r,l);var f=Er;if(f&&s){var g=Js(f).hoistableStyles,x=Ar(s);r=r||"default";var _=g.get(x);if(!_){var E={loading:0,preload:null};if(_=f.querySelector(Qo(x)))E.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":r},l),(l=Dn.get(x))&&$d(s,l);var U=_=f.createElement("link");Pt(U),Ft(U,"link",s),U._p=new Promise(function(G,te){U.onload=G,U.onerror=te}),U.addEventListener("load",function(){E.loading|=1}),U.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ll(_,r,f)}_={type:"stylesheet",instance:_,count:1,state:E},g.set(x,_)}}}function M_(s,r){wi.X(s,r);var l=Er;if(l&&s){var f=Js(l).hoistableScripts,g=Nr(s),x=f.get(g);x||(x=l.querySelector(Zo(g)),x||(s=y({src:s,async:!0},r),(r=Dn.get(g))&&Fd(s,r),x=l.createElement("script"),Pt(x),Ft(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function D_(s,r){wi.M(s,r);var l=Er;if(l&&s){var f=Js(l).hoistableScripts,g=Nr(s),x=f.get(g);x||(x=l.querySelector(Zo(g)),x||(s=y({src:s,async:!0,type:"module"},r),(r=Dn.get(g))&&Fd(s,r),x=l.createElement("script"),Pt(x),Ft(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function zg(s,r,l,f){var g=(g=oe.current)?Pl(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ar(l.href),l=Js(g).hoistableStyles,f=l.get(r),f||(f={type:"style",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ar(l.href);var x=Js(g).hoistableStyles,_=x.get(s);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,_),(x=g.querySelector(Qo(s)))&&!x._p&&(_.instance=x,_.state.loading=5),Dn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Dn.set(s,l),x||U_(g,s,l,_.state))),r&&f===null)throw Error(i(528,""));return _}if(r&&f!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Nr(l),l=Js(g).hoistableScripts,f=l.get(r),f||(f={type:"script",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ar(s){return'href="'+Cn(s)+'"'}function Qo(s){return'link[rel="stylesheet"]['+s+"]"}function Gg(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function U_(s,r,l,f){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=s.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),Ft(r,"link",l),Pt(r),s.head.appendChild(r))}function Nr(s){return'[src="'+Cn(s)+'"]'}function Zo(s){return"script[async]"+s}function Hg(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var f=s.querySelector('style[data-href~="'+Cn(l.href)+'"]');if(f)return r.instance=f,Pt(f),f;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Pt(f),Ft(f,"style",g),Ll(f,l.precedence,s),r.instance=f;case"stylesheet":g=Ar(l.href);var x=s.querySelector(Qo(g));if(x)return r.state.loading|=4,r.instance=x,Pt(x),x;f=Gg(l),(g=Dn.get(g))&&$d(f,g),x=(s.ownerDocument||s).createElement("link"),Pt(x);var _=x;return _._p=new Promise(function(E,U){_.onload=E,_.onerror=U}),Ft(x,"link",f),r.state.loading|=4,Ll(x,l.precedence,s),r.instance=x;case"script":return x=Nr(l.src),(g=s.querySelector(Zo(x)))?(r.instance=g,Pt(g),g):(f=l,(g=Dn.get(x))&&(f=y({},l),Fd(f,g)),s=s.ownerDocument||s,g=s.createElement("script"),Pt(g),Ft(g,"link",f),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,Ll(f,l.precedence,s));return r.instance}function Ll(s,r,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,x=g,_=0;_<f.length;_++){var E=f[_];if(E.dataset.precedence===r)x=E;else if(x!==g)break}x?x.parentNode.insertBefore(s,x.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function $d(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Fd(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Ol=null;function Jg(s,r,l){if(Ol===null){var f=new Map,g=Ol=new Map;g.set(l,f)}else g=Ol,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(s))return f;for(f.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var x=l[g];if(!(x[uo]||x[Jt]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var _=x.getAttribute(r)||"";_=s+_;var E=f.get(_);E?E.push(x):f.set(_,[x])}}return f}function Yg(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function I_(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kg(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Xo=null;function P_(){}function L_(s,r,l){if(Xo===null)throw Error(i(475));var f=Xo;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=Ar(l.href),x=s.querySelector(Qo(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=ql.bind(f),s.then(f,f)),r.state.loading|=4,r.instance=x,Pt(x);return}x=s.ownerDocument||s,l=Gg(l),(g=Dn.get(g))&&$d(l,g),x=x.createElement("link"),Pt(x);var _=x;_._p=new Promise(function(E,U){_.onload=E,_.onerror=U}),Ft(x,"link",l),r.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(f.count++,r=ql.bind(f),s.addEventListener("load",r),s.addEventListener("error",r))}}function O_(){if(Xo===null)throw Error(i(475));var s=Xo;return s.stylesheets&&s.count===0&&zd(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&zd(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function ql(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Bl=null;function zd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Bl=new Map,r.forEach(q_,s),Bl=null,ql.call(s))}function q_(s,r){if(!(r.state.loading&4)){var l=Bl.get(s);if(l)var f=l.get(null);else{l=new Map,Bl.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var _=g[x];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),f=_)}f&&l.set(null,f)}g=r.instance,_=g.getAttribute("data-precedence"),x=l.get(_)||f,x===f&&l.set(null,g),l.set(_,g),this.count++,f=ql.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),x?x.parentNode.insertBefore(g,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var Wo={$$typeof:D,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function B_(s,r,l,f,g,x,_,E){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_n(0),this.hiddenUpdates=_n(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Qg(s,r,l,f,g,x,_,E,U,G,te,se){return s=new B_(s,r,l,_,E,U,G,se),r=1,x===!0&&(r|=24),x=gn(3,null,null,r),s.current=x,x.stateNode=s,r=Cc(),r.refCount++,s.pooledCache=r,r.refCount++,x.memoizedState={element:f,isDehydrated:l,cache:r},Rc(x),s}function Zg(s){return s?(s=rr,s):rr}function Xg(s,r,l,f,g,x){g=Zg(g),f.context===null?f.context=g:f.pendingContext=g,f=Pi(r),f.payload={element:l},x=x===void 0?null:x,x!==null&&(f.callback=x),l=Li(s,f,r),l!==null&&(bn(l,s,r),Ro(l,s,r))}function Wg(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Gd(s,r){Wg(s,r),(s=s.alternate)&&Wg(s,r)}function ey(s){if(s.tag===13){var r=sr(s,67108864);r!==null&&bn(r,s,67108864),Gd(s,67108864)}}var jl=!0;function j_(s,r,l,f){var g=Z.T;Z.T=null;var x=ae.p;try{ae.p=2,Hd(s,r,l,f)}finally{ae.p=x,Z.T=g}}function V_(s,r,l,f){var g=Z.T;Z.T=null;var x=ae.p;try{ae.p=8,Hd(s,r,l,f)}finally{ae.p=x,Z.T=g}}function Hd(s,r,l,f){if(jl){var g=Jd(f);if(g===null)Ud(s,r,f,Vl,l),ny(s,f);else if(F_(g,s,r,l,f))f.stopPropagation();else if(ny(s,f),r&4&&-1<$_.indexOf(s)){for(;g!==null;){var x=Hs(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var _=Kn(x.pendingLanes);if(_!==0){var E=x;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var U=1<<31-fe(_);E.entanglements[1]|=U,_&=~U}ni(x),(ot&6)===0&&(wl=qe()+500,Ho(0))}}break;case 13:E=sr(x,2),E!==null&&bn(E,x,2),El(),Gd(x,2)}if(x=Jd(f),x===null&&Ud(s,r,f,Vl,l),x===g)break;g=x}g!==null&&f.stopPropagation()}else Ud(s,r,f,null,l)}}function Jd(s){return s=Xu(s),Yd(s)}var Vl=null;function Yd(s){if(Vl=null,s=Gs(s),s!==null){var r=a(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Vl=s,null}function ty(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case rt:return 2;case Oe:return 8;case Te:case ve:return 32;case He:return 268435456;default:return 32}default:return 32}}var Kd=!1,Ki=null,Qi=null,Zi=null,ea=new Map,ta=new Map,Xi=[],$_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ny(s,r){switch(s){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":ea.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(r.pointerId)}}function na(s,r,l,f,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:r,domEventName:l,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},r!==null&&(r=Hs(r),r!==null&&ey(r)),s):(s.eventSystemFlags|=f,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function F_(s,r,l,f,g){switch(r){case"focusin":return Ki=na(Ki,s,r,l,f,g),!0;case"dragenter":return Qi=na(Qi,s,r,l,f,g),!0;case"mouseover":return Zi=na(Zi,s,r,l,f,g),!0;case"pointerover":var x=g.pointerId;return ea.set(x,na(ea.get(x)||null,s,r,l,f,g)),!0;case"gotpointercapture":return x=g.pointerId,ta.set(x,na(ta.get(x)||null,s,r,l,f,g)),!0}return!1}function iy(s){var r=Gs(s.target);if(r!==null){var l=a(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,La(s.priority,function(){if(l.tag===13){var f=Tn();f=us(f);var g=sr(l,f);g!==null&&bn(g,l,f),Gd(l,f)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $l(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Jd(s.nativeEvent);if(l===null){l=s.nativeEvent;var f=new l.constructor(l.type,l);Zu=f,l.target.dispatchEvent(f),Zu=null}else return r=Hs(l),r!==null&&ey(r),s.blockedOn=l,!1;r.shift()}return!0}function sy(s,r,l){$l(s)&&l.delete(r)}function z_(){Kd=!1,Ki!==null&&$l(Ki)&&(Ki=null),Qi!==null&&$l(Qi)&&(Qi=null),Zi!==null&&$l(Zi)&&(Zi=null),ea.forEach(sy),ta.forEach(sy)}function Fl(s,r){s.blockedOn===r&&(s.blockedOn=null,Kd||(Kd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,z_)))}var zl=null;function ry(s){zl!==s&&(zl=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zl===s&&(zl=null);for(var r=0;r<s.length;r+=3){var l=s[r],f=s[r+1],g=s[r+2];if(typeof f!="function"){if(Yd(f||l)===null)continue;break}var x=Hs(l);x!==null&&(s.splice(r,3),r-=3,Yc(x,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function ia(s){function r(U){return Fl(U,s)}Ki!==null&&Fl(Ki,s),Qi!==null&&Fl(Qi,s),Zi!==null&&Fl(Zi,s),ea.forEach(r),ta.forEach(r);for(var l=0;l<Xi.length;l++){var f=Xi[l];f.blockedOn===s&&(f.blockedOn=null)}for(;0<Xi.length&&(l=Xi[0],l.blockedOn===null);)iy(l),l.blockedOn===null&&Xi.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],x=l[f+1],_=g[on]||null;if(typeof x=="function")_||ry(l);else if(_){var E=null;if(x&&x.hasAttribute("formAction")){if(g=x,_=x[on]||null)E=_.formAction;else if(Yd(g)!==null)continue}else E=_.action;typeof E=="function"?l[f+1]=E:(l.splice(f,3),f-=3),ry(l)}}}function Qd(s){this._internalRoot=s}Gl.prototype.render=Qd.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,f=Tn();Xg(l,f,s,r,null,null)},Gl.prototype.unmount=Qd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Xg(s.current,2,null,s,null,null),El(),r[zs]=null}};function Gl(s){this._internalRoot=s}Gl.prototype.unstable_scheduleHydration=function(s){if(s){var r=Fs();s={blockedOn:null,target:s,priority:r};for(var l=0;l<Xi.length&&r!==0&&r<Xi[l].priority;l++);Xi.splice(l,0,s),l===0&&iy(s)}};var oy=e.version;if(oy!=="19.1.0")throw Error(i(527,oy,"19.1.0"));ae.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var G_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{sn=Hl.inject(G_),Tt=Hl}catch{}}return ra.createRoot=function(s,r){if(!o(s))throw Error(i(299));var l=!1,f="",g=_p,x=Sp,_=wp,E=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=Qg(s,1,!1,null,null,l,f,g,x,_,E,null),s[zs]=r.current,Dd(s),new Qd(r)},ra.hydrateRoot=function(s,r,l){if(!o(s))throw Error(i(299));var f=!1,g="",x=_p,_=Sp,E=wp,U=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),r=Qg(s,1,!0,r,l??null,f,g,x,_,E,U,G),r.context=Zg(null),l=r.current,f=Tn(),f=us(f),g=Pi(f),g.callback=null,Li(l,g,f),l=f,r.current.lanes=l,Sn(r,l),ni(r),s[zs]=r.current,Dd(s),new Gl(r)},ra.version="19.1.0",ra}var gy;function iS(){if(gy)return Xd.exports;gy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xd.exports=nS(),Xd.exports}var sS=iS(),R=Xf(),oa={},yy;function rS(){if(yy)return oa;yy=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.parse=c,oa.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,w){const S=new a,N=b.length;if(N<2)return S;const A=(w==null?void 0:w.decode)||y;let M=0;do{const P=b.indexOf("=",M);if(P===-1)break;const D=b.indexOf(";",M),C=D===-1?N:D;if(P>C){M=b.lastIndexOf(";",P-1)+1;continue}const I=h(b,M,P),V=p(b,P,I),H=b.slice(I,V);if(S[H]===void 0){let ee=h(b,P+1,C),z=p(b,C,ee);const K=A(b.slice(ee,z));S[H]=K}M=C+1}while(M<N);return S}function h(b,w,S){do{const N=b.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<S);return S}function p(b,w,S){for(;w>S;){const N=b.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return S}function m(b,w,S){const N=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const A=N(w);if(!e.test(A))throw new TypeError(`argument val is invalid: ${w}`);let M=b+"="+A;if(!S)return M;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);M+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);M+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);M+="; Path="+S.path}if(S.expires){if(!T(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);M+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(M+="; HttpOnly"),S.secure&&(M+="; Secure"),S.partitioned&&(M+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return M}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return o.call(b)==="[object Date]"}return oa}rS();var vy="popstate";function oS(t={}){function e(i,o){let{pathname:a,search:c,hash:h}=i.location;return yf("",{pathname:a,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Ta(o)}return lS(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aS(){return Math.random().toString(36).substring(2,10)}function xy(t,e){return{usr:t.state,key:t.key,idx:e}}function yf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zr(e):e,state:n,key:e&&e.key||i||aS()}}function Ta({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function lS(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function T(){h="POP";let A=y(),M=A==null?null:A-m;m=A,p&&p({action:h,location:N.location,delta:M})}function b(A,M){h="PUSH";let P=yf(N.location,A,M);m=y()+1;let D=xy(P,m),C=N.createHref(P);try{c.pushState(D,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(C)}a&&p&&p({action:h,location:N.location,delta:1})}function w(A,M){h="REPLACE";let P=yf(N.location,A,M);m=y();let D=xy(P,m),C=N.createHref(P);c.replaceState(D,"",C),a&&p&&p({action:h,location:N.location,delta:0})}function S(A){return uS(A)}let N={get action(){return h},get location(){return t(o,c)},listen(A){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(vy,T),p=A,()=>{o.removeEventListener(vy,T),p=null}},createHref(A){return e(o,A)},createURL:S,encodeLocation(A){let M=S(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:w,go(A){return c.go(A)}};return N}function uS(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ta(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function z0(t,e,n="/"){return cS(t,e,n,!1)}function cS(t,e,n,i){let o=typeof e=="string"?Zr(e):e,a=Ni(o.pathname||"/",n);if(a==null)return null;let c=G0(t);dS(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=J0(a);h=TS(c[p],m,i)}return h}function G0(t,e=[],n=[],i=""){let o=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(yt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Ai([i,p.relativePath]),y=n.concat(p);a.children&&a.children.length>0&&(yt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),G0(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:vS(m,a.index),routesMeta:y})};return t.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let p of H0(a.path))o(a,c,p)}),e}function H0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=H0(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function dS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var fS=/^:[\w-]+$/,hS=3,mS=2,pS=1,gS=10,yS=-2,Ty=t=>t==="*";function vS(t,e){let n=t.split("/"),i=n.length;return n.some(Ty)&&(i+=yS),e&&(i+=mS),n.filter(o=>!Ty(o)).reduce((o,a)=>o+(fS.test(a)?hS:a===""?pS:gS),i)}function xS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function TS(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],m=h===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",T=ba({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),b=p.route;if(!T&&m&&n&&!i[i.length-1].route.index&&(T=ba({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Ai([a,T.pathname]),pathnameBase:CS(Ai([a,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(a=Ai([a,T.pathnameBase]))}return c}function ba(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=bS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:T},b)=>{if(y==="*"){let S=h[b]||"";c=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const w=h[b];return T&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:t}}function bS(t,e=!1,n=!0){zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function J0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ni(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function _S(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Zr(t):t;return{pathname:n?n.startsWith("/")?n:SS(n,e):e,search:ES(i),hash:AS(o)}}function SS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function sf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wf(t){let e=wS(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function eh(t,e,n,i=!1){let o;typeof t=="string"?o=Zr(t):(o={...t},yt(!o.pathname||!o.pathname.includes("?"),sf("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),sf("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),sf("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=n;else{let T=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}h=T>=0?e[T]:"/"}let p=_S(o,h),m=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Ai=t=>t.join("/").replace(/\/\/+/g,"/"),CS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ES=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Y0=["POST","PUT","PATCH","DELETE"];new Set(Y0);var RS=["GET",...Y0];new Set(RS);var Xr=R.createContext(null);Xr.displayName="DataRouter";var wu=R.createContext(null);wu.displayName="DataRouterState";var K0=R.createContext({isTransitioning:!1});K0.displayName="ViewTransition";var kS=R.createContext(new Map);kS.displayName="Fetchers";var MS=R.createContext(null);MS.displayName="Await";var Gn=R.createContext(null);Gn.displayName="Navigation";var Ea=R.createContext(null);Ea.displayName="Location";var Hn=R.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var th=R.createContext(null);th.displayName="RouteError";function DS(t,{relative:e}={}){yt(Bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=R.useContext(Gn),{hash:o,pathname:a,search:c}=Aa(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:Ai([n,a])),i.createHref({pathname:h,search:c,hash:o})}function Bs(){return R.useContext(Ea)!=null}function Jn(){return yt(Bs(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Ea).location}function Q0(t){yt(Bs(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=Jn();return R.useMemo(()=>ba(t,J0(e)),[e,t])}var Z0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X0(t){R.useContext(Gn).static||R.useLayoutEffect(t)}function Pn(){let{isDataRoute:t}=R.useContext(Hn);return t?GS():US()}function US(){yt(Bs(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Xr),{basename:e,navigator:n}=R.useContext(Gn),{matches:i}=R.useContext(Hn),{pathname:o}=Jn(),a=JSON.stringify(Wf(i)),c=R.useRef(!1);return X0(()=>{c.current=!0}),R.useCallback((p,m={})=>{if(zn(c.current,Z0),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=eh(p,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ai([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,a,o,t])}R.createContext(null);function W0(){let{matches:t}=R.useContext(Hn),e=t[t.length-1];return e?e.params:{}}function Aa(t,{relative:e}={}){let{matches:n}=R.useContext(Hn),{pathname:i}=Jn(),o=JSON.stringify(Wf(n));return R.useMemo(()=>eh(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function IS(t,e){return ex(t,e)}function ex(t,e,n,i){var M;yt(Bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(Gn),{matches:a}=R.useContext(Hn),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let P=y&&y.path||"";tx(p,!y||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let T=Jn(),b;if(e){let P=typeof e=="string"?Zr(e):e;yt(m==="/"||((M=P.pathname)==null?void 0:M.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=T;let w=b.pathname||"/",S=w;if(m!=="/"){let P=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let N=z0(t,{pathname:S});zn(y||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),zn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=BS(N&&N.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:Ai([m,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:Ai([m,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,n,i);return e&&A?R.createElement(Ea.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function PS(){let t=zS(),e=NS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,c)}var LS=R.createElement(PS,null),OS=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(Hn.Provider,{value:this.props.routeContext},R.createElement(th.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qS({routeContext:t,match:e,children:n}){let i=R.useContext(Xr);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Hn.Provider,{value:t},n)}function BS(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let p=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);yt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(n)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:T}=n,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||b){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let T,b=!1,w=null,S=null;n&&(T=a&&m.route.id?a[m.route.id]:void 0,w=m.route.errorElement||LS,c&&(h<0&&y===0?(tx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):h===y&&(b=!0,S=m.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,y+1)),A=()=>{let M;return T?M=w:b?M=S:m.route.Component?M=R.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=p,R.createElement(qS,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:M})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?R.createElement(OS,{location:n.location,revalidation:n.revalidation,component:w,error:T,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):A()},null)}function nh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jS(t){let e=R.useContext(Xr);return yt(e,nh(t)),e}function VS(t){let e=R.useContext(wu);return yt(e,nh(t)),e}function $S(t){let e=R.useContext(Hn);return yt(e,nh(t)),e}function ih(t){let e=$S(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FS(){return ih("useRouteId")}function zS(){var i;let t=R.useContext(th),e=VS("useRouteError"),n=ih("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function GS(){let{router:t}=jS("useNavigate"),e=ih("useNavigate"),n=R.useRef(!1);return X0(()=>{n.current=!0}),R.useCallback(async(o,a={})=>{zn(n.current,Z0),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var by={};function tx(t,e,n){!e&&!by[t]&&(by[t]=!0,zn(!1,n))}R.memo(HS);function HS({routes:t,future:e,state:n}){return ex(t,void 0,n,e)}function JS({to:t,replace:e,state:n,relative:i}){yt(Bs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(Gn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext(Hn),{pathname:c}=Jn(),h=Pn(),p=eh(t,Wf(a),c,i==="path"),m=JSON.stringify(p);return R.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:i})},[h,m,i,e,n]),null}function St(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YS({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){yt(!Bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=Zr(n));let{pathname:p="/",search:m="",hash:y="",state:T=null,key:b="default"}=n,w=R.useMemo(()=>{let S=Ni(p,c);return S==null?null:{location:{pathname:S,search:m,hash:y,state:T,key:b},navigationType:i}},[c,p,m,y,T,b,i]);return zn(w!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:R.createElement(Gn.Provider,{value:h},R.createElement(Ea.Provider,{children:e,value:w}))}function KS({children:t,location:e}){return IS(vf(t),e)}function vf(t,e=[]){let n=[];return R.Children.forEach(t,(i,o)=>{if(!R.isValidElement(i))return;let a=[...e,o];if(i.type===R.Fragment){n.push.apply(n,vf(i.props.children,a));return}yt(i.type===St,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=vf(i.props.children,a)),n.push(c)}),n}var iu="get",su="application/x-www-form-urlencoded";function Cu(t){return t!=null&&typeof t.tagName=="string"}function QS(t){return Cu(t)&&t.tagName.toLowerCase()==="button"}function ZS(t){return Cu(t)&&t.tagName.toLowerCase()==="form"}function XS(t){return Cu(t)&&t.tagName.toLowerCase()==="input"}function WS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ew(t,e){return t.button===0&&(!e||e==="_self")&&!WS(t)}var Jl=null;function tw(){if(Jl===null)try{new FormData(document.createElement("form"),0),Jl=!1}catch{Jl=!0}return Jl}var nw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rf(t){return t!=null&&!nw.has(t)?(zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${su}"`),null):t}function iw(t,e){let n,i,o,a,c;if(ZS(t)){let h=t.getAttribute("action");i=h?Ni(h,e):null,n=t.getAttribute("method")||iu,o=rf(t.getAttribute("enctype"))||su,a=new FormData(t)}else if(QS(t)||XS(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(i=p?Ni(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||iu,o=rf(t.getAttribute("formenctype"))||rf(h.getAttribute("enctype"))||su,a=new FormData(h,t),!tw()){let{name:m,type:y,value:T}=t;if(y==="image"){let b=m?`${m}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else m&&a.append(m,T)}}else{if(Cu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=iu,i=null,o=su,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:c}}function sh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function sw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ow(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await sw(a,n);return c.links?c.links():[]}return[]}));return cw(i.flat(1).filter(rw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _y(t,e,n,i,o,a){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):a==="data"?e.filter((p,m)=>{var T;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function aw(t,e,{includeHydrateFallback:n}={}){return lw(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function lw(t){return[...new Set(t)]}function uw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function cw(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(uw(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dw=new Set([100,101,204,205]);function fw(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ni(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function nx(){let t=R.useContext(Xr);return sh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hw(){let t=R.useContext(wu);return sh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rh=R.createContext(void 0);rh.displayName="FrameworkContext";function ix(){let t=R.useContext(rh);return sh(t,"You must render this element inside a <HydratedRouter> element"),t}function mw(t,e){let n=R.useContext(rh),[i,o]=R.useState(!1),[a,c]=R.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:T}=e,b=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=M=>{M.forEach(P=>{c(P.isIntersecting)})},A=new IntersectionObserver(N,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[t]),R.useEffect(()=>{if(i){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[i]);let w=()=>{o(!0)},S=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:aa(h,w),onBlur:aa(p,S),onMouseEnter:aa(m,w),onMouseLeave:aa(y,S),onTouchStart:aa(T,w)}]:[!1,b,{}]}function aa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pw({page:t,...e}){let{router:n}=nx(),i=R.useMemo(()=>z0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?R.createElement(yw,{page:t,matches:i,...e}):null}function gw(t){let{manifest:e,routeModules:n}=ix(),[i,o]=R.useState([]);return R.useEffect(()=>{let a=!1;return ow(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),i}function yw({page:t,matches:e,...n}){let i=Jn(),{manifest:o,routeModules:a}=ix(),{basename:c}=nx(),{loaderData:h,matches:p}=hw(),m=R.useMemo(()=>_y(t,e,p,o,i,"data"),[t,e,p,o,i]),y=R.useMemo(()=>_y(t,e,p,o,i,"assets"),[t,e,p,o,i]),T=R.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,N=!1;if(e.forEach(M=>{var D;let P=o.routes[M.route.id];!P||!P.hasLoader||(!m.some(C=>C.route.id===M.route.id)&&M.route.id in h&&((D=a[M.route.id])!=null&&D.shouldRevalidate)||P.hasClientLoader?N=!0:S.add(M.route.id))}),S.size===0)return[];let A=fw(t,c);return N&&S.size>0&&A.searchParams.set("_routes",e.filter(M=>S.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[c,h,i,o,m,e,t,a]),b=R.useMemo(()=>aw(y,o),[y,o]),w=gw(y);return R.createElement(R.Fragment,null,T.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:N})=>R.createElement("link",{key:S,...N})))}function vw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sx&&(window.__reactRouterVersion="7.6.3")}catch{}function xw({basename:t,children:e,window:n}){let i=R.useRef();i.current==null&&(i.current=oS({window:n,v5Compat:!0}));let o=i.current,[a,c]=R.useState({action:o.action,location:o.location}),h=R.useCallback(p=>{R.startTransition(()=>c(p))},[c]);return R.useLayoutEffect(()=>o.listen(h),[o,h]),R.createElement(YS,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=R.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:T,...b},w){let{basename:S}=R.useContext(Gn),N=typeof m=="string"&&rx.test(m),A,M=!1;if(typeof m=="string"&&N&&(A=m,sx))try{let z=new URL(window.location.href),K=m.startsWith("//")?new URL(z.protocol+m):new URL(m),ne=Ni(K.pathname,S);K.origin===z.origin&&ne!=null?m=ne+K.search+K.hash:M=!0}catch{zn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=DS(m,{relative:o}),[D,C,I]=mw(i,b),V=Sw(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:o,viewTransition:T});function H(z){e&&e(z),z.defaultPrevented||V(z)}let ee=R.createElement("a",{...b,...I,href:A||P,onClick:M||a?e:H,ref:vw(w,C),target:p,"data-discover":!N&&n==="render"?"true":void 0});return D&&!N?R.createElement(R.Fragment,null,ee,R.createElement(pw,{page:P})):ee});Qe.displayName="Link";var Tw=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:h,children:p,...m},y){let T=Aa(c,{relative:m.relative}),b=Jn(),w=R.useContext(wu),{navigator:S,basename:N}=R.useContext(Gn),A=w!=null&&Nw(T)&&h===!0,M=S.encodeLocation?S.encodeLocation(T).pathname:T.pathname,P=b.pathname,D=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(P=P.toLowerCase(),D=D?D.toLowerCase():null,M=M.toLowerCase()),D&&N&&(D=Ni(D,N)||D);const C=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let I=P===M||!o&&P.startsWith(M)&&P.charAt(C)==="/",V=D!=null&&(D===M||!o&&D.startsWith(M)&&D.charAt(M.length)==="/"),H={isActive:I,isPending:V,isTransitioning:A},ee=I?e:void 0,z;typeof i=="function"?z=i(H):z=[i,I?"active":null,V?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(H):a;return R.createElement(Qe,{...m,"aria-current":ee,className:z,ref:y,style:K,to:c,viewTransition:h},typeof p=="function"?p(H):p)});Tw.displayName="NavLink";var bw=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:c=iu,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:T,...b},w)=>{let S=Ew(),N=Aw(h,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&rx.test(h),P=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let C=D.nativeEvent.submitter,I=(C==null?void 0:C.getAttribute("formmethod"))||c;S(C||D.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:a,relative:m,preventScrollReset:y,viewTransition:T})};return R.createElement("form",{ref:w,method:A,action:N,onSubmit:i?p:P,...b,"data-discover":!M&&t==="render"?"true":void 0})});bw.displayName="Form";function _w(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ox(t){let e=R.useContext(Xr);return yt(e,_w(t)),e}function Sw(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=Pn(),p=Jn(),m=Aa(t,{relative:a});return R.useCallback(y=>{if(ew(y,e)){y.preventDefault();let T=n!==void 0?n:Ta(p)===Ta(m);h(t,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,m,n,i,e,t,o,a,c])}var ww=0,Cw=()=>`__${String(++ww)}__`;function Ew(){let{router:t}=ox("useSubmit"),{basename:e}=R.useContext(Gn),n=FS();return R.useCallback(async(i,o={})=>{let{action:a,method:c,encType:h,formData:p,body:m}=iw(i,e);if(o.navigate===!1){let y=o.fetcherKey||Cw();await t.fetch(y,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function Aw(t,{relative:e}={}){let{basename:n}=R.useContext(Gn),i=R.useContext(Hn);yt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Aa(t||".",{relative:e})},c=Jn();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(T=>T).forEach(T=>h.append("index",T));let y=h.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ai([n,a.pathname])),Ta(a)}function Nw(t,e={}){let n=R.useContext(K0);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ox("useViewTransitionState"),o=Aa(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ni(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ni(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ba(o.pathname,c)!=null||ba(o.pathname,a)!=null}[...dw];const Rw=({user:t})=>v.jsxs("div",{className:"min-h-screen flex flex-col items-center px-6 py-24 text-center overflow-hidden",children:[v.jsxs("div",{className:"max-w-4xl animate-fade-in-up",children:[v.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white leading-tight mb-6 drop-shadow-md",children:"Welcome to Libertyville High School Science Olympiad"}),v.jsx("p",{className:"text-lg sm:text-xl bg-white/20 text-orange-50 font-medium rounded-xl shadow-lg p-5 max-w-4xl mx-auto mb-15 backdrop-blur-md",children:"Join the community, access events, practice tests, and excel in Science Olympiad!"}),v.jsx("div",{className:"mb-16 animate-fade-in-up animation-delay-200",children:t?v.jsx(Qe,{to:"/events",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Events & Resources"}):v.jsx(Qe,{to:"/signup",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Get Started"})})]}),v.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 w-full max-w-4xl animate-fade-in-up animation-delay-400",children:[v.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[v.jsx("div",{className:"text-5xl mb-4",children:"🎯"}),v.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Track Your Progress"}),v.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Monitor your performance and improve with feedback."})]}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[v.jsx("div",{className:"text-5xl mb-4",children:"📚"}),v.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Practice Tests"}),v.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Access curated practice tests tailored for Science Olympiad events."})]})]})]}),kw=t=>{const[e,n]=R.useState(""),[i,o]=R.useState(""),a=async c=>{c.preventDefault(),await t.handleSignIn({email:e,password:i})&&(n(""),o(""))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign in to LHS Scioly"}),v.jsxs("form",{onSubmit:a,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),v.jsx("input",{value:e,onChange:({target:c})=>n(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),v.jsx("input",{type:"password",value:i,onChange:({target:c})=>o(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign In"}),v.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline mt-2",children:v.jsx(Qe,{to:"/signup",children:"Don't have an account? Sign Up"})}),v.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:v.jsx(Qe,{to:"/forgot",children:"Forgot password?"})})]})]})},Mw=t=>{const[e,n]=R.useState(""),[i,o]=R.useState(""),[a,c]=R.useState(""),[h,p]=R.useState(""),[m,y]=R.useState(""),[T,b]=R.useState(""),[w,S]=R.useState(!1);Pn();const N=async A=>{if(A.preventDefault(),h!==m){t.setError("passwords do not match"),setTimeout(()=>{t.setError(null)},3e3);return}await t.handleSignUp({email:e,firstName:i,lastName:a,password:h,adminKey:T})&&(n(""),o(""),c(""),p(""),y(""),b(""))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign up for LHS Scioly"}),v.jsxs("form",{onSubmit:N,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),v.jsx("input",{value:e,onChange:({target:A})=>n(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"First Name"}),v.jsx("input",{value:i,onChange:({target:A})=>o(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Last Name"}),v.jsx("input",{value:a,onChange:({target:A})=>c(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),v.jsx("input",{type:"password",value:h,onChange:({target:A})=>p(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Confirm Password"}),v.jsx("input",{type:"password",value:m,onChange:({target:A})=>y(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),w?v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Admin Key"}),v.jsx("input",{type:"password",value:T,onChange:({target:A})=>b(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"}),v.jsx("button",{type:"button",onClick:()=>S(!1),className:"text-orange-600 hover:underline",children:"Cancel"})]}):v.jsx("div",{children:v.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-orange-600 hover:underline",children:"I am a Coach or Captain"})}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign Up"}),v.jsxs("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:["Already have an account? ",v.jsx(Qe,{to:"/signin",children:"Sign In"})]})]})]})},Dw=t=>{const[e,n]=R.useState(!1),[i,o]=R.useState(t.event.name),[a,c]=R.useState(t.event.block),[h,p]=R.useState(t.event.group),[m,y]=R.useState(t.event.description),[T,b]=R.useState(""),[w,S]=R.useState(t.event.resources),N=async P=>{P.preventDefault(),await t.editEvent(t.event.id,{name:i,group:h,block:a,description:m,resources:w}),n(!1)},A=async()=>{await t.deleteEvent(t.event.id)},M=()=>{T.trim()&&(S(w.concat(T.trim())),b(""))};return e?v.jsx("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:v.jsxs("form",{onSubmit:N,children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("div",{className:"mb-1",children:v.jsx("input",{value:i,onChange:({target:P})=>o(P.value),className:"text-lg font-semibold text-orange-700 px-2 py-1 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",children:"Save"}),v.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:()=>{n(!1),o(t.event.name),c(t.event.block),p(t.event.group),y(t.event.description),b(""),S(t.event.resources)},children:"Cancel"})]})]}),v.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("label",{className:"font-medium block mb-1",children:"Category"}),v.jsxs("select",{name:"category",value:h,onChange:({target:P})=>p(P.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[v.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),v.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),v.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),v.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),v.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),v.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),v.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("label",{className:"font-medium block mb-1",children:"Block"}),v.jsxs("select",{name:"block",value:a,onChange:({target:P})=>c(P.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[v.jsx("option",{value:"",children:"Self Schedule"}),v.jsx("option",{value:"1",children:"Block 1"}),v.jsx("option",{value:"2",children:"Block 2"}),v.jsx("option",{value:"3",children:"Block 3"}),v.jsx("option",{value:"4",children:"Block 4"}),v.jsx("option",{value:"5",children:"Block 5"})]})]}),v.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("label",{className:"font-medium block mb-1",children:"Description:"}),v.jsx("textarea",{value:m,onChange:({target:P})=>y(P.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",rows:4})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(P=>v.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[v.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:P}),v.jsx("button",{type:"button",onClick:()=>S(w.filter(D=>D!==P)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:"×"})]},P))})]}),v.jsxs("div",{className:"pt-3",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:T,onChange:({target:P})=>b(P.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),v.jsx("button",{onClick:M,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]})]})}):v.jsxs("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-1",children:t.event.name}),t.user&&t.user.admin?v.jsxs("div",{className:"flex justify-between gap-2",children:[v.jsx("button",{className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-orange-700 transition",onClick:()=>n(!0),children:"Edit"}),v.jsx("button",{className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:A,children:"Delete"})]}):null]}),v.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[v.jsx("span",{className:"font-medium",children:"Category:"})," ",t.event.group]}),v.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[v.jsx("span",{className:"font-medium",children:"Block:"})," ",t.event.block===""?"Self Schedule":t.event.block]}),v.jsxs("p",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("span",{className:"font-medium",children:"Description:"})," ",t.event.description]}),t.user?v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:t.event.resources.map(P=>v.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:P},P))})]}):null]})};function ax(t,e){return function(){return t.apply(e,arguments)}}const{toString:Uw}=Object.prototype,{getPrototypeOf:oh}=Object,{iterator:Eu,toStringTag:lx}=Symbol,Au=(t=>e=>{const n=Uw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yn=t=>(t=t.toLowerCase(),e=>Au(e)===t),Nu=t=>e=>typeof e===t,{isArray:Wr}=Array,_a=Nu("undefined");function Iw(t){return t!==null&&!_a(t)&&t.constructor!==null&&!_a(t.constructor)&&hn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ux=Yn("ArrayBuffer");function Pw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ux(t.buffer),e}const Lw=Nu("string"),hn=Nu("function"),cx=Nu("number"),Ru=t=>t!==null&&typeof t=="object",Ow=t=>t===!0||t===!1,ru=t=>{if(Au(t)!=="object")return!1;const e=oh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(lx in t)&&!(Eu in t)},qw=Yn("Date"),Bw=Yn("File"),jw=Yn("Blob"),Vw=Yn("FileList"),$w=t=>Ru(t)&&hn(t.pipe),Fw=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||hn(t.append)&&((e=Au(t))==="formdata"||e==="object"&&hn(t.toString)&&t.toString()==="[object FormData]"))},zw=Yn("URLSearchParams"),[Gw,Hw,Jw,Yw]=["ReadableStream","Request","Response","Headers"].map(Yn),Kw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Na(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,o;if(typeof t!="object"&&(t=[t]),Wr(t))for(i=0,o=t.length;i<o;i++)e.call(null,t[i],i,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let h;for(i=0;i<c;i++)h=a[i],e.call(null,t[h],h,t)}}function dx(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,o;for(;i-- >0;)if(o=n[i],e===o.toLowerCase())return o;return null}const Ms=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fx=t=>!_a(t)&&t!==Ms;function xf(){const{caseless:t}=fx(this)&&this||{},e={},n=(i,o)=>{const a=t&&dx(e,o)||o;ru(e[a])&&ru(i)?e[a]=xf(e[a],i):ru(i)?e[a]=xf({},i):Wr(i)?e[a]=i.slice():e[a]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Na(arguments[i],n);return e}const Qw=(t,e,n,{allOwnKeys:i}={})=>(Na(e,(o,a)=>{n&&hn(o)?t[a]=ax(o,n):t[a]=o},{allOwnKeys:i}),t),Zw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Xw=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ww=(t,e,n,i)=>{let o,a,c;const h={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)c=o[a],(!i||i(c,t,e))&&!h[c]&&(e[c]=t[c],h[c]=!0);t=n!==!1&&oh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},eC=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},tC=t=>{if(!t)return null;if(Wr(t))return t;let e=t.length;if(!cx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},nC=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&oh(Uint8Array)),iC=(t,e)=>{const i=(t&&t[Eu]).call(t);let o;for(;(o=i.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},sC=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},rC=Yn("HTMLFormElement"),oC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),Sy=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),aC=Yn("RegExp"),hx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Na(n,(o,a)=>{let c;(c=e(o,a,t))!==!1&&(i[a]=c||o)}),Object.defineProperties(t,i)},lC=t=>{hx(t,(e,n)=>{if(hn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(hn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},uC=(t,e)=>{const n={},i=o=>{o.forEach(a=>{n[a]=!0})};return Wr(t)?i(t):i(String(t).split(e)),n},cC=()=>{},dC=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function fC(t){return!!(t&&hn(t.append)&&t[lx]==="FormData"&&t[Eu])}const hC=t=>{const e=new Array(10),n=(i,o)=>{if(Ru(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;const a=Wr(i)?[]:{};return Na(i,(c,h)=>{const p=n(c,o+1);!_a(p)&&(a[h]=p)}),e[o]=void 0,a}}return i};return n(t,0)},mC=Yn("AsyncFunction"),pC=t=>t&&(Ru(t)||hn(t))&&hn(t.then)&&hn(t.catch),mx=((t,e)=>t?setImmediate:e?((n,i)=>(Ms.addEventListener("message",({source:o,data:a})=>{o===Ms&&a===n&&i.length&&i.shift()()},!1),o=>{i.push(o),Ms.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",hn(Ms.postMessage)),gC=typeof queueMicrotask<"u"?queueMicrotask.bind(Ms):typeof process<"u"&&process.nextTick||mx,yC=t=>t!=null&&hn(t[Eu]),X={isArray:Wr,isArrayBuffer:ux,isBuffer:Iw,isFormData:Fw,isArrayBufferView:Pw,isString:Lw,isNumber:cx,isBoolean:Ow,isObject:Ru,isPlainObject:ru,isReadableStream:Gw,isRequest:Hw,isResponse:Jw,isHeaders:Yw,isUndefined:_a,isDate:qw,isFile:Bw,isBlob:jw,isRegExp:aC,isFunction:hn,isStream:$w,isURLSearchParams:zw,isTypedArray:nC,isFileList:Vw,forEach:Na,merge:xf,extend:Qw,trim:Kw,stripBOM:Zw,inherits:Xw,toFlatObject:Ww,kindOf:Au,kindOfTest:Yn,endsWith:eC,toArray:tC,forEachEntry:iC,matchAll:sC,isHTMLForm:rC,hasOwnProperty:Sy,hasOwnProp:Sy,reduceDescriptors:hx,freezeMethods:lC,toObjectSet:uC,toCamelCase:oC,noop:cC,toFiniteNumber:dC,findKey:dx,global:Ms,isContextDefined:fx,isSpecCompliantForm:fC,toJSONObject:hC,isAsyncFn:mC,isThenable:pC,setImmediate:mx,asap:gC,isIterable:yC};function je(t,e,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}X.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const px=je.prototype,gx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gx[t]={value:t}});Object.defineProperties(je,gx);Object.defineProperty(px,"isAxiosError",{value:!0});je.from=(t,e,n,i,o,a)=>{const c=Object.create(px);return X.toFlatObject(t,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),je.call(c,t.message,e,n,i,o),c.cause=t,c.name=t.name,a&&Object.assign(c,a),c};const vC=null;function Tf(t){return X.isPlainObject(t)||X.isArray(t)}function yx(t){return X.endsWith(t,"[]")?t.slice(0,-2):t}function wy(t,e,n){return t?t.concat(e).map(function(o,a){return o=yx(o),!n&&a?"["+o+"]":o}).join(n?".":""):e}function xC(t){return X.isArray(t)&&!t.some(Tf)}const TC=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function ku(t,e,n){if(!X.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,A){return!X.isUndefined(A[N])});const i=n.metaTokens,o=n.visitor||y,a=n.dots,c=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(o))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(X.isDate(S))return S.toISOString();if(X.isBoolean(S))return S.toString();if(!p&&X.isBlob(S))throw new je("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(S)||X.isTypedArray(S)?p&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,N,A){let M=S;if(S&&!A&&typeof S=="object"){if(X.endsWith(N,"{}"))N=i?N:N.slice(0,-2),S=JSON.stringify(S);else if(X.isArray(S)&&xC(S)||(X.isFileList(S)||X.endsWith(N,"[]"))&&(M=X.toArray(S)))return N=yx(N),M.forEach(function(D,C){!(X.isUndefined(D)||D===null)&&e.append(c===!0?wy([N],C,a):c===null?N:N+"[]",m(D))}),!1}return Tf(S)?!0:(e.append(wy(A,N,a),m(S)),!1)}const T=[],b=Object.assign(TC,{defaultVisitor:y,convertValue:m,isVisitable:Tf});function w(S,N){if(!X.isUndefined(S)){if(T.indexOf(S)!==-1)throw Error("Circular reference detected in "+N.join("."));T.push(S),X.forEach(S,function(M,P){(!(X.isUndefined(M)||M===null)&&o.call(e,M,X.isString(P)?P.trim():P,N,b))===!0&&w(M,N?N.concat(P):[P])}),T.pop()}}if(!X.isObject(t))throw new TypeError("data must be an object");return w(t),e}function Cy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function ah(t,e){this._pairs=[],t&&ku(t,this,e)}const vx=ah.prototype;vx.append=function(e,n){this._pairs.push([e,n])};vx.toString=function(e){const n=e?function(i){return e.call(this,i,Cy)}:Cy;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function bC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xx(t,e,n){if(!e)return t;const i=n&&n.encode||bC;X.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(o?a=o(e,n):a=X.isURLSearchParams(e)?e.toString():new ah(e,n).toString(i),a){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Ey{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Tx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_C=typeof URLSearchParams<"u"?URLSearchParams:ah,SC=typeof FormData<"u"?FormData:null,wC=typeof Blob<"u"?Blob:null,CC={isBrowser:!0,classes:{URLSearchParams:_C,FormData:SC,Blob:wC},protocols:["http","https","file","blob","url","data"]},lh=typeof window<"u"&&typeof document<"u",bf=typeof navigator=="object"&&navigator||void 0,EC=lh&&(!bf||["ReactNative","NativeScript","NS"].indexOf(bf.product)<0),AC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NC=lh&&window.location.href||"http://localhost",RC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lh,hasStandardBrowserEnv:EC,hasStandardBrowserWebWorkerEnv:AC,navigator:bf,origin:NC},Symbol.toStringTag,{value:"Module"})),Xt={...RC,...CC};function kC(t,e){return ku(t,new Xt.classes.URLSearchParams,Object.assign({visitor:function(n,i,o,a){return Xt.isNode&&X.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function MC(t){return X.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function DC(t){const e={},n=Object.keys(t);let i;const o=n.length;let a;for(i=0;i<o;i++)a=n[i],e[a]=t[a];return e}function bx(t){function e(n,i,o,a){let c=n[a++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=a>=n.length;return c=!c&&X.isArray(o)?o.length:c,p?(X.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!h):((!o[c]||!X.isObject(o[c]))&&(o[c]=[]),e(n,i,o[c],a)&&X.isArray(o[c])&&(o[c]=DC(o[c])),!h)}if(X.isFormData(t)&&X.isFunction(t.entries)){const n={};return X.forEachEntry(t,(i,o)=>{e(MC(i),o,n,0)}),n}return null}function UC(t,e,n){if(X.isString(t))try{return(e||JSON.parse)(t),X.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Ra={transitional:Tx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,a=X.isObject(e);if(a&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return o?JSON.stringify(bx(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return kC(e,this.formSerializer).toString();if((h=X.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return ku(h?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(n.setContentType("application/json",!1),UC(e)):e}],transformResponse:[function(e){const n=this.transitional||Ra.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(i&&!this.responseType||o)){const c=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?je.from(h,je.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],t=>{Ra.headers[t]={}});const IC=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PC=t=>{const e={};let n,i,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),n=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!n||e[n]&&IC[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Ay=Symbol("internals");function la(t){return t&&String(t).trim().toLowerCase()}function ou(t){return t===!1||t==null?t:X.isArray(t)?t.map(ou):String(t)}function LC(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const OC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function of(t,e,n,i,o){if(X.isFunction(i))return i.call(this,e,n);if(o&&(e=n),!!X.isString(e)){if(X.isString(i))return e.indexOf(i)!==-1;if(X.isRegExp(i))return i.test(e)}}function qC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function BC(t,e){const n=X.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(o,a,c){return this[i].call(this,e,o,a,c)},configurable:!0})})}let mn=class{constructor(e){e&&this.set(e)}set(e,n,i){const o=this;function a(h,p,m){const y=la(p);if(!y)throw new Error("header name must be a non-empty string");const T=X.findKey(o,y);(!T||o[T]===void 0||m===!0||m===void 0&&o[T]!==!1)&&(o[T||p]=ou(h))}const c=(h,p)=>X.forEach(h,(m,y)=>a(m,y,p));if(X.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(X.isString(e)&&(e=e.trim())&&!OC(e))c(PC(e),n);else if(X.isObject(e)&&X.isIterable(e)){let h={},p,m;for(const y of e){if(!X.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[m=y[0]]=(p=h[m])?X.isArray(p)?[...p,y[1]]:[p,y[1]]:y[1]}c(h,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=la(e),e){const i=X.findKey(this,e);if(i){const o=this[i];if(!n)return o;if(n===!0)return LC(o);if(X.isFunction(n))return n.call(this,o,i);if(X.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=la(e),e){const i=X.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||of(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let o=!1;function a(c){if(c=la(c),c){const h=X.findKey(i,c);h&&(!n||of(i,i[h],h,n))&&(delete i[h],o=!0)}}return X.isArray(e)?e.forEach(a):a(e),o}clear(e){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const a=n[i];(!e||of(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const n=this,i={};return X.forEach(this,(o,a)=>{const c=X.findKey(i,a);if(c){n[c]=ou(o),delete n[a];return}const h=e?qC(a):String(a).trim();h!==a&&delete n[a],n[h]=ou(o),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return X.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=e&&X.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[Ay]=this[Ay]={accessors:{}}).accessors,o=this.prototype;function a(c){const h=la(c);i[h]||(BC(o,c),i[h]=!0)}return X.isArray(e)?e.forEach(a):a(e),this}};mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(mn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});X.freezeMethods(mn);function af(t,e){const n=this||Ra,i=e||n,o=mn.from(i.headers);let a=i.data;return X.forEach(t,function(h){a=h.call(n,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function _x(t){return!!(t&&t.__CANCEL__)}function eo(t,e,n){je.call(this,t??"canceled",je.ERR_CANCELED,e,n),this.name="CanceledError"}X.inherits(eo,je,{__CANCEL__:!0});function Sx(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new je("Request failed with status code "+n.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function jC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function VC(t,e){t=t||10;const n=new Array(t),i=new Array(t);let o=0,a=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),y=i[a];c||(c=m),n[o]=p,i[o]=m;let T=a,b=0;for(;T!==o;)b+=n[T++],T=T%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),m-c<e)return;const w=y&&m-y;return w?Math.round(b*1e3/w):void 0}}function $C(t,e){let n=0,i=1e3/e,o,a;const c=(m,y=Date.now())=>{n=y,o=null,a&&(clearTimeout(a),a=null),t.apply(null,m)};return[(...m)=>{const y=Date.now(),T=y-n;T>=i?c(m,y):(o=m,a||(a=setTimeout(()=>{a=null,c(o)},i-T)))},()=>o&&c(o)]}const fu=(t,e,n=3)=>{let i=0;const o=VC(50,250);return $C(a=>{const c=a.loaded,h=a.lengthComputable?a.total:void 0,p=c-i,m=o(p),y=c<=h;i=c;const T={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&y?(h-c)/m:void 0,event:a,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(T)},n)},Ny=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},Ry=t=>(...e)=>X.asap(()=>t(...e)),FC=Xt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Xt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,zC=Xt.hasStandardBrowserEnv?{write(t,e,n,i,o,a){const c=[t+"="+encodeURIComponent(e)];X.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),X.isString(i)&&c.push("path="+i),X.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function GC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function HC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wx(t,e,n){let i=!GC(e);return t&&(i||n==!1)?HC(t,e):e}const ky=t=>t instanceof mn?{...t}:t;function Is(t,e){e=e||{};const n={};function i(m,y,T,b){return X.isPlainObject(m)&&X.isPlainObject(y)?X.merge.call({caseless:b},m,y):X.isPlainObject(y)?X.merge({},y):X.isArray(y)?y.slice():y}function o(m,y,T,b){if(X.isUndefined(y)){if(!X.isUndefined(m))return i(void 0,m,T,b)}else return i(m,y,T,b)}function a(m,y){if(!X.isUndefined(y))return i(void 0,y)}function c(m,y){if(X.isUndefined(y)){if(!X.isUndefined(m))return i(void 0,m)}else return i(void 0,y)}function h(m,y,T){if(T in e)return i(m,y);if(T in t)return i(void 0,m)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(m,y,T)=>o(ky(m),ky(y),T,!0)};return X.forEach(Object.keys(Object.assign({},t,e)),function(y){const T=p[y]||o,b=T(t[y],e[y],y);X.isUndefined(b)&&T!==h||(n[y]=b)}),n}const Cx=t=>{const e=Is({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:h}=e;e.headers=c=mn.from(c),e.url=xx(wx(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(X.isFormData(n)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...y]=p?p.split(";").map(T=>T.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...y].join("; "))}}if(Xt.hasStandardBrowserEnv&&(i&&X.isFunction(i)&&(i=i(e)),i||i!==!1&&FC(e.url))){const m=o&&a&&zC.read(a);m&&c.set(o,m)}return e},JC=typeof XMLHttpRequest<"u",YC=JC&&function(t){return new Promise(function(n,i){const o=Cx(t);let a=o.data;const c=mn.from(o.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=o,y,T,b,w,S;function N(){w&&w(),S&&S(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let A=new XMLHttpRequest;A.open(o.method.toUpperCase(),o.url,!0),A.timeout=o.timeout;function M(){if(!A)return;const D=mn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),I={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:D,config:t,request:A};Sx(function(H){n(H),N()},function(H){i(H),N()},I),A=null}"onloadend"in A?A.onloadend=M:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(M)},A.onabort=function(){A&&(i(new je("Request aborted",je.ECONNABORTED,t,A)),A=null)},A.onerror=function(){i(new je("Network Error",je.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let C=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const I=o.transitional||Tx;o.timeoutErrorMessage&&(C=o.timeoutErrorMessage),i(new je(C,I.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,A)),A=null},a===void 0&&c.setContentType(null),"setRequestHeader"in A&&X.forEach(c.toJSON(),function(C,I){A.setRequestHeader(I,C)}),X.isUndefined(o.withCredentials)||(A.withCredentials=!!o.withCredentials),h&&h!=="json"&&(A.responseType=o.responseType),m&&([b,S]=fu(m,!0),A.addEventListener("progress",b)),p&&A.upload&&([T,w]=fu(p),A.upload.addEventListener("progress",T),A.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(y=D=>{A&&(i(!D||D.type?new eo(null,t,A):D),A.abort(),A=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const P=jC(o.url);if(P&&Xt.protocols.indexOf(P)===-1){i(new je("Unsupported protocol "+P+":",je.ERR_BAD_REQUEST,t));return}A.send(a||null)})},KC=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,o;const a=function(m){if(!o){o=!0,h();const y=m instanceof Error?m:this.reason;i.abort(y instanceof je?y:new eo(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,a(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const h=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:p}=i;return p.unsubscribe=()=>X.asap(h),p}},QC=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,o;for(;i<n;)o=i+e,yield t.slice(i,o),i=o},ZC=async function*(t,e){for await(const n of XC(t))yield*QC(n,e)},XC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},My=(t,e,n,i)=>{const o=ZC(t,e);let a=0,c,h=p=>{c||(c=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:y}=await o.next();if(m){h(),p.close();return}let T=y.byteLength;if(n){let b=a+=T;n(b)}p.enqueue(new Uint8Array(y))}catch(m){throw h(m),m}},cancel(p){return h(p),o.return()}},{highWaterMark:2})},Mu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ex=Mu&&typeof ReadableStream=="function",WC=Mu&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ax=(t,...e)=>{try{return!!t(...e)}catch{return!1}},eE=Ex&&Ax(()=>{let t=!1;const e=new Request(Xt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Dy=64*1024,_f=Ex&&Ax(()=>X.isReadableStream(new Response("").body)),hu={stream:_f&&(t=>t.body)};Mu&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hu[e]&&(hu[e]=X.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new je(`Response type '${e}' is not supported`,je.ERR_NOT_SUPPORT,i)})})})(new Response);const tE=async t=>{if(t==null)return 0;if(X.isBlob(t))return t.size;if(X.isSpecCompliantForm(t))return(await new Request(Xt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(X.isArrayBufferView(t)||X.isArrayBuffer(t))return t.byteLength;if(X.isURLSearchParams(t)&&(t=t+""),X.isString(t))return(await WC(t)).byteLength},nE=async(t,e)=>{const n=X.toFiniteNumber(t.getContentLength());return n??tE(e)},iE=Mu&&(async t=>{let{url:e,method:n,data:i,signal:o,cancelToken:a,timeout:c,onDownloadProgress:h,onUploadProgress:p,responseType:m,headers:y,withCredentials:T="same-origin",fetchOptions:b}=Cx(t);m=m?(m+"").toLowerCase():"text";let w=KC([o,a&&a.toAbortSignal()],c),S;const N=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let A;try{if(p&&eE&&n!=="get"&&n!=="head"&&(A=await nE(y,i))!==0){let I=new Request(e,{method:"POST",body:i,duplex:"half"}),V;if(X.isFormData(i)&&(V=I.headers.get("content-type"))&&y.setContentType(V),I.body){const[H,ee]=Ny(A,fu(Ry(p)));i=My(I.body,Dy,H,ee)}}X.isString(T)||(T=T?"include":"omit");const M="credentials"in Request.prototype;S=new Request(e,{...b,signal:w,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:M?T:void 0});let P=await fetch(S,b);const D=_f&&(m==="stream"||m==="response");if(_f&&(h||D&&N)){const I={};["status","statusText","headers"].forEach(z=>{I[z]=P[z]});const V=X.toFiniteNumber(P.headers.get("content-length")),[H,ee]=h&&Ny(V,fu(Ry(h),!0))||[];P=new Response(My(P.body,Dy,H,()=>{ee&&ee(),N&&N()}),I)}m=m||"text";let C=await hu[X.findKey(hu,m)||"text"](P,t);return!D&&N&&N(),await new Promise((I,V)=>{Sx(I,V,{data:C,headers:mn.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:S})})}catch(M){throw N&&N(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,t,S),{cause:M.cause||M}):je.from(M,M&&M.code,t,S)}}),Sf={http:vC,xhr:YC,fetch:iE};X.forEach(Sf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Uy=t=>`- ${t}`,sE=t=>X.isFunction(t)||t===null||t===!1,Nx={getAdapter:t=>{t=X.isArray(t)?t:[t];const{length:e}=t;let n,i;const o={};for(let a=0;a<e;a++){n=t[a];let c;if(i=n,!sE(n)&&(i=Sf[(c=String(n)).toLowerCase()],i===void 0))throw new je(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+a]=i}if(!i){const a=Object.entries(o).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(Uy).join(`
`):" "+Uy(a[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Sf};function lf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new eo(null,t)}function Iy(t){return lf(t),t.headers=mn.from(t.headers),t.data=af.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Nx.getAdapter(t.adapter||Ra.adapter)(t).then(function(i){return lf(t),i.data=af.call(t,t.transformResponse,i),i.headers=mn.from(i.headers),i},function(i){return _x(i)||(lf(t),i&&i.response&&(i.response.data=af.call(t,t.transformResponse,i.response),i.response.headers=mn.from(i.response.headers))),Promise.reject(i)})}const Rx="1.10.0",Du={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Du[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Py={};Du.transitional=function(e,n,i){function o(a,c){return"[Axios v"+Rx+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,h)=>{if(e===!1)throw new je(o(c," has been removed"+(n?" in "+n:"")),je.ERR_DEPRECATED);return n&&!Py[c]&&(Py[c]=!0,console.warn(o(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,c,h):!0}};Du.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function rE(t,e,n){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let o=i.length;for(;o-- >0;){const a=i[o],c=e[a];if(c){const h=t[a],p=h===void 0||c(h,a,t);if(p!==!0)throw new je("option "+a+" must be "+p,je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new je("Unknown option "+a,je.ERR_BAD_OPTION)}}const au={assertOptions:rE,validators:Du},ii=au.validators;let Ds=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ey,response:new Ey}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Is(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:a}=n;i!==void 0&&au.assertOptions(i,{silentJSONParsing:ii.transitional(ii.boolean),forcedJSONParsing:ii.transitional(ii.boolean),clarifyTimeoutError:ii.transitional(ii.boolean)},!1),o!=null&&(X.isFunction(o)?n.paramsSerializer={serialize:o}:au.assertOptions(o,{encode:ii.function,serialize:ii.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),au.assertOptions(n,{baseUrl:ii.spelling("baseURL"),withXsrfToken:ii.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&X.merge(a.common,a[n.method]);a&&X.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),n.headers=mn.concat(c,a);const h=[];let p=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(p=p&&N.synchronous,h.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let y,T=0,b;if(!p){const S=[Iy.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,m),b=S.length,y=Promise.resolve(n);T<b;)y=y.then(S[T++],S[T++]);return y}b=h.length;let w=n;for(T=0;T<b;){const S=h[T++],N=h[T++];try{w=S(w)}catch(A){N.call(this,A);break}}try{y=Iy.call(this,w)}catch(S){return Promise.reject(S)}for(T=0,b=m.length;T<b;)y=y.then(m[T++],m[T++]);return y}getUri(e){e=Is(this.defaults,e);const n=wx(e.baseURL,e.url,e.allowAbsoluteUrls);return xx(n,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Ds.prototype[e]=function(n,i){return this.request(Is(i||{},{method:e,url:n,data:(i||{}).data}))}});X.forEach(["post","put","patch"],function(e){function n(i){return function(a,c,h){return this.request(Is(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Ds.prototype[e]=n(),Ds.prototype[e+"Form"]=n(!0)});let oE=class kx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(o=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](o);i._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(h=>{i.subscribe(h),a=h}).then(o);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,h){i.reason||(i.reason=new eo(a,c,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new kx(function(o){e=o}),cancel:e}}};function aE(t){return function(n){return t.apply(null,n)}}function lE(t){return X.isObject(t)&&t.isAxiosError===!0}const wf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wf).forEach(([t,e])=>{wf[e]=t});function Mx(t){const e=new Ds(t),n=ax(Ds.prototype.request,e);return X.extend(n,Ds.prototype,e,{allOwnKeys:!0}),X.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return Mx(Is(t,o))},n}const Se=Mx(Ra);Se.Axios=Ds;Se.CanceledError=eo;Se.CancelToken=oE;Se.isCancel=_x;Se.VERSION=Rx;Se.toFormData=ku;Se.AxiosError=je;Se.Cancel=Se.CanceledError;Se.all=function(e){return Promise.all(e)};Se.spread=aE;Se.isAxiosError=lE;Se.mergeConfig=Is;Se.AxiosHeaders=mn;Se.formToJSON=t=>bx(X.isHTMLForm(t)?new FormData(t):t);Se.getAdapter=Nx.getAdapter;Se.HttpStatusCode=wf;Se.default=Se;const{Axios:RO,AxiosError:kO,CanceledError:MO,isCancel:DO,CancelToken:UO,VERSION:IO,all:PO,Cancel:LO,isAxiosError:OO,spread:qO,toFormData:BO,AxiosHeaders:jO,HttpStatusCode:VO,formToJSON:$O,getAdapter:FO,mergeConfig:zO}=Se,Uu="/api/events";let Iu=null;const uE=t=>{Iu=`Bearer ${t}`},cE=async()=>(await Se.get(Uu)).data,dE=async t=>(await Se.post(Uu,t,{headers:{Authorization:Iu}})).data,fE=async(t,e)=>{const n=`${Uu}/${t}`;return(await Se.put(n,e,{headers:{Authorization:Iu}})).data},hE=async t=>{const e=`${Uu}/${t}`;return(await Se.delete(e,{headers:{Authorization:Iu}})).data},is={setToken:uE,getAll:cE,createEvent:dE,changeEvent:fE,deleteEvent:hE},Dx=({isOpen:t,onClose:e,title:n,children:i})=>(R.useEffect(()=>{const o=a=>{a.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e]),t?v.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-center z-50",onClick:e,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg",onClick:o=>o.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:n}),v.jsx("button",{onClick:e,className:"text-gray-600 hover:text-red-600 text-xl font-bold",children:"×"})]}),v.jsx("div",{children:i})]})}):null),mE=t=>{var z;const[e,n]=R.useState(null),[i,o]=R.useState(""),[a,c]=R.useState([]),[h,p]=R.useState(""),[m,y]=R.useState(""),[T,b]=R.useState(""),[w,S]=R.useState(""),[N,A]=R.useState(""),[M,P]=R.useState([]),[D,C]=R.useState(!1);R.useEffect(()=>{i.length===0?c(t.events):c(t.events.filter(K=>K.name.toLowerCase().includes(i.toLowerCase())))},[i,t.events]);const I=()=>{N.trim()&&(P(M.concat(N.trim())),A(""))},V=async K=>{var ne,$;K.preventDefault();try{const we=await is.createEvent({name:h,block:T,group:m,description:w,resources:M});t.setEvents(t.events.concat(we)),p(""),b(""),y(""),S(""),A(""),P([]),C(!1),o("")}catch(we){($=(ne=we.response)==null?void 0:ne.data)!=null&&$.error&&we.response.data.error==="expected `event name` to be unique"?(n("Event already added"),setTimeout(()=>{n(null)},5e3)):console.error("Failed to add event:",we)}},H=async(K,ne)=>{try{const $=await is.changeEvent(K,ne);t.setEvents(t.events.map(we=>we.id===$.id?$:we))}catch($){console.error("Failed to edit event:",$)}},ee=async K=>{try{await is.deleteEvent(K),t.setEvents(t.events.filter(ne=>ne.id!==K))}catch(ne){console.error("Failed to delete event:",ne)}};return v.jsxs("div",{className:"max-w-3xl mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-orange-800 text-center sm:text-left flex-1",children:"Science Olympiad Events"}),v.jsx("input",{type:"text",placeholder:"Filter events...",value:i,onChange:({target:K})=>o(K.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 w-full sm:w-1/3"})]}),((z=t.user)==null?void 0:z.admin)&&v.jsx("div",{className:"py-4",children:v.jsx("div",{className:"flex items-center justify-center",children:v.jsx("button",{onClick:()=>C(!0),className:"text-orange-600 text-4xl pt-2 pb-4 py-2 rounded hover:text-orange-700 transition pb-2 w-full border border-orange-300 border-dashed rounded-md hover:bg-orange-100",title:"Add Event",children:"+"})})}),v.jsxs(Dx,{isOpen:D,onClose:()=>{p(""),y(""),S(""),A(""),P([]),C(!1)},title:"Add New Event",children:[e&&v.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[v.jsx("strong",{className:"font-bold",children:"Error: "}),v.jsx("span",{className:"block sm:inline",children:e})]}),v.jsxs("form",{onSubmit:V,className:"space-y-4 bg-orange-50 p-4 rounded-md",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Name"}),v.jsx("input",{value:h,onChange:({target:K})=>p(K.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Category"}),v.jsxs("select",{name:"category",value:m,onChange:({target:K})=>y(K.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[v.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),v.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),v.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),v.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),v.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),v.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Block"}),v.jsxs("select",{name:"block",value:T,onChange:({target:K})=>b(K.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[v.jsx("option",{value:"",children:"Self Schedule"}),v.jsx("option",{value:"1",children:"Block 1"}),v.jsx("option",{value:"2",children:"Block 2"}),v.jsx("option",{value:"3",children:"Block 3"}),v.jsx("option",{value:"4",children:"Block 4"}),v.jsx("option",{value:"4",children:"Block 5"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Description"}),v.jsx("textarea",{value:w,onChange:({target:K})=>S(K.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 resize-y min-h-[100px]"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:N,onChange:({target:K})=>A(K.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),v.jsx("button",{onClick:I,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]}),v.jsx("div",{className:"mt-4 space-y-2",children:M.length>0&&v.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(K=>v.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[v.jsx("a",{href:K,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:K}),v.jsx("button",{onClick:()=>P(M.filter(ne=>ne!==K)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:"×"})]},K))})}),v.jsx("button",{type:"submit",className:"w-full bg-orange-600 text-white py-2 rounded-md hover:bg-orange-700 transition",children:"Add Event"})]})]}),v.jsx("ul",{className:"space-y-4",children:a.map(K=>v.jsx(Dw,{user:t.user,event:K,editEvent:H,deleteEvent:ee},K.id))})]})},pE=t=>{const[e,n]=R.useState(""),i=Pn(),o=async a=>{a.preventDefault(),await t.handleForgot(e)&&(n(""),i("/signin"))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Forgot Password"}),v.jsxs("form",{onSubmit:o,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"Email Address"}),v.jsx("input",{value:e,onChange:({target:a})=>n(a.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset Password"}),v.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:v.jsx(Qe,{to:"/signin",children:"Cancel"})})]})]})},uh="/api/tests";let Pu=null;const gE=t=>{Pu=`Bearer ${t}`},yE=async()=>(await Se.get(uh,{headers:{Authorization:Pu}})).data,vE=async t=>(await Se.post(uh,t,{headers:{Authorization:Pu}})).data,xE=async(t,e)=>(await Se.put(`${uh}/${t}`,{assignees:e.assignees},{headers:{Authorization:Pu}})).data,fn={setToken:gE,getAll:yE,createTest:vE,updateTest:xE},Ux="/api/questions";let ch=null;const TE=t=>{ch=`Bearer ${t}`},bE=async()=>(await Se.get(Ux,{headers:{Authorization:ch}})).data,_E=async t=>(await Se.post(Ux,t,{headers:{Authorization:ch}})).data,Br={setToken:TE,getAll:bE,createQuestion:_E},SE="modulepreload",wE=function(t){return"/"+t},Ly={},ka=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=c(n.map(m=>{if(m=wE(m),m in Ly)return;Ly[m]=!0;const y=m.endsWith(".css"),T=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${T}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":SE,y||(b.as="script"),b.crossOrigin="",b.href=m,p&&b.setAttribute("nonce",p),document.head.appendChild(b),y)return new Promise((w,S)=>{b.addEventListener("load",w),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},CE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ka(async()=>{const{default:i}=await Promise.resolve().then(()=>to);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class dh extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class EE extends dh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class AE extends dh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class NE extends dh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Cf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Cf||(Cf={}));var RE=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class kE{constructor(e,{headers:n={},customFetch:i,region:o=Cf.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=CE(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return RE(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:c}=n;let h={},{region:p}=n;p||(p=this.region),p&&p!=="any"&&(h["x-region"]=p);let m;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)));const y=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:m}).catch(S=>{throw new EE(S)}),T=y.headers.get("x-relay-error");if(T&&T==="true")throw new AE(y);if(!y.ok)throw new NE(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield y.json():b==="application/octet-stream"?w=yield y.blob():b==="text/event-stream"?w=y:b==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null}}catch(o){return{data:null,error:o}}})}}var Bt={},Rr={},kr={},Mr={},Dr={},Ur={},ME=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gr=ME();const DE=Gr.fetch,Ix=Gr.fetch.bind(Gr),Px=Gr.Headers,UE=Gr.Request,IE=Gr.Response,to=Object.freeze(Object.defineProperty({__proto__:null,Headers:Px,Request:UE,Response:IE,default:Ix,fetch:DE},Symbol.toStringTag,{value:"Module"})),PE=Y_(to);var Yl={},Oy;function Lx(){if(Oy)return Yl;Oy=1,Object.defineProperty(Yl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Yl.default=t,Yl}var qy;function Ox(){if(qy)return Ur;qy=1;var t=Ur&&Ur.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ur,"__esModule",{value:!0});const e=t(PE),n=t(Lx());class i{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,c){return this.headers=Object.assign({},this.headers),this.headers[a]=c,this}then(a,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,T,b;let w=null,S=null,N=null,A=m.status,M=m.statusText;if(m.ok){if(this.method!=="HEAD"){const I=await m.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=I:S=JSON.parse(I))}const D=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),C=(T=m.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");D&&C&&C.length>1&&(N=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,N=null,A=406,M="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const D=await m.text();try{w=JSON.parse(D),Array.isArray(w)&&m.status===404&&(S=[],w=null,A=200,M="OK")}catch{m.status===404&&D===""?(A=204,M="No Content"):w={message:D}}if(w&&this.isMaybeSingle&&(!((b=w==null?void 0:w.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,A=200,M="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:S,count:N,status:A,statusText:M}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,T,b;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(T=m==null?void 0:m.stack)!==null&&T!==void 0?T:""}`,hint:"",code:`${(b=m==null?void 0:m.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),p.then(a,c)}returns(){return this}overrideTypes(){return this}}return Ur.default=i,Ur}var By;function qx(){if(By)return Dr;By=1;var t=Dr&&Dr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Dr,"__esModule",{value:!0});const e=t(Ox());class n extends e.default{select(o){let a=!1;const c=(o??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:a=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${o}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:c=a}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,a,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(m,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:a=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var y;const T=[o?"analyze":null,a?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${b}"; options=${T};`,m==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Dr.default=n,Dr}var jy;function fh(){if(jy)return Mr;jy=1;var t=Mr&&Mr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mr,"__esModule",{value:!0});const e=t(qx());class n extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const c=Array.from(new Set(a)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${p}fts${m}.${a}`),this}match(o){return Object.entries(o).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(o,a,c){return this.url.searchParams.append(o,`not.${a}.${c}`),this}or(o,{foreignTable:a,referencedTable:c=a}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,a,c){return this.url.searchParams.append(o,`${a}.${c}`),this}}return Mr.default=n,Mr}var Vy;function Bx(){if(Vy)return kr;Vy=1;var t=kr&&kr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(kr,"__esModule",{value:!0});const e=t(fh());class n{constructor(o,{headers:a={},schema:c,fetch:h}){this.url=o,this.headers=a,this.schema=c,this.fetch=h}select(o,{head:a=!1,count:c}={}){const h=a?"HEAD":"GET";let p=!1;const m=(o??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:a,defaultToNull:c=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),a&&p.push(`count=${a}`),c||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const m=o.reduce((y,T)=>y.concat(Object.keys(T)),[]);if(m.length>0){const y=[...new Set(m)].map(T=>`"${T}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:a,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){const m="POST",y=[`resolution=${c?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),p||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(o)){const T=o.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(T.length>0){const b=[...new Set(T)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:a}={}){const c="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),this.headers.Prefer=h.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const a="DELETE",c=[];return o&&c.push(`count=${o}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return kr.default=n,kr}var ua={},ca={},$y;function LE(){return $y||($y=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.version=void 0,ca.version="0.0.0-automated"),ca}var Fy;function OE(){if(Fy)return ua;Fy=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.DEFAULT_HEADERS=void 0;const t=LE();return ua.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ua}var zy;function qE(){if(zy)return Rr;zy=1;var t=Rr&&Rr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Rr,"__esModule",{value:!0});const e=t(Bx()),n=t(fh()),i=OE();class o{constructor(c,{headers:h={},schema:p,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:m=!1,count:y}={}){let T;const b=new URL(`${this.url}/rpc/${c}`);let w;p||m?(T=p?"HEAD":"GET",Object.entries(h).filter(([N,A])=>A!==void 0).map(([N,A])=>[N,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([N,A])=>{b.searchParams.append(N,A)})):(T="POST",w=h);const S=Object.assign({},this.headers);return y&&(S.Prefer=`count=${y}`),new n.default({method:T,url:b,headers:S,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Rr.default=o,Rr}var Gy;function BE(){if(Gy)return Bt;Gy=1;var t=Bt&&Bt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.PostgrestError=Bt.PostgrestBuilder=Bt.PostgrestTransformBuilder=Bt.PostgrestFilterBuilder=Bt.PostgrestQueryBuilder=Bt.PostgrestClient=void 0;const e=t(qE());Bt.PostgrestClient=e.default;const n=t(Bx());Bt.PostgrestQueryBuilder=n.default;const i=t(fh());Bt.PostgrestFilterBuilder=i.default;const o=t(qx());Bt.PostgrestTransformBuilder=o.default;const a=t(Ox());Bt.PostgrestBuilder=a.default;const c=t(Lx());return Bt.PostgrestError=c.default,Bt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:c.default},Bt}var jE=BE();const VE=J_(jE),{PostgrestClient:$E,PostgrestQueryBuilder:GO,PostgrestFilterBuilder:HO,PostgrestTransformBuilder:JO,PostgrestBuilder:YO,PostgrestError:KO}=VE;function FE(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const zE=FE(),GE="2.11.15",HE=`realtime-js/${GE}`,JE="1.0.0",jx=1e4,YE=1e3;var pa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pa||(pa={}));var Qt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Qt||(Qt={}));var Fn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Fn||(Fn={}));var Ef;(function(t){t.websocket="websocket"})(Ef||(Ef={}));var ks;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ks||(ks={}));class KE{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const o=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(e.slice(c,c+o));c=c+o;const p=i.decode(e.slice(c,c+a));c=c+a;const m=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class Vx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pt||(pt={}));const Hy=(t,e,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((a,c)=>(a[c]=QE(c,t,e,o),a),{})},QE=(t,e,n,i)=>{const o=e.find(h=>h.name===t),a=o==null?void 0:o.type,c=n[t];return a&&!i.includes(a)?$x(a,c):Af(c)},$x=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return eA(e,n)}switch(t){case pt.bool:return ZE(e);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return XE(e);case pt.json:case pt.jsonb:return WE(e);case pt.timestamp:return tA(e);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return Af(e);default:return Af(e)}},Af=t=>t,ZE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},XE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},WE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},eA=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let a;const c=t.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(h=>$x(e,h))}return t},tA=t=>typeof t=="string"?t.replace(" ","T"):t,Fx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class uf{constructor(e,n,i={},o=jx){this.channel=e,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jy||(Jy={}));class ga{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ga.syncState(this.state,o,a,c),this.pendingDiffs.forEach(p=>{this.state=ga.syncDiff(this.state,p,a,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ga.syncDiff(this.state,o,a,c),h())}),this.onJoin((o,a,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:c})}),this.onLeave((o,a,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,o){const a=this.cloneDeep(e),c=this.transformState(n),h={},p={};return this.map(a,(m,y)=>{c[m]||(p[m]=y)}),this.map(c,(m,y)=>{const T=a[m];if(T){const b=y.map(A=>A.presence_ref),w=T.map(A=>A.presence_ref),S=y.filter(A=>w.indexOf(A.presence_ref)<0),N=T.filter(A=>b.indexOf(A.presence_ref)<0);S.length>0&&(h[m]=S),N.length>0&&(p[m]=N)}else h[m]=y}),this.syncDiff(a,{joins:h,leaves:p},i,o)}static syncDiff(e,n,i,o){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(h,p)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),y.length>0){const T=e[h].map(w=>w.presence_ref),b=y.filter(w=>T.indexOf(w.presence_ref)<0);e[h].unshift(...b)}i(h,y,p)}),this.map(c,(h,p)=>{let m=e[h];if(!m)return;const y=p.map(T=>T.presence_ref);m=m.filter(T=>y.indexOf(T.presence_ref)<0),e[h]=m,o(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const o=e[i];return"metas"in o?n[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Yy||(Yy={}));var Ky;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ky||(Ky={}));var Ei;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ei||(Ei={}));class hh{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uf(this,Fn.join,this.params,this.timeout),this.rejoinTimer=new Vx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fn.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ga(this),this.broadcastEndpointURL=Fx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Qt.closed){const{config:{broadcast:a,presence:c,private:h}}=this.params;this._onError(y=>e==null?void 0:e(Ei.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Ei.CLOSED));const p={},m={broadcast:a,presence:c,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var T;if(this.socket.setAuth(),y===void 0){e==null||e(Ei.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(T=b==null?void 0:b.length)!==null&&T!==void 0?T:0,S=[];for(let N=0;N<w;N++){const A=b[N],{filter:{event:M,schema:P,table:D,filter:C}}=A,I=y&&y[N];if(I&&I.event===M&&I.schema===P&&I.table===D&&I.filter===C)S.push(Object.assign(Object.assign({},A),{id:I.id}));else{this.unsubscribe(),this.state=Qt.errored,e==null||e(Ei.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Ei.SUBSCRIBED);return}}).receive("error",y=>{this.state=Qt.errored,e==null||e(Ei.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ei.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new uf(this,Fn.leave,{},e),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new uf(this,e,n,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var o,a;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:y}=Fn;if(i&&[h,p,m,y].indexOf(c)>=0&&i!==this._joinRef())return;let b=this._onMessage(c,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var S,N,A;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((A=(N=w.filter)===null||N===void 0?void 0:N.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(w=>w.callback(b,i)):(a=this.bindings[c])===null||a===void 0||a.filter(w=>{var S,N,A,M,P,D;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const C=w.id,I=(S=w.filter)===null||S===void 0?void 0:S.event;return C&&((N=n.ids)===null||N===void 0?void 0:N.includes(C))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const C=(P=(M=w==null?void 0:w.filter)===null||M===void 0?void 0:M.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return C==="*"||C===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:N,table:A,commit_timestamp:M,type:P,errors:D}=S;b=Object.assign(Object.assign({},{schema:N,table:A,commit_timestamp:M,eventType:P,new:{},old:{},errors:D}),this._getPayloadRecords(S))}w.callback(b,i)})}_isClosed(){return this.state===Qt.closed}_isJoined(){return this.state===Qt.joined}_isJoining(){return this.state===Qt.joining}_isLeaving(){return this.state===Qt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&hh.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fn.close,{},e)}_onError(e){this._on(Fn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Hy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Hy(e.columns,e.old_record)),n}}const Qy=()=>{},nA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iA{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jx,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qy,this.ref=0,this.logger=Qy,this.conn=null,this.sendBuffer=[],this.serializer=new KE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...h)=>ka(async()=>{const{default:p}=await Promise.resolve().then(()=>to);return{default:p}},void 0).then(({default:p})=>p(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${e}/${Ef.websocket}`,this.httpEndpoint=Fx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,c)=>c(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=zE),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JE}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case pa.connecting:return ks.Connecting;case pa.open:return ks.Open;case pa.closing:return ks.Closing;default:return ks.Closed}}isConnected(){return this.connectionState()===ks.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new hh(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:i,payload:o,ref:a}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${a})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:HE};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Fn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(YE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:o,payload:a,ref:c}=n;i==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${i} ${o} ${c&&"("+c+")"||""}`,a),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(o,a,c)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${i}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([nA],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class mh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function jt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class sA extends mh{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nf extends mh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var rA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const zx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ka(async()=>{const{default:i}=await Promise.resolve().then(()=>to);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},oA=()=>rA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ka(()=>Promise.resolve().then(()=>to),void 0)).Response:Response}),Rf=t=>{if(Array.isArray(t))return t.map(n=>Rf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Rf(i)}),e};var js=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const cf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aA=(t,e,n)=>js(void 0,void 0,void 0,function*(){const i=yield oA();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{e(new sA(cf(o),t.status||500))}).catch(o=>{e(new Nf(cf(o),o))}):e(new Nf(cf(t),t))}),lA=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),n))};function Ma(t,e,n,i,o,a){return js(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(n,lA(e,i,o,a)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>aA(p,h,i))})})}function mu(t,e,n,i){return js(this,void 0,void 0,function*(){return Ma(t,"GET",e,n,i)})}function ts(t,e,n,i,o){return js(this,void 0,void 0,function*(){return Ma(t,"POST",e,i,o,n)})}function uA(t,e,n,i,o){return js(this,void 0,void 0,function*(){return Ma(t,"PUT",e,i,o,n)})}function cA(t,e,n,i){return js(this,void 0,void 0,function*(){return Ma(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Gx(t,e,n,i,o){return js(this,void 0,void 0,function*(){return Ma(t,"DELETE",e,i,o,n)})}var dn=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const dA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fA{constructor(e,n={},i,o){this.url=e,this.headers=n,this.bucketId=i,this.fetch=zx(o)}uploadOrUpdate(e,n,i,o){return dn(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},Zy),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),p&&a.append("metadata",this.encodeMetadata(p)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",c.cacheControl),p&&a.append("metadata",this.encodeMetadata(p))):(a=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const m=this._removeEmptyFolders(n),y=this._getFinalPath(m),T=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:e,body:a,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),b=yield T.json();return T.ok?{data:{path:m,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(a){if(jt(a))return{data:null,error:a};throw a}})}upload(e,n,i){return dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,o){return dn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),c=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:Zy.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const T=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:y}),b=yield T.json();return T.ok?{data:{path:a,fullPath:b.Key},error:null}:{data:null,error:b}}catch(p){if(jt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return dn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield ts(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),c=new URL(this.url+a.url),h=c.searchParams.get("token");if(!h)throw new mh("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}update(e,n,i){return dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return dn(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(jt(o))return{data:null,error:o};throw o}})}copy(e,n,i){return dn(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(jt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,i){return dn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield ts(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(o){if(jt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,i){return dn(this,void 0,void 0,function*(){try{const o=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(o){if(jt(o))return{data:null,error:o};throw o}})}download(e,n){return dn(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield mu(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(jt(h))return{data:null,error:h};throw h}})}info(e){return dn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield mu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rf(i),error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}exists(e){return dn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield cA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(jt(i)&&i instanceof Nf){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&o.push(p);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(e){return dn(this,void 0,void 0,function*(){try{return{data:yield Gx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}list(e,n,i){return dn(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},dA),n),{prefix:e||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(jt(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const hA="2.7.1",mA={"X-Client-Info":`storage-js/${hA}`};var Ir=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class pA{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},mA),n),this.fetch=zx(i)}listBuckets(){return Ir(this,void 0,void 0,function*(){try{return{data:yield mu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(jt(e))return{data:null,error:e};throw e}})}getBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield mu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ir(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Ir(this,void 0,void 0,function*(){try{return{data:yield uA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield Gx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}}class gA extends pA{constructor(e,n={},i){super(e,n,i)}from(e){return new fA(this.url,this.headers,e,this.fetch)}}const yA="2.50.2";let fa="";typeof Deno<"u"?fa="deno":typeof document<"u"?fa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fa="react-native":fa="node";const vA={"X-Client-Info":`supabase-js-${fa}/${yA}`},xA={headers:vA},TA={schema:"public"},bA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_A={};var SA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const wA=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ix:e=fetch,(...n)=>e(...n)},CA=()=>typeof Headers>"u"?Px:Headers,EA=(t,e,n)=>{const i=wA(n),o=CA();return(a,c)=>SA(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:t;let m=new o(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(a,Object.assign(Object.assign({},c),{headers:m}))})};var AA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};function NA(t){return t.endsWith("/")?t:t+"/"}function RA(t,e){var n,i;const{db:o,auth:a,realtime:c,global:h}=t,{db:p,auth:m,realtime:y,global:T}=e,b={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},y),c),global:Object.assign(Object.assign(Object.assign({},T),h),{headers:Object.assign(Object.assign({},(n=T==null?void 0:T.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>AA(this,void 0,void 0,function*(){return""})};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}const Hx="2.70.0",jr=30*1e3,kf=3,df=kf*jr,kA="http://localhost:9999",MA="supabase.auth.token",DA={"X-Client-Info":`gotrue-js/${Hx}`},Mf="X-Supabase-Api-Version",Jx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IA=6e5;class ph extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class PA extends ph{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function LA(t){return Be(t)&&t.name==="AuthApiError"}class Yx extends ph{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class as extends ph{constructor(e,n,i,o){super(e,i,o),this.name=n,this.status=i}}class es extends as{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OA(t){return Be(t)&&t.name==="AuthSessionMissingError"}class Kl extends as{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ql extends as{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zl extends as{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qA(t){return Be(t)&&t.name==="AuthImplicitGrantRedirectError"}class Xy extends as{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Df extends as{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ff(t){return Be(t)&&t.name==="AuthRetryableFetchError"}class Wy extends as{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class ya extends as{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ev=` 	
\r=`.split(""),BA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ev.length;e+=1)t[ev[e].charCodeAt(0)]=-2;for(let e=0;e<pu.length;e+=1)t[pu[e].charCodeAt(0)]=e;return t})();function tv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(pu[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(pu[i]),e.queuedBits-=6}}function Kx(t,e,n){const i=BA[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function nv(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=c=>{$A(c,i,n)};for(let c=0;c<t.length;c+=1)Kx(t.charCodeAt(c),o,a);return e.join("")}function jA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function VA(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}jA(i,e)}}function $A(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function FA(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Kx(t.charCodeAt(o),n,i);return new Uint8Array(e)}function zA(t){const e=[];return VA(t,n=>e.push(n)),new Uint8Array(e)}function GA(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>tv(o,n,i)),tv(null,n,i),e.join("")}function HA(t){return Math.round(Date.now()/1e3)+t}function JA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $n=()=>typeof window<"u"&&typeof document<"u",As={tested:!1,writable:!1},va=()=>{if(!$n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(As.tested)return As.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),As.tested=!0,As.writable=!0}catch{As.tested=!0,As.writable=!1}return As.writable};function YA(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((i,o)=>{e[o]=i}),e}const Qx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ka(async()=>{const{default:i}=await Promise.resolve().then(()=>to);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},KA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Xl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wl=async(t,e)=>{await t.removeItem(e)};class Lu{constructor(){this.promise=new Lu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Lu.promiseConstructor=Promise;function hf(t){const e=t.split(".");if(e.length!==3)throw new ya("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!UA.test(e[i]))throw new ya("JWT not in base64url format");return{header:JSON.parse(nv(e[0])),payload:JSON.parse(nv(e[1])),signature:FA(e[2]),raw:{header:e[0],payload:e[1]}}}async function QA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ZA(t,e){return new Promise((i,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await t(a);if(!e(a,null,c)){i(c);return}}catch(c){if(!e(a,c)){o(c);return}}})()})}function XA(t){return("0"+t.toString(16)).substr(-2)}function WA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,XA).join("")}async function eN(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function tN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await eN(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(t,e,n=!1){const i=WA();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await Zx(t,`${e}-code-verifier`,o);const a=await tN(i);return[a,i===a?"plain":"s256"]}const nN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iN(t){const e=t.headers.get(Mf);if(!e||!e.match(nN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lr(t){if(!oN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var aN=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};const Rs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lN=[502,503,504];async function iv(t){var e;if(!KA(t))throw new Df(Rs(t),0);if(lN.includes(t.status))throw new Df(Rs(t),t.status);let n;try{n=await t.json()}catch(a){throw new Yx(Rs(a),a)}let i;const o=iN(t);if(o&&o.getTime()>=Jx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Wy(Rs(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new es}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Wy(Rs(n),t.status,n.weak_password.reasons);throw new PA(Rs(n),t.status||500,i)}const uN=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function Ke(t,e,n,i){var o;const a=Object.assign({},i==null?void 0:i.headers);a[Mf]||(a[Mf]=Jx["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const c=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await cN(t,e,n+h,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function cN(t,e,n,i,o,a){const c=uN(e,i,o,a);let h;try{h=await t(n,Object.assign({},c))}catch(p){throw console.error(p),new Df(Rs(p),0)}if(h.ok||await iv(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await iv(p)}}function Ci(t){var e;let n=null;mN(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=HA(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function sv(t){const e=Ci(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ss(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dN(t){return{data:t,error:null}}function fN(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a}=t,c=aN(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function hN(t){return t}function mN(t){return t.access_token&&t.refresh_token&&t.expires_in}const mf=["global","local","others"];var pN=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};class gN{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Qx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=mf[0]){if(mf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mf.join(", ")}`);try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ss})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=pN(e,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:fN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ss})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,o,a,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:hN});if(y.error)throw y.error;const T=await y.json(),b=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(S=>{const N=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);m[`${A}Page`]=N}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},T),m),error:null}}catch(m){if(Be(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Lr(e);try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ss})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Lr(e);try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ss})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Lr(e);try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ss})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Lr(e.userId);try{const{data:n,error:i}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Lr(e.userId),Lr(e.id);try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}}const yN={getItem:t=>va()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{va()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{va()&&globalThis.localStorage.removeItem(t)}};function rv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function vN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Or={debug:!!(globalThis&&va()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xN extends Xx{}async function TN(t,e,n){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Or.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}vN();const bN={url:kA,storageKey:MA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ov(t,e,n){return await n()}class Sa{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sa.nextInstanceID,Sa.nextInstanceID+=1,this.instanceID>0&&$n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},bN),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new gN({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Qx(o.fetch),this.lock=o.lock||ov,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:$n()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=TN:this.lock=ov,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:va()?this.storage=yN:(this.memoryStorage={},this.storage=rv(this.memoryStorage)):(this.memoryStorage={},this.storage=rv(this.memoryStorage)),$n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=YA(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),$n()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),qA(a)){const p=(e=a.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Be(n)?{error:n}:{error:new Yx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,o;try{const a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ci}),{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,i,o;try{let a;if("email"in e){const{email:y,password:T,options:b}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Pr(this.storage,this.storageKey)),a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:y,password:T,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:w,code_challenge_method:S},xform:Ci})}else if("phone"in e){const{phone:y,password:T,options:b}=e;a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:T,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Ci})}else throw new Ql("You must provide either an email or phone number and a password");const{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:c,options:h}=e;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sv})}else if("phone"in e){const{phone:a,password:c,options:h}=e;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sv})}else throw new Ql("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Kl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,o,a,c,h,p,m,y,T,b,w;let S,N;if("message"in e)S=e.message,N=e.signature;else{const{chain:A,wallet:M,statement:P,options:D}=e;let C;if($n())if(typeof M=="object")C=M;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))C=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=M}const I=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const V=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),P?{statement:P}:null));let H;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")H=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)H=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)S=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),N=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${I.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(i=D==null?void 0:D.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=D==null?void 0:D.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((T=(y=D==null?void 0:D.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||T===void 0)&&T.length?["Resources",...D.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const V=await C.signMessage(new TextEncoder().encode(S),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=V}}try{const{data:A,error:M}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:GA(N)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ci});if(M)throw M;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Kl}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:M})}catch(A){if(Be(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const n=await Xl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{const{data:a,error:c}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ci});if(await Wl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Kl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:c})}catch(a){if(Be(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:i,token:o,access_token:a,nonce:c}=e,h=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ci}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Kl}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,o,a,c;try{if("email"in e){const{email:h,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Pr(this.storage,this.storageKey));const{error:T}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:T}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:y}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new Ql("You must provide either an email or phone number.")}catch(h){if(Be(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,i;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Ci});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,i,o;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Pr(this.storage,this.storageKey)),await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:dN})}catch(a){if(Be(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new es;const{error:o}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Be(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:a}=e,{error:c}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:o,options:a}=e,{data:c,error:h}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Ql("You must provide either an email or phone number and a type")}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Xl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<df:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,y)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,y))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ss}):await this._useSession(async n=>{var i,o,a;const{data:c,error:h}=n;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new es}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:ss})})}catch(n){if(Be(n))return OA(n)&&(await this._removeSession(),await Wl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new es;const c=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Pr(this.storage,this.storageKey));const{data:m,error:y}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:ss});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new es;const n=Date.now()/1e3;let i=n,o=!0,a=null;const{payload:c}=hf(e.access_token);if(c.exp&&(i=c.exp,o=i<=n),o){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new es;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!$n())throw new Zl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Xy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xy("No code detected.");const{data:P,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=e;if(!a||!h||!c||!m)throw new Zl("No session defined in URL");const y=Math.round(Date.now()/1e3),T=parseInt(h);let b=y+T;p&&(b=parseInt(p));const w=b-y;w*1e3<=jr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${T}s`);const S=b-T;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,y);const{data:N,error:A}=await this._getUser(a);if(A)throw A;const M={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:T,expires_at:b,refresh_token:c,token_type:m,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(i){if(Be(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Xl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{error:a};const c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(LA(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Wl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=JA(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,o;try{const{data:{session:a},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Pr(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Be(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:o}=await this._useSession(async a=>{var c,h,p,m,y;const{data:T,error:b}=a;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(m=T.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return $n()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Be(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:c}=n;if(c)throw c;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await ZA(async o=>(o>0&&await QA(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ci})),(o,a)=>{const c=200*Math.pow(2,o);return a&&ff(a)&&Date.now()+c-i<jr})}catch(i){if(this._debug(n,"error",i),Be(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),$n()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Xl(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<df;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${df}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),ff(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Lu;const{data:a,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!a.session)throw new es;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),Be(a)){const c={session:null,error:a};return ff(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){a.push(p)}});if(await Promise.all(c),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Zx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Wl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$n()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),jr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/jr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${jr}ms, refresh threshold is ${kf} ticks`),o<=kf&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Xx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$n()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,c]=await Pr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await Ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:m}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:c,error:h}=await Ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await Ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],o=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=hf(o.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i||(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+IA>Date.now()))return i;const{data:o,error:a}=await Ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!o.keys||o.keys.length===0)throw new ya("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),i=o.keys.find(c=>c.kid===e),!i)throw new ya("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};i=w.session.access_token}const{header:o,payload:a,signature:c,raw:{header:h,payload:p}}=hf(i);if(sN(a.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:a,header:o,signature:c},error:null}}const m=rN(o.alg),y=await this.fetchJwk(o.kid,n),T=await crypto.subtle.importKey("jwk",y,m,!0,["verify"]);if(!await crypto.subtle.verify(m,T,c,zA(`${h}.${p}`)))throw new ya("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}}}Sa.nextInstanceID=0;const _N=Sa;class SN extends _N{constructor(e){super(e)}}var wN=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class CN{constructor(e,n,i){var o,a,c;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=NA(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:TA,realtime:_A,auth:Object.assign(Object.assign({},bA),{storageKey:m}),global:xA},T=RA(i??{},y);this.storageKey=(o=T.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=T.global.headers)!==null&&a!==void 0?a:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(b,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=T.auth)!==null&&c!==void 0?c:{},this.headers,T.global.fetch),this.fetch=EA(n,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.rest=new $E(new URL("rest/v1",p).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),T.accessToken||this._listenForAuthEvents()}get functions(){return new kE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gA(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return wN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,storageKey:a,flowType:c,lock:h,debug:p},m,y){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SN({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),m),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,flowType:c,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new iA(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const EN=(t,e,n)=>new CN(t,e,n),av=EN("https://zazwsuhcsscuxbvyiuwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphendzdWhjc3NjdXhidnlpdXdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA4MjExMjMsImV4cCI6MjA2NjM5NzEyM30.lt7ZjnkOKJdLW_oiJ-3Nu4YoeLWFGlmcuwMkMmrTqY0"),AN=async t=>{if(!t)return null;const e=t.name.split(".").pop(),i=`images/${`${Math.random().toString(36).slice(2)}.${e}`}`,{data:o,error:a}=await av.storage.from("images").upload(i,t);if(a)return console.error(a),null;const{data:c,error:h}=av.storage.from("images").getPublicUrl(i);if(h)return console.error("Public URL error:",h),null;if(c)return c.publicUrl},NN={getImageUrl:AN};var nt;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const a={};for(const c of o)a[c]=c;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(h=>typeof o[o[h]]!="number"),c={};for(const h of a)c[h]=o[h];return t.objectValues(c)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&a.push(c);return a},t.find=(o,a)=>{for(const c of o)if(a(c))return c},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,a=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}t.joinValues=i,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(nt||(nt={}));var lv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(lv||(lv={}));const ge=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ns=t=>{switch(typeof t){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return Number.isNaN(t)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(t)?ge.array:t===null?ge.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ge.promise:typeof Map<"u"&&t instanceof Map?ge.map:typeof Set<"u"&&t instanceof Set?ge.set:typeof Date<"u"&&t instanceof Date?ge.date:ge.object;default:return ge.unknown}},le=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ri extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},i={_errors:[]},o=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)i._errors.push(n(c));else{let h=i,p=0;for(;p<c.path.length;){const m=c.path[p];p===c.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(n(c))):h[m]=h[m]||{_errors:[]},h=h[m],p++}}};return o(this),i}static assert(e){if(!(e instanceof Ri))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):i.push(e(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Ri.create=t=>new Ri(t);const Uf=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===ge.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,nt.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${nt.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${nt.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${nt.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:nt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,nt.assertNever(t)}return{message:n}};let RN=Uf;function kN(){return RN}const MN=t=>{const{data:e,path:n,errorMaps:i,issueData:o}=t,a=[...n,...o.path||[]],c={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let h="";const p=i.filter(m=>!!m).slice().reverse();for(const m of p)h=m(c,{data:e,defaultError:h}).message;return{...o,path:a,message:h}};function ce(t,e){const n=kN(),i=MN({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Uf?void 0:Uf].filter(o=>!!o)});t.common.issues.push(i)}class nn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const o of n){if(o.status==="aborted")return Pe;o.status==="dirty"&&e.dirty(),i.push(o.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const o of n){const a=await o.key,c=await o.value;i.push({key:a,value:c})}return nn.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const o of n){const{key:a,value:c}=o;if(a.status==="aborted"||c.status==="aborted")return Pe;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(i[a.value]=c.value)}return{status:e.value,value:i}}}const Pe=Object.freeze({status:"aborted"}),ha=t=>({status:"dirty",value:t}),Ln=t=>({status:"valid",value:t}),uv=t=>t.status==="aborted",cv=t=>t.status==="dirty",Hr=t=>t.status==="valid",gu=t=>typeof Promise<"u"&&t instanceof Promise;var ye;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ye||(ye={}));class li{constructor(e,n,i,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const dv=(t,e)=>{if(Hr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ri(t.common.issues);return this._error=n,this._error}}};function $e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:o}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,h)=>{const{message:p}=t;return c.code==="invalid_enum_value"?{message:p??h.defaultError}:typeof h.data>"u"?{message:p??i??h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:p??n??h.defaultError}},description:o}}class Ze{get description(){return this._def.description}_getType(e){return ns(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ns(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new nn,ctx:{common:e.parent.common,data:e.data,parsedType:ns(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(gu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ns(e)},o=this._parseSync({data:e,path:i.path,parent:i});return dv(i,o)}"~validate"(e){var i,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ns(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Hr(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(o=(i=a==null?void 0:a.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Hr(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ns(e)},o=this._parse({data:e,path:i.path,parent:i}),a=await(gu(o)?o:Promise.resolve(o));return dv(i,a)}refine(e,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,a)=>{const c=e(o),h=()=>a.addIssue({code:le.custom,...i(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(p=>p?!0:(h(),!1)):c?!0:(h(),!1)})}refinement(e,n){return this._refinement((i,o)=>e(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(e){return new Kr({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return rs.create(this,this._def)}nullable(){return Qr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ai.create(this)}promise(){return bu.create(this,this._def)}or(e){return vu.create([this,e],this._def)}and(e){return xu.create(this,e,this._def)}transform(e){return new Kr({...$e(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Of({...$e(this._def),innerType:this,defaultValue:n,typeName:Ie.ZodDefault})}brand(){return new eR({typeName:Ie.ZodBranded,type:this,...$e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new qf({...$e(this._def),innerType:this,catchValue:n,typeName:Ie.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return gh.create(this,e)}readonly(){return Bf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const DN=/^c[^\s-]{8,}$/i,UN=/^[0-9a-z]+$/,IN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,LN=/^[a-z0-9_-]{21}$/i,ON=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,qN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,BN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let pf;const VN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$N=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,FN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,HN=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Wx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",JN=new RegExp(`^${Wx}$`);function eT(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function YN(t){return new RegExp(`^${eT(t)}$`)}function KN(t){let e=`${Wx}T${eT(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function QN(t,e){return!!((e==="v4"||!e)&&VN.test(t)||(e==="v6"||!e)&&FN.test(t))}function ZN(t,e){if(!ON.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function XN(t,e){return!!((e==="v4"||!e)&&$N.test(t)||(e==="v6"||!e)&&zN.test(t))}class ri extends Ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ge.string){const a=this._getOrReturnCtx(e);return ce(a,{code:le.invalid_type,expected:ge.string,received:a.parsedType}),Pe}const i=new nn;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,h=e.data.length<a.value;(c||h)&&(o=this._getOrReturnCtx(e,o),c?ce(o,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):h&&ce(o,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")BN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"email",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")pf||(pf=new RegExp(jN,"u")),pf.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"emoji",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")PN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"uuid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")LN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"nanoid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")DN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"cuid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")UN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"cuid2",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")IN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"ulid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ce(o,{validation:"url",code:le.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"regex",code:le.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?KN(a).test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?JN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?YN(a).test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{code:le.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?qN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"duration",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?QN(e.data,a.version)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"ip",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?ZN(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"jwt",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?XN(e.data,a.version)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"cidr",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?GN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"base64",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?HN.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"base64url",code:le.invalid_string,message:a.message}),i.dirty()):nt.assertNever(a);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(o=>e.test(o),{validation:n,code:le.invalid_string,...ye.errToObj(i)})}_addCheck(e){return new ri({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ye.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ye.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ye.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ye.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ye.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ye.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ye.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ye.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ye.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ye.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ye.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ye.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ye.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ye.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ye.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ye.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ye.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ye.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ye.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ye.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ye.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ye.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ye.errToObj(n)})}nonempty(e){return this.min(1,ye.errToObj(e))}trim(){return new ri({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ri({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ri({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ri.create=t=>new ri({checks:[],typeName:Ie.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...$e(t)});function WN(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=n>i?n:i,a=Number.parseInt(t.toFixed(o).replace(".","")),c=Number.parseInt(e.toFixed(o).replace(".",""));return a%c/10**o}class Ps extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ge.number){const a=this._getOrReturnCtx(e);return ce(a,{code:le.invalid_type,expected:ge.number,received:a.parsedType}),Pe}let i;const o=new nn;for(const a of this._def.checks)a.kind==="int"?nt.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{code:le.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?WN(e.data,a.value)!==0&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{code:le.not_finite,message:a.message}),o.dirty()):nt.assertNever(a);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ye.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ye.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ye.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ye.toString(n))}setLimit(e,n,i,o){return new Ps({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:ye.toString(o)}]})}_addCheck(e){return new Ps({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ye.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ye.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ye.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ye.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ye.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&nt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ps.create=t=>new Ps({checks:[],typeName:Ie.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class Ls extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ge.bigint)return this._getInvalidInput(e);let i;const o=new nn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),ce(i,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):nt.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ce(n,{code:le.invalid_type,expected:ge.bigint,received:n.parsedType}),Pe}gte(e,n){return this.setLimit("min",e,!0,ye.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ye.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ye.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ye.toString(n))}setLimit(e,n,i,o){return new Ls({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:ye.toString(o)}]})}_addCheck(e){return new Ls({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ls.create=t=>new Ls({checks:[],typeName:Ie.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...$e(t)});class yu extends Ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ge.boolean){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.boolean,received:i.parsedType}),Pe}return Ln(e.data)}}yu.create=t=>new yu({typeName:Ie.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class Jr extends Ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ge.date){const a=this._getOrReturnCtx(e);return ce(a,{code:le.invalid_type,expected:ge.date,received:a.parsedType}),Pe}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ce(a,{code:le.invalid_date}),Pe}const i=new nn;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):nt.assertNever(a);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Jr({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ye.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ye.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Jr.create=t=>new Jr({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ie.ZodDate,...$e(t)});class fv extends Ze{_parse(e){if(this._getType(e)!==ge.symbol){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.symbol,received:i.parsedType}),Pe}return Ln(e.data)}}fv.create=t=>new fv({typeName:Ie.ZodSymbol,...$e(t)});class hv extends Ze{_parse(e){if(this._getType(e)!==ge.undefined){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.undefined,received:i.parsedType}),Pe}return Ln(e.data)}}hv.create=t=>new hv({typeName:Ie.ZodUndefined,...$e(t)});class mv extends Ze{_parse(e){if(this._getType(e)!==ge.null){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.null,received:i.parsedType}),Pe}return Ln(e.data)}}mv.create=t=>new mv({typeName:Ie.ZodNull,...$e(t)});class pv extends Ze{constructor(){super(...arguments),this._any=!0}_parse(e){return Ln(e.data)}}pv.create=t=>new pv({typeName:Ie.ZodAny,...$e(t)});class If extends Ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ln(e.data)}}If.create=t=>new If({typeName:Ie.ZodUnknown,...$e(t)});class os extends Ze{_parse(e){const n=this._getOrReturnCtx(e);return ce(n,{code:le.invalid_type,expected:ge.never,received:n.parsedType}),Pe}}os.create=t=>new os({typeName:Ie.ZodNever,...$e(t)});class gv extends Ze{_parse(e){if(this._getType(e)!==ge.undefined){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.void,received:i.parsedType}),Pe}return Ln(e.data)}}gv.create=t=>new gv({typeName:Ie.ZodVoid,...$e(t)});class ai extends Ze{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),o=this._def;if(n.parsedType!==ge.array)return ce(n,{code:le.invalid_type,expected:ge.array,received:n.parsedType}),Pe;if(o.exactLength!==null){const c=n.data.length>o.exactLength.value,h=n.data.length<o.exactLength.value;(c||h)&&(ce(n,{code:c?le.too_big:le.too_small,minimum:h?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(ce(n,{code:le.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(ce(n,{code:le.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((c,h)=>o.type._parseAsync(new li(n,c,n.path,h)))).then(c=>nn.mergeArray(i,c));const a=[...n.data].map((c,h)=>o.type._parseSync(new li(n,c,n.path,h)));return nn.mergeArray(i,a)}get element(){return this._def.type}min(e,n){return new ai({...this._def,minLength:{value:e,message:ye.toString(n)}})}max(e,n){return new ai({...this._def,maxLength:{value:e,message:ye.toString(n)}})}length(e,n){return new ai({...this._def,exactLength:{value:e,message:ye.toString(n)}})}nonempty(e){return this.min(1,e)}}ai.create=(t,e)=>new ai({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...$e(e)});function Vr(t){if(t instanceof Nt){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=rs.create(Vr(i))}return new Nt({...t._def,shape:()=>e})}else return t instanceof ai?new ai({...t._def,type:Vr(t.element)}):t instanceof rs?rs.create(Vr(t.unwrap())):t instanceof Qr?Qr.create(Vr(t.unwrap())):t instanceof Os?Os.create(t.items.map(e=>Vr(e))):t}class Nt extends Ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=nt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ge.object){const m=this._getOrReturnCtx(e);return ce(m,{code:le.invalid_type,expected:ge.object,received:m.parsedType}),Pe}const{status:i,ctx:o}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof os&&this._def.unknownKeys==="strip"))for(const m in o.data)c.includes(m)||h.push(m);const p=[];for(const m of c){const y=a[m],T=o.data[m];p.push({key:{status:"valid",value:m},value:y._parse(new li(o,T,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof os){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of h)p.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(m==="strict")h.length>0&&(ce(o,{code:le.unrecognized_keys,keys:h}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of h){const T=o.data[y];p.push({key:{status:"valid",value:y},value:m._parse(new li(o,T,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of p){const T=await y.key,b=await y.value;m.push({key:T,value:b,alwaysSet:y.alwaysSet})}return m}).then(m=>nn.mergeObjectSync(i,m)):nn.mergeObjectSync(i,p)}get shape(){return this._def.shape()}strict(e){return ye.errToObj,new Nt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var a,c;const o=((c=(a=this._def).errorMap)==null?void 0:c.call(a,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:ye.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Nt({...this._def,unknownKeys:"strip"})}passthrough(){return new Nt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Nt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Nt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ie.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Nt({...this._def,catchall:e})}pick(e){const n={};for(const i of nt.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Nt({...this._def,shape:()=>n})}omit(e){const n={};for(const i of nt.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new Nt({...this._def,shape:()=>n})}deepPartial(){return Vr(this)}partial(e){const n={};for(const i of nt.objectKeys(this.shape)){const o=this.shape[i];e&&!e[i]?n[i]=o:n[i]=o.optional()}return new Nt({...this._def,shape:()=>n})}required(e){const n={};for(const i of nt.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof rs;)a=a._def.innerType;n[i]=a}return new Nt({...this._def,shape:()=>n})}keyof(){return tT(nt.objectKeys(this.shape))}}Nt.create=(t,e)=>new Nt({shape:()=>t,unknownKeys:"strip",catchall:os.create(),typeName:Ie.ZodObject,...$e(e)});Nt.strictCreate=(t,e)=>new Nt({shape:()=>t,unknownKeys:"strict",catchall:os.create(),typeName:Ie.ZodObject,...$e(e)});Nt.lazycreate=(t,e)=>new Nt({shape:t,unknownKeys:"strip",catchall:os.create(),typeName:Ie.ZodObject,...$e(e)});class vu extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function o(a){for(const h of a)if(h.result.status==="valid")return h.result;for(const h of a)if(h.result.status==="dirty")return n.common.issues.push(...h.ctx.common.issues),h.result;const c=a.map(h=>new Ri(h.ctx.common.issues));return ce(n,{code:le.invalid_union,unionErrors:c}),Pe}if(n.common.async)return Promise.all(i.map(async a=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(o);{let a;const c=[];for(const p of i){const m={...n,common:{...n.common,issues:[]},parent:null},y=p._parseSync({data:n.data,path:n.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!a&&(a={result:y,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const h=c.map(p=>new Ri(p));return ce(n,{code:le.invalid_union,unionErrors:h}),Pe}}get options(){return this._def.options}}vu.create=(t,e)=>new vu({options:t,typeName:Ie.ZodUnion,...$e(e)});function Pf(t,e){const n=ns(t),i=ns(e);if(t===e)return{valid:!0,data:t};if(n===ge.object&&i===ge.object){const o=nt.objectKeys(e),a=nt.objectKeys(t).filter(h=>o.indexOf(h)!==-1),c={...t,...e};for(const h of a){const p=Pf(t[h],e[h]);if(!p.valid)return{valid:!1};c[h]=p.data}return{valid:!0,data:c}}else if(n===ge.array&&i===ge.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const c=t[a],h=e[a],p=Pf(c,h);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return n===ge.date&&i===ge.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class xu extends Ze{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=(a,c)=>{if(uv(a)||uv(c))return Pe;const h=Pf(a.value,c.value);return h.valid?((cv(a)||cv(c))&&n.dirty(),{status:n.value,value:h.data}):(ce(i,{code:le.invalid_intersection_types}),Pe)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,c])=>o(a,c)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}xu.create=(t,e,n)=>new xu({left:t,right:e,typeName:Ie.ZodIntersection,...$e(n)});class Os extends Ze{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ge.array)return ce(i,{code:le.invalid_type,expected:ge.array,received:i.parsedType}),Pe;if(i.data.length<this._def.items.length)return ce(i,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&i.data.length>this._def.items.length&&(ce(i,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((c,h)=>{const p=this._def.items[h]||this._def.rest;return p?p._parse(new li(i,c,i.path,h)):null}).filter(c=>!!c);return i.common.async?Promise.all(a).then(c=>nn.mergeArray(n,c)):nn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Os({...this._def,rest:e})}}Os.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Os({items:t,typeName:Ie.ZodTuple,rest:null,...$e(e)})};class Tu extends Ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ge.object)return ce(i,{code:le.invalid_type,expected:ge.object,received:i.parsedType}),Pe;const o=[],a=this._def.keyType,c=this._def.valueType;for(const h in i.data)o.push({key:a._parse(new li(i,h,i.path,h)),value:c._parse(new li(i,i.data[h],i.path,h)),alwaysSet:h in i.data});return i.common.async?nn.mergeObjectAsync(n,o):nn.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof Ze?new Tu({keyType:e,valueType:n,typeName:Ie.ZodRecord,...$e(i)}):new Tu({keyType:ri.create(),valueType:e,typeName:Ie.ZodRecord,...$e(n)})}}class yv extends Ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ge.map)return ce(i,{code:le.invalid_type,expected:ge.map,received:i.parsedType}),Pe;const o=this._def.keyType,a=this._def.valueType,c=[...i.data.entries()].map(([h,p],m)=>({key:o._parse(new li(i,h,i.path,[m,"key"])),value:a._parse(new li(i,p,i.path,[m,"value"]))}));if(i.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const p of c){const m=await p.key,y=await p.value;if(m.status==="aborted"||y.status==="aborted")return Pe;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}})}else{const h=new Map;for(const p of c){const m=p.key,y=p.value;if(m.status==="aborted"||y.status==="aborted")return Pe;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}}}}yv.create=(t,e,n)=>new yv({valueType:e,keyType:t,typeName:Ie.ZodMap,...$e(n)});class wa extends Ze{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ge.set)return ce(i,{code:le.invalid_type,expected:ge.set,received:i.parsedType}),Pe;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(ce(i,{code:le.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(ce(i,{code:le.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const a=this._def.valueType;function c(p){const m=new Set;for(const y of p){if(y.status==="aborted")return Pe;y.status==="dirty"&&n.dirty(),m.add(y.value)}return{status:n.value,value:m}}const h=[...i.data.values()].map((p,m)=>a._parse(new li(i,p,i.path,m)));return i.common.async?Promise.all(h).then(p=>c(p)):c(h)}min(e,n){return new wa({...this._def,minSize:{value:e,message:ye.toString(n)}})}max(e,n){return new wa({...this._def,maxSize:{value:e,message:ye.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}wa.create=(t,e)=>new wa({valueType:t,minSize:null,maxSize:null,typeName:Ie.ZodSet,...$e(e)});class Lf extends Ze{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Lf.create=(t,e)=>new Lf({getter:t,typeName:Ie.ZodLazy,...$e(e)});class vv extends Ze{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ce(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}vv.create=(t,e)=>new vv({value:t,typeName:Ie.ZodLiteral,...$e(e)});function tT(t,e){return new Yr({values:t,typeName:Ie.ZodEnum,...$e(e)})}class Yr extends Ze{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return ce(n,{expected:nt.joinValues(i),received:n.parsedType,code:le.invalid_type}),Pe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return ce(n,{received:n.data,code:le.invalid_enum_value,options:i}),Pe}return Ln(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Yr.create(e,{...this._def,...n})}exclude(e,n=this._def){return Yr.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}Yr.create=tT;class xv extends Ze{_parse(e){const n=nt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==ge.string&&i.parsedType!==ge.number){const o=nt.objectValues(n);return ce(i,{expected:nt.joinValues(o),received:i.parsedType,code:le.invalid_type}),Pe}if(this._cache||(this._cache=new Set(nt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=nt.objectValues(n);return ce(i,{received:i.data,code:le.invalid_enum_value,options:o}),Pe}return Ln(e.data)}get enum(){return this._def.values}}xv.create=(t,e)=>new xv({values:t,typeName:Ie.ZodNativeEnum,...$e(e)});class bu extends Ze{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.promise&&n.common.async===!1)return ce(n,{code:le.invalid_type,expected:ge.promise,received:n.parsedType}),Pe;const i=n.parsedType===ge.promise?n.data:Promise.resolve(n.data);return Ln(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}bu.create=(t,e)=>new bu({type:t,typeName:Ie.ZodPromise,...$e(e)});class Kr extends Ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:c=>{ce(i,c),c.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const c=o.transform(i.data,a);if(i.common.async)return Promise.resolve(c).then(async h=>{if(n.value==="aborted")return Pe;const p=await this._def.schema._parseAsync({data:h,path:i.path,parent:i});return p.status==="aborted"?Pe:p.status==="dirty"||n.value==="dirty"?ha(p.value):p});{if(n.value==="aborted")return Pe;const h=this._def.schema._parseSync({data:c,path:i.path,parent:i});return h.status==="aborted"?Pe:h.status==="dirty"||n.value==="dirty"?ha(h.value):h}}if(o.type==="refinement"){const c=h=>{const p=o.refinement(h,a);if(i.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(i.common.async===!1){const h=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return h.status==="aborted"?Pe:(h.status==="dirty"&&n.dirty(),c(h.value),{status:n.value,value:h.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(h=>h.status==="aborted"?Pe:(h.status==="dirty"&&n.dirty(),c(h.value).then(()=>({status:n.value,value:h.value}))))}if(o.type==="transform")if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Hr(c))return Pe;const h=o.transform(c.value,a);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:h}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>Hr(c)?Promise.resolve(o.transform(c.value,a)).then(h=>({status:n.value,value:h})):Pe);nt.assertNever(o)}}Kr.create=(t,e,n)=>new Kr({schema:t,typeName:Ie.ZodEffects,effect:e,...$e(n)});Kr.createWithPreprocess=(t,e,n)=>new Kr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ie.ZodEffects,...$e(n)});class rs extends Ze{_parse(e){return this._getType(e)===ge.undefined?Ln(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rs.create=(t,e)=>new rs({innerType:t,typeName:Ie.ZodOptional,...$e(e)});class Qr extends Ze{_parse(e){return this._getType(e)===ge.null?Ln(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qr.create=(t,e)=>new Qr({innerType:t,typeName:Ie.ZodNullable,...$e(e)});class Of extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===ge.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Of.create=(t,e)=>new Of({innerType:t,typeName:Ie.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$e(e)});class qf extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return gu(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ri(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ri(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}qf.create=(t,e)=>new qf({innerType:t,typeName:Ie.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$e(e)});class Tv extends Ze{_parse(e){if(this._getType(e)!==ge.nan){const i=this._getOrReturnCtx(e);return ce(i,{code:le.invalid_type,expected:ge.nan,received:i.parsedType}),Pe}return{status:"valid",value:e.data}}}Tv.create=t=>new Tv({typeName:Ie.ZodNaN,...$e(t)});class eR extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class gh extends Ze{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Pe:a.status==="dirty"?(n.dirty(),ha(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Pe:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(e,n){return new gh({in:e,out:n,typeName:Ie.ZodPipeline})}}class Bf extends Ze{_parse(e){const n=this._def.innerType._parse(e),i=o=>(Hr(o)&&(o.value=Object.freeze(o.value)),o);return gu(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}Bf.create=(t,e)=>new Bf({innerType:t,typeName:Ie.ZodReadonly,...$e(e)});var Ie;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const Ns=ri.create,bv=Ps.create;Ls.create;const tR=yu.create;Jr.create;const _v=If.create;os.create;const ma=ai.create,nR=Nt.create,iR=vu.create;xu.create;Os.create;const sR=Tu.create,rR=Lf.create,oR=Yr.create;bu.create;rs.create;Qr.create;const qr={string:t=>ri.create({...t,coerce:!0}),number:t=>Ps.create({...t,coerce:!0}),boolean:t=>yu.create({...t,coerce:!0}),bigint:t=>Ls.create({...t,coerce:!0}),date:t=>Jr.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aR,lR;function uR(){return{geminiUrl:aR,vertexUrl:lR}}function cR(t,e,n){var i,o,a;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const c=uR();return t.vertexai?(o=c.vertexUrl)!==null&&o!==void 0?o:e:(a=c.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vs{}function be(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function d(t,e,n){for(let a=0;a<e.length-1;a++){const c=e[a];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(n))for(let m=0;m<p.length;m++){const y=p[m];d(y,e.slice(a+1),n[m])}else for(const m of p)d(m,e.slice(a+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];d(p[0],e.slice(a+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(c=>u(c,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Sv||(Sv={}));var wv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(wv||(wv={}));var oi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(oi||(oi={}));var Cv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Cv||(Cv={}));var Ev;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ev||(Ev={}));var Av;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Av||(Av={}));var Nv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Nv||(Nv={}));var Rv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Rv||(Rv={}));var kv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(kv||(kv={}));var Mv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Mv||(Mv={}));var Dv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Dv||(Dv={}));var Uv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Uv||(Uv={}));var Iv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Iv||(Iv={}));var _u;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(_u||(_u={}));var Pv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Pv||(Pv={}));var jf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(jf||(jf={}));var Lv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Lv||(Lv={}));var Ov;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ov||(Ov={}));var qv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(qv||(qv={}));var Bv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Bv||(Bv={}));var jv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(jv||(jv={}));var Vv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Vv||(Vv={}));var $v;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($v||($v={}));var Fv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Fv||(Fv={}));var zv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(zv||(zv={}));var Gv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gv||(Gv={}));var Hv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Hv||(Hv={}));var Jv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Jv||(Jv={}));var Yv;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Yv||(Yv={}));var Kv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Kv||(Kv={}));var Qv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Qv||(Qv={}));var Zv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Zv||(Zv={}));var Xv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Xv||(Xv={}));var Wv;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Wv||(Wv={}));var e0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(e0||(e0={}));var t0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(t0||(t0={}));var n0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(n0||(n0={}));var i0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(i0||(i0={}));var s0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(s0||(s0={}));var $r;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})($r||($r={}));function r0(t,e){return{fileData:{fileUri:t,mimeType:e}}}class Vf{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class da{get text(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const T=[];for(const b of(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[w,S]of Object.entries(b))w!=="text"&&w!=="thought"&&(S!==null||S!==void 0)&&T.push(w);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;y=!0,m+=b.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const T of(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[b,w]of Object.entries(T))b!=="inlineData"&&(w!==null||w!==void 0)&&y.push(b);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,o,a,c,h,p,m;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,o,a,c,h,p,m;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class o0{}class a0{}class dR{}class fR{}class l0{}class u0{}class c0{}class hR{}class d0{}class f0{}class h0{}class mR{}class pR{}class gR{}class m0{}class yR{get text(){var e,n,i;let o="",a=!1;const c=[];for(const h of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&c.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;a=!0,o+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,i;let o="";const a=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(c))h!=="inlineData"&&p!==null&&a.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class vR{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function nT(t,e){const n=lt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function iT(t){return Array.isArray(t)?t.map(e=>Su(e)):[Su(t)]}function Su(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function xR(t){const e=Su(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function TR(t){const e=Su(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function p0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function sT(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>p0(e)):[p0(t)]}function $f(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function g0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function y0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Wt(t){if(t==null)throw new Error("ContentUnion is required");return $f(t)?t:{role:"user",parts:sT(t)}}function rT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Wt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Wt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Wt(n)):[Wt(e)]}function In(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(g0(t)||y0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Wt(t)]}const e=[],n=[],i=$f(t[0]);for(const o of t){const a=$f(o);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(g0(o)||y0(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:sT(n)}),e}const bR=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),v0=oR(["string","number","integer","object","array","boolean","null"]),_R=iR([v0,ma(v0)]);function SR(t=!0){const e=rR(()=>{const n=nR({type:_R.optional(),format:Ns().optional(),title:Ns().optional(),description:Ns().optional(),default:_v().optional(),items:e.optional(),minItems:qr.string().optional(),maxItems:qr.string().optional(),enum:ma(_v()).optional(),properties:sR(Ns(),e).optional(),required:ma(Ns()).optional(),minProperties:qr.string().optional(),maxProperties:qr.string().optional(),propertyOrdering:ma(Ns()).optional(),minimum:bv().optional(),maximum:bv().optional(),minLength:qr.string().optional(),maxLength:qr.string().optional(),pattern:Ns().optional(),anyOf:ma(e).optional(),additionalProperties:tR().optional()});return t?n.strict():n});return e}function wR(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(oi).includes(n[0].toUpperCase())?n[0].toUpperCase():oi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(oi).includes(i.toUpperCase())?i.toUpperCase():oi.TYPE_UNSPECIFIED})}}function Fr(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&wR(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(oi).includes(h.toUpperCase())?h.toUpperCase():oi.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=Fr(h);else if(i.includes(c)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(Fr(m))}e[c]=p}else if(o.includes(c)){const p={};for(const[m,y]of Object.entries(h))p[m]=Fr(y);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=h}return e}function Ca(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=SR().parse(t);return Fr(e)}else return Fr(t)}function yh(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function vh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function no(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=Ca(e.parameters)),e.response&&(e.response=Ca(e.response));return t}function io(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function CR(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function ki(t,e){if(typeof e!="string")throw new Error("name must be a string");return CR(t,e,"cachedContents")}function oT(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Mi(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function ER(t){return t!=null&&typeof t=="object"&&"name"in t}function AR(t){return t!=null&&typeof t=="object"&&"video"in t}function NR(t){return t!=null&&typeof t=="object"&&"uri"in t}function aT(t){var e;let n;if(ER(t)&&(n=t.name),!(NR(t)&&(n=t.uri,n===void 0))&&!(AR(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function lT(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function uT(t){for(const e of["models","tunedModels","publisherModels"])if(RR(t,e))return t[e];return[]}function RR(t,e){return t!==null&&typeof t=="object"&&e in t}function kR(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:Fr(Ou(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function MR(t,e={}){const n=[],i=new Set;for(const o of t){const a=o.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const c=kR(o,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function DR(t){const e=[];for(const n of t)e.push(Ou(n));return e}function UR(t){const e={};for(const[n,i]of Object.entries(t)){const o=i;e[n]=Ou(o)}return e}function Ou(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),o={};for(const[a,c]of Object.entries(t))if(e.has(a))o[a]=Ou(c);else if(n.has(a))o[a]=DR(c);else if(i.has(a))o[a]=UR(c);else if(a==="type"){const h=c.toUpperCase();o[a]=Object.values(oi).includes(h)?h:oi.TYPE_UNSPECIFIED}else bR.has(a)&&(o[a]=c);return o}function cT(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function IR(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function qu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function dT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PR(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function LR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function OR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function qR(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],PR(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],LR(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],OR(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function fT(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>qR(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function BR(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&d(e,["maxProperties"],T);const b=u(t,["maximum"]);b!=null&&d(e,["maximum"],b);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const S=u(t,["minLength"]);S!=null&&d(e,["minLength"],S);const N=u(t,["minProperties"]);N!=null&&d(e,["minProperties"],N);const A=u(t,["minimum"]);A!=null&&d(e,["minimum"],A);const M=u(t,["nullable"]);M!=null&&d(e,["nullable"],M);const P=u(t,["pattern"]);P!=null&&d(e,["pattern"],P);const D=u(t,["properties"]);D!=null&&d(e,["properties"],D);const C=u(t,["propertyOrdering"]);C!=null&&d(e,["propertyOrdering"],C);const I=u(t,["required"]);I!=null&&d(e,["required"],I);const V=u(t,["title"]);V!=null&&d(e,["title"],V);const H=u(t,["type"]);return H!=null&&d(e,["type"],H),e}function jR(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&d(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&d(e,["threshold"],i),e}function VR(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function $R(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function FR(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],$R(n)),e}function zR(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function GR(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],zR(n)),e}function HR(){return{}}function JR(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>VR(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],FR(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],GR(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],HR());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function YR(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function KR(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function QR(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],KR(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function ZR(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],YR(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],QR(i)),e}function XR(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function hT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],XR(n)),e}function WR(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],hT(i)),e}function ek(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>WR(o))),d(e,["speakerVoiceConfigs"],i)}return e}function tk(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],hT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],ek(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function nk(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function ik(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],fT(Wt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&d(i,["responseLogprobs"],T);const b=u(e,["logprobs"]);b!=null&&d(i,["logprobs"],b);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const S=u(e,["frequencyPenalty"]);S!=null&&d(i,["frequencyPenalty"],S);const N=u(e,["seed"]);N!=null&&d(i,["seed"],N);const A=u(e,["responseMimeType"]);A!=null&&d(i,["responseMimeType"],A);const M=u(e,["responseSchema"]);M!=null&&d(i,["responseSchema"],BR(Ca(M)));const P=u(e,["responseJsonSchema"]);if(P!=null&&d(i,["responseJsonSchema"],P),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(e,["safetySettings"]);if(n!==void 0&&D!=null){let ne=D;Array.isArray(ne)&&(ne=ne.map($=>jR($))),d(n,["safetySettings"],ne)}const C=u(e,["tools"]);if(n!==void 0&&C!=null){let ne=io(C);Array.isArray(ne)&&(ne=ne.map($=>JR(no($)))),d(n,["tools"],ne)}const I=u(e,["toolConfig"]);if(n!==void 0&&I!=null&&d(n,["toolConfig"],ZR(I)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(e,["cachedContent"]);n!==void 0&&V!=null&&d(n,["cachedContent"],ki(t,V));const H=u(e,["responseModalities"]);H!=null&&d(i,["responseModalities"],H);const ee=u(e,["mediaResolution"]);ee!=null&&d(i,["mediaResolution"],ee);const z=u(e,["speechConfig"]);if(z!=null&&d(i,["speechConfig"],tk(yh(z))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=u(e,["thinkingConfig"]);return K!=null&&d(i,["thinkingConfig"],nk(K)),i}function sk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["request","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(h=>fT(h))),d(n,["request","contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["request","generationConfig"],ik(t,a,n)),n}function rk(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&d(n,["fileName"],i);const o=u(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>sk(t,c))),d(n,["requests","requests"],a)}return n}function ok(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&d(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ak(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["src"]);o!=null&&d(n,["batch","inputConfig"],rk(t,cT(t,o)));const a=u(e,["config"]);return a!=null&&d(n,["config"],ok(a,n)),n}function lk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],qu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function uk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],qu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function ck(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);if(e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function dk(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],ck(n,e)),e}function fk(t){const e={},n=u(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&d(e,["gcsSource","uris"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&d(e,["bigquerySource","inputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function hk(t){const e={},n=u(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&d(e,["gcsDestination","outputUriPrefix"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&d(e,["bigqueryDestination","outputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function mk(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["dest"]);return e!==void 0&&o!=null&&d(e,["outputConfig"],hk(IR(o))),n}function pk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],lt(t,i));const o=u(e,["src"]);o!=null&&d(n,["inputConfig"],fk(cT(t,o)));const a=u(e,["config"]);return a!=null&&d(n,["config"],mk(a,n)),n}function gk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],qu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function yk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],qu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function vk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function xk(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],vk(n,e)),e}function Tk(){return{}}function bk(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function _k(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Sk(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function wk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],bk(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],_k(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],Sk(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function Ck(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>wk(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function Ek(t){const e={},n=u(t,["citationSources"]);return n!=null&&d(e,["citations"],n),e}function Ak(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function Nk(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ak(o))),d(e,["urlMetadata"],i)}return e}function Rk(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],Ck(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],Ek(i));const o=u(t,["tokenCount"]);o!=null&&d(e,["tokenCount"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],Nk(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&d(e,["safetyRatings"],T),e}function kk(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>Rk(h))),d(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=u(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function Mk(t){const e={},n=u(t,["response"]);return n!=null&&d(e,["response"],kk(n)),u(t,["error"])!=null&&d(e,["error"],Tk()),e}function Dk(t){const e={},n=u(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Mk(a))),d(e,["inlinedResponses"],o)}return e}function Ff(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["metadata","state"]);o!=null&&d(e,["state"],dT(o));const a=u(t,["metadata","createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["metadata","endTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["metadata","updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["metadata","model"]);p!=null&&d(e,["model"],p);const m=u(t,["metadata","output"]);return m!=null&&d(e,["dest"],Dk(m)),e}function Uk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ff(a))),d(e,["batchJobs"],o)}return e}function Ik(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["code"]);i!=null&&d(e,["code"],i);const o=u(t,["message"]);return o!=null&&d(e,["message"],o),e}function Pk(t){const e={},n=u(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&d(e,["gcsUri"],i);const o=u(t,["bigquerySource","inputUri"]);return o!=null&&d(e,["bigqueryUri"],o),e}function Lk(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&d(e,["gcsUri"],i);const o=u(t,["bigqueryDestination","outputUri"]);return o!=null&&d(e,["bigqueryUri"],o),e}function zf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["state"]);o!=null&&d(e,["state"],dT(o));const a=u(t,["error"]);a!=null&&d(e,["error"],Ik(a));const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["startTime"]);h!=null&&d(e,["startTime"],h);const p=u(t,["endTime"]);p!=null&&d(e,["endTime"],p);const m=u(t,["updateTime"]);m!=null&&d(e,["updateTime"],m);const y=u(t,["model"]);y!=null&&d(e,["model"],y);const T=u(t,["inputConfig"]);T!=null&&d(e,["src"],Pk(T));const b=u(t,["outputConfig"]);return b!=null&&d(e,["dest"],Lk(b)),e}function Ok(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>zf(a))),d(e,["batchJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(qs||(qs={}));class Da{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};i?typeof i=="object"?c=Object.assign({},i):c=i:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(a=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qk extends Vs{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Da(qs.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=pk(this.apiClient,e);return h=be("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>zf(y))}else{const m=ak(this.apiClient,e);return h=be("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Ff(y))}}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=gk(this.apiClient,e);return h=be("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>zf(y))}else{const m=lk(this.apiClient,e);return h=be("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Ff(y))}}async cancel(e){var n,i,o,a;let c="",h={};if(this.apiClient.isVertexAI()){const p=yk(this.apiClient,e);c=be("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=uk(this.apiClient,e);c=be("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=xk(e);return h=be("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=Ok(y),b=new m0;return Object.assign(b,T),b})}else{const m=dk(e);return h=be("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=Uk(y),b=new m0;return Object.assign(b,T),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bk(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function jk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Vk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function $k(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],Bk(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],jk(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],Vk(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function x0(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>$k(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function Fk(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function zk(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function Gk(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],zk(n)),e}function Hk(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function Jk(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],Hk(n)),e}function Yk(){return{}}function Kk(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Fk(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],Gk(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],Jk(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],Yk());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function Qk(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function Zk(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function Xk(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],Zk(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function Wk(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],Qk(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],Xk(i)),e}function eM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const a=u(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let y=In(c);Array.isArray(y)&&(y=y.map(T=>x0(T))),d(e,["contents"],y)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],x0(Wt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(T=>Kk(T))),d(e,["tools"],y)}const m=u(t,["toolConfig"]);if(e!==void 0&&m!=null&&d(e,["toolConfig"],Wk(m)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function tM(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],nT(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],eM(o,n)),n}function nM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],ki(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function iM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],ki(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function sM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),n}function rM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],ki(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],sM(o,n)),n}function oM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function aM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],oM(n,e)),e}function lM(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function uM(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function cM(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function dM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],lM(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],uM(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],cM(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function T0(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>dM(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function fM(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function hM(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function mM(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],hM(n)),e}function pM(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function gM(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],pM(n)),e}function yM(){return{}}function vM(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function xM(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],vM(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function TM(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],xM(n)),e}function bM(){return{}}function _M(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(T=>fM(T))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],mM(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],gM(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],yM());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],TM(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],bM());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function SM(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function wM(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function CM(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],wM(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function EM(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],SM(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],CM(i)),e}function AM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const a=u(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let T=In(c);Array.isArray(T)&&(T=T.map(b=>T0(b))),d(e,["contents"],T)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],T0(Wt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let T=p;Array.isArray(T)&&(T=T.map(b=>_M(b))),d(e,["tools"],T)}const m=u(t,["toolConfig"]);e!==void 0&&m!=null&&d(e,["toolConfig"],EM(m));const y=u(t,["kmsKeyName"]);return e!==void 0&&y!=null&&d(e,["encryption_spec","kmsKeyName"],y),n}function NM(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],nT(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],AM(o,n)),n}function RM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],ki(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function kM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],ki(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function MM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),n}function DM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],ki(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],MM(o,n)),n}function UM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function IM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],UM(n,e)),e}function lu(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["model"]);o!=null&&d(e,["model"],o);const a=u(t,["createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&d(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function PM(){return{}}function LM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>lu(a))),d(e,["cachedContents"],o)}return e}function uu(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["model"]);o!=null&&d(e,["model"],o);const a=u(t,["createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&d(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function OM(){return{}}function qM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>uu(a))),d(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BM extends Vs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Da(qs.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=NM(this.apiClient,e);return h=be("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>uu(y))}else{const m=tM(this.apiClient,e);return h=be("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>lu(y))}}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=RM(this.apiClient,e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>uu(y))}else{const m=nM(this.apiClient,e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>lu(y))}}async delete(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=kM(this.apiClient,e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=OM(),T=new f0;return Object.assign(T,y),T})}else{const m=iM(this.apiClient,e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=PM(),T=new f0;return Object.assign(T,y),T})}}async update(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=DM(this.apiClient,e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>uu(y))}else{const m=rM(this.apiClient,e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>lu(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=IM(e);return h=be("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=qM(y),b=new h0;return Object.assign(b,T),b})}else{const m=aM(e);return h=be("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=LM(y),b=new h0;return Object.assign(b,T),b})}}}function b0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gt(t){return this instanceof gt?(this.v=t,this):new gt(t)}function zr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(w){return function(S){return Promise.resolve(S).then(w,T)}}function h(w,S){i[w]&&(o[w]=function(N){return new Promise(function(A,M){a.push([w,N,A,M])>1||p(w,N)})},S&&(o[w]=S(o[w])))}function p(w,S){try{m(i[w](S))}catch(N){b(a[0][3],N)}}function m(w){w.value instanceof gt?Promise.resolve(w.value.v).then(y,T):b(a[0][2],w)}function y(w){p("next",w)}function T(w){p("throw",w)}function b(w,S){w(S),a.shift(),a.length&&p(a[0][0],a[0][1])}}function xa(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof b0=="function"?b0(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(c){return new Promise(function(h,p){c=t[a](c),o(h,p,c.done,c.value)})}}function o(a,c,h,p){Promise.resolve(p).then(function(m){a({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jM(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:mT(n)}function mT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function VM(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let a=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),a&&!mT(t[i])&&(a=!1),i++;a?e.push(...o):e.pop()}return e}class $M{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new FM(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class FM{constructor(e,n,i,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),VM(a)}async sendMessage(e){var n;await this.sendPromise;const i=Wt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,c,h;const p=await o,m=(c=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content,y=p.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let b=[];y!=null&&(b=(h=y.slice(T))!==null&&h!==void 0?h:[]);const w=m?[m]:[];this.recordHistory(i,w,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Wt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?_0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return zr(this,arguments,function*(){var c,h,p,m;const y=[];try{for(var T=!0,b=xa(e),w;w=yield gt(b.next()),c=w.done,!c;T=!0){m=w.value,T=!1;const S=m;if(jM(S)){const N=(o=(i=S.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;N!==void 0&&y.push(N)}yield yield gt(S)}}catch(S){h={error:S}}finally{try{!T&&!c&&(p=b.return)&&(yield gt(p.call(b)))}finally{if(h)throw h.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(..._0(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Bu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function GM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],zM(n,e)),e}function HM(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["message"]);i!=null&&d(e,["message"],i);const o=u(t,["code"]);return o!=null&&d(e,["code"],o),e}function JM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&d(e,["mimeType"],o);const a=u(t,["sizeBytes"]);a!=null&&d(e,["sizeBytes"],a);const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&d(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&d(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&d(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&d(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&d(e,["downloadUri"],T);const b=u(t,["state"]);b!=null&&d(e,["state"],b);const w=u(t,["source"]);w!=null&&d(e,["source"],w);const S=u(t,["videoMetadata"]);S!=null&&d(e,["videoMetadata"],S);const N=u(t,["error"]);return N!=null&&d(e,["error"],HM(N)),e}function YM(t){const e={},n=u(t,["file"]);n!=null&&d(e,["file"],JM(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function KM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","file"],aT(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function QM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","file"],aT(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function ZM(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["message"]);i!=null&&d(e,["message"],i);const o=u(t,["code"]);return o!=null&&d(e,["code"],o),e}function Gf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&d(e,["mimeType"],o);const a=u(t,["sizeBytes"]);a!=null&&d(e,["sizeBytes"],a);const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&d(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&d(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&d(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&d(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&d(e,["downloadUri"],T);const b=u(t,["state"]);b!=null&&d(e,["state"],b);const w=u(t,["source"]);w!=null&&d(e,["source"],w);const S=u(t,["videoMetadata"]);S!=null&&d(e,["videoMetadata"],S);const N=u(t,["error"]);return N!=null&&d(e,["error"],ZM(N)),e}function XM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Gf(a))),d(e,["files"],o)}return e}function WM(){return{}}function e1(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t1 extends Vs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Da(qs.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Gf(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=GM(e);return a=be("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=XM(p),y=new mR;return Object.assign(y,m),y})}}async createInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YM(e);return a=be("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(()=>{const p=WM(),m=new pR;return Object.assign(m,p),m})}}async get(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KM(e);return a=be("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>Gf(p))}}async delete(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=QM(e);return a=be("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(()=>{const p=e1(),m=new gR;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n1(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function i1(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function pT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],n1(n)),e}function s1(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],i1(n)),e}function r1(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],pT(i)),e}function o1(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>r1(o))),d(e,["speakerVoiceConfigs"],i)}return e}function a1(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],pT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],o1(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function l1(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],s1(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function u1(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function c1(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function d1(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function f1(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function h1(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function m1(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function p1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],u1(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],d1(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],h1(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function g1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],c1(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],f1(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],m1(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function y1(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>p1(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function v1(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>g1(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function x1(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function T1(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function b1(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function _1(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function S1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],b1(n)),e}function w1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],_1(n)),e}function C1(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function E1(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function A1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],C1(n)),e}function N1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],E1(n)),e}function R1(){return{}}function k1(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function M1(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],k1(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function D1(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],M1(n)),e}function U1(){return{}}function I1(){return{}}function P1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>x1(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],S1(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],A1(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],U1());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function L1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(T=>T1(T))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],w1(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],N1(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],R1());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],D1(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],I1());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function O1(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function q1(t){const e={},n=u(t,["handle"]);n!=null&&d(e,["handle"],n);const i=u(t,["transparent"]);return i!=null&&d(e,["transparent"],i),e}function S0(){return{}}function w0(){return{}}function B1(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function j1(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function V1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],B1(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function $1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],j1(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function F1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function z1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function G1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],F1(i)),e}function H1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],z1(i)),e}function J1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function Y1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function K1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],a1(vh(T)));const b=u(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],y1(Wt(w)));const S=u(t,["tools"]);if(e!==void 0&&S!=null){let I=io(S);Array.isArray(I)&&(I=I.map(V=>P1(no(V)))),d(e,["setup","tools"],I)}const N=u(t,["sessionResumption"]);e!==void 0&&N!=null&&d(e,["setup","sessionResumption"],O1(N));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],S0());const M=u(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","outputAudioTranscription"],S0());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],V1(P));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],G1(D));const C=u(t,["proactivity"]);return e!==void 0&&C!=null&&d(e,["setup","proactivity"],J1(C)),n}function Q1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],l1(vh(T)));const b=u(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],v1(Wt(w)));const S=u(t,["tools"]);if(e!==void 0&&S!=null){let I=io(S);Array.isArray(I)&&(I=I.map(V=>L1(no(V)))),d(e,["setup","tools"],I)}const N=u(t,["sessionResumption"]);e!==void 0&&N!=null&&d(e,["setup","sessionResumption"],q1(N));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],w0());const M=u(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","outputAudioTranscription"],w0());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],$1(P));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],H1(D));const C=u(t,["proactivity"]);return e!==void 0&&C!=null&&d(e,["setup","proactivity"],Y1(C)),n}function Z1(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],K1(o,n)),n}function X1(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],Q1(o,n)),n}function W1(){return{}}function eD(){return{}}function tD(){return{}}function nD(){return{}}function iD(t){const e={},n=u(t,["media"]);n!=null&&d(e,["mediaChunks"],iT(n));const i=u(t,["audio"]);i!=null&&d(e,["audio"],TR(i));const o=u(t,["audioStreamEnd"]);o!=null&&d(e,["audioStreamEnd"],o);const a=u(t,["video"]);a!=null&&d(e,["video"],xR(a));const c=u(t,["text"]);return c!=null&&d(e,["text"],c),u(t,["activityStart"])!=null&&d(e,["activityStart"],W1()),u(t,["activityEnd"])!=null&&d(e,["activityEnd"],tD()),e}function sD(t){const e={},n=u(t,["media"]);if(n!=null&&d(e,["mediaChunks"],iT(n)),u(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=u(t,["audioStreamEnd"]);if(i!=null&&d(e,["audioStreamEnd"],i),u(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(t,["activityStart"])!=null&&d(e,["activityStart"],eD()),u(t,["activityEnd"])!=null&&d(e,["activityEnd"],nD()),e}function gT(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["weight"]);return i!=null&&d(e,["weight"],i),e}function rD(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gT(o))),d(e,["weightedPrompts"],i)}return e}function yT(t){const e={},n=u(t,["temperature"]);n!=null&&d(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&d(e,["topK"],i);const o=u(t,["seed"]);o!=null&&d(e,["seed"],o);const a=u(t,["guidance"]);a!=null&&d(e,["guidance"],a);const c=u(t,["bpm"]);c!=null&&d(e,["bpm"],c);const h=u(t,["density"]);h!=null&&d(e,["density"],h);const p=u(t,["brightness"]);p!=null&&d(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&d(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&d(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&d(e,["muteDrums"],T);const b=u(t,["onlyBassAndDrums"]);return b!=null&&d(e,["onlyBassAndDrums"],b),e}function oD(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],yT(n)),e}function vT(t){const e={},n=u(t,["model"]);return n!=null&&d(e,["model"],n),e}function xT(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gT(o))),d(e,["weightedPrompts"],i)}return e}function Hf(t){const e={},n=u(t,["setup"]);n!=null&&d(e,["setup"],vT(n));const i=u(t,["clientContent"]);i!=null&&d(e,["clientContent"],xT(i));const o=u(t,["musicGenerationConfig"]);o!=null&&d(e,["musicGenerationConfig"],yT(o));const a=u(t,["playbackControl"]);return a!=null&&d(e,["playbackControl"],a),e}function aD(){return{}}function lD(){return{}}function uD(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function cD(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function dD(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function fD(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function hD(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function mD(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function pD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],uD(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],dD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],hD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function gD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],cD(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],fD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],mD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function yD(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>pD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function vD(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>gD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function C0(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["finished"]);return i!=null&&d(e,["finished"],i),e}function E0(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["finished"]);return i!=null&&d(e,["finished"],i),e}function xD(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function TD(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xD(o))),d(e,["urlMetadata"],i)}return e}function bD(t){const e={},n=u(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],yD(n));const i=u(t,["turnComplete"]);i!=null&&d(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&d(e,["interrupted"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const c=u(t,["generationComplete"]);c!=null&&d(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&d(e,["inputTranscription"],C0(h));const p=u(t,["outputTranscription"]);p!=null&&d(e,["outputTranscription"],C0(p));const m=u(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],TD(m)),e}function _D(t){const e={},n=u(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],vD(n));const i=u(t,["turnComplete"]);i!=null&&d(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&d(e,["interrupted"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const c=u(t,["generationComplete"]);c!=null&&d(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&d(e,["inputTranscription"],E0(h));const p=u(t,["outputTranscription"]);return p!=null&&d(e,["outputTranscription"],E0(p)),e}function SD(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const i=u(t,["args"]);i!=null&&d(e,["args"],i);const o=u(t,["name"]);return o!=null&&d(e,["name"],o),e}function wD(t){const e={},n=u(t,["args"]);n!=null&&d(e,["args"],n);const i=u(t,["name"]);return i!=null&&d(e,["name"],i),e}function CD(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>SD(o))),d(e,["functionCalls"],i)}return e}function ED(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wD(o))),d(e,["functionCalls"],i)}return e}function AD(t){const e={},n=u(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function ND(t){const e={},n=u(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function eu(t){const e={},n=u(t,["modality"]);n!=null&&d(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&d(e,["tokenCount"],i),e}function tu(t){const e={},n=u(t,["modality"]);n!=null&&d(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&d(e,["tokenCount"],i),e}function RD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&d(e,["cachedContentTokenCount"],i);const o=u(t,["responseTokenCount"]);o!=null&&d(e,["responseTokenCount"],o);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&d(e,["toolUsePromptTokenCount"],a);const c=u(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(w=>eu(w))),d(e,["promptTokensDetails"],b)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(w=>eu(w))),d(e,["cacheTokensDetails"],b)}const y=u(t,["responseTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(w=>eu(w))),d(e,["responseTokensDetails"],b)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let b=T;Array.isArray(b)&&(b=b.map(w=>eu(w))),d(e,["toolUsePromptTokensDetails"],b)}return e}function kD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&d(e,["cachedContentTokenCount"],i);const o=u(t,["candidatesTokenCount"]);o!=null&&d(e,["responseTokenCount"],o);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&d(e,["toolUsePromptTokenCount"],a);const c=u(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(S=>tu(S))),d(e,["promptTokensDetails"],w)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(S=>tu(S))),d(e,["cacheTokensDetails"],w)}const y=u(t,["candidatesTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(S=>tu(S))),d(e,["responseTokensDetails"],w)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let w=T;Array.isArray(w)&&(w=w.map(S=>tu(S))),d(e,["toolUsePromptTokensDetails"],w)}const b=u(t,["trafficType"]);return b!=null&&d(e,["trafficType"],b),e}function MD(t){const e={},n=u(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function DD(t){const e={},n=u(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function UD(t){const e={},n=u(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&d(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&d(e,["lastConsumedClientMessageIndex"],o),e}function ID(t){const e={},n=u(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&d(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&d(e,["lastConsumedClientMessageIndex"],o),e}function PD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],aD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],bD(i));const o=u(t,["toolCall"]);o!=null&&d(e,["toolCall"],CD(o));const a=u(t,["toolCallCancellation"]);a!=null&&d(e,["toolCallCancellation"],AD(a));const c=u(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],RD(c));const h=u(t,["goAway"]);h!=null&&d(e,["goAway"],MD(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&d(e,["sessionResumptionUpdate"],UD(p)),e}function LD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],lD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],_D(i));const o=u(t,["toolCall"]);o!=null&&d(e,["toolCall"],ED(o));const a=u(t,["toolCallCancellation"]);a!=null&&d(e,["toolCallCancellation"],ND(a));const c=u(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],kD(c));const h=u(t,["goAway"]);h!=null&&d(e,["goAway"],DD(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&d(e,["sessionResumptionUpdate"],ID(p)),e}function OD(){return{}}function qD(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["weight"]);return i!=null&&d(e,["weight"],i),e}function BD(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qD(o))),d(e,["weightedPrompts"],i)}return e}function jD(t){const e={},n=u(t,["temperature"]);n!=null&&d(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&d(e,["topK"],i);const o=u(t,["seed"]);o!=null&&d(e,["seed"],o);const a=u(t,["guidance"]);a!=null&&d(e,["guidance"],a);const c=u(t,["bpm"]);c!=null&&d(e,["bpm"],c);const h=u(t,["density"]);h!=null&&d(e,["density"],h);const p=u(t,["brightness"]);p!=null&&d(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&d(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&d(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&d(e,["muteDrums"],T);const b=u(t,["onlyBassAndDrums"]);return b!=null&&d(e,["onlyBassAndDrums"],b),e}function VD(t){const e={},n=u(t,["clientContent"]);n!=null&&d(e,["clientContent"],BD(n));const i=u(t,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],jD(i)),e}function $D(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);i!=null&&d(e,["mimeType"],i);const o=u(t,["sourceMetadata"]);return o!=null&&d(e,["sourceMetadata"],VD(o)),e}function FD(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$D(o))),d(e,["audioChunks"],i)}return e}function zD(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["filteredReason"]);return i!=null&&d(e,["filteredReason"],i),e}function GD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],OD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],FD(i));const o=u(t,["filteredPrompt"]);return o!=null&&d(e,["filteredPrompt"],zD(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HD(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function JD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function YD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function KD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],HD(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],JD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],YD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function ju(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>KD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function QD(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&d(e,["maxProperties"],T);const b=u(t,["maximum"]);b!=null&&d(e,["maximum"],b);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const S=u(t,["minLength"]);S!=null&&d(e,["minLength"],S);const N=u(t,["minProperties"]);N!=null&&d(e,["minProperties"],N);const A=u(t,["minimum"]);A!=null&&d(e,["minimum"],A);const M=u(t,["nullable"]);M!=null&&d(e,["nullable"],M);const P=u(t,["pattern"]);P!=null&&d(e,["pattern"],P);const D=u(t,["properties"]);D!=null&&d(e,["properties"],D);const C=u(t,["propertyOrdering"]);C!=null&&d(e,["propertyOrdering"],C);const I=u(t,["required"]);I!=null&&d(e,["required"],I);const V=u(t,["title"]);V!=null&&d(e,["title"],V);const H=u(t,["type"]);return H!=null&&d(e,["type"],H),e}function ZD(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&d(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&d(e,["threshold"],i),e}function XD(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function WD(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function e2(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],WD(n)),e}function t2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function n2(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],t2(n)),e}function i2(){return{}}function s2(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>XD(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],e2(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],n2(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],i2());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function r2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function o2(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function a2(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],o2(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function l2(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],r2(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],a2(i)),e}function u2(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function TT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],u2(n)),e}function c2(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],TT(i)),e}function d2(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>c2(o))),d(e,["speakerVoiceConfigs"],i)}return e}function f2(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],TT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],d2(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function h2(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function m2(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],ju(Wt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&d(i,["responseLogprobs"],T);const b=u(e,["logprobs"]);b!=null&&d(i,["logprobs"],b);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const S=u(e,["frequencyPenalty"]);S!=null&&d(i,["frequencyPenalty"],S);const N=u(e,["seed"]);N!=null&&d(i,["seed"],N);const A=u(e,["responseMimeType"]);A!=null&&d(i,["responseMimeType"],A);const M=u(e,["responseSchema"]);M!=null&&d(i,["responseSchema"],QD(Ca(M)));const P=u(e,["responseJsonSchema"]);if(P!=null&&d(i,["responseJsonSchema"],P),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(e,["safetySettings"]);if(n!==void 0&&D!=null){let ne=D;Array.isArray(ne)&&(ne=ne.map($=>ZD($))),d(n,["safetySettings"],ne)}const C=u(e,["tools"]);if(n!==void 0&&C!=null){let ne=io(C);Array.isArray(ne)&&(ne=ne.map($=>s2(no($)))),d(n,["tools"],ne)}const I=u(e,["toolConfig"]);if(n!==void 0&&I!=null&&d(n,["toolConfig"],l2(I)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(e,["cachedContent"]);n!==void 0&&V!=null&&d(n,["cachedContent"],ki(t,V));const H=u(e,["responseModalities"]);H!=null&&d(i,["responseModalities"],H);const ee=u(e,["mediaResolution"]);ee!=null&&d(i,["mediaResolution"],ee);const z=u(e,["speechConfig"]);if(z!=null&&d(i,["speechConfig"],f2(yh(z))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=u(e,["thinkingConfig"]);return K!=null&&d(i,["thinkingConfig"],h2(K)),i}function A0(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(h=>ju(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["generationConfig"],m2(t,a,n)),n}function p2(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&d(e,["requests[]","taskType"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&d(e,["requests[]","title"],o);const a=u(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&d(e,["requests[]","outputDimensionality"],a),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function g2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);o!=null&&d(n,["requests[]","content"],rT(t,o));const a=u(e,["config"]);a!=null&&d(n,["config"],p2(a,n));const c=u(e,["model"]);return c!==void 0&&d(n,["requests[]","model"],lt(t,c)),n}function y2(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const a=u(t,["guidanceScale"]);if(e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const p=u(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&d(e,["parameters","includeSafetyAttributes"],p);const m=u(t,["includeRaiReason"]);e!==void 0&&m!=null&&d(e,["parameters","includeRaiReason"],m);const y=u(t,["language"]);e!==void 0&&y!=null&&d(e,["parameters","language"],y);const T=u(t,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const b=u(t,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&d(e,["parameters","outputOptions","compressionQuality"],b),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function v2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["config"]);return a!=null&&d(n,["config"],y2(a,n)),n}function x2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function T2(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&d(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&d(n,["_url","models_url"],lT(t,h)),i}function b2(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],T2(t,i,n)),n}function _2(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&d(e,["defaultCheckpointId"],a),n}function S2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],_2(o,n)),n}function w2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function C2(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function E2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(h=>ju(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],C2(a)),n}function A2(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],Mi(n));const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function N2(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=u(t,["durationSeconds"]);if(e!==void 0&&o!=null&&d(e,["parameters","durationSeconds"],o),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=u(t,["aspectRatio"]);if(e!==void 0&&a!=null&&d(e,["parameters","aspectRatio"],a),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=u(t,["personGeneration"]);if(e!==void 0&&c!=null&&d(e,["parameters","personGeneration"],c),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(t,["negativePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","negativePrompt"],h);const p=u(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&d(e,["parameters","enhancePrompt"],p),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function R2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["image"]);if(a!=null&&d(n,["instances[0]","image"],A2(a)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const c=u(e,["config"]);return c!=null&&d(n,["config"],N2(c,n)),n}function k2(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function M2(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function D2(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function U2(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],k2(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],M2(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],D2(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function so(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>U2(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function I2(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&d(e,["maxProperties"],T);const b=u(t,["maximum"]);b!=null&&d(e,["maximum"],b);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const S=u(t,["minLength"]);S!=null&&d(e,["minLength"],S);const N=u(t,["minProperties"]);N!=null&&d(e,["minProperties"],N);const A=u(t,["minimum"]);A!=null&&d(e,["minimum"],A);const M=u(t,["nullable"]);M!=null&&d(e,["nullable"],M);const P=u(t,["pattern"]);P!=null&&d(e,["pattern"],P);const D=u(t,["properties"]);D!=null&&d(e,["properties"],D);const C=u(t,["propertyOrdering"]);C!=null&&d(e,["propertyOrdering"],C);const I=u(t,["required"]);I!=null&&d(e,["required"],I);const V=u(t,["title"]);V!=null&&d(e,["title"],V);const H=u(t,["type"]);return H!=null&&d(e,["type"],H),e}function P2(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&d(e,["featureSelectionPreference"],n),e}function L2(t){const e={},n=u(t,["method"]);n!=null&&d(e,["method"],n);const i=u(t,["category"]);i!=null&&d(e,["category"],i);const o=u(t,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function O2(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function q2(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function B2(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],q2(n)),e}function j2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function V2(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],j2(n)),e}function $2(){return{}}function F2(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function z2(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],F2(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function G2(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],z2(n)),e}function H2(){return{}}function bT(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(T=>O2(T))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],B2(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],V2(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],$2());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],G2(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],H2());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function J2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function Y2(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function K2(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],Y2(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function Q2(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],J2(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],K2(i)),e}function Z2(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function X2(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],Z2(n)),e}function W2(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],X2(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function eU(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function tU(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],so(Wt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&d(i,["responseLogprobs"],T);const b=u(e,["logprobs"]);b!=null&&d(i,["logprobs"],b);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const S=u(e,["frequencyPenalty"]);S!=null&&d(i,["frequencyPenalty"],S);const N=u(e,["seed"]);N!=null&&d(i,["seed"],N);const A=u(e,["responseMimeType"]);A!=null&&d(i,["responseMimeType"],A);const M=u(e,["responseSchema"]);M!=null&&d(i,["responseSchema"],I2(Ca(M)));const P=u(e,["responseJsonSchema"]);P!=null&&d(i,["responseJsonSchema"],P);const D=u(e,["routingConfig"]);D!=null&&d(i,["routingConfig"],D);const C=u(e,["modelSelectionConfig"]);C!=null&&d(i,["modelConfig"],P2(C));const I=u(e,["safetySettings"]);if(n!==void 0&&I!=null){let Ae=I;Array.isArray(Ae)&&(Ae=Ae.map(Z=>L2(Z))),d(n,["safetySettings"],Ae)}const V=u(e,["tools"]);if(n!==void 0&&V!=null){let Ae=io(V);Array.isArray(Ae)&&(Ae=Ae.map(Z=>bT(no(Z)))),d(n,["tools"],Ae)}const H=u(e,["toolConfig"]);n!==void 0&&H!=null&&d(n,["toolConfig"],Q2(H));const ee=u(e,["labels"]);n!==void 0&&ee!=null&&d(n,["labels"],ee);const z=u(e,["cachedContent"]);n!==void 0&&z!=null&&d(n,["cachedContent"],ki(t,z));const K=u(e,["responseModalities"]);K!=null&&d(i,["responseModalities"],K);const ne=u(e,["mediaResolution"]);ne!=null&&d(i,["mediaResolution"],ne);const $=u(e,["speechConfig"]);$!=null&&d(i,["speechConfig"],W2(yh($)));const we=u(e,["audioTimestamp"]);we!=null&&d(i,["audioTimestamp"],we);const Ce=u(e,["thinkingConfig"]);return Ce!=null&&d(i,["thinkingConfig"],eU(Ce)),i}function N0(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(h=>so(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["generationConfig"],tU(t,a,n)),n}function nU(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&d(e,["instances[]","task_type"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&d(e,["instances[]","title"],o);const a=u(t,["outputDimensionality"]);e!==void 0&&a!=null&&d(e,["parameters","outputDimensionality"],a);const c=u(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const h=u(t,["autoTruncate"]);return e!==void 0&&h!=null&&d(e,["parameters","autoTruncate"],h),n}function iU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);o!=null&&d(n,["instances[]","content"],rT(t,o));const a=u(e,["config"]);return a!=null&&d(n,["config"],nU(a,n)),n}function sU(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const b=u(t,["includeRaiReason"]);e!==void 0&&b!=null&&d(e,["parameters","includeRaiReason"],b);const w=u(t,["language"]);e!==void 0&&w!=null&&d(e,["parameters","language"],w);const S=u(t,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const N=u(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const A=u(t,["addWatermark"]);e!==void 0&&A!=null&&d(e,["parameters","addWatermark"],A);const M=u(t,["enhancePrompt"]);return e!==void 0&&M!=null&&d(e,["parameters","enhancePrompt"],M),n}function rU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["config"]);return a!=null&&d(n,["config"],sU(a,n)),n}function Vu(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],Mi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function oU(t){const e={},n=u(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&d(e,["maskClasses"],i);const o=u(t,["maskDilation"]);return o!=null&&d(e,["dilation"],o),e}function aU(t){const e={},n=u(t,["controlType"]);n!=null&&d(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&d(e,["computeControl"],i),e}function lU(t){const e={},n=u(t,["styleDescription"]);return n!=null&&d(e,["styleDescription"],n),e}function uU(t){const e={},n=u(t,["subjectType"]);n!=null&&d(e,["subjectType"],n);const i=u(t,["subjectDescription"]);return i!=null&&d(e,["subjectDescription"],i),e}function cU(t){const e={},n=u(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],Vu(n));const i=u(t,["referenceId"]);i!=null&&d(e,["referenceId"],i);const o=u(t,["referenceType"]);o!=null&&d(e,["referenceType"],o);const a=u(t,["maskImageConfig"]);a!=null&&d(e,["maskImageConfig"],oU(a));const c=u(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],aU(c));const h=u(t,["styleImageConfig"]);h!=null&&d(e,["styleImageConfig"],lU(h));const p=u(t,["subjectImageConfig"]);return p!=null&&d(e,["subjectImageConfig"],uU(p)),e}function dU(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const b=u(t,["includeRaiReason"]);e!==void 0&&b!=null&&d(e,["parameters","includeRaiReason"],b);const w=u(t,["language"]);e!==void 0&&w!=null&&d(e,["parameters","language"],w);const S=u(t,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const N=u(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const A=u(t,["editMode"]);e!==void 0&&A!=null&&d(e,["parameters","editMode"],A);const M=u(t,["baseSteps"]);return e!==void 0&&M!=null&&d(e,["parameters","editConfig","baseSteps"],M),n}function fU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["referenceImages"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>cU(p))),d(n,["instances[0]","referenceImages"],h)}const c=u(e,["config"]);return c!=null&&d(n,["config"],dU(c,n)),n}function hU(t,e){const n={},i=u(t,["includeRaiReason"]);e!==void 0&&i!=null&&d(e,["parameters","includeRaiReason"],i);const o=u(t,["outputMimeType"]);e!==void 0&&o!=null&&d(e,["parameters","outputOptions","mimeType"],o);const a=u(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&d(e,["parameters","outputOptions","compressionQuality"],a);const c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],c);const h=u(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=u(t,["numberOfImages"]);e!==void 0&&p!=null&&d(e,["parameters","sampleCount"],p);const m=u(t,["mode"]);return e!==void 0&&m!=null&&d(e,["parameters","mode"],m),n}function mU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["image"]);o!=null&&d(n,["instances[0]","image"],Vu(o));const a=u(e,["upscaleFactor"]);a!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],a);const c=u(e,["config"]);return c!=null&&d(n,["config"],hU(c,n)),n}function pU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function gU(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&d(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&d(n,["_url","models_url"],lT(t,h)),i}function yU(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],gU(t,i,n)),n}function vU(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&d(e,["defaultCheckpointId"],a),n}function xU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],vU(o,n)),n}function TU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function bU(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&d(e,["systemInstruction"],so(Wt(i)));const o=u(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>bT(h))),d(e,["tools"],c)}const a=u(t,["generationConfig"]);return e!==void 0&&a!=null&&d(e,["generationConfig"],a),n}function _U(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(h=>so(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],bU(a,n)),n}function SU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(h=>so(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],a),n}function wU(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&d(e,["bytesBase64Encoded"],Mi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function CU(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const a=u(t,["fps"]);e!==void 0&&a!=null&&d(e,["parameters","fps"],a);const c=u(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const p=u(t,["aspectRatio"]);e!==void 0&&p!=null&&d(e,["parameters","aspectRatio"],p);const m=u(t,["resolution"]);e!==void 0&&m!=null&&d(e,["parameters","resolution"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=u(t,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const b=u(t,["negativePrompt"]);e!==void 0&&b!=null&&d(e,["parameters","negativePrompt"],b);const w=u(t,["enhancePrompt"]);e!==void 0&&w!=null&&d(e,["parameters","enhancePrompt"],w);const S=u(t,["generateAudio"]);e!==void 0&&S!=null&&d(e,["parameters","generateAudio"],S);const N=u(t,["lastFrame"]);e!==void 0&&N!=null&&d(e,["instances[0]","lastFrame"],Vu(N));const A=u(t,["compressionQuality"]);return e!==void 0&&A!=null&&d(e,["parameters","compressionQuality"],A),n}function EU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["image"]);a!=null&&d(n,["instances[0]","image"],Vu(a));const c=u(e,["video"]);c!=null&&d(n,["instances[0]","video"],wU(c));const h=u(e,["config"]);return h!=null&&d(n,["config"],CU(h,n)),n}function AU(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function NU(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function RU(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function kU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],AU(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],NU(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],RU(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function MU(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>kU(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function DU(t){const e={},n=u(t,["citationSources"]);return n!=null&&d(e,["citations"],n),e}function UU(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function IU(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>UU(o))),d(e,["urlMetadata"],i)}return e}function PU(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],MU(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],DU(i));const o=u(t,["tokenCount"]);o!=null&&d(e,["tokenCount"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],IU(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&d(e,["safetyRatings"],T),e}function R0(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>PU(h))),d(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=u(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function LU(t){const e={},n=u(t,["values"]);return n!=null&&d(e,["values"],n),e}function OU(){return{}}function qU(t){const e={},n=u(t,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>LU(a))),d(e,["embeddings"],o)}return u(t,["metadata"])!=null&&d(e,["metadata"],OU()),e}function BU(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],Mi(n));const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function _T(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&d(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function jU(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],BU(n));const i=u(t,["raiFilteredReason"]);i!=null&&d(e,["raiFilteredReason"],i);const o=u(t,["_self"]);return o!=null&&d(e,["safetyAttributes"],_T(o)),e}function VU(t){const e={},n=u(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>jU(a))),d(e,["generatedImages"],o)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],_T(i)),e}function $U(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function Jf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["version"]);a!=null&&d(e,["version"],a);const c=u(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],$U(c));const h=u(t,["inputTokenLimit"]);h!=null&&d(e,["inputTokenLimit"],h);const p=u(t,["outputTokenLimit"]);p!=null&&d(e,["outputTokenLimit"],p);const m=u(t,["supportedGenerationMethods"]);return m!=null&&d(e,["supportedActions"],m),e}function FU(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=u(e,["_self"]);if(o!=null){let a=uT(o);Array.isArray(a)&&(a=a.map(c=>Jf(c))),d(n,["models"],a)}return n}function zU(){return{}}function GU(t){const e={},n=u(t,["totalTokens"]);n!=null&&d(e,["totalTokens"],n);const i=u(t,["cachedContentTokenCount"]);return i!=null&&d(e,["cachedContentTokenCount"],i),e}function HU(t){const e={},n=u(t,["video","uri"]);n!=null&&d(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&d(e,["videoBytes"],Mi(i));const o=u(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function JU(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],HU(n)),e}function YU(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>JU(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function KU(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],YU(c)),e}function QU(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function ZU(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function XU(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function WU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],QU(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],ZU(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],XU(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function eI(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>WU(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function tI(t){const e={},n=u(t,["citations"]);return n!=null&&d(e,["citations"],n),e}function nI(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function iI(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nI(o))),d(e,["urlMetadata"],i)}return e}function sI(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],eI(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],tI(i));const o=u(t,["finishMessage"]);o!=null&&d(e,["finishMessage"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],iI(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&d(e,["safetyRatings"],T),e}function k0(t){const e={},n=u(t,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>sI(m))),d(e,["candidates"],p)}const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["responseId"]);o!=null&&d(e,["responseId"],o);const a=u(t,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const c=u(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const h=u(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function rI(t){const e={},n=u(t,["truncated"]);n!=null&&d(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&d(e,["tokenCount"],i),e}function oI(t){const e={},n=u(t,["values"]);n!=null&&d(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&d(e,["statistics"],rI(i)),e}function aI(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&d(e,["billableCharacterCount"],n),e}function lI(t){const e={},n=u(t,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>oI(a))),d(e,["embeddings"],o)}const i=u(t,["metadata"]);return i!=null&&d(e,["metadata"],aI(i)),e}function uI(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],Mi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function ST(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&d(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function xh(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],uI(n));const i=u(t,["raiFilteredReason"]);i!=null&&d(e,["raiFilteredReason"],i);const o=u(t,["_self"]);o!=null&&d(e,["safetyAttributes"],ST(o));const a=u(t,["prompt"]);return a!=null&&d(e,["enhancedPrompt"],a),e}function cI(t){const e={},n=u(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>xh(a))),d(e,["generatedImages"],o)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],ST(i)),e}function dI(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xh(o))),d(e,["generatedImages"],i)}return e}function fI(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xh(o))),d(e,["generatedImages"],i)}return e}function hI(t){const e={},n=u(t,["endpoint"]);n!=null&&d(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&d(e,["deployedModelId"],i),e}function mI(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function pI(t){const e={},n=u(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&d(e,["epoch"],i);const o=u(t,["step"]);return o!=null&&d(e,["step"],o),e}function Yf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["versionId"]);a!=null&&d(e,["version"],a);const c=u(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(b=>hI(b))),d(e,["endpoints"],T)}const h=u(t,["labels"]);h!=null&&d(e,["labels"],h);const p=u(t,["_self"]);p!=null&&d(e,["tunedModelInfo"],mI(p));const m=u(t,["defaultCheckpointId"]);m!=null&&d(e,["defaultCheckpointId"],m);const y=u(t,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(b=>pI(b))),d(e,["checkpoints"],T)}return e}function gI(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=u(e,["_self"]);if(o!=null){let a=uT(o);Array.isArray(a)&&(a=a.map(c=>Yf(c))),d(n,["models"],a)}return n}function yI(){return{}}function vI(t){const e={},n=u(t,["totalTokens"]);return n!=null&&d(e,["totalTokens"],n),e}function xI(t){const e={},n=u(t,["tokensInfo"]);return n!=null&&d(e,["tokensInfo"],n),e}function TI(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["videoBytes"],Mi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function bI(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],TI(n)),e}function _I(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>bI(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function SI(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],_I(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wI="Content-Type",CI="X-Server-Timeout",EI="User-Agent",Kf="x-goog-api-client",AI="1.7.0",NI=`google-genai-sdk/${AI}`,RI="v1beta1",kI="v1beta",M0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class MI{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:RI,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:kI,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))o.searchParams.append(c,String(h));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?i[o]=Object.assign(Object.assign({},i[o]),a):a!==void 0&&(i[o]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&DI(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await D0(o),new Vf(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await D0(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return zr(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:p}=yield gt(o.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(p);try{const T=JSON.parse(m);if("error"in T){const b=JSON.parse(JSON.stringify(T.error)),w=b.status,S=b.code,N=`got status: ${w}. ${JSON.stringify(T)}`;if(S>=400&&S<600)throw new Bu({message:N,status:S})}}catch(T){if(T.name==="ApiError")throw T}c+=m;let y=c.match(M0);for(;y;){const T=y[1];try{const b=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield gt(new Vf(b)),c=c.slice(y[0].length),y=c.match(M0)}catch(b){throw new Error(`exception parsing stream chunk ${T}. ${b}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=NI+" "+this.clientOptions.userAgentExtra;return e[EI]=n,e[Kf]=n,e[wI]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(CI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,c=await a.stat(e);o.sizeBytes=String(c.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=h;const p=await this.fetchUploadUrl(o,n);return a.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},c=await this.request({path:be("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:o});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function D0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Bu({message:o,status:n}):new Error(o)}}function DI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,c){const h=Object.assign({},a);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const m=c[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UI="mcp_used/unknown";function wT(t){for(const e of t)if(Th(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function CT(t){var e;const n=(e=t[Kf])!==null&&e!==void 0?e:"";t[Kf]=(n+` ${UI}`).trimStart()}function II(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Th(o)))!==null&&i!==void 0?i:!1}function PI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!Th(o)))!==null&&i!==void 0?i:!1}function Th(t){return t!==null&&typeof t=="object"&&t instanceof bh}function LI(t,e=100){return zr(this,arguments,function*(){let i,o=0;for(;o<e;){const a=yield gt(t.listTools({cursor:i}));for(const c of a.tools)yield yield gt(c),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class bh{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new bh(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const a={},c=[];for(const y of this.mcpClients)try{for(var h=!0,p=(n=void 0,xa(LI(y))),m;m=await p.next(),e=m.done,!e;h=!0){o=m.value,h=!1;const T=o;c.push(T);const b=T.name;if(a[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);a[b]=y}}catch(T){n={error:T}}finally{try{!h&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),MR(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const c=await o.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OI(t,e,n){const i=new vR;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const a=GD(o);Object.assign(i,a),e(i)}class qI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),c=VI(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(D=>{m=D}),T=e.callbacks,b=function(){m({})},w=this.apiClient,S={onopen:b,onmessage:D=>{OI(w,T.onmessage,D)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(D){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(D){}},N=this.webSocketFactory.create(p,jI(c),S);N.connect(),await y;const A=lt(this.apiClient,e.model),M=vT({model:A}),P=Hf({setup:M});return N.send(JSON.stringify(P)),new BI(N,this.apiClient)}}class BI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=rD(e),i=xT(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=oD(e),i=Hf(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Hf({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl($r.PLAY)}pause(){this.sendPlaybackControl($r.PAUSE)}stop(){this.sendPlaybackControl($r.STOP)}resetContext(){this.sendPlaybackControl($r.RESET_CONTEXT)}close(){this.conn.close()}}function jI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function VI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $I="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FI(t,e,n){const i=new yR;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const c=LD(a);Object.assign(i,c)}else{const c=PD(a);Object.assign(i,c)}e(i)}class zI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new qI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,a,c,h;const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const T=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&wT(e.config.tools)&&CT(T);const b=YI(T);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b);else{const z=this.apiClient.getApiKey();let K="BidiGenerateContent",ne="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),K="BidiGenerateContentConstrained",ne="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${K}?${ne}=${z}`}let w=()=>{};const S=new Promise(z=>{w=z}),N=e.callbacks,A=function(){var z;(z=N==null?void 0:N.onopen)===null||z===void 0||z.call(N),w({})},M=this.apiClient,P={onopen:A,onmessage:z=>{FI(M,N.onmessage,z)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(z){},onclose:(i=N==null?void 0:N.onclose)!==null&&i!==void 0?i:function(z){}},D=this.webSocketFactory.create(y,JI(b),P);D.connect(),await S;let C=lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const z=this.apiClient.getProject(),K=this.apiClient.getLocation();C=`projects/${z}/locations/${K}/`+C}let I={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[_u.AUDIO]}:e.config.responseModalities=[_u.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],H=[];for(const z of V)if(this.isCallableTool(z)){const K=z;H.push(await K.tool())}else H.push(z);H.length>0&&(e.config.tools=H);const ee={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=X1(this.apiClient,ee):I=Z1(this.apiClient,ee),delete I.config,D.send(JSON.stringify(I)),new HI(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const GI={turnComplete:!0};class HI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=In(n.turns),e.isVertexAI()?i=i.map(o=>so(o)):i=i.map(o=>ju(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error($I)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},GI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:sD(e)}:n={realtimeInput:iD(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function JI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function YI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U0=10;function I0(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(cu(c)){o=!0;break}if(!o)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function cu(t){return"callTool"in t&&typeof t.callTool=="function"}function P0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KI extends Vs{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,a,c,h;const p=await this.processParamsForMcpUsage(n);if(!II(n)||I0(n.config))return await this.generateContentInternal(p);if(PI(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const T=In(p.contents),b=(a=(o=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:U0;let w=0;for(;w<b&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const S=m.candidates[0].content,N=[];for(const A of(h=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(cu(A)){const P=await A.callTool(m.functionCalls);N.push(...P)}w++,y={role:"user",parts:N},p.contents=In(p.contents),p.contents.push(S),p.contents.push(y),P0(p.config)&&(T.push(S),T.push(y))}return P0(p.config)&&(m.automaticFunctionCallingHistory=T),m},this.generateContentStream=async n=>{if(I0(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let a;const c=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=p==null?void 0:p.safetyAttributes:c.push(p);let h;return a?h={generatedImages:c,positivePromptSafetyAttributes:a}:h={generatedImages:c},h}),this.list=async n=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Da(qs.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var n,i,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const c=await Promise.all(a.map(async p=>cu(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&wT(e.config.tools)){const p=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),CT(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var n,i,o;const a=new Map;for(const c of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(cu(c)){const h=c,p=await h.tool();for(const m of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!m.name)throw new Error("Function declaration name is required.");if(a.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);a.set(m.name,h)}}return a}async processAfcStream(e){var n,i,o;const a=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:U0;let c=!1,h=0;const p=await this.initAfcToolsMap(e);return function(m,y,T){var b,w;return zr(this,arguments,function*(){for(var S,N,A,M;h<a;){c&&(h++,c=!1);const I=yield gt(m.processParamsForMcpUsage(T)),V=yield gt(m.generateContentStreamInternal(I)),H=[],ee=[];try{for(var P=!0,D=(N=void 0,xa(V)),C;C=yield gt(D.next()),S=C.done,!S;P=!0){M=C.value,P=!1;const z=M;if(yield yield gt(z),z.candidates&&(!((b=z.candidates[0])===null||b===void 0)&&b.content)){ee.push(z.candidates[0].content);for(const K of(w=z.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(h<a&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(K.functionCall.name)){const ne=yield gt(y.get(K.functionCall.name).callTool([K.functionCall]));H.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(z){N={error:z}}finally{try{!P&&!S&&(A=D.return)&&(yield gt(A.call(D)))}finally{if(N)throw N.error}}if(H.length>0){c=!0;const z=new da;z.candidates=[{content:{role:"user",parts:H}}],yield yield gt(z);const K=[];K.push(...ee),K.push({role:"user",parts:H});const ne=In(T.contents).concat(K);T.contents=ne}else break}})}(this,p,e)}async generateContentInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=N0(this.apiClient,e);return h=be("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=k0(y),b=new da;return Object.assign(b,T),b})}else{const m=A0(this.apiClient,e);return h=be("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=R0(y),b=new da;return Object.assign(b,T),b})}}async generateContentStreamInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=N0(this.apiClient,e);return h=be("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(T){return zr(this,arguments,function*(){var b,w,S,N;try{for(var A=!0,M=xa(T),P;P=yield gt(M.next()),b=P.done,!b;A=!0){N=P.value,A=!1;const C=k0(yield gt(N.json())),I=new da;Object.assign(I,C),yield yield gt(I)}}catch(D){w={error:D}}finally{try{!A&&!b&&(S=M.return)&&(yield gt(S.call(M)))}finally{if(w)throw w.error}}})})}else{const m=A0(this.apiClient,e);return h=be("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(T){return zr(this,arguments,function*(){var b,w,S,N;try{for(var A=!0,M=xa(T),P;P=yield gt(M.next()),b=P.done,!b;A=!0){N=P.value,A=!1;const C=R0(yield gt(N.json())),I=new da;Object.assign(I,C),yield yield gt(I)}}catch(D){w={error:D}}finally{try{!A&&!b&&(S=M.return)&&(yield gt(S.call(M)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=iU(this.apiClient,e);return h=be("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=lI(y),b=new o0;return Object.assign(b,T),b})}else{const m=g2(this.apiClient,e);return h=be("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=qU(y),b=new o0;return Object.assign(b,T),b})}}async generateImagesInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=rU(this.apiClient,e);return h=be("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=cI(y),b=new a0;return Object.assign(b,T),b})}else{const m=v2(this.apiClient,e);return h=be("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=VU(y),b=new a0;return Object.assign(b,T),b})}}async editImageInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=fU(this.apiClient,e);return a=be("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=dI(p),y=new dR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=mU(this.apiClient,e);return a=be("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=fI(p),y=new fR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=pU(this.apiClient,e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Yf(y))}else{const m=x2(this.apiClient,e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Jf(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=yU(this.apiClient,e);return h=be("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=gI(this.apiClient,y),b=new l0;return Object.assign(b,T),b})}else{const m=b2(this.apiClient,e);return h=be("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=FU(this.apiClient,y),b=new l0;return Object.assign(b,T),b})}}async update(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=xU(this.apiClient,e);return h=be("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Yf(y))}else{const m=S2(this.apiClient,e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Jf(y))}}async delete(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=TU(this.apiClient,e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=yI(),T=new u0;return Object.assign(T,y),T})}else{const m=w2(this.apiClient,e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=zU(),T=new u0;return Object.assign(T,y),T})}}async countTokens(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=_U(this.apiClient,e);return h=be("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=vI(y),b=new c0;return Object.assign(b,T),b})}else{const m=E2(this.apiClient,e);return h=be("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=GU(y),b=new c0;return Object.assign(b,T),b})}}async computeTokens(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=SU(this.apiClient,e);return a=be("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=xI(p),y=new hR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=EU(this.apiClient,e);return h=be("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>SI(y))}else{const m=R2(this.apiClient,e);return h=be("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>KU(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function ZI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function XI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["operationName"],n);const i=u(t,["resourceName"]);i!=null&&d(e,["_url","resourceName"],i);const o=u(t,["config"]);return o!=null&&d(e,["config"],o),e}function WI(t){const e={},n=u(t,["video","uri"]);n!=null&&d(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&d(e,["videoBytes"],Mi(i));const o=u(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function eP(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],WI(n)),e}function tP(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>eP(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function nP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],tP(c)),e}function iP(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["videoBytes"],Mi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function sP(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],iP(n)),e}function rP(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>sP(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function L0(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],rP(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oP extends Vs{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;return i&&"httpOptions"in i&&(a=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=ZI(e);return h=be("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>L0(y))}else{const m=QI(e);return h=be("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>nP(y))}}async fetchPredictVideosOperationInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=XI(e);return a=be("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>L0(p))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aP(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function ET(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],aP(n)),e}function lP(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],ET(i)),e}function uP(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lP(o))),d(e,["speakerVoiceConfigs"],i)}return e}function cP(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],ET(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],uP(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function dP(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function fP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function hP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function mP(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],dP(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],fP(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],hP(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function pP(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>mP(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function gP(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function yP(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function vP(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],yP(n)),e}function xP(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function TP(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],xP(n)),e}function bP(){return{}}function _P(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>gP(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],vP(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],TP(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],bP());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function SP(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function O0(){return{}}function wP(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function CP(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],wP(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function EP(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function AP(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],EP(i)),e}function NP(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function RP(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],cP(vh(T)));const b=u(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],pP(Wt(w)));const S=u(t,["tools"]);if(e!==void 0&&S!=null){let I=io(S);Array.isArray(I)&&(I=I.map(V=>_P(no(V)))),d(e,["setup","tools"],I)}const N=u(t,["sessionResumption"]);e!==void 0&&N!=null&&d(e,["setup","sessionResumption"],SP(N));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],O0());const M=u(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","outputAudioTranscription"],O0());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],CP(P));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],AP(D));const C=u(t,["proactivity"]);return e!==void 0&&C!=null&&d(e,["setup","proactivity"],NP(C)),n}function kP(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],RP(o,n)),n}function MP(t,e,n){const i={},o=u(e,["expireTime"]);n!==void 0&&o!=null&&d(n,["expireTime"],o);const a=u(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&d(n,["newSessionExpireTime"],a);const c=u(e,["uses"]);n!==void 0&&c!=null&&d(n,["uses"],c);const h=u(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&d(n,["bidiGenerateContentSetup"],kP(t,h));const p=u(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&d(n,["fieldMask"],p),i}function DP(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],MP(t,i,n)),n}function UP(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IP(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function PP(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=IP(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];o.length>0&&(h=o.map(m=>c.includes(m)?`generationConfig.${m}`:m));const p=[];a&&p.push(a),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class LP extends Vs{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=DP(this.apiClient,e);a=be("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const p=PP(h,e.config);return o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),o.then(m=>UP(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function qP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function BP(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],qP(n,e)),e}function jP(t){const e={},n=u(t,["textInput"]);n!=null&&d(e,["textInput"],n);const i=u(t,["output"]);return i!=null&&d(e,["output"],i),e}function VP(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jP(o))),d(e,["examples","examples"],i)}return e}function $P(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&d(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=u(t,["epochCount"]);e!==void 0&&o!=null&&d(e,["tuningTask","hyperparameters","epochCount"],o);const a=u(t,["learningRateMultiplier"]);if(a!=null&&d(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=u(t,["batchSize"]);e!==void 0&&c!=null&&d(e,["tuningTask","hyperparameters","batchSize"],c);const h=u(t,["learningRate"]);return e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","learningRate"],h),n}function FP(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&d(e,["tuningTask","trainingData"],VP(i));const o=u(t,["config"]);return o!=null&&d(e,["config"],$P(o,e)),e}function zP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function GP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function HP(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],GP(n,e)),e}function JP(t,e){const n={},i=u(t,["gcsUri"]);if(e!==void 0&&i!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],i),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function YP(t){const e={},n=u(t,["gcsUri"]);return n!=null&&d(e,["validationDatasetUri"],n),e}function KP(t,e){const n={},i=u(t,["validationDataset"]);e!==void 0&&i!=null&&d(e,["supervisedTuningSpec"],YP(i));const o=u(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&d(e,["tunedModelDisplayName"],o);const a=u(t,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const c=u(t,["epochCount"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const h=u(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=u(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=u(t,["adapterSize"]);if(e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function QP(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],JP(i,e));const o=u(t,["config"]);return o!=null&&d(e,["config"],KP(o,e)),e}function ZP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["model"],n);const i=u(t,["name"]);return i!=null&&d(e,["endpoint"],i),e}function AT(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["state"]);i!=null&&d(e,["state"],oT(i));const o=u(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=u(t,["tuningTask","startTime"]);a!=null&&d(e,["startTime"],a);const c=u(t,["tuningTask","completeTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["description"]);p!=null&&d(e,["description"],p);const m=u(t,["baseModel"]);m!=null&&d(e,["baseModel"],m);const y=u(t,["_self"]);y!=null&&d(e,["tunedModel"],ZP(y));const T=u(t,["distillationSpec"]);T!=null&&d(e,["distillationSpec"],T);const b=u(t,["experiment"]);b!=null&&d(e,["experiment"],b);const w=u(t,["labels"]);w!=null&&d(e,["labels"],w);const S=u(t,["pipelineJob"]);S!=null&&d(e,["pipelineJob"],S);const N=u(t,["serviceAccount"]);N!=null&&d(e,["serviceAccount"],N);const A=u(t,["tunedModelDisplayName"]);return A!=null&&d(e,["tunedModelDisplayName"],A),e}function XP(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>AT(a))),d(e,["tuningJobs"],o)}return e}function WP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);return a!=null&&d(e,["error"],a),e}function eL(t){const e={},n=u(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&d(e,["epoch"],i);const o=u(t,["step"]);o!=null&&d(e,["step"],o);const a=u(t,["endpoint"]);return a!=null&&d(e,["endpoint"],a),e}function tL(t){const e={},n=u(t,["model"]);n!=null&&d(e,["model"],n);const i=u(t,["endpoint"]);i!=null&&d(e,["endpoint"],i);const o=u(t,["checkpoints"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>eL(c))),d(e,["checkpoints"],a)}return e}function Qf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["state"]);i!=null&&d(e,["state"],oT(i));const o=u(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=u(t,["startTime"]);a!=null&&d(e,["startTime"],a);const c=u(t,["endTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["error"]);p!=null&&d(e,["error"],p);const m=u(t,["description"]);m!=null&&d(e,["description"],m);const y=u(t,["baseModel"]);y!=null&&d(e,["baseModel"],y);const T=u(t,["tunedModel"]);T!=null&&d(e,["tunedModel"],tL(T));const b=u(t,["supervisedTuningSpec"]);b!=null&&d(e,["supervisedTuningSpec"],b);const w=u(t,["tuningDataStats"]);w!=null&&d(e,["tuningDataStats"],w);const S=u(t,["encryptionSpec"]);S!=null&&d(e,["encryptionSpec"],S);const N=u(t,["partnerModelTuningSpec"]);N!=null&&d(e,["partnerModelTuningSpec"],N);const A=u(t,["distillationSpec"]);A!=null&&d(e,["distillationSpec"],A);const M=u(t,["experiment"]);M!=null&&d(e,["experiment"],M);const P=u(t,["labels"]);P!=null&&d(e,["labels"],P);const D=u(t,["pipelineJob"]);D!=null&&d(e,["pipelineJob"],D);const C=u(t,["serviceAccount"]);C!=null&&d(e,["serviceAccount"],C);const I=u(t,["tunedModelDisplayName"]);return I!=null&&d(e,["tunedModelDisplayName"],I),e}function nL(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Qf(a))),d(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iL extends Vs{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Da(qs.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:jf.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=zP(e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Qf(y))}else{const m=OP(e);return h=be("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>AT(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=HP(e);return h=be("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=nL(y),b=new d0;return Object.assign(b,T),b})}else{const m=BP(e);return h=be("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=XP(y),b=new d0;return Object.assign(b,T),b})}}async tuneInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=QP(e);return a=be("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>Qf(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=FP(e);return a=be("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>WP(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sL{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const rL=1024*1024*8,oL=3,aL=1e3,lL=2,gf="x-goog-upload-status";async function uL(t,e,n){var i,o,a;let c=0,h=0,p=new Vf(new Response),m="upload";for(c=t.size;h<c;){const T=Math.min(rL,c-h),b=t.slice(h,h+T);h+T>=c&&(m+=", finalize");let w=0,S=aL;for(;w<oL&&(p=await n.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[gf]));)w++,await dL(S),S=S*lL;if(h+=T,((o=p==null?void 0:p.headers)===null||o===void 0?void 0:o[gf])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[gf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function cL(t){return{size:t.size,type:t.type}}function dL(t){return new Promise(e=>setTimeout(e,t))}class fL{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uL(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cL(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hL{create(e,n,i){return new mL(e,n,i)}}class mL{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q0="x-goog-api-key";class pL{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(q0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(q0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gL="gl-node/";class yL{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=cR(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new pL(this.apiKey);this.apiClient=new MI({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:gL+"web",uploader:new fL,downloader:new sL}),this.models=new KI(this.apiClient),this.live=new zI(this.apiClient,o,new hL),this.batches=new qk(this.apiClient),this.chats=new $M(this.models,this.apiClient),this.caches=new BM(this.apiClient),this.files=new t1(this.apiClient),this.operations=new oP(this.apiClient),this.authTokens=new LP(this.apiClient),this.tunings=new iL(this.apiClient)}}const du=new yL({apiKey:"AIzaSyA-6iYToU_byydoAlucPvc0qnZXciaSI2A"}),vL=`
    # The following files given to you are a science olympiad invitational test and the answer/solutions.
    # Take all the questions and return them in an array of question JSON objects.
    # Each question object should have the following details: 
    {
      type,
      question,
      points,
      choices,
      answer,
      group,
    }

    # Go through the pdf, and identify the type of each question.
    # The type can be either mcq, saq, or leq, NOTHING ELSE!! 
    # mcq: multiple choice, saq: short answer (so one word, objective answers), leq: (longer answers where you have to explain or show your work)
    # If it's a matching question, the questions should be mcqs and just make as many questions as there are things to match
    # And the things to match are the choices
    # If it's a question where you have a few items/facts with letters, and each following question requires you to pull from that answer bank, then make the question an mcq, with the answer bank as choices, and each question as its own question.
    # Choices can be null if the question is not multiple choice
    # The question attribute is the question itself, so for example "What is blah". The question is an array, but unless for Codebusters, it is just an array with one string, which is the question itself.
    # The points are the points assigned to the question. Some tests will have this and others won't.
    # For tests that don't assign points, assign 1 point to each mcq and saq, and 5 for each leq.
    # For choices, don't label A, B, C (I'll do that myself). Choices is an array of strings, where the strings are the choices themselves without any other attachments.
    # For answers look at the answers pdf. For mcqs, the answer is the choice letter, so A, B, C, D, etc. If the test has the choices labeled differently still use A, B, C, and consecutive letters as the answer
    # If for mcqs the test answer refers to the actual answer, change it so the test answer is the correct letter instead. So for example if the test choices were labeled 1 through 10, and the answer was 1, your answer will be A.
    # Just to reiterate, the answer to mcqs will always be the correct LETTER choice and nothing else!
    # For questions that ask to order something, make that an mcq as well. For the choices, include the correct answer, and make up other orders of that order.
    # Make true-false questions mcqs with true and false as the two choices. 
    # The answer to an mcq should always be an option letter so even though the options for true and false are true or false, the answer will either be A or B
    # If a question is in a set, and there is context given pertaining to all questions in the beginning, then put that context in the question string of each question
    # If a question is in a set where they all refer to the same image, then you should also give a group attribute in the question object with a unique identifer for all questions in that group
    # The group attribute is optional, and ONLY for questions who have the same image used. So ONLY give and it and DEFINITELY give it when you have that situation where a bunch of questions use the same image, chart, drawing, etc 
    # Do not describe images for the test taker! 
    # For saqs, simply write down the one word or short phrase answer
    # If there are multiple answers for mcqs and saqs separate them with a comma and a space.
    # For leqs, put whatever the answer key for that test has in the answer, as a string, including directions to grade the problem if there are those.
    # Do not care about any images in the test. I will handle those later.
    # Only send the valid JSON array and no other words, because your response has to be JSON parsable
    # To reiterate, send an array of objects that have the property, type, which is either mcq, saq, or leq, question, which is an array of strings, points, which is a number, choices, which is an array of strings (only if the q is multiple choice), and answer, which is either a singuler string or a string with comma separated values
    # In the case you are not given an answers pdf, or the answer might be unclear, you may generate the answer to the best of your knowledge. Ensure that none of the answers are anything such as "this will be determined later." For those type of "lab-based" questions, provide a range if you can from the best of your knowledge. 
    # ONLY GENERATE AN ANSWER WHEN IT IS CLEARLY NOT CLEAR OR NOT PRESENT. OTHERWISE DO NOT INTERFERE!
    # Do NOT generate your own questions!!
    # Make sure to return a **complete and valid JSON array**.
    # Your response should start with a left bracket [ and end with a right bracket ].
    # Once you end your triple quotes STOP!
    # Every question should stand on its own without other questions. So if any question refers to a previous question, ensure that the relevant context is in this question without needing the previous question. Some questions might refer to other questions. Our numbering and structure is different, so ensure that the question is self-contained, with relevant context from that other question given in this question without reference to the other question. 
    # DO NOT REVEAL ANSWERS IN THE QUESTION!!
    # Do not have wording such as "previous question" or "next question" because the order might change, so make the question so it can stand without having done other questions.
    # If you have an leq, then you can put all the parts that depend on each other as one question
    # If you have mcqs or saqs that refer to other questions, put that relevant information in the current question so it stands alone.
    # DO NOT PUT CHOICES IN THE QUESTION!! If you have choices, no matter how the test pdf has it, make the question an mcq and put choices as strings in an array
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), then all questions should be an leq! 
    # IF AND ONLY IF THE test is Codebusters, the questions attribute is NOT a string, but an Array of strings. In the first index goes the question, and in the second index goes the cipher. Make sure to use spaces properly as it is in the test.
    # IF AND ONLY IF the test is Codebusters, then make sure that if a question is a special bonus question you add special bonus to it, and if the question has points listed, put those points in the points attribute.
    # IF AND ONLY IF the test is Codebusters, ensure that the question that might say (decode this) is separated from the cipher (the actual words) through new lines and such. Clearly separate the question from the cipher as two elements of an array in the questions attribute! 
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), the answer should be the solution to the cipher, with proper spaces. Do not add newlines or anything like that to the answer key. That should just be the simple answer.
    # FINAL INSTRUCTION: Your response must be *only* a valid JSON array, starting with '[' and ending with ']'. No explanations, no formatting, no extra text.
`;async function B0(t){const e=await du.files.upload({file:t,config:{displayName:t.name}});let n=await du.files.get({name:e.name});for(;n.state==="PROCESSING";)n=await du.files.get({name:e.name}),console.log(`current file status: ${n.state}`),console.log("File is still processing, retrying in 5 seconds"),await new Promise(i=>{setTimeout(i,5e3)});if(e.state==="FAILED")throw new Error("File processing failed.");return e}async function xL(t,e){const n=[vL];let i=await B0(t);if(i.uri&&i.mimeType){const c=r0(i.uri,i.mimeType);n.push(c)}let o=await B0(e);if(o.uri&&o.mimeType){const c=r0(o.uri,o.mimeType);n.push(c)}const a=await du.models.generateContent({model:"gemini-2.5-flash",contents:n});return console.log(a.text),a.text}const TL={createQuestions:xL},bL=({q:t,index:e,onEdit:n,onDelete:i})=>{const[o,a]=R.useState(!1),c={...t,question:Array.isArray(t.question)?t.question:[t.question]},[h,p]=R.useState(c),m=()=>{a(!1),n(e,h)};return v.jsx("div",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:o?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-2",children:"Question"}),v.jsxs("div",{className:"space-y-2",children:[h.question.map((y,T)=>v.jsxs("div",{className:"flex gap-2 border border-gray-300 rounded-md p-2",children:[v.jsx("textarea",{value:y,onChange:b=>{const w=[...h.question];w[T]=b.target.value,p({...h,question:w})},placeholder:T===0?"Question text...":"Additional part (e.g., cipher)...",rows:3,className:"flex-1 px-3 py-2 focus:ring-orange-400 focus:ring-2"}),h.question.length>1&&v.jsx("button",{type:"button",onClick:()=>{const b=h.question.filter((w,S)=>S!==T);p({...h,question:b})},className:"text-red-500 font-bold text-2xl rounded-md hover:text-red-600 self-start",children:"×"})]},T)),v.jsx("button",{type:"button",onClick:()=>{p({...h,question:[...h.question,""]})},className:"text-orange-600 hover:underline text-sm",children:"+ Add Part"}),h.question.length>1&&v.jsx("button",{type:"button",onClick:()=>{p({...h,question:[h.question.join(`

`)]})},className:"ml-4 text-amber-600 hover:underline text-sm",children:"Merge into Single Part"}),h.question.length===1&&h.question[0].includes(`
`)&&v.jsx("button",{type:"button",onClick:()=>{const y=h.question[0].split(`

`).filter(T=>T.trim()!=="");if(y.length>1)p({...h,question:y});else{const T=h.question[0].split(`
`).filter(b=>b.trim()!=="");T.length>1?p({...h,question:T}):alert("No clear separation found. Use double line breaks or single line breaks to separate parts.")}},className:"ml-4 text-blue-600 hover:underline text-sm",children:"Split into Parts"})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),v.jsxs("select",{value:h.type,onChange:y=>p({...h,type:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"mcq",children:"Multiple Choice"}),v.jsx("option",{value:"saq",children:"Short Answer"}),v.jsx("option",{value:"leq",children:"Long Answer"})]})]}),h.type==="mcq"&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Choices"}),v.jsx("div",{className:"space-y-2",children:h.choices.map((y,T)=>v.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+T),"."]}),v.jsx("input",{value:y,onChange:b=>{const w=[...h.choices];w[T]=b.target.value,p({...h,choices:w})},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}),v.jsx("button",{type:"button",className:"text-orange-600 font-medium",onClick:()=>{const b=h.choices.filter((w,S)=>S!==T);p({...h,choices:b})},children:"Remove"})]},T))}),v.jsx("button",{type:"button",className:"mt-2 text-orange-600 hover:underline",onClick:()=>p({...h,choices:[...h.choices,""]}),children:"+ Add Choice"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),h.type==="leq"?v.jsx("textarea",{value:h.answer,onChange:y=>p({...h,answer:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}):v.jsx("input",{value:h.answer,onChange:y=>p({...h,answer:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),v.jsx("input",{type:"number",value:h.points,onChange:y=>p({...h,points:+y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),h.selectedFile?v.jsxs("div",{className:"mt-4 w-full",children:[v.jsxs("div",{className:"flex justify-between items-center pb-2",children:[v.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),v.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>p({...h,selectedFile:null}),children:"×"})]}),v.jsx("img",{src:URL.createObjectURL(h.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):v.jsxs("label",{htmlFor:`file-upload-${e}`,className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[v.jsx("input",{id:`file-upload-${e}`,type:"file",className:"hidden",onChange:y=>{y.target.files&&y.target.files.length>0&&p({...h,selectedFile:y.target.files[0]})}}),v.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]}),v.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[v.jsx("button",{onClick:()=>a(!1),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Cancel"}),v.jsx("button",{onClick:m,className:"bg-orange-600 text-black px-4 py-1 rounded-md hover:bg-orange-700",children:"Save"})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"flex justify-between items-center mb-3",children:v.jsxs("div",{className:"mb-2 font-medium text-orange-900",children:[v.jsxs("span",{children:["Q",e+1,": "]}),c.question.map((y,T)=>v.jsx("span",{className:T>0?"block mt-4":"inline",children:y},T))]})}),t.type==="mcq"&&t.choices.map((y,T)=>v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+T),"."]}),v.jsx("span",{className:"text-gray-800",children:y})]},`${y}-${T}`)),v.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",v.jsx("span",{className:"font-semibold",children:t.points})]}),v.jsxs("div",{className:"text-sm text-gray-700",children:["Answer (s): ",v.jsx("span",{className:"font-semibold",children:t.answer})]}),t.selectedFile&&v.jsx("div",{className:"mt-4 w-full",children:v.jsx("img",{src:URL.createObjectURL(t.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})}),v.jsx("div",{className:"flex justify-end py-2",children:v.jsxs("div",{className:"flex justify-between gap-3",children:[v.jsx("button",{onClick:()=>a(!0),className:"bg-orange-500 hover:bg-orange-600 px-4 py-1 rounded-md",children:"Edit"}),v.jsx("button",{onClick:()=>i(e),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Delete"})]})})]})})},_L=t=>{const[e,n]=R.useState(!0),[i,o]=R.useState([]),[a,c]=R.useState([""]),[h,p]=R.useState(""),[m,y]=R.useState(""),[T,b]=R.useState(1),[w,S]=R.useState([]),[N,A]=R.useState(""),[M,P]=R.useState(""),[D,C]=R.useState(""),[I,V]=R.useState(""),[H,ee]=R.useState(null),[z,K]=R.useState(""),[ne,$]=R.useState(""),[we,Ce]=R.useState(!1),Ae=q=>q.split(",").map(k=>k.trim()).every(k=>/^[A-Za-z]$/.test(k)),Z=()=>{if(m.length===0){t.setError("Type of question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(a.every(q=>!q.trim()))t.setError("Question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);else if(h.length===0){t.setError("Answer required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(m==="mcq"){if(!w||w.length<2){t.setError("Choices required for multiple choice question!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(!Ae(h)){t.setError("Invalid formatting of answers. Separate multiple answers with commas."),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}o(i.concat({type:m,question:a,choices:w,points:T,answer:h,selectedFile:H})),c([""]),p(""),y(""),b(1),S([]),ee(null)},ae=async q=>{if(q.preventDefault(),I)if(M)if(D){if(i.length===0){t.setError("Questions are required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}else{t.setError("Test year required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Tournament name required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Event required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}if(t.tests.find(B=>B.school===M&&B.year===D)){t.setError("Test already uploaded to bank"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}const k=[];t.setNotif("Processing Test...");for(const B of i){let W;B.selectedFile&&(W=await NN.getImageUrl(B.selectedFile)),console.log(W);const re=await Br.createQuestion({event:I,school:M,year:D,type:B.type,question:B.question,points:B.points,choices:B.choices,answer:B.answer,imageUrl:W});re&&k.push(re.id)}const L=await fn.createTest({event:I,random:!1,school:M,year:D,questions:k});console.log("Added Test"),t.setNotif("Added Test",L),t.setTests(t.tests.concat(L)),o([]),c([""]),p(""),y(""),b(1),S([]),ee(null),V(""),P(""),C(""),setTimeout(()=>{t.setNotif(null)},5e3)},Y=async q=>{q.preventDefault(),Ce(!1),n(!1),window.scrollTo({top:0,behavior:"smooth"}),t.setNotif("Processing PDFs...");let L=(await TL.createQuestions(z,ne)).trim();L.startsWith("```json")?L=L.replace(/^```json/,"").replace(/```$/,"").trim():L.startsWith("```")&&(L=L.replace(/^```/,"").replace(/```$/,"").trim());try{const W=JSON.parse(L).map(re=>({...re,question:Array.isArray(re.question)?re.question:[re.question]}));o(W),K(!1),$(!1),t.setNotif("Questions loaded!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch(B){t.setNotif(null),t.setError("Error loading questions"),setTimeout(()=>{t.setError(null)},5e3),console.log("Error",B)}};return t.user?v.jsxs("div",{className:"max-w-3xl mx-auto mt-10 p-6 bg-white rounded-md shadow-md",children:[v.jsxs("form",{className:"space-y-6",onSubmit:ae,children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Test"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Save Test"}),v.jsx(Qe,{to:"/tests",className:"bg-amber-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Test Bank"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Tournament Name"}),v.jsx("input",{value:M,onChange:({target:q})=>P(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: Libertyville High School"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Year"}),v.jsx("input",{value:D,onChange:({target:q})=>C(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: 2025"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Event"}),v.jsxs("select",{value:I,onChange:({target:q})=>V(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select Event"}),t.events.map(q=>v.jsx("option",{value:q.name,children:q.name},q.name))]})]}),e?v.jsx("div",{children:v.jsxs("div",{className:"bg-orange-50 p-6 rounded-md border border-orange-200",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-4",children:"Add Question"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Question"}),v.jsxs("div",{className:"space-y-2",children:[a.map((q,k)=>v.jsxs("div",{className:"flex gap-2 border border-gray-300 rounded-md p-2",children:[v.jsx("textarea",{value:q,onChange:L=>{const B=[...a];B[k]=L.target.value,c(B)},placeholder:k===0?"Question text...":"Additional part (e.g., cipher)...",rows:3,className:"flex-1 px-3 py-2 focus:ring-orange-400 focus:ring-2"}),a.length>1&&v.jsx("button",{type:"button",onClick:()=>{const L=a.filter((B,W)=>W!==k);c(L)},className:"text-red-500 font-bold text-2xl rounded-md hover:text-red-600 self-start",children:"×"})]},k)),v.jsx("button",{type:"button",onClick:()=>{c([...a,""])},className:"text-orange-600 hover:underline text-sm",children:"+ Add Part"}),a.length>1&&v.jsx("button",{type:"button",onClick:()=>{c([a.join(`

`)])},className:"ml-4 text-amber-600 hover:underline text-sm",children:"Merge into Single Part"}),a.length===1&&a[0].includes(`
`)&&v.jsx("button",{type:"button",onClick:()=>{const q=a[0].split(`

`).filter(k=>k.trim()!=="");if(q.length>1)c(q);else{const k=a[0].split(`
`).filter(L=>L.trim()!=="");k.length>1?c(k):alert("No clear separation found. Use double line breaks (\\n\\n) or single line breaks to separate parts.")}},className:"ml-4 text-blue-600 hover:underline text-sm",children:"Split into Parts"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),v.jsxs("select",{value:m,onChange:({target:q})=>y(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"",disabled:!0,children:"Select question type"}),v.jsx("option",{value:"mcq",children:"Multiple Choice"}),v.jsx("option",{value:"saq",children:"Short Answer"}),v.jsx("option",{value:"leq",children:"Paragraph/Long Answer"})]})]}),m==="mcq"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Choices"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:N,onChange:({target:q})=>A(q.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: H20"}),v.jsx("button",{type:"button",onClick:()=>{N.trim()!==""&&(S([...w,N.trim()]),A(""))},className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]}),w.length>0&&v.jsx("div",{className:"space-y-2 mt-3",children:w.map((q,k)=>v.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+k),"."]}),v.jsx("span",{className:"text-gray-800",children:q})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{className:"text-orange-600 font-medium",onClick:()=>S(w.filter(L=>L!==q)),children:"Remove"})})]},q))})]}),m==="leq"?v.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer"}),v.jsx("textarea",{value:h,onChange:({target:q})=>p(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),v.jsx("input",{type:"number",value:T,onChange:({target:q})=>b(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}):v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),v.jsx("input",{value:h,onChange:({target:q})=>p(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: A, B"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),v.jsx("input",{type:"number",value:T,onChange:({target:q})=>b(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),H?v.jsxs("div",{className:"mt-4 w-full",children:[v.jsxs("div",{className:"flex justify-between items-center pb-2",children:[v.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),v.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>ee(null),children:"×"})]}),v.jsx("img",{src:URL.createObjectURL(H),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):v.jsxs("label",{htmlFor:"file-upload-add",className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[v.jsx("input",{id:"file-upload-add",type:"file",className:"hidden",onChange:q=>{q.target.files&&q.target.files.length>0&&ee(q.target.files[0])}}),v.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]})]}),v.jsxs("div",{className:"flex justify-between mt-6",children:[v.jsx("button",{type:"button",onClick:Z,className:"bg-orange-600 text-white px-6 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Save Question"}),v.jsx("button",{type:"button",onClick:()=>n(!1),className:"bg-orange-50 mb-2 text-orange-700 font-semibold hover:underline",children:"Close Question Editor"})]})]})}):v.jsx("button",{type:"button",onClick:()=>n(!0),className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Open Question Editor"})]}),v.jsxs("div",{className:"mt-5",children:[v.jsx("button",{onClick:()=>{Ce(!0),K(null),$(null)},className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Add Questions From PDF"}),v.jsx(Dx,{isOpen:we,onClose:()=>{Ce(!1)},title:"Add Questions From PDF",children:v.jsxs("form",{onSubmit:Y,className:"max-w-md mx-auto space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question PDF"}),v.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:q})=>K(q.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer PDF"}),v.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:q})=>$(q.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),v.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg shadow-md transition duration-200",children:"Upload"})]})})]}),v.jsx("ul",{className:"mb-8 mt-10 space-y-4",children:i.length>0?i.map((q,k)=>v.jsx(bL,{q,index:k,onEdit:(L,B)=>{o(i.map((W,re)=>re===L?B:W))},onDelete:L=>{o(i.filter((B,W)=>W!==L))}},k)):v.jsx("div",{className:"border-2 border-dashed border-orange-300 rounded-md p-6 text-center text-orange-700 italic bg-orange-50",children:"No questions added yet. Use the forms above to add questions."})})]}):null},SL=t=>{const[e,n]=R.useState([]),[i,o]=R.useState(""),[a,c]=R.useState(""),[h,p]=R.useState("");R.useEffect(()=>{const y=t.tests.filter(T=>!T.random&&T.event.includes(i)&&T.school.includes(a)&&T.year.toString().includes(h));n(y)},[i,a,h,t.tests]);const m=()=>{o(""),c(""),p("")};return t.user?v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:v.jsxs("div",{className:"bg-white border border-orange-200 rounded-md p-6 shadow-md",children:[v.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-6",children:"Test Bank"}),v.jsxs("div",{className:"mb-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Event"}),v.jsxs("select",{value:i,onChange:({target:y})=>o(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[v.jsx("option",{value:"",children:"All"},"all"),t.events.map(y=>v.jsx("option",{value:y.name,children:y.name},y.name))]})]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"School"}),v.jsxs("select",{value:a,onChange:({target:y})=>c(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[v.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.school))].map(y=>v.jsx("option",{value:y,children:y},y))]})]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Year"}),v.jsxs("select",{value:h,onChange:({target:y})=>p(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[v.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.year))].map(y=>v.jsx("option",{value:y,children:y},y))]})]}),v.jsx("div",{className:"flex items-end",children:v.jsx("button",{onClick:m,className:"bg-orange-200 hover:bg-orange-300 text-orange-900 font-medium px-4 py-2 rounded-md transition w-full",children:"Reset Filters"})})]}),e.length>0?v.jsx("div",{className:"flex flex-col space-y-3",children:e.map(y=>v.jsx(Qe,{to:`/tests/${y.id}`,children:v.jsx("div",{className:"flex justify-between items-center border border-orange-200 border-2 rounded-lg p-4 hover:bg-orange-100 transition",children:v.jsxs("div",{children:[v.jsxs("p",{className:"text-base font-semibold text-orange-800",children:[y.school," ",y.year]}),v.jsx("p",{className:"text-sm text-orange-700",children:y.event})]})})},y.id))}):v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-orange-700 mb-3 italic",children:"No tests found."}),v.jsx(Qe,{to:"/tests/create",className:"inline-block bg-orange-200 text-orange-800 font-medium px-4 py-2 rounded-md hover:bg-orange-300 transition",children:"Add a Test"})]})]})}):null},wL=({tests:t,user:e,teams:n,setError:i,setNotif:o,setTests:a})=>{const[c,h]=R.useState(null),p=Q0("/tests/:id"),m=Pn();if(R.useEffect(()=>{if(p&&t){const T=t.find(b=>String(b.id)===p.params.id);h(T||null)}},[p,t]),!e)return;if(!t||!p)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(!c)return t.map(T=>T.id).includes(p.params.id.toString())?v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsx("div",{className:"text-center max-w-4xl mx-auto bg-white rounded-lg px-2 py-5 mt-10 font-medium text-orange-600",children:"Test not found."});const y=async()=>{if(!e||!c)return;if(!n||n.length===0){i("No teams available to assign this test."),setTimeout(()=>{i(null)},5e3);return}let T;try{T=await fn.updateTest(c.id,{assignees:n.filter(b=>b.event===c.event).map(b=>b.id)}),T&&(a(t.map(b=>b.id===c.id?T:b)),o("Test assigned successfully!"),setTimeout(()=>{o(null)},5e3),m("/tests"))}catch(b){console.error("Error assigning test:",b),b.response&&b.response.status===409?i(b.response.data.error):i("Failed to assign test. Please try again."),setTimeout(()=>{i(null)},5e3)}};return v.jsxs("div",{className:"max-w-4xl mx-auto mt-10 p-6 bg-white rounded-md shadow",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx(Qe,{to:"/tests",className:"text-sm sm:text-base text-orange-600 font-semibold hover:text-orange-700 hover:underline transition",children:"← Return to Test Bank"}),v.jsx("button",{onClick:y,className:"bg-orange-500 hover:bg-orange-600 text-white font-medium px-4 py-2 rounded shadow transition",children:"Assign"})]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("h2",{className:"text-2xl font-semibold text-orange-700",children:[c.school," Science Olympiad ",c.year]}),v.jsx("h3",{className:"text-lg font-medium text-gray-700 mt-1",children:c.event})]})]}),v.jsx("ul",{className:"space-y-6 mt-8",children:c.questions&&c.questions.length>0?c.questions.map((T,b)=>{var w;return v.jsxs("li",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:[v.jsxs("div",{className:"mb-3 font-medium text-orange-900",children:[v.jsxs("span",{children:["Q",b+1,": "]}),T.question.map((S,N)=>v.jsx("span",{className:N>0?"block mt-4":"inline",children:S},N))]}),T.type==="mcq"&&((w=T.choices)==null?void 0:w.map((S,N)=>v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+N),"."]}),v.jsx("span",{className:"text-gray-800",children:S})]},N))),v.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",v.jsx("span",{className:"font-semibold",children:T.points})]}),v.jsxs("div",{className:"text-sm text-gray-700",children:["Answer: ",v.jsx("span",{className:"font-semibold",children:T.answer})]}),T.imageUrl&&v.jsx("div",{className:"mt-4 w-full flex justify-center",children:v.jsx("img",{src:T.imageUrl,alt:"Attached",className:"max-w-lg border border-orange-300 rounded-md shadow"})})]},b)}):v.jsx("div",{className:"text-center italic text-orange-500",children:"No questions available for this test."})})]})},CL=t=>{const[e,n]=R.useState(""),[i,o]=R.useState([]),[a,c]=R.useState("20"),[h,p]=R.useState("20"),[m,y]=R.useState("10");if(!t.user)return null;if(!t.questions||t.questions.length===0)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});const T=async()=>{if(!e){t.setError("Please select an event."),setTimeout(()=>t.setError(null),5e3);return}if(a.length===0||h.length===0||m.length===0){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}if(isNaN(Number(a))||isNaN(Number(h))||isNaN(Number(m))){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}try{const w=t.questions.filter(M=>M.event===e&&M.type==="mcq"),S=t.questions.filter(M=>M.event===e&&M.type==="saq"),N=t.questions.filter(M=>M.event===e&&M.type==="leq"),A=[...w.sort(()=>.5-Math.random()).slice(0,Number(a)),...S.sort(()=>.5-Math.random()).slice(0,Number(h)),...N.sort(()=>.5-Math.random()).slice(0,Number(m))];o(A)}catch(w){console.error("Error creating test:",w)}},b=async()=>{if(i.length===0){t.setError("No questions generated to assign."),setTimeout(()=>{t.setError(null)},5e3);return}const w={event:e,random:!0,questions:i.map(S=>S.id)};try{if(!t.teams||t.teams.length===0){t.setError("No teams available to assign this test."),setTimeout(()=>{t.setError(null)},5e3);return}const S=await fn.createTest(w);if(S){const N=await fn.updateTest(S.id,{assignees:t.teams.filter(A=>A.event===e).map(A=>A.id)});t.setNotif("Test assigned successfully!"),setTimeout(()=>{t.setNotif(null)},5e3),t.setTests(t.tests.concat(N))}o([])}catch(S){console.error("Error assigning test:",S),S.response&&S.response.status===409?t.setError(S.response.data.error):t.setError("Failed to assign test. Please try again."),setTimeout(()=>{t.setError(null)},5e3)}};return v.jsxs("div",{className:"max-w-3xl mx-auto mt-12 p-6 bg-white rounded-lg shadow-md space-y-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Random Practice Test"}),v.jsxs("div",{className:"grid-cols-2 gap-4",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"Event"}),v.jsxs("select",{value:e,onChange:({target:w})=>n(w.value),className:"w-full px-4 py-2 mt-2 mb-4 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[v.jsx("option",{value:"",children:"Select Event"}),t.events.map(w=>v.jsx("option",{value:w.name,children:w.name},w.name))]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of Multiple Choice"}),v.jsx("input",{type:"number",min:"0",value:a,onChange:w=>c(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of Short Answer"}),v.jsx("input",{type:"number",min:"0",value:h,onChange:w=>p(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of Long Answer"}),v.jsx("input",{type:"number",min:"0",value:m,onChange:w=>y(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]})]})]}),v.jsx("div",{className:"text-center",children:v.jsx("button",{onClick:T,className:"bg-orange-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-orange-700 transition",children:"Generate"})}),i.length>0&&v.jsxs("div",{className:"mt-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:"Generated Questions"}),v.jsx("button",{onClick:b,className:"bg-amber-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-amber-700 transition",children:"Assign Test"})]}),v.jsx("ul",{className:"space-y-3 mb-6",children:i.map((w,S)=>v.jsxs("li",{className:"bg-orange-50 border border-orange-200 rounded-md p-4 text-gray-800 shadow-sm",children:[v.jsxs("span",{children:["Q",S+1,": "]}),w.question.map((N,A)=>v.jsx("span",{className:A>0?"block mt-4":"inline",children:N},A))]},S))})]})]})},EL=({event:t,users:e,teams:n,onSave:i,user:o})=>{const[a,c]=R.useState({orange:[],black:[],white:[]}),[h,p]=R.useState({orange:[],black:[],white:[]}),[m,y]=R.useState({orange:"",black:"",white:""}),[T,b]=R.useState(!1),[w,S]=R.useState(!1),[N,A]=R.useState(!1);R.useEffect(()=>{var V,H,ee;const C={orange:[],black:[],white:[]};C.orange=((V=n.find(z=>z.name==="Varsity"))==null?void 0:V.students)||[],C.black=((H=n.find(z=>z.name==="JV"))==null?void 0:H.students)||[],C.white=((ee=n.find(z=>z.name==="JV2"))==null?void 0:ee.students)||[],c({...C}),p({...C});const I=C.white.length>0;b(I),S(I)},[n]);const M=C=>{const I=m[C].trim().toLowerCase(),V=e.find(H=>H.firstName.toLowerCase().includes(I)||`${H.firstName} ${H.lastName}`.toLowerCase().includes(I));V&&!a[C].some(H=>H.id===V.id)&&(c(H=>({...H,[C]:[...H[C],V]})),y(H=>({...H,[C]:""})))},P=(C,I)=>{c(V=>({...V,[C]:V[C].filter(H=>H.id!==I)}))},D=(C,I,V,H)=>v.jsxs("div",{className:"w-full",children:[v.jsx("div",{className:`text-[10px] font-bold py-1 px-1 rounded-t text-center ${V} ${H}`,children:I}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-b px-1 py-1 space-y-1 min-h-[40px]",onClick:()=>{var ee;return N&&((ee=document.getElementById(`${t.id}-${C}-input`))==null?void 0:ee.focus())},children:[a[C].map(ee=>v.jsxs("div",{className:"flex justify-between items-center text-[10px] bg-orange-50 px-1 py-[2px] rounded",children:[v.jsxs("span",{className:"truncate",children:[ee.firstName," ",ee.lastName]}),N&&v.jsx("button",{className:"text-gray-400 hover:text-red-500 ml-1 text-xs",onClick:z=>{z.stopPropagation(),P(C,ee.id)},children:"×"})]},ee.id)),N&&v.jsx("input",{id:`${t.id}-${C}-input`,value:m[C],onChange:ee=>y(z=>({...z,[C]:ee.target.value})),onKeyDown:ee=>ee.key==="Enter"&&M(C),placeholder:"Enter name and press enter",className:"w-full mt-1 px-1 py-[2px] text-[10px] border border-orange-300 rounded focus:outline-none focus:ring-1 focus:ring-orange-500"})]})]});return v.jsxs("div",{className:"border border-orange-200 rounded p-2 bg-orange-50 shadow-sm text-xs",children:[v.jsx("h4",{className:"font-semibold text-orange-700 text-center mb-2 truncate",children:t.name}),v.jsxs("div",{className:"flex gap-2 justify-center",children:[D("orange","Varsity","bg-orange-600","text-white"),D("black","JV","bg-black","text-white"),T&&D("white","JV2","bg-white","text-black")]}),(o==null?void 0:o.admin)&&N&&v.jsx("div",{className:"text-center mt-2",children:T?v.jsx("button",{className:"text-[10px] text-red-500 hover:underline",onClick:()=>{c(C=>({...C,white:[]})),b(!1)},children:"Remove JV2"}):v.jsx("button",{className:"text-orange-600 text-[10px] hover:underline",onClick:()=>b(!0),children:"+ Add JV2"})}),v.jsxs("div",{className:"text-center mt-3 space-x-2",children:[(o==null?void 0:o.admin)&&!N&&v.jsx("button",{onClick:()=>A(!0),className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Edit"}),(o==null?void 0:o.admin)&&N&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>{console.log("Saving assignment for",t.name,a),p(a),S(T),A(!1),i(t.name,a)},className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Save"}),v.jsx("button",{onClick:()=>{c(h),b(w),y({orange:"",black:"",white:""}),A(!1)},className:"bg-gray-200 text-gray-700 px-3 py-1 rounded text-xs hover:bg-gray-300 transition",children:"Cancel"})]})]})]})},$u="/api/teams";let Ua=null;const AL=t=>{Ua=`Bearer ${t}`},NL=async()=>(await Se.get($u,{headers:{Authorization:Ua}})).data,RL=async t=>(await Se.post($u,t,{headers:{Authorization:Ua}})).data,kL=async(t,e)=>{const n=`${$u}/${t}`;return(await Se.put(n,e,{headers:{Authorization:Ua}})).data},ML=async t=>{const e=`${$u}/${t}`;if((await Se.delete(e,{headers:{Authorization:Ua}})).status===204)return{id:t}},Zt={setToken:AL,getAll:NL,createTeam:RL,changeTeam:kL,deleteTeam:ML},DL=({user:t,users:e,events:n,teams:i,setTeams:o})=>{const[a,c]=R.useState([]),[h,p]=R.useState([]),[m,y]=R.useState([]),[T,b]=R.useState([]),[w,S]=R.useState([]),[N,A]=R.useState([]),M=(C,I)=>{if(C.length!==I.length)return!1;const V=z=>z.map(K=>typeof K=="object"?K.id:K),H=V(C).sort(),ee=V(I).sort();return H.every((z,K)=>z===ee[K])},P=async(C,I)=>{const V=i.find(z=>z.event===C&&z.name==="Varsity"),H=i.find(z=>z.event===C&&z.name==="JV"),ee=i.find(z=>z.event===C&&z.name==="JV2");try{if(I.orange.length>0)if(V){if(M(V.students,I.orange.map(K=>K.id)))return;console.log("Updating Varsity team for",C);const z=await Zt.changeTeam(V.id,{students:I.orange.map(K=>K.id)});o(i.map(K=>K.id===V.id?z:K))}else{console.log("Creating new Varsity team for",C);const z=await Zt.createTeam({event:C,name:"Varsity",students:I.orange.map(K=>K.id)});o(i.concat(z))}else if(V){console.log("Deleting Varsity team for",C);const z=await Zt.deleteTeam(V.id);z&&o(i.filter(K=>K.id!==z.id))}if(I.black.length>0)if(H){if(M(H.students,I.black.map(K=>K.id)))return;console.log("Updating JV team for",C);const z=await Zt.changeTeam(H.id,{students:I.black.map(K=>K.id)});o(i.map(K=>K.id===H.id?z:K))}else{console.log("Creating new JV team for",C);const z=await Zt.createTeam({event:C,name:"JV",students:I.black.map(K=>K.id)});o(i.concat(z))}else if(H){console.log("Deleting JV team for",C);const z=await Zt.deleteTeam(H.id);z&&o(i.filter(K=>K.id!==z.id))}if(I.white.length>0)if(ee){if(M(ee.students,I.white.map(K=>K.id)))return;console.log("Updating JV2 team for",C);const z=await Zt.changeTeam(ee.id,{students:I.white.map(K=>K.id)});o(i.map(K=>K.id===ee.id?z:K))}else{console.log("Creating new JV2 team for",C);const z=await Zt.createTeam({event:C,name:"JV2",students:I.white.map(K=>K.id)});o(i.concat(z))}else if(ee){console.log("Deleting JV2 team for",C);const z=await Zt.deleteTeam(ee.id);z&&o(i.filter(K=>K.id!==z.id))}console.log("Team assignments saved successfully for",C)}catch(z){throw console.error("Full error object:",z),z.response&&z.response.data?(console.error(`API Error: ${z.response.data.error}`),console.error("Response status:",z.response.status),console.error("Response data:",z.response.data)):z.message?console.error("Error message:",z.message):console.error("An unexpected error occurred while saving team assignments:",z),z}};R.useEffect(()=>{n&&(c(n.filter(C=>C.block==="1")),p(n.filter(C=>C.block==="2")),y(n.filter(C=>C.block==="3")),b(n.filter(C=>C.block==="4")),S(n.filter(C=>C.block==="5")),A(n.filter(C=>C.block==="")))},[n]);const D=(C,I)=>v.jsxs("div",{className:"bg-white shadow rounded-lg p-4 flex flex-col",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-3 text-center border-b border-orange-200 pb-1",children:C}),v.jsx("div",{className:"space-y-3 min-h-[360px]",children:I.map(V=>v.jsx(EL,{event:V,users:e,teams:i.filter(H=>H.event===V.name),user:t,onSave:P},V.id))})]},C);if(t)return!e||!i||!n?v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsxs("div",{className:"px-4 py-8 space-y-10",children:[v.jsx("h2",{className:"w-full text-center font-semibold text-2xl text-orange-800 mb-6 bg-white rounded-lg shadow-lg p-4",children:"Team Lineup"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[D("Block 1",a),D("Block 2",h),D("Block 3",m)]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[D("Block 4",T),D("Block 5",w),D("Self Schedule",N)]}),v.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mt-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 border-b border-orange-200 pb-2 mb-4 text-center",children:"Events Per Student"}),v.jsx("div",{className:"flex flex-wrap gap-3",children:e.filter(C=>C.teams&&C.teams.length>0).map(C=>v.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-md px-3 py-2 text-sm text-orange-800 shadow-sm",children:[v.jsxs("span",{className:"font-medium",children:[C.firstName," ",C.lastName]}),": ",C.teams.length]},C.id))})]})]})},Ia="/api/answers";let NT=null;const UL=t=>{NT=`Bearer ${t}`},Pa=()=>({headers:{Authorization:NT}}),IL=async t=>(await Se.post(Ia,t,Pa())).data,PL=async(t,e)=>(await Se.get(`${Ia}/${t}/${e}`,Pa())).data,LL=async(t,e,n)=>(await Se.put(`${Ia}/${t}/${e}`,n,Pa())).data,OL=async(t,e,{questionId:n,answer:i,drawing:o})=>(await Se.patch(`${Ia}/${t}/${e}`,{questionId:n,answer:i,drawing:o},Pa())).data,qL=async()=>(await Se.get(Ia,Pa())).data,zt={setToken:UL,create:IL,getByTestAndTeam:PL,update:LL,updateSpecific:OL,getAll:qL},ro="/api/submissions";let RT=null;const BL=t=>{RT=`Bearer ${t}`},oo=()=>({headers:{Authorization:RT}}),jL=async t=>(await Se.post(ro,t,oo())).data,VL=async()=>(await Se.get(ro,oo())).data,$L=async t=>(await Se.get(`${ro}/${t}`,oo())).data,FL=async(t,e)=>(await Se.get(`${ro}/check/${t}/${e}`,oo())).data,zL=async t=>(await Se.get(`${ro}/team/${t}`,oo())).data,GL=async(t,e)=>(await Se.put(`${ro}/${t}`,e,oo())).data,Rt={setToken:BL,create:jL,getAll:VL,getById:$L,checkSubmission:FL,getByTeam:zL,update:GL},HL=({tests:t,user:e,users:n,teams:i})=>{const[o,a]=R.useState([]),[c,h]=R.useState({});return R.useEffect(()=>{var p;if(t&&e&&n){const m=n.find(b=>b.id===e.id),y=((p=m==null?void 0:m.teams)==null?void 0:p.map(b=>b.id))||[];console.log(y),console.log(t);const T=t.filter(b=>b.assignees.some(w=>{const S=typeof w=="object"?w.id:w;return y.includes(S)}));a(T)}},[t,e,n]),R.useEffect(()=>{(async()=>{if(o.length>0&&i&&e){const m=localStorage.getItem("loggedAppUser");if(m){const T=JSON.parse(m);zt.setToken(T.token),Rt.setToken(T.token)}const y={};for(const T of o){const b=i.find(w=>w&&w.event===T.event&&w.students&&Array.isArray(w.students)&&w.students.some(S=>S&&S.id===e.id));if(b)try{if((await Rt.checkSubmission(T.id,b.id)).submitted)y[T.id]="submitted";else{const S=await zt.getByTestAndTeam(T.id,b.id);y[T.id]=S?"started":"not_started"}}catch{y[T.id]="not_started"}else y[T.id]="no_team"}h(y)}})()},[o,i,e]),e?v.jsxs("div",{className:"max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"Assigned Tests"}),o.length===0?v.jsx("p",{className:"text-center text-gray-500 italic",children:"You currently have no assigned tests."}):v.jsx("ul",{className:"space-y-3",children:o.map(p=>v.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:p.random?`Random Test - ${p.event}`:`${p.school} ${p.year} - ${p.event}`}),c[p.id]==="submitted"&&v.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Submitted"})]}),c[p.id]==="submitted"?v.jsx("span",{className:"text-sm text-green-600 font-medium",children:"✓ Completed"}):v.jsxs(Qe,{to:`/assigned/${p.id}`,className:"text-sm text-orange-600 hover:underline",children:[c[p.id]==="started"?"Continue Test":"Take Test"," →"]})]})},p.id))})]}):null};function j0(t,e,n,i,o,a,c){try{var h=t[a](c),p=h.value}catch(m){n(m);return}h.done?e(p):Promise.resolve(p).then(i,o)}function JL(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function c(p){j0(a,i,o,c,h,"next",p)}function h(p){j0(a,i,o,c,h,"throw",p)}c(void 0)})}}function Us(){return Us=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Us.apply(this,arguments)}var kT={exports:{}};(function(t){var e=function(n){var i=Object.prototype,o=i.hasOwnProperty,a,c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",m=c.toStringTag||"@@toStringTag";function y(Y,q,k){return Object.defineProperty(Y,q,{value:k,enumerable:!0,configurable:!0,writable:!0}),Y[q]}try{y({},"")}catch{y=function(q,k,L){return q[k]=L}}function T(Y,q,k,L){var B=q&&q.prototype instanceof P?q:P,W=Object.create(B.prototype),re=new Ae(L||[]);return W._invoke=ne(Y,k,re),W}n.wrap=T;function b(Y,q,k){try{return{type:"normal",arg:Y.call(q,k)}}catch(L){return{type:"throw",arg:L}}}var w="suspendedStart",S="suspendedYield",N="executing",A="completed",M={};function P(){}function D(){}function C(){}var I={};y(I,h,function(){return this});var V=Object.getPrototypeOf,H=V&&V(V(Z([])));H&&H!==i&&o.call(H,h)&&(I=H);var ee=C.prototype=P.prototype=Object.create(I);D.prototype=C,y(ee,"constructor",C),y(C,"constructor",D),D.displayName=y(C,m,"GeneratorFunction");function z(Y){["next","throw","return"].forEach(function(q){y(Y,q,function(k){return this._invoke(q,k)})})}n.isGeneratorFunction=function(Y){var q=typeof Y=="function"&&Y.constructor;return q?q===D||(q.displayName||q.name)==="GeneratorFunction":!1},n.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,C):(Y.__proto__=C,y(Y,m,"GeneratorFunction")),Y.prototype=Object.create(ee),Y},n.awrap=function(Y){return{__await:Y}};function K(Y,q){function k(W,re,he,oe){var Ue=b(Y[W],Y,re);if(Ue.type==="throw")oe(Ue.arg);else{var Ee=Ue.arg,et=Ee.value;return et&&typeof et=="object"&&o.call(et,"__await")?q.resolve(et.__await).then(function(it){k("next",it,he,oe)},function(it){k("throw",it,he,oe)}):q.resolve(et).then(function(it){Ee.value=it,he(Ee)},function(it){return k("throw",it,he,oe)})}}var L;function B(W,re){function he(){return new q(function(oe,Ue){k(W,re,oe,Ue)})}return L=L?L.then(he,he):he()}this._invoke=B}z(K.prototype),y(K.prototype,p,function(){return this}),n.AsyncIterator=K,n.async=function(Y,q,k,L,B){B===void 0&&(B=Promise);var W=new K(T(Y,q,k,L),B);return n.isGeneratorFunction(q)?W:W.next().then(function(re){return re.done?re.value:W.next()})};function ne(Y,q,k){var L=w;return function(W,re){if(L===N)throw new Error("Generator is already running");if(L===A){if(W==="throw")throw re;return ae()}for(k.method=W,k.arg=re;;){var he=k.delegate;if(he){var oe=$(he,k);if(oe){if(oe===M)continue;return oe}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(L===w)throw L=A,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);L=N;var Ue=b(Y,q,k);if(Ue.type==="normal"){if(L=k.done?A:S,Ue.arg===M)continue;return{value:Ue.arg,done:k.done}}else Ue.type==="throw"&&(L=A,k.method="throw",k.arg=Ue.arg)}}}function $(Y,q){var k=Y.iterator[q.method];if(k===a){if(q.delegate=null,q.method==="throw"){if(Y.iterator.return&&(q.method="return",q.arg=a,$(Y,q),q.method==="throw"))return M;q.method="throw",q.arg=new TypeError("The iterator does not provide a 'throw' method")}return M}var L=b(k,Y.iterator,q.arg);if(L.type==="throw")return q.method="throw",q.arg=L.arg,q.delegate=null,M;var B=L.arg;if(!B)return q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,M;if(B.done)q[Y.resultName]=B.value,q.next=Y.nextLoc,q.method!=="return"&&(q.method="next",q.arg=a);else return B;return q.delegate=null,M}z(ee),y(ee,m,"Generator"),y(ee,h,function(){return this}),y(ee,"toString",function(){return"[object Generator]"});function we(Y){var q={tryLoc:Y[0]};1 in Y&&(q.catchLoc=Y[1]),2 in Y&&(q.finallyLoc=Y[2],q.afterLoc=Y[3]),this.tryEntries.push(q)}function Ce(Y){var q=Y.completion||{};q.type="normal",delete q.arg,Y.completion=q}function Ae(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(we,this),this.reset(!0)}n.keys=function(Y){var q=[];for(var k in Y)q.push(k);return q.reverse(),function L(){for(;q.length;){var B=q.pop();if(B in Y)return L.value=B,L.done=!1,L}return L.done=!0,L}};function Z(Y){if(Y){var q=Y[h];if(q)return q.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var k=-1,L=function B(){for(;++k<Y.length;)if(o.call(Y,k))return B.value=Y[k],B.done=!1,B;return B.value=a,B.done=!0,B};return L.next=L}}return{next:ae}}n.values=Z;function ae(){return{value:a,done:!0}}return Ae.prototype={constructor:Ae,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Ce),!Y)for(var q in this)q.charAt(0)==="t"&&o.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=a)},stop:function(){this.done=!0;var Y=this.tryEntries[0],q=Y.completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var q=this;function k(oe,Ue){return W.type="throw",W.arg=Y,q.next=oe,Ue&&(q.method="next",q.arg=a),!!Ue}for(var L=this.tryEntries.length-1;L>=0;--L){var B=this.tryEntries[L],W=B.completion;if(B.tryLoc==="root")return k("end");if(B.tryLoc<=this.prev){var re=o.call(B,"catchLoc"),he=o.call(B,"finallyLoc");if(re&&he){if(this.prev<B.catchLoc)return k(B.catchLoc,!0);if(this.prev<B.finallyLoc)return k(B.finallyLoc)}else if(re){if(this.prev<B.catchLoc)return k(B.catchLoc,!0)}else if(he){if(this.prev<B.finallyLoc)return k(B.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Y,q){for(var k=this.tryEntries.length-1;k>=0;--k){var L=this.tryEntries[k];if(L.tryLoc<=this.prev&&o.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var B=L;break}}B&&(Y==="break"||Y==="continue")&&B.tryLoc<=q&&q<=B.finallyLoc&&(B=null);var W=B?B.completion:{};return W.type=Y,W.arg=q,B?(this.method="next",this.next=B.finallyLoc,M):this.complete(W)},complete:function(Y,q){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&q&&(this.next=q),M},finish:function(Y){for(var q=this.tryEntries.length-1;q>=0;--q){var k=this.tryEntries[q];if(k.finallyLoc===Y)return this.complete(k.completion,k.afterLoc),Ce(k),M}},catch:function(Y){for(var q=this.tryEntries.length-1;q>=0;--q){var k=this.tryEntries[q];if(k.tryLoc===Y){var L=k.completion;if(L.type==="throw"){var B=L.arg;Ce(k)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(Y,q,k){return this.delegate={iterator:Z(Y),resultName:q,nextLoc:k},this.method==="next"&&(this.arg=a),M}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(kT);var V0=kT.exports,MT=function(e){var n=e.paths,i=e.id,o=e.strokeWidth,a=e.strokeColor,c=e.command,h=c===void 0?DT:c;if(n.length===1){var p=n[0],m=p.x,y=p.y,T=o/2;return R.createElement("circle",{key:i,id:i,cx:m,cy:y,r:T,stroke:a,fill:a})}var b=n.reduce(function(w,S,N,A){return N===0?"M "+S.x+","+S.y:w+" "+h(S,N,A)},"");return R.createElement("path",{key:i,id:i,d:b,fill:"none",strokeLinecap:"round",stroke:a,strokeWidth:o})},YL=function(e,n){var i=n.x-e.x,o=n.y-e.y;return{length:Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),angle:Math.atan2(o,i)}},nu=function(e){var n=e.current,i=e.next,o=e.previous,a=e.reverse,c=o||n,h=i||n,p=.2,m=YL(c,h),y=m.angle+(a?Math.PI:0),T=m.length*p,b=n.x+Math.cos(y)*T,w=n.y+Math.sin(y)*T;return[b,w]},DT=function(e,n,i){var o=null,a=null;switch(n){case 0:var c=nu({current:e});o=c[0],a=c[1];break;case 1:var h=nu({current:i[n-1],next:e});o=h[0],a=h[1];break;default:var p=nu({current:i[n-1],previous:i[n-2],next:e});o=p[0],a=p[1];break}var m=nu({current:e,previous:i[n-1],next:i[n+1],reverse:!0}),y=m[0],T=m[1];return"C "+o+","+a+" "+y+","+T+" "+e.x+", "+e.y},KL=function(e){var n=e.id,i=e.paths;return R.createElement(R.Fragment,null,i.map(function(o,a){return R.createElement(MT,{key:n+"__"+a,paths:o.paths,id:n+"__"+a,strokeWidth:o.strokeWidth,strokeColor:o.strokeColor,command:DT})}))},$0=function(e){return new Promise(function(n,i){var o=new Image;o.addEventListener("load",function(){o.width>0&&n(o),i("Image not found")}),o.addEventListener("error",function(a){return i(a)}),o.src=e,o.setAttribute("crossorigin","anonymous")})};function F0(t){var e,n=(e=t.firstChild)==null?void 0:e.cloneNode(!0),i=t.offsetWidth,o=t.offsetHeight;return n.setAttribute("viewBox","0 0 "+i+" "+o),n.setAttribute("width",i.toString()),n.setAttribute("height",o.toString()),{svgCanvas:n,width:i,height:o}}var QL=R.forwardRef(function(t,e){var n=t.paths,i=t.isDrawing,o=t.onPointerDown,a=t.onPointerMove,c=t.onPointerUp,h=t.id,p=h===void 0?"react-sketch-canvas":h,m=t.width,y=m===void 0?"100%":m,T=t.height,b=T===void 0?"100%":T,w=t.className,S=w===void 0?"react-sketch-canvas":w,N=t.canvasColor,A=N===void 0?"red":N,M=t.backgroundImage,P=M===void 0?"":M,D=t.exportWithBackgroundImage,C=D===void 0?!1:D,I=t.preserveBackgroundImageAspectRatio,V=I===void 0?"none":I,H=t.allowOnlyPointerType,ee=H===void 0?"all":H,z=t.style,K=z===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:z,ne=t.svgStyle,$=ne===void 0?{}:ne,we=R.useRef(null),Ce=function(B){var W,re,he,oe=(W=we.current)==null?void 0:W.getBoundingClientRect(),Ue=(re=window.scrollX)!=null?re:0,Ee=(he=window.scrollY)!=null?he:0;if(!oe)return{x:0,y:0};var et={x:B.pageX-oe.left-Ue,y:B.pageY-oe.top-Ee};return et},Ae=function(B){if(!(ee!=="all"&&B.pointerType!==ee)&&!(B.pointerType==="mouse"&&B.button!==0)){var W=Ce(B);o(W)}},Z=function(B){if(i&&!(ee!=="all"&&B.pointerType!==ee)){var W=Ce(B);a(W)}},ae=function(B){B.pointerType==="mouse"&&B.button!==0||ee!=="all"&&B.pointerType!==ee||c()};R.useImperativeHandle(e,function(){return{exportImage:function(B){return new Promise(function(){var W=JL(V0.mark(function re(he,oe){var Ue,Ee,et,it,kt,Ut,me,de;return V0.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(ue.prev=0,Ue=we.current,Ue){ue.next=4;break}throw Error("Canvas not rendered yet");case 4:return Ee=F0(Ue),et=Ee.svgCanvas,it=Ee.width,kt=Ee.height,Ut="data:image/svg+xml;base64,"+btoa(et.outerHTML),ue.next=8,$0(Ut);case 8:if(ue.t0=ue.sent,me=[ue.t0],!C){ue.next=21;break}return ue.prev=11,ue.next=14,$0(P);case 14:de=ue.sent,me.push(de),ue.next=21;break;case 18:ue.prev=18,ue.t1=ue.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(me).then(function(qe){var Le=document.createElement("canvas");Le.setAttribute("width",it.toString()),Le.setAttribute("height",kt.toString());var rt=Le.getContext("2d");if(!rt)throw Error("Canvas not rendered yet");qe.reverse().forEach(function(Oe){rt.drawImage(Oe,0,0)}),he(Le.toDataURL("image/"+B))}).catch(function(qe){throw qe}),ue.next=27;break;case 24:ue.prev=24,ue.t2=ue.catch(0),oe(ue.t2);case 27:case"end":return ue.stop()}},re,null,[[0,24],[11,18]])}));return function(re,he){return W.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(B,W){try{var re,he=(re=we.current)!=null?re:null;if(he!==null){var oe,Ue,Ee=F0(he),et=Ee.svgCanvas;if(C){B(et.outerHTML);return}(oe=et.querySelector("#"+p+"__background"))==null||oe.remove(),(Ue=et.querySelector("#"+p+"__canvas-background"))==null||Ue.setAttribute("fill",A),B(et.outerHTML)}W(new Error("Canvas not loaded"))}catch(it){W(it)}})}}}),R.useEffect(function(){return document.addEventListener("pointerup",ae),function(){document.removeEventListener("pointerup",ae)}},[ae]);var Y=n.filter(function(L){return!L.drawMode}),q=0,k=n.reduce(function(L,B){return B.drawMode?(L[q]===void 0&&(L[q]=[]),L[q].push(B),L):(q+=1,L)},[[]]);return R.createElement("div",{role:"presentation",ref:we,className:S,style:Us({touchAction:"none",width:y,height:b},K),"touch-action":"none",onPointerDown:Ae,onPointerMove:Z,onPointerUp:ae},R.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:Us({width:"100%",height:"100%"},$),id:p},R.createElement("g",{id:p+"__eraser-stroke-group",display:"none"},R.createElement("rect",{id:p+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),Y.map(function(L,B){return R.createElement(MT,{key:p+"__eraser-"+B,id:p+"__eraser-"+B,paths:L.paths,strokeColor:"#000000",strokeWidth:L.strokeWidth})})),R.createElement("defs",null,P&&R.createElement("pattern",{id:p+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},R.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:P,preserveAspectRatio:V})),Y.map(function(L,B){return R.createElement("mask",{id:p+"__eraser-mask-"+B,key:p+"__eraser-mask-"+B,maskUnits:"userSpaceOnUse"},R.createElement("use",{href:"#"+p+"__mask-background"}),Array.from({length:Y.length-B},function(W,re){return re+B}).map(function(W){return R.createElement("use",{key:W.toString(),href:"#"+p+"__eraser-"+W.toString()})}))})),R.createElement("g",{id:p+"__canvas-background-group"},R.createElement("rect",{id:p+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:P?"url(#"+p+"__background)":A})),k.map(function(L,B){return R.createElement("g",{id:p+"__stroke-group-"+B,key:p+"__stroke-group-"+B,mask:"url(#"+p+"__eraser-mask-"+B+")"},R.createElement(KL,{id:p,paths:L}))})))}),UT=R.forwardRef(function(t,e){var n=t.id,i=n===void 0?"react-sketch-canvas":n,o=t.width,a=o===void 0?"100%":o,c=t.height,h=c===void 0?"100%":c,p=t.className,m=p===void 0?"":p,y=t.canvasColor,T=y===void 0?"white":y,b=t.strokeColor,w=b===void 0?"red":b,S=t.backgroundImage,N=S===void 0?"":S,A=t.exportWithBackgroundImage,M=A===void 0?!1:A,P=t.preserveBackgroundImageAspectRatio,D=P===void 0?"none":P,C=t.strokeWidth,I=C===void 0?4:C,V=t.eraserWidth,H=V===void 0?8:V,ee=t.allowOnlyPointerType,z=ee===void 0?"all":ee,K=t.style,ne=K===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:K,$=t.svgStyle,we=$===void 0?{}:$,Ce=t.onChange,Ae=Ce===void 0?function(Oe){}:Ce,Z=t.onStroke,ae=Z===void 0?function(Oe,Te){}:Z,Y=t.withTimestamp,q=Y===void 0?!1:Y,k=R.createRef(),L=R.useState(!0),B=L[0],W=L[1],re=R.useState(!1),he=re[0],oe=re[1],Ue=R.useState([]),Ee=Ue[0],et=Ue[1],it=R.useState([]),kt=it[0],Ut=it[1],me=R.useState([]),de=me[0],Ne=me[1],ue=R.useCallback(function(){var Oe,Te,ve=(Oe=(Te=de.slice(-1))==null?void 0:Te[0])!=null?Oe:null;if(ve===null){console.warn("No stroke found!");return}ae(ve,!ve.drawMode)},[he]);R.useEffect(function(){ue()},[he]),R.useEffect(function(){Ae(de)},[de]),R.useImperativeHandle(e,function(){return{eraseMode:function(Te){W(!Te)},clearCanvas:function(){et([].concat(de)),Ne([])},undo:function(){if(Ee.length!==0){Ne([].concat(Ee)),et([]);return}Ut(function(Te){return[].concat(Te,de.slice(-1))}),Ne(function(Te){return Te.slice(0,-1)})},redo:function(){kt.length!==0&&(Ne(function(Te){return[].concat(Te,kt.slice(-1))}),Ut(function(Te){return Te.slice(0,-1)}))},exportImage:function(Te){var ve,He=(ve=k.current)==null?void 0:ve.exportImage;if(He)return He(Te);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(Te,ve){var He,ze=(He=k.current)==null?void 0:He.exportSvg;ze?ze().then(function(ft){Te(ft)}).catch(function(ft){ve(ft)}):ve(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(Te,ve){try{Te(de)}catch(He){ve(He)}})},loadPaths:function(Te){Ne(function(ve){return[].concat(ve,Te)})},getSketchingTime:function(){return new Promise(function(Te,ve){q||ve(new Error("Set 'withTimestamp' prop to get sketching time"));try{var He=de.reduce(function(ze,ft){var sn,Tt,Gt=(sn=ft.startTimestamp)!=null?sn:0,fe=(Tt=ft.endTimestamp)!=null?Tt:0;return ze+(fe-Gt)},0);Te(He)}catch(ze){ve(ze)}})},resetCanvas:function(){et([]),Ut([]),Ne([])}}});var qe=function(Te){oe(!0),Ut([]);var ve={drawMode:B,strokeColor:B?w:"#000000",strokeWidth:B?I:H,paths:[Te]};q&&(ve=Us({},ve,{startTimestamp:Date.now(),endTimestamp:0})),Ne(function(He){return[].concat(He,[ve])})},Le=function(Te){if(he){var ve=de.slice(-1)[0],He=Us({},ve,{paths:[].concat(ve.paths,[Te])});Ne(function(ze){return[].concat(ze.slice(0,-1),[He])})}},rt=function(){var Te,ve;if(he&&(oe(!1),!!q)){var He=(Te=(ve=de.slice(-1))==null?void 0:ve[0])!=null?Te:null;if(He!==null){var ze=Us({},He,{endTimestamp:Date.now()});Ne(function(ft){return[].concat(ft.slice(0,-1),[ze])})}}};return R.createElement(QL,{ref:k,id:i,width:a,height:h,className:m,canvasColor:T,backgroundImage:N,exportWithBackgroundImage:M,preserveBackgroundImageAspectRatio:D,allowOnlyPointerType:z,style:ne,svgStyle:we,paths:de,isDrawing:he,onPointerDown:qe,onPointerMove:Le,onPointerUp:rt})});const IT=({questions:t,currentIdx:e,setCurrentIdx:n,bookmarked:i,answers:o,drawings:a={}})=>{const c=h=>{const p=o[h],m=a[h]&&a[h].length>0;return p||m};return v.jsx("div",{className:"p-3 space-y-2",children:t.map((h,p)=>v.jsxs("button",{onClick:()=>n(p),className:`w-full px-3 py-2 rounded text-left border text-sm ${p===e?"bg-orange-300 border-orange-600":"bg-white border-orange-200"} ${c(h.id)?"font-bold":""}`,children:["Q",p+1,i.includes(h.id)&&v.jsx("span",{className:"ml-2 text-yellow-700",children:"★"})]},h.id||p))})},ZL=({idx:t,question:e,answer:n,onChange:i,onBookmark:o,isBookmarked:a,event:c})=>{const h=e.type==="mcq"&&e.answer.includes(", "),p=e.type==="saq",m=T=>{if((e.question[0]||"").toLowerCase().includes("baconian")){const S=T.replace(/\s+/g,""),N=[];for(let A=0;A<S.length;A+=5)N.push(S.slice(A,A+5));return N.map((A,M)=>v.jsx("span",{className:"inline-block mr-4",children:A},M))}else return T.split(/\s+/).map((S,N)=>v.jsx("span",{className:"inline-block mr-4",children:S.split("").map((A,M)=>v.jsx("span",{className:"inline-block mr-2",children:A},M))},N))},y=T=>{const b=Array.isArray(n)?n:[],w=b.includes(T)?b.filter(S=>S!==T):[...b,T];i(e.id,w)};return v.jsxs("div",{className:"relative",children:[v.jsxs("div",{className:"sticky top-0 bg-white z-40 flex justify-between items-center mb-3 pb-2 border-b border-orange-200",children:[v.jsxs("h4",{className:"text-lg font-semibold text-orange-700",children:["Question ",t+1]}),v.jsx("button",{onClick:()=>o(e.id),className:"text-yellow-600 hover:text-yellow-700",children:a?"★ Bookmarked":"☆ Bookmark"})]}),v.jsxs("div",{className:"pt-2",children:[v.jsx("div",{className:"mb-4 text-orange-900",children:e.question.map((T,b)=>v.jsx("p",{className:b>0?"mt-8":"",style:b>0&&(e.event==="Codebusters"||c==="Codebusters")?{lineHeight:"3",letterSpacing:"0.1em",backgroundColor:"#fef3c7",padding:"8px",borderRadius:"4px"}:{},children:b>0&&(e.event==="Codebusters"||c==="Codebusters")?m(T):T},b))}),e.imageUrl&&v.jsx("img",{src:e.imageUrl,alt:"Question Visual",className:"mb-4 border rounded max-w-md"}),e.type==="mcq"&&e.choices?e.choices.map((T,b)=>v.jsxs("label",{className:"block bg-orange-100 border border-orange-200 rounded px-4 py-2 mb-2 cursor-pointer",children:[v.jsx("input",{type:h?"checkbox":"radio",name:`q-${e.id}`,value:T,checked:h?(n||[]).includes(T):n===T,onChange:()=>h?y(T):i(e.id,T),className:"mr-2"}),String.fromCharCode(65+b),". ",T]},b)):p?v.jsx("input",{type:"text",className:"w-full border border-orange-300 rounded p-2",placeholder:"Short answer...",value:n||"",onChange:T=>i(e.id,T.target.value)}):v.jsx("textarea",{rows:4,className:"w-full border border-orange-300 rounded p-2",placeholder:"Type your answer...",value:n||"",onChange:T=>i(e.id,T.target.value)})]})]})},XL=(t,e,n)=>{if(n<1e3)return!0;if(t===e)return!1;const i=o=>o==null?!0:typeof o=="string"?o.trim()==="":typeof o=="number"||typeof o=="boolean"?!1:Array.isArray(o)?o.length===0:!1;return i(t)&&!i(e)?!0:i(e)&&!i(t)?!1:n<1500},WL=(t,e,n)=>{if(n<1e3)return!0;if(JSON.stringify(t)===JSON.stringify(e))return!1;const i=o=>o?Array.isArray(o)?o.length===0:typeof o=="object"?Object.keys(o).length===0:!1:!0;return i(t)&&!i(e)?!0:i(e)&&!i(t)?!1:n<1500},eO=({tests:t=[],user:e,users:n,teams:i=[],setNotif:o,setError:a,setTests:c})=>{var ft,sn,Tt,Gt;const h=Q0("/assigned/:id"),p=(ft=h==null?void 0:h.params)==null?void 0:ft.id,m=Pn(),[y,T]=R.useState(null),[b,w]=R.useState(!1),[S,N]=R.useState(50*60),[A,M]=R.useState({}),[P,D]=R.useState([]),[C,I]=R.useState(0),[V,H]=R.useState(!1),[ee,z]=R.useState(!1),[K,ne]=R.useState({}),[$,we]=R.useState(null),[Ce,Ae]=R.useState(!1),[Z,ae]=R.useState(!0),[Y,q]=R.useState(null),[k,L]=R.useState(0),[B,W]=R.useState(!1),re=R.useRef(null),he=R.useRef(null),oe=R.useRef(null),Ue=R.useRef(null),[Ee,et]=R.useState({width:0,height:0});R.useEffect(()=>{if(t&&Array.isArray(t)&&p){console.log("Tests array:",t,"TestId:",p);const fe=t.find(_e=>String(_e.id)===p);console.log("Found test:",fe),T(fe||null)}},[t,p]),R.useEffect(()=>{if(e&&y&&i&&Array.isArray(i)){console.log("Teams array:",i,"Test:",y);const fe=i.find(_e=>_e&&_e.event===y.event&&_e.students&&Array.isArray(_e.students)&&_e.students.some(De=>De&&De.id===e.id));console.log("Found userTeam:",fe),fe&&we(fe.id)}},[e,y,i]),R.useEffect(()=>{(async()=>{if(p&&$){const _e=localStorage.getItem("loggedAppUser");if(_e){const De=JSON.parse(_e);zt.setToken(De.token),Rt.setToken(De.token)}try{if((await Rt.checkSubmission(p,$)).submitted){a&&(a("This test has already been submitted."),setTimeout(()=>a(null),5e3)),m("/assigned");return}const Xe=await zt.getByTestAndTeam(p,$);Xe&&(M(Xe.answers||{}),ne(Xe.drawings||{}),N(Xe.timeLeft||3e3),w(!0))}catch{console.log("No existing answers found, starting fresh")}finally{ae(!1)}}else p&&ae(!1)})()},[p,$,m,a]),R.useEffect(()=>(b&&S>0&&!B?re.current=setTimeout(()=>{N(fe=>Math.max(0,fe-1))},1e3):b&&S===0&&!B&&qe(),()=>clearTimeout(re.current)),[b,S,B]),R.useLayoutEffect(()=>{function fe(){if(he.current){const _e=he.current.getBoundingClientRect();et({width:Math.floor(_e.width),height:Math.floor(_e.height)})}}return fe(),window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[V,C]),R.useEffect(()=>{Ue.current&&Ue.current.scrollIntoView({behavior:"smooth",block:"start"})},[b,C]),R.useEffect(()=>{const fe=async()=>{var _e;if(Y&&p&&$&&b&&!B){const De=localStorage.getItem("loggedAppUser");if(De){const Xe=JSON.parse(De);zt.setToken(Xe.token)}try{const Xe=await zt.updateSpecific(p,$,Y);q(null),N(Xe.timeLeft)}catch(Xe){if(console.error("Failed to sync specific answer:",Xe),((_e=Xe.response)==null?void 0:_e.status)===404)try{await zt.create({testId:p,teamId:$,answers:A,drawings:K,timeLeft:3e3}),q(null)}catch(It){console.error("Failed to create answer document:",It)}}}};if(Y&&!B){const _e=setTimeout(fe,500);return()=>clearTimeout(_e)}},[Y,p,$,b,A,K,B]),R.useEffect(()=>{const fe=async()=>{if(p&&$&&b&&!B){if(Date.now()-k<1e3)return;const De=localStorage.getItem("loggedAppUser");if(De){const Xe=JSON.parse(De);zt.setToken(Xe.token),Rt.setToken(Xe.token)}try{const Xe=await zt.getByTestAndTeam(p,$);if(Xe){try{if((await Rt.checkSubmission(p,$)).submitted&&!B){W(!0),w(!1),clearTimeout(re.current),o&&(o("Test has been submitted by another team member!"),setTimeout(()=>o(null),5e3));return}}catch(Ht){console.log("Could not check submission status:",Ht)}const It=Xe.answers||{},On=Xe.drawings||{},Kn=Xe.answerTimestamps||{},ls=Xe.drawingTimestamps||{};M(Ht=>{const ui={...Ht};let Qn=!1;for(const[qn,_n]of Object.entries(It)){const Sn=Ht[qn],$s=Kn[qn]?new Date(Kn[qn]):new Date(0),rn=Date.now()-$s.getTime();rn<2e3&&Sn!==_n?XL(Sn,_n,rn)&&(ui[qn]=_n,Qn=!0):Sn!==_n&&rn>=2e3&&(ui[qn]=_n,Qn=!0)}return Qn?ui:Ht}),ne(Ht=>{var qn,_n,Sn,$s;const ui={...Ht};let Qn=!1;for(const[rn,en]of Object.entries(On)){const us=Ht[rn],lo=ls[rn]?new Date(ls[rn]):new Date(0),Fs=Date.now()-lo.getTime();if(Fs<2e3&&JSON.stringify(us)!==JSON.stringify(en)){if(WL(us,en,Fs)){ui[rn]=en,Qn=!0;const Zn=(_n=(qn=y==null?void 0:y.questions)==null?void 0:qn[C])==null?void 0:_n.id;V&&Zn===rn&&oe.current&&setTimeout(()=>{en&&en.length>0?oe.current.loadPaths(en):oe.current.clearCanvas()},100)}}else if(JSON.stringify(us)!==JSON.stringify(en)&&Fs>=2e3){ui[rn]=en,Qn=!0;const La=($s=(Sn=y==null?void 0:y.questions)==null?void 0:Sn[C])==null?void 0:$s.id;V&&La===rn&&oe.current&&setTimeout(()=>{en&&en.length>0?oe.current.loadPaths(en):oe.current.clearCanvas()},100)}}return Qn?ui:Ht}),N(Xe.timeLeft)}}catch(Xe){console.error("Failed to sync from backend:",Xe)}}};if(b&&!B){const _e=setInterval(fe,2e3);return()=>clearInterval(_e)}},[p,$,b,V,C,y,k,B]);const it=fe=>{const _e=String(Math.floor(fe/60)).padStart(2,"0"),De=String(fe%60).padStart(2,"0");return`${_e}:${De}`},kt=(fe,_e)=>{M(De=>({...De,[fe]:_e})),L(Date.now()),q({questionId:fe,answer:_e})},Ut=fe=>{D(_e=>_e.includes(fe)?_e.filter(De=>De!==fe):[..._e,fe])},me=async()=>{var fe;if(V&&oe.current&&((fe=y==null?void 0:y.questions)!=null&&fe[C])){const _e=await oe.current.exportPaths(),De=y.questions[C].id;ne(Xe=>({...Xe,[De]:_e})),L(Date.now()),q({questionId:De,drawing:_e})}},de=async fe=>{await me(),H(!1),I(fe)},Ne=async()=>{await me(),H(!1),I(fe=>fe+1)},ue=async()=>{await me(),H(!1),I(fe=>fe-1)},qe=async()=>{if(Ce)return;Ae(!0),await me();const fe=localStorage.getItem("loggedAppUser");if(fe){const _e=JSON.parse(fe);zt.setToken(_e.token),Rt.setToken(_e.token),fn.setToken(_e.token)}try{if(p&&$){await zt.update(p,$,{answers:A,drawings:K,timeLeft:S}),await Rt.create({testId:p,teamId:$,finalTimeLeft:S});const _e=Array.isArray(t)?t.find(De=>String(De.id)===p):null;if(_e){const De=_e.assignees.filter(It=>(typeof It=="object"?It.id:It)!==$),Xe=De.map(It=>typeof It=="object"?It.id:It);await fn.updateTest(p,{assignees:Xe}),c&&c(It=>It.map(On=>String(On.id)===p?{...On,assignees:De}:On))}w(!1),W(!0),clearTimeout(re.current),o&&(o("Test submitted successfully!"),setTimeout(()=>o(null),5e3)),console.log("Test submitted successfully!")}}catch(_e){console.error("Failed to submit test:",_e),a&&(a("Failed to submit test. Please try again."),setTimeout(()=>a(null),5e3))}finally{Ae(!1)}},Le=async()=>{var _e;w(!0),H(!1),z(!1);const fe=localStorage.getItem("loggedAppUser");if(fe){const De=JSON.parse(fe);zt.setToken(De.token),fn.setToken(De.token)}if(p&&$)try{const De=await zt.create({testId:p,teamId:$,answers:{},drawings:{},timeLeft:3e3});N(De.timeLeft)}catch(De){((_e=De.response)==null?void 0:_e.status)!==409&&console.error("Failed to create initial answers:",De)}},rt=async()=>{var _e;if(!((_e=y==null?void 0:y.questions)!=null&&_e[C]))return;const fe=y.questions[C].id;if(V){if(oe.current){const De=await oe.current.exportPaths();ne(Xe=>({...Xe,[fe]:De})),L(Date.now()),q({questionId:fe,drawing:De})}H(!1)}else H(!0),setTimeout(()=>{if(oe.current){const De=K[fe];De?oe.current.loadPaths(De):oe.current.clearCanvas()}},100)},Oe=()=>{var fe;if(oe.current&&((fe=y==null?void 0:y.questions)!=null&&fe[C])){oe.current.clearCanvas();const _e=y.questions[C].id;ne(De=>{const Xe={...De};return delete Xe[_e],Xe}),L(Date.now()),q({questionId:_e,drawing:null})}},Te=()=>{oe.current&&(oe.current.eraseMode(!ee),z(fe=>!fe))};if(!e||!y||!y.questions||!Array.isArray(y.questions)||Z||!Array.isArray(t))return v.jsx("div",{className:"flex justify-center items-center h-screen",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(B)return v.jsx("div",{className:"flex flex-col justify-center items-center p-20 bg-white space-y-10 rounded-lg",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),v.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-2",children:"Test Submitted Successfully!"}),v.jsx("p",{className:"text-gray-600",children:"Your answers have been saved and submitted for grading."}),v.jsx("div",{className:"pt-10",children:v.jsx(Qe,{to:"/review",className:"text-white bg-orange-500 font-semibold text-md py-3 px-4 rounded-lg hover:bg-orange-600",children:"Review Test"})})]})});if(!b)return v.jsxs("div",{className:"flex flex-col justify-center items-center p-20 bg-white space-y-10 rounded-lg",children:[v.jsxs("h1",{className:"text-3xl font-bold text-orange-800",children:[y.random?"Random Test":`${y.school} ${y.year}`," — ",y.event," Practice Test"]}),$?v.jsx("button",{onClick:Le,className:"bg-orange-500 text-white px-6 py-2 rounded-lg shadow-lg text-lg hover:bg-orange-600 transition",children:"Start Test"}):v.jsx("p",{className:"text-red-600",children:"You are not assigned to a team for this event."})]});const ve=(sn=y.questions)==null?void 0:sn[C],He=ve==null?void 0:ve.id,ze=((Tt=y.questions)==null?void 0:Tt.length)||0;return C>=ze&&ze>0?(I(ze-1),null):v.jsx("div",{ref:Ue,className:"w-full min-h-screen bg-transparent py-5 px-4",children:v.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow-md py-6 px-8 space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("h2",{className:"text-2xl font-bold text-orange-800",children:[y.school," ",y.year," — ",y.event]}),v.jsxs("div",{className:"text-orange-600 font-semibold text-lg",children:["Time Left: ",it(S)]})]}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsxs("div",{className:"w-64 h-[500px] overflow-y-auto pr-2 scrollbar-hide bg-gray-100 rounded-lg",children:[v.jsx("div",{className:"sticky top-0 bg-gray-100 z-10 pb-2 pt-3",children:v.jsx("h3",{className:"text-lg font-semibold text-orange-700 text-center",children:"Questions"})}),v.jsx(IT,{questions:y.questions||[],currentIdx:C,setCurrentIdx:de,bookmarked:P,answers:A,drawings:K})]}),v.jsxs("div",{ref:he,className:"flex-1 relative max-h-[500px] overflow-auto pr-2 scrollbar-hide",children:[ve?v.jsx(ZL,{idx:C,question:ve,answer:A[He],onChange:kt,onBookmark:Ut,isBookmarked:P.includes(He),event:y.event}):v.jsx("div",{className:"p-4 text-center text-gray-500",children:"Question not found"}),V&&v.jsx("div",{className:"absolute top-0 left-0 bg-transparent z-30",style:{width:Ee.width,height:Ee.height},children:v.jsx(UT,{ref:oe,width:Ee.width,height:Ee.height,strokeWidth:"2",eraserWidth:"30",strokeColor:"#000",canvasColor:"transparent",className:"touch-none select-none",style:{border:"none",outline:"none"}})})]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex gap-2 items-center",children:[V&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:Te,className:`px-3 py-1 rounded ${ee?"bg-gray-300":"bg-orange-600 text-white"}`,children:"Pencil"}),v.jsx("button",{onClick:Te,className:`px-3 py-1 rounded ${ee?"bg-orange-600 text-white":"bg-gray-300"}`,children:"Eraser"}),v.jsx("button",{onClick:Oe,className:"px-3 py-1 rounded bg-red-500 text-white",children:"Clear"})]}),v.jsx("button",{onClick:rt,className:`rounded shadow text-white ${V?"px-3 py-1 bg-gray-500 hover:bg-gray-600":"px-4 py-2 bg-amber-600 hover:bg-amber-700"}`,children:V?"Hide Drawing":"Show Drawing"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{disabled:C===0,onClick:ue,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Previous"}),v.jsx("button",{disabled:C===(((Gt=y.questions)==null?void 0:Gt.length)-1||0),onClick:Ne,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Next"}),v.jsx("button",{onClick:qe,disabled:Ce||B,className:`px-6 py-2 rounded shadow transition ${Ce||B?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"} text-white`,children:Ce?"Submitting...":B?"Submitted":"Submit Test"})]})]})]})})},tO=t=>{const[e,n]=R.useState("");if(!t.user)return;const i=async o=>{o.preventDefault(),await t.handleReset(e),n("")};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[v.jsx("div",{children:v.jsxs("p",{className:"text-xl font-semibold text-orange-800 mb-2",children:[t.user.firstName," ",t.user.lastName,"'s Settings"]})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-lg font-medium text-orange-700 mb-2",children:"Password Reset"}),v.jsxs("form",{onSubmit:i,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),v.jsx("input",{type:"password",value:e,onChange:({target:o})=>n(o.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})]}),v.jsx("button",{type:"button",onClick:t.handleLogout,className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700 transition",children:"Logout"})]})},Zf="/api/statistics";let PT=null;const nO=t=>{PT=`Bearer ${t}`},_h=()=>({headers:{Authorization:PT}}),iO=async(t=null)=>{const e=t?`${Zf}?schoolYear=${t}`:Zf;return(await Se.get(e,_h())).data},sO=async t=>(await Se.get(`${Zf}/${t}`,_h())).data,rO=async t=>(await Se.get(`/api/submissions/user/${t}`,_h())).data,Un={setToken:nO,getOverallStatistics:iO,getStudentStatistics:sO,getUserSubmissions:rO},oO=({user:t,users:e,teams:n})=>{const[i,o]=R.useState([]),[a,c]=R.useState([]),[h,p]=R.useState(!0);R.useEffect(()=>{(async()=>{if(t&&e&&n){const b=localStorage.getItem("loggedAppUser");if(b){const w=JSON.parse(b);Rt.setToken(w.token),Un.setToken(w.token)}try{const w=e.find(C=>C.id===t.id),S=(w==null?void 0:w.teams)||[],N=S.map(C=>C.id),A=[];for(const C of S)try{const I=await Rt.getByTeam(C.id);A.push(...I)}catch{console.log(`No submissions found for team ${C.id}`)}console.log("Attempting to fetch user submissions for user:",t.id);const M=await Un.getUserSubmissions(t.id);console.log("User submissions response:",M);const P=new Set(A.map(C=>C.id)),D=M.filter(C=>!P.has(C.id));o(A),c(D)}catch(w){console.error("Error fetching submissions:",w)}finally{p(!1)}}else p(!1)})()},[t,e,n]);const m=i.filter(T=>T.graded),y=i.filter(T=>!T.graded);return t?h?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsxs("div",{className:"max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md space-y-8",children:[v.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"Review Tests"}),i.length===0?v.jsx("p",{className:"text-center text-gray-500 italic",children:"You haven't submitted any tests yet."}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-green-700 mb-4 text-left border-b border-green-200 pb-2",children:["Graded Tests (",m.length,")"]}),m.length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No graded tests yet."}):v.jsx("ul",{className:"space-y-3",children:m.map(T=>{var b,w,S,N,A,M;return v.jsx("li",{className:"bg-green-50 border border-green-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-green-700 font-semibold",children:(b=T.test)!=null&&b.random?`Random Test - ${(w=T.test)==null?void 0:w.event}`:`${(S=T.test)==null?void 0:S.school} ${(N=T.test)==null?void 0:N.year} - ${(A=T.test)==null?void 0:A.event}`}),v.jsxs("p",{className:"text-xs text-green-600",children:["Team: ",(M=T.team)==null?void 0:M.name," • Score: ",T.totalScore,"/",T.maxScore]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(T.submittedAt).toLocaleDateString()]})]}),v.jsx(Qe,{to:`/review/${T.id}`,className:"text-sm text-green-600 hover:underline font-medium",children:"View Results →"})]})},T.id)})})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-orange-700 mb-4 text-left border-b border-orange-200 pb-2",children:["Pending Grading (",y.length,")"]}),y.length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No tests pending grading."}):v.jsx("ul",{className:"space-y-3",children:y.map(T=>{var b,w,S,N,A,M;return v.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:(b=T.test)!=null&&b.random?`Random Test - ${(w=T.test)==null?void 0:w.event}`:`${(S=T.test)==null?void 0:S.school} ${(N=T.test)==null?void 0:N.year} - ${(A=T.test)==null?void 0:A.event}`}),v.jsxs("p",{className:"text-xs text-orange-600",children:["Team: ",(M=T.team)==null?void 0:M.name]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(T.submittedAt).toLocaleDateString()]})]}),v.jsx(Qe,{to:`/review/${T.id}`,className:"text-sm text-orange-600 hover:underline font-medium",children:"View Submission →"})]})},T.id)})})]}),a.length>0&&v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-blue-700 mb-4 text-left border-b border-blue-200 pb-2",children:["Historical Tests (",a.length,")"]}),v.jsx("p",{className:"text-sm text-gray-600 mb-4 italic",children:"Tests you took in previous teams or school years"}),v.jsx("ul",{className:"space-y-3",children:a.map(T=>{var b,w,S,N,A,M;return v.jsx("li",{className:"bg-blue-50 border border-blue-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-blue-700 font-semibold",children:(b=T.test)!=null&&b.random?`Random Test - ${(w=T.test)==null?void 0:w.event}`:`${(S=T.test)==null?void 0:S.school} ${(N=T.test)==null?void 0:N.year} - ${(A=T.test)==null?void 0:A.event}`}),v.jsxs("p",{className:"text-xs text-blue-600",children:["Team: ",(M=T.team)==null?void 0:M.name," • School Year: ",T.schoolYear,T.graded&&v.jsxs("span",{children:[" • Score: ",T.totalScore,"/",T.maxScore]})]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(T.submittedAt).toLocaleDateString()]})]}),v.jsx(Qe,{to:`/review/${T.id}`,className:"text-sm text-blue-600 hover:underline font-medium",children:"View Submission →"})]})},T.id)})})]})]})]}):null},aO=({user:t})=>t?t.admin?v.jsx(lO,{user:t}):v.jsxs("div",{className:"max-w-4xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-2xl font-medium text-red-800 mb-4 text-center",children:"Access Denied"}),v.jsx("p",{className:"text-center text-gray-600",children:"You don't have permission to view this page."})]}):v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}),lO=({user:t})=>{const[e,n]=R.useState([]),[i,o]=R.useState([]),[a,c]=R.useState(!0),[h,p]=R.useState("all"),[m,y]=R.useState("all"),[T,b]=R.useState([]),[w,S]=R.useState("");R.useEffect(()=>{(async()=>{const I=localStorage.getItem("loggedAppUser");if(I){const V=JSON.parse(I);Rt.setToken(V.token),fn.setToken(V.token)}try{const[V,H]=await Promise.all([Rt.getAll(),fn.getAll()]);n(V),o(H);const ee=[...new Set(V.map(z=>z.schoolYear).filter(Boolean))].sort((z,K)=>{const ne=parseInt(z.split("-")[0]);return parseInt(K.split("-")[0])-ne});b(ee)}catch(V){console.error("Error fetching data:",V)}finally{c(!1)}})()},[]);const N=()=>e.filter(C=>{var I,V,H,ee,z,K;if(h==="graded"&&!C.graded||h==="ungraded"&&C.graded||m!=="all"&&C.schoolYear!==m)return!1;if(w.trim()){const ne=w.toLowerCase(),$=`${((I=C.test)==null?void 0:I.school)||""} ${((V=C.test)==null?void 0:V.year)||""} ${((H=C.test)==null?void 0:H.event)||""}`.toLowerCase(),we=((z=(ee=C.team)==null?void 0:ee.name)==null?void 0:z.toLowerCase())||"";let Ce="",Ae=(K=C.team)==null?void 0:K.students;if((!Ae||Array.isArray(Ae)&&Ae.length===0)&&(Ae=C.users),Ae&&Array.isArray(Ae)&&(Ce=Ae.filter(Z=>Z&&typeof Z=="object"&&Z.firstName&&Z.lastName).map(Z=>`${Z.firstName} ${Z.lastName}`.trim()).join(" ").toLowerCase()),!$.includes(ne)&&!we.includes(ne)&&!Ce.includes(ne))return!1}return!0}),A=C=>{if(!C)return"Date not available";const I=new Date(C);return isNaN(I.getTime())?"Invalid date":I.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},M=()=>i.filter(C=>C.assignees&&C.assignees.length>0),P=()=>{const C=N(),I=C.filter(H=>H.graded).length,V=C.filter(H=>!H.graded).length;return{total:C.length,graded:I,ungraded:V}};if(a)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});const D=N();return P(),v.jsxs("div",{className:"max-w-4xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md space-y-8",children:[v.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"All Test Submissions"}),v.jsx("div",{className:"bg-orange-50 p-4 rounded-lg space-y-4",children:v.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"Status:"}),v.jsxs("select",{value:h,onChange:C=>p(C.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"all",children:"All Tests"}),v.jsx("option",{value:"graded",children:"Graded Only"}),v.jsx("option",{value:"ungraded",children:"Ungraded Only"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"School Year:"}),v.jsxs("select",{value:m,onChange:C=>y(C.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"all",children:"All Years"}),T.map(C=>v.jsx("option",{value:C,children:C},C))]})]}),v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"Search:"}),v.jsx("input",{type:"text",value:w,onChange:C=>S(C.target.value),placeholder:"Test, event, team, or student name...",className:"flex-1 px-3 py-1 border border-gray-300 rounded-md text-sm focus:ring-orange-400 focus:ring-2"})]})]})}),e.length===0?v.jsx("p",{className:"text-center text-gray-500 italic",children:"No test submissions found."}):D.length===0?v.jsx("p",{className:"text-center text-gray-500 italic",children:"No submissions match your filters. Try adjusting your search criteria."}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-green-700 mb-4 text-left border-b border-green-200 pb-2",children:["Graded Tests (",D.filter(C=>C.graded).length,")"]}),D.filter(C=>C.graded).length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No graded tests match your filters."}):v.jsx("ul",{className:"space-y-3",children:D.filter(C=>C.graded).map(C=>{var I,V,H,ee,z,K;return v.jsx("li",{className:"bg-green-50 border border-green-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-green-700 font-semibold",children:(I=C.test)!=null&&I.random?`Random Test - ${(V=C.test)==null?void 0:V.event}`:`${(H=C.test)==null?void 0:H.school} ${(ee=C.test)==null?void 0:ee.year} - ${(z=C.test)==null?void 0:z.event}`}),v.jsxs("p",{className:"text-xs text-green-600",children:["Team: ",(K=C.team)==null?void 0:K.name," • Score: ",C.totalScore,"/",C.maxScore," (",(C.totalScore/C.maxScore*100).toFixed(1),"%)"]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Students: ",(()=>{var we;let ne=null;if((we=C.team)!=null&&we.students?ne=C.team.students:C.users&&(ne=C.users),!ne||!Array.isArray(ne)||ne.length===0)return"No students found";const $=ne.filter(Ce=>Ce&&typeof Ce=="object"&&Ce.firstName&&Ce.lastName).map(Ce=>`${Ce.firstName} ${Ce.lastName}`.trim());return $.length>0?$.join(", "):"No students with names found"})()]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",A(C.submittedAt||C.createdAt)]})]}),v.jsx(Qe,{to:`/review/${C.id}`,state:{from:"/review/all"},className:"text-sm text-green-600 hover:underline font-medium",children:"View Results →"})]})},C.id)})})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-orange-700 mb-4 text-left border-b border-orange-200 pb-2",children:["Ungraded Tests (",D.filter(C=>!C.graded).length,")"]}),D.filter(C=>!C.graded).length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No ungraded tests match your filters."}):v.jsx("ul",{className:"space-y-3",children:D.filter(C=>!C.graded).map(C=>{var I,V,H,ee,z,K;return v.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:(I=C.test)!=null&&I.random?`Random Test - ${(V=C.test)==null?void 0:V.event}`:`${(H=C.test)==null?void 0:H.school} ${(ee=C.test)==null?void 0:ee.year} - ${(z=C.test)==null?void 0:z.event}`}),v.jsxs("p",{className:"text-xs text-orange-600",children:["Team: ",(K=C.team)==null?void 0:K.name]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Students: ",(()=>{var we;let ne=null;if((we=C.team)!=null&&we.students?ne=C.team.students:C.users&&(ne=C.users),!ne||!Array.isArray(ne)||ne.length===0)return"No students found";const $=ne.filter(Ce=>Ce&&typeof Ce=="object"&&Ce.firstName&&Ce.lastName).map(Ce=>`${Ce.firstName} ${Ce.lastName}`.trim());return $.length>0?$.join(", "):"No students with names found"})()]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",A(C.submittedAt||C.createdAt)]})]}),v.jsx(Qe,{to:`/review/${C.id}`,state:{from:"/review/all"},className:"text-sm text-orange-600 hover:underline font-medium",children:"Grade Test →"})]})},C.id)})})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-red-700 mb-4 text-left border-b border-red-200 pb-2",children:["Assigned Tests (",M().length,")"]}),M().length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No tests have been assigned to teams."}):v.jsx("ul",{className:"space-y-3",children:M().map(C=>v.jsx("li",{className:"bg-red-50 border border-red-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-red-700 font-semibold",children:C.random?`Random Test - ${C.event}`:`${C.school} ${C.year} - ${C.event}`}),v.jsxs("p",{className:"text-xs text-red-600",children:["Assigned to ",C.assignees.length," team(s): ",C.assignees&&C.assignees.length>0?C.assignees.map(I=>I.name||I).join(", "):"No teams"]})]})},C.id))})]})]})]})},uO=()=>{const t=Pn(),[e,n]=R.useState(!0),[i,o]=R.useState(null),[a,c]=R.useState([]),[h,p]=R.useState(""),[m,y]=R.useState([]);R.useEffect(()=>{(async()=>{try{n(!0);const N=localStorage.getItem("loggedAppUser");if(N){const P=JSON.parse(N);Un.setToken(P.token),Zt.setToken(P.token)}const[A,M]=await Promise.all([Un.getOverallStatistics(),Zt.getAll()]);o(A),c(M),p(A.selectedSchoolYear||""),A.selectedSchoolYear&&T(M,A.selectedSchoolYear)}catch(N){console.error("Error loading statistics:",N)}finally{n(!1)}})()},[]);const T=(S,N)=>{const A=new Set,M=new Map;S.filter(P=>P.schoolYear===N).forEach(P=>{var D;(D=P.students)==null||D.forEach(C=>{A.has(C.id)||(A.add(C.id),M.set(C.id,{id:C.id,firstName:C.firstName,lastName:C.lastName,teams:[]})),M.get(C.id).teams.push(P.name)})}),y(Array.from(M.values()))},b=async S=>{try{n(!0);const N=localStorage.getItem("loggedAppUser");if(N){const M=JSON.parse(N);Un.setToken(M.token)}const A=await Un.getOverallStatistics(S);o(A),p(S),T(a,S)}catch(N){console.error(N.message)}finally{n(!1)}},w=S=>{t(`/statistics/${S}`,{state:{from:"/statistics"}})};return e?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[v.jsxs("div",{className:"flex items-center bg-white rounded-lg p-6 justify-between mb-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-orange-800",children:"Statistics Overview"}),i&&i.availableSchoolYears.length>0&&v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("label",{htmlFor:"schoolYear",className:"text-sm font-medium text-orange-800",children:"School Year:"}),v.jsx("select",{id:"schoolYear",value:h,onChange:S=>b(S.target.value),className:"rounded-md border border-gray-300 px-3 py-2 bg-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:i.availableSchoolYears.map(S=>v.jsx("option",{value:S,children:S},S))})]})]}),i&&i.eventStatistics.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 pb-6",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsxs("h2",{className:"text-xl font-semibold text-orange-700",children:["Performance by Event - ",h]})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-orange-200",children:[v.jsx("thead",{className:"bg-orange-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Event"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Average Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Highest Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Lowest Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Submissions"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-orange-200",children:i.eventStatistics.map((S,N)=>v.jsxs("tr",{children:[v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-orange-900",children:S.event})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[S.averagePercentage,"%"]})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[S.highestScore,"%"]})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[S.lowestScore,"%"]})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-900",children:S.totalSubmissions})})]},S.event))})]})})]}),m.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsxs("h2",{className:"text-xl font-semibold text-orange-700",children:["Students in ",h]})}),v.jsx("div",{className:"p-6",children:v.jsx("div",{className:"flex flex-wrap gap-4",children:m.map(S=>v.jsx("button",{onClick:()=>w(S.id),className:"text-left p-4 border border-orange-200 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-colors",children:v.jsxs("div",{className:"text-sm text-orange-700",children:[S.firstName," ",S.lastName]})},S.id))})})]}),i&&i.eventStatistics.length===0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[v.jsxs("p",{className:"text-orange-500",children:["No statistics available for ",h||"the selected school year","."]}),v.jsx("p",{className:"text-sm text-gray-900 mt-2",children:"Statistics are only shown for graded submissions."})]})]})},cO=({user:t})=>{const{id:e}=W0(),n=Pn(),i=Jn(),[o,a]=R.useState(!0),[c,h]=R.useState(null),[p,m]=R.useState(!1);return R.useEffect(()=>{var b;const T=((b=i.state)==null?void 0:b.from)==="/statistics";m(T)},[i]),R.useEffect(()=>{(async()=>{try{a(!0);const T=localStorage.getItem("loggedAppUser");if(T){const w=JSON.parse(T);Un.setToken(w.token)}let b=e;if(b){const w=await Un.getStudentStatistics(b);h(w)}else setError("User not found")}catch(T){console.log(T.message)}finally{a(!1)}})()},[e]),o?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):c?v.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 w-full mb-6 flex flex-row items-center justify-between",children:[v.jsx("div",{children:v.jsx("h1",{className:"text-2xl font-semibold text-orange-800",children:`Statistics for ${c.student.firstName} ${c.student.lastName}`})}),t!=null&&t.admin&&p?v.jsx("div",{children:v.jsx("button",{onClick:()=>n("/statistics"),className:"px-4 py-2 text-md text-orange-500 font-bold rounded-lg hover:text-orange-600 hover:underline transition-colors",children:"All Statistics →"})}):v.jsx("div",{children:v.jsx("button",{onClick:()=>n("/review"),className:"px-4 py-2 text-md text-orange-500 font-bold rounded-lg hover:text-orange-600 hover:underline transition-colors",children:"Review Tests →"})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Total Tests"}),v.jsx("p",{className:"text-3xl font-bold text-orange-500",children:c.totalTests})]}),c.bestPerformingEvent?v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Best Event"}),v.jsx("p",{className:"text-xl font-bold text-orange-500",children:c.bestPerformingEvent.event}),v.jsxs("p",{className:"text-sm font-semibold text-orange-700",children:[c.bestPerformingEvent.averagePercentage,"% average"]})]}):v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Best Event"}),v.jsx("p",{className:"text-xl font-bold text-orange-500",children:"No data available"})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Events Participated"}),v.jsx("p",{className:"text-3xl font-bold text-orange-500",children:c.eventStatistics.length})]})]}),c.eventStatistics.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 pb-6",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsx("h2",{className:"text-xl font-semibold text-orange-700",children:"Performance by Event"})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-orange-200",children:[v.jsx("thead",{className:"bg-orange-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Event"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Average Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Most Recent"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Highest Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Total Tests"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-orange-200",children:c.eventStatistics.map(y=>v.jsxs("tr",{children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-red-900",children:y.event})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[y.averagePercentage,"%"]})}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[v.jsxs("div",{className:"text-sm text-gray-900",children:[y.mostRecentScore,"%"]}),v.jsx("div",{className:"text-xs text-gray-500",children:y.mostRecentTest.teamName})]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[y.highestScore,"%"]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-900",children:y.totalTests})})]},y.event))})]})})]}),c.schoolYearStatistics.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsx("h2",{className:"text-xl font-semibold text-orange-700",children:"Performance by School Year"})}),v.jsx("div",{className:"p-6",children:c.schoolYearStatistics.map(y=>v.jsxs("div",{className:"mb-6 last:mb-0",children:[v.jsxs("h3",{className:"text-lg font-semibold text-orange-900 mb-3",children:[y.schoolYear," (",y.totalTests," tests)"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.events.map(T=>v.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[v.jsx("h4",{className:"font-medium text-orange-500",children:T.event}),v.jsxs("p",{className:"font-semibold text-sm text-orange-700",children:[T.averagePercentage,"% average"]}),v.jsxs("p",{className:"font-semibold text-xs text-orange-800",children:[T.tests," tests"]})]},T.event))})]},y.schoolYear))})]}),c.eventStatistics.length===0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[v.jsx("p",{className:"font-bold text-orange-500",children:"No test submissions found."}),v.jsx("p",{className:"font-semibold text-sm text-gray-400 mt-2",children:"Statistics will appear once you submit and get graded tests."})]}),(t==null?void 0:t.admin)&&v.jsx("div",{className:"fixed bottom-6 right-6",children:v.jsx("button",{onClick:()=>{n(p?"/statistics":"/review")},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg shadow-lg transition-colors",children:p?"Back to All Statistics":"Back to Reviews"})})]}):v.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:v.jsx("div",{className:"text-yellow-800",children:"No statistics found for this user."})})},dO=({idx:t,question:e,userAnswer:n,isCorrect:i,isGraded:o,onSelfGrade:a,selfGradedScore:c,selfGradedComment:h,showCanvas:p=!1,actualQuestionNumber:m,drawings:y={},event:T})=>{const b=e.type==="mcq"&&e.answer&&e.answer.includes(", "),w=e.type==="saq",S=e.type==="leq",N=D=>{if((e.question[0]||"").toLowerCase().includes("baconian")){const V=D.replace(/\s+/g,""),H=[];for(let ee=0;ee<V.length;ee+=5)H.push(V.slice(ee,ee+5));return H.map((ee,z)=>v.jsx("span",{className:"inline-block mr-4",children:ee},z))}else return D.split(/\s+/).map((V,H)=>v.jsx("span",{className:"inline-block mr-4",children:V.split("").map((ee,z)=>v.jsx("span",{className:"inline-block mr-2",children:ee},z))},H))},A=e.answer&&e.choices?b?e.answer.split(", ").map(D=>{var V;const C=D.trim(),I=C.charCodeAt(0)-65;return((V=e.choices[I])==null?void 0:V.trim())||C}):(()=>{var V;const D=e.answer.trim(),C=D.charCodeAt(0)-65,I=(V=e.choices[C])==null?void 0:V.trim();return I?[I]:[D]})():[],M=Array.isArray(n)?n.map(D=>D.toString().trim()):n?[n.toString().trim()]:[],P=D=>{const C=D.trim(),I=M.some(H=>H.trim()===C),V=A.some(H=>H.trim()===C);return V&&I?"bg-green-200 border-green-400":V?"bg-green-100 border-green-300":I?"bg-red-200 border-red-400":"bg-gray-100 border-gray-300"};return v.jsxs("div",{className:"relative padding-5",children:[v.jsxs("div",{className:"sticky top-0 bg-white z-40 flex justify-between items-center mb-2 pb-2 border-b border-orange-200",children:[v.jsxs("h4",{className:"text-lg font-semibold text-orange-700",children:["Question ",m||t+1," (",e.points," pts)"]}),e.type==="mcq"&&v.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${i?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i?"✓ Correct":"✗ Incorrect"})]}),v.jsxs("div",{className:"pt-2",children:[v.jsx("div",{className:"mb-3 text-orange-900",children:e.question.map((D,C)=>v.jsx("p",{className:C>0?"mt-8":"",style:C>0&&(e.event==="Codebusters"||T==="Codebusters")?{lineHeight:"3",letterSpacing:"0.1em",backgroundColor:"#fef3c7",padding:"8px",borderRadius:"4px"}:{},children:C>0&&(e.event==="Codebusters"||T==="Codebusters")?N(D):D},C))}),e.imageUrl&&v.jsx("img",{src:e.imageUrl,alt:"Question Visual",className:"mb-3 border rounded max-w-md"}),e.type==="mcq"&&e.choices?v.jsx("div",{className:"space-y-2 mb-3",children:e.choices.map((D,C)=>{const I=D.trim(),V=M.some(ee=>ee.trim()===I),H=A.some(ee=>ee.trim()===I);return v.jsx("div",{className:`border rounded px-4 py-2 ${P(D)}`,children:v.jsxs("div",{className:"flex justify-between items-start gap-3",children:[v.jsxs("span",{className:"font-medium flex-1",children:[String.fromCharCode(65+C),". ",D]}),v.jsxs("div",{className:"flex flex-col gap-1 items-end flex-shrink-0 min-w-0",children:[V&&v.jsx("span",{className:"text-xs font-medium text-blue-700 whitespace-nowrap",children:"Your answer"}),H&&v.jsx("span",{className:"text-xs font-medium text-green-700 whitespace-nowrap",children:"Correct answer"})]})]})},C)})}):w||S?v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Answer:"}),v.jsx("div",{className:"w-full border border-gray-300 rounded p-2 bg-gray-50 min-h-[2.5rem]",children:n||v.jsx("em",{className:"text-gray-500",children:"No answer provided"})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sample Answer:"}),v.jsx("div",{className:"w-full border border-green-300 rounded p-2 bg-green-50 min-h-[2.5rem]",children:e.answer})]}),!o&&v.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[v.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Self-Grade This Question"}),(!n||n.trim()==="")&&(!y[e.id]||y[e.id].length===0)&&c==="0"&&v.jsxs("div",{className:"mb-3 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"Auto-scored:"})," This question was automatically scored as 0 (no answer or drawing provided)."]}),(!n||n.trim()==="")&&(!y[e.id]||y[e.id].length===0)&&(!c||c==="")&&v.jsxs("div",{className:"mb-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-800",children:[v.jsx("span",{className:"font-medium",children:"Note:"})," This question has no answer or drawing and will be auto-scored as 0 when you finish grading."]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:["Your Score (out of ",e.points," points):"]}),v.jsx("input",{type:"number",min:"0",max:e.points,className:"w-20 border border-blue-300 rounded px-2 py-1",value:c||"",onChange:D=>a(e.id,"score",D.target.value),placeholder:!n||n.trim()===""?"0":""})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Comments (optional):"}),v.jsx("textarea",{rows:2,className:"w-full border border-blue-300 rounded px-2 py-1",placeholder:"Add comments about your answer...",value:h||"",onChange:D=>a(e.id,"comment",D.target.value)})]})]})]}),o&&(c!==void 0||h)&&v.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded p-3",children:[v.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Your Self-Assessment"}),v.jsxs("div",{className:"space-y-1",children:[c!==void 0&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Score:"})," ",c,"/",e.points," points"]}),h&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Comments:"})," ",h]})]})]})]}):null]})]})},fO=({user:t})=>{const{id:e}=W0(),n=Pn(),i=Jn(),[o,a]=R.useState(null),[c,h]=R.useState(null),[p,m]=R.useState({}),[y,T]=R.useState({}),[b,w]=R.useState(0),[S,N]=R.useState(!0),[A,M]=R.useState(!1),[P,D]=R.useState("all"),[C,I]=R.useState({}),[V,H]=R.useState({}),[ee,z]=R.useState(!1),[K,ne]=R.useState(""),$=R.useRef(null),we=R.useRef(null),Ce=R.useRef(null),[Ae,Z]=R.useState({width:0,height:0}),[ae,Y]=R.useState(!1);R.useEffect(()=>{var Ne;const de=((Ne=i.state)==null?void 0:Ne.from)==="/review/all";Y(de)},[i]),R.useEffect(()=>{(async()=>{var de,Ne,ue;if(e){const qe=localStorage.getItem("loggedAppUser");if(qe){const Le=JSON.parse(qe);Rt.setToken(Le.token)}try{const Le=await Rt.getById(e);a(Le),h(Le.test),m(((de=Le.answer)==null?void 0:de.answers)||{}),T(((Ne=Le.answer)==null?void 0:Ne.drawings)||{});const rt=Le.selfGradedScores||{},Oe={},Te={};if(Object.entries(rt).forEach(([ve,He])=>{He.score!==void 0&&(Oe[ve]=He.score),He.comment&&(Te[ve]=He.comment)}),I(Oe),H(Te),(ue=Le.test)!=null&&ue.questions){const ve={...Oe};let He=!1;Le.test.questions.forEach(ze=>{var ft,sn,Tt,Gt;if(ze.type==="saq"||ze.type==="leq"){const fe=((sn=(ft=Le.answer)==null?void 0:ft.answers)==null?void 0:sn[ze.id])&&Le.answer.answers[ze.id].trim()!=="",_e=((Gt=(Tt=Le.answer)==null?void 0:Tt.drawings)==null?void 0:Gt[ze.id])&&Le.answer.drawings[ze.id].length>0,De=ve[ze.id]!==void 0&&ve[ze.id]!=="";!fe&&!_e&&!De&&(ve[ze.id]="0",He=!0)}}),He&&I(ve)}}catch(Le){console.error("Error fetching submission:",Le),n("/review")}finally{N(!1)}}})()},[e,n]),R.useLayoutEffect(()=>{function me(){if($.current){const de=$.current.getBoundingClientRect();Z({width:Math.floor(de.width),height:Math.floor(de.height)})}}return me(),window.addEventListener("resize",me),()=>window.removeEventListener("resize",me)},[A,b]);const q=()=>{if(o!=null&&o.graded&&(o==null?void 0:o.totalScore)!==void 0&&(o==null?void 0:o.maxScore)!==void 0){let ue=0,qe=0;c!=null&&c.questions&&c.questions.forEach(Oe=>{if(Oe.type==="saq"||Oe.type==="leq"){qe+=Oe.points||1;const Te=C[Oe.id];Te!==void 0&&Te!==""&&(ue+=parseFloat(Te)||0)}});const Le=Math.max(0,o.totalScore-ue),rt=Math.max(0,o.maxScore-qe);return{score:Le,total:rt}}if(!(c!=null&&c.questions))return{score:0,total:0};const me=c.questions.filter(ue=>ue.type==="mcq");let de=0,Ne=0;return me.forEach(ue=>{Ne+=ue.points||1;const qe=p[ue.id],Le=ue.answer;if(!Le||!ue.choices)return;const rt=Le.includes(", "),Oe=rt?Le.split(", ").map(ve=>{var ft;const He=ve.trim(),ze=He.charCodeAt(0)-65;return((ft=ue.choices[ze])==null?void 0:ft.trim())||He}):(()=>{var ft;const ve=Le.trim(),He=ve.charCodeAt(0)-65,ze=(ft=ue.choices[He])==null?void 0:ft.trim();return ze?[ze]:[ve]})(),Te=Array.isArray(qe)?qe.map(ve=>ve.toString().trim()).sort():qe?[qe.toString().trim()]:[];rt?JSON.stringify(Oe.sort())===JSON.stringify(Te)&&(de+=ue.points||1):Te.length===1&&Te[0]===Oe[0]&&(de+=ue.points||1)}),{score:de,total:Ne}},k=()=>{if(!(c!=null&&c.questions))return{score:0,total:0};const me=q();let de=0,Ne=0;return c.questions.forEach(ue=>{if(ue.type==="saq"||ue.type==="leq"){Ne+=ue.points||1;const qe=C[ue.id];qe!==void 0&&(de+=parseFloat(qe)||0)}}),{score:me.score+de,total:me.total+Ne,mcqScore:me.score,mcqTotal:me.total,saqLeqScore:de,saqLeqTotal:Ne}},L=(me=P)=>c!=null&&c.questions?c.questions.filter(de=>{if(me==="all")return!0;if(me==="saq")return de.type==="saq";if(me==="leq")return de.type==="leq";if(me==="unanswered"){if(de.type==="mcq"){const Ne=p[de.id];return!Ne||Array.isArray(Ne)&&Ne.length===0}else if(de.type==="saq"||de.type==="leq"){const Ne=p[de.id]&&p[de.id].trim()!=="",ue=y[de.id]&&y[de.id].length>0;return!Ne&&!ue}return!1}if(me==="correct"||me==="incorrect"){if(de.type!=="mcq")return!1;const Ne=W(de);return me==="correct"?Ne:!Ne}return!0}):[],B=()=>["all","correct","incorrect","unanswered","saq","leq"].filter(de=>L(de).length>0),W=me=>{const de=p[me.id],Ne=me.answer;if(!Ne||!me.choices)return!1;const ue=Ne.includes(", "),qe=ue?Ne.split(", ").map(rt=>{var ve;const Oe=rt.trim(),Te=Oe.charCodeAt(0)-65;return((ve=me.choices[Te])==null?void 0:ve.trim())||Oe}):(()=>{var ve;const rt=Ne.trim(),Oe=rt.charCodeAt(0)-65,Te=(ve=me.choices[Oe])==null?void 0:ve.trim();return Te?[Te]:[rt]})(),Le=Array.isArray(de)?de.map(rt=>rt.toString().trim()).sort():de?[de.toString().trim()]:[];return ue?JSON.stringify(qe.sort())===JSON.stringify(Le):Le.length===1&&Le[0]===qe[0]},re=(me,de,Ne)=>{K&&ne(""),de==="score"?I(ue=>({...ue,[me]:Ne})):de==="comment"&&H(ue=>({...ue,[me]:Ne}))},he=async()=>{ne("");const me=c.questions.filter(ue=>ue.type==="saq"||ue.type==="leq"),de={...C};me.forEach(ue=>{const qe=p[ue.id]&&p[ue.id].trim()!=="",Le=y[ue.id]&&y[ue.id].length>0,rt=de[ue.id]!==void 0&&de[ue.id]!=="";!qe&&!Le&&!rt&&(de[ue.id]="0")}),I(de);const Ne=me.filter(ue=>{const qe=p[ue.id]&&p[ue.id].trim()!=="",Le=y[ue.id]&&y[ue.id].length>0,rt=de[ue.id]!==void 0&&de[ue.id]!=="";return(qe||Le)&&!rt});if(Ne.length>0){ne(`Please provide scores for all answered SAQ/LEQ questions. Missing scores for ${Ne.length} question(s).`);return}z(!0);try{const ue={},qe=de;let Le=0,rt=0;c.questions.forEach(ze=>{if(ze.type==="saq"||ze.type==="leq"){rt+=ze.points||1;const ft=qe[ze.id];ft!==void 0&&ft!==""&&(Le+=parseFloat(ft)||0,ue[ze.id]={score:parseFloat(ft)||0,comment:V[ze.id]||""})}});const Oe=q(),Te=Oe.score+Le,ve=Oe.total+rt;await Rt.update(e,{selfGradedScores:ue,totalScore:Te,maxScore:ve,graded:!0});const He=await Rt.getById(e);a(He)}catch(ue){console.error("Error submitting grades:",ue),ne("Failed to submit grades. Please try again.")}finally{z(!1)}},oe=me=>{M(!1),w(me),$.current&&$.current.scrollTo({top:0,behavior:"smooth"}),we.current&&we.current.scrollIntoView({behavior:"smooth",block:"center"})};R.useEffect(()=>{M(!1)},[P]),R.useEffect(()=>{!S&&o&&c&&we.current&&setTimeout(()=>{we.current.scrollIntoView({behavior:"smooth",block:"center"})},300)},[S,o,c]);const Ue=()=>{var de;const me=(de=Ee[b])==null?void 0:de.id;A?M(!1):(M(!0),setTimeout(()=>{if(Ce.current&&me){const Ne=y[me];Ne&&Ne.length>0?Ce.current.loadPaths(Ne):Ce.current.clearCanvas()}},100))};if(S)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(!o||!c)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Submission not found"}),v.jsx("button",{onClick:()=>n("/review"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Back to Reviews"})]})});if(!c.questions||c.questions.length===0)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"No questions found for this test"}),v.jsx("p",{className:"text-gray-600 mt-2",children:"The test data may be incomplete."}),v.jsx("button",{onClick:()=>n("/review"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Back to Reviews"})]})});const Ee=L(),et=B(),it=Ee[b],kt=k(),Ut=q();return it?v.jsx("div",{ref:we,className:"w-full min-h-screen bg-transparent py-4 px-4",children:v.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow-md py-4 px-6 space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("h2",{className:"text-2xl font-bold text-orange-800",children:[c.random?"Random Test":`${c.school} ${c.year}`," — ",c.event," Review"]}),v.jsx("div",{className:"text-right",children:o.graded?v.jsxs("div",{className:"text-orange-600 font-semibold",children:[v.jsxs("div",{children:["Total Score: ",kt.score,"/",kt.total," (",(kt.score/kt.total*100).toFixed(1),"%)"]}),v.jsxs("div",{className:"text-sm",children:["MCQ: ",Ut.score,"/",Ut.total," • FRQ: ",kt.saqLeqScore,"/",kt.saqLeqTotal]})]}):v.jsxs("div",{className:"text-orange-600 font-semibold",children:[v.jsxs("div",{children:["MCQ Score: ",Ut.score,"/",Ut.total]}),v.jsx("div",{className:"text-sm text-orange-500",children:"Complete self-grading to see total score"})]})})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),et.map(me=>v.jsx("button",{onClick:()=>{D(me),w(0),M(!1)},className:`px-3 py-1 rounded text-sm ${P===me?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:me==="saq"?"Short Answer":me==="leq"?"Long Answer":me==="mcq"?"Multiple Choice":me.charAt(0).toUpperCase()+me.slice(1)},me))]}),K&&v.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:v.jsx("div",{className:"flex items-center",children:v.jsxs("div",{className:"text-red-800",children:[v.jsx("p",{className:"font-medium",children:"Error"}),v.jsx("p",{className:"text-sm",children:K})]})})}),!o.graded&&v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-blue-800",children:"Self-Grading Required"}),v.jsx("p",{className:"text-sm text-blue-600",children:"Grade your free response questions to complete your review."})]}),v.jsx("button",{onClick:he,disabled:ee,className:`px-4 py-2 rounded font-medium ${ee?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:ee?"Submitting...":"Finish Grading"})]})}),v.jsxs("div",{className:`flex space-x-4 ${o.graded?"h-[500px]":"h-[400px]"}`,children:[v.jsxs("div",{className:"w-64 h-full overflow-y-auto pr-2 scrollbar-hide bg-gray-100 rounded-lg",children:[v.jsx("div",{className:"sticky top-0 bg-gray-100 z-10 pb-2 pt-3",children:v.jsx("h3",{className:"text-lg font-semibold text-orange-700 text-center",children:"Questions"})}),v.jsx(IT,{questions:Ee,currentIdx:b,setCurrentIdx:oe,bookmarked:[],answers:p,drawings:y})]}),v.jsxs("div",{ref:$,className:"flex-1 relative h-full overflow-auto pr-2 scrollbar-hide",children:[v.jsx(dO,{idx:c.questions.findIndex(me=>me.id===it.id),question:it,userAnswer:p[it.id],isCorrect:it.type==="mcq"?W(it):null,isGraded:o.graded,onSelfGrade:re,selfGradedScore:C[it.id],selfGradedComment:V[it.id],showCanvas:A,actualQuestionNumber:c.questions.findIndex(me=>me.id===it.id)+1,drawings:y,event:c.event}),A&&v.jsx("div",{className:"absolute top-0 left-0 bg-transparent z-20 pointer-events-none",style:{width:Ae.width,height:Ae.height},children:v.jsx(UT,{ref:Ce,width:Ae.width,height:Ae.height,strokeWidth:"2",strokeColor:"#000",canvasColor:"transparent",className:"touch-none select-none",style:{border:"none",outline:"none"},readOnly:!0})})]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("div",{className:"flex gap-2 items-center min-w-[120px]",children:Ee[b]&&y[Ee[b].id]&&y[Ee[b].id].length>0&&v.jsx("button",{onClick:Ue,className:`rounded shadow text-white ${A?"px-3 py-1 bg-gray-500 hover:bg-gray-600":"px-4 py-2 bg-amber-600 hover:bg-amber-700"}`,children:A?"Hide Drawing":"Show Drawing"})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{disabled:b===0,onClick:()=>oe(b-1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Previous"}),v.jsx("button",{disabled:b===Ee.length-1,onClick:()=>oe(b+1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Next"}),v.jsx("button",{onClick:()=>{t&&t.admin&&ae?n("/review/all"):n("/review")},className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded shadow transition",children:t&&t.admin&&ae?"Back to All Reviews":"Back to Reviews"})]})]})]})}):v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"No questions match the current filter"}),v.jsx("button",{onClick:()=>D("all"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Show All Questions"})]})})},hO=t=>{const[e,n]=R.useState(""),i=Pn(),a=new URLSearchParams(window.location.search).get("token");if(!a)return;const c=h=>{h.preventDefault(),t.handleEmailReset(a,e)&&(n(""),i("/signin"))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[v.jsx("div",{children:v.jsx("p",{className:"text-xl font-semibold text-orange-800 text-center",children:"Reset Your Password"})}),v.jsx("div",{children:v.jsxs("form",{onSubmit:c,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),v.jsx("input",{type:"password",value:e,onChange:({target:h})=>n(h.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})})]})},ao="/api/users";let LT=null;const mO=t=>{LT=`Bearer ${t}`},pO=async()=>(await Se.get(ao)).data,gO=async t=>(await Se.post(ao,t)).data,yO=async t=>{const e=`${ao}/reset/${t.id}`;return(await Se.put(e,{password:t.password},{headers:{Authorization:LT}})).data},vO=async t=>{const e=`${ao}/forgot`;return(await Se.post(e,{email:t})).data},xO=async(t,e)=>{const n=`${ao}/reset`;return(await Se.post(n,{token:t,password:e})).data},TO=async t=>{const e=`${ao}/verify?token=${t}`;return(await Se.get(e)).data},si={setToken:mO,getAll:pO,createUser:gO,resetPass:yO,forgot:vO,resetEmailPass:xO,verify:TO},bO=t=>{const e=Pn();R.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("token");i?(async()=>{try{await si.verify(i),t.setNotif("Email verified successfully!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch(a){a.response.data.error&&a.response.data.error==="Invalid or expired token"&&(t.setError("Invalid or expired verification token"),setTimeout(()=>{t.setError(null)},5e3))}})():(t.setError("No token provided"),setTimeout(()=>{t.setError(null)},5e3)),e("/")},[])},_O=()=>v.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-[60vh] bg-white max-w-md mx-auto p-8 shadow-lg rounded-lg",children:[v.jsx("h1",{className:"text-6xl font-bold text-orange-600 mb-4",children:"404"}),v.jsx("h2",{className:"text-2xl font-semibold mb-2 text-orange-800",children:"Page Not Found"}),v.jsx("p",{className:"text-orange-700 mb-6",children:"Sorry, the page you are looking for does not exist."}),v.jsx(Qe,{to:"/",className:"px-6 py-2 bg-orange-200 text-orange-800 rounded hover:bg-orange-300 transition",children:"Go Home"})]}),SO="/api/login",wO=async t=>(await Se.post(SO,t)).data,CO={login:wO};function EO(){var H,ee,z,K;const[t,e]=R.useState(null),[n,i]=R.useState(null),[o,a]=R.useState(null),[c,h]=R.useState([]),[p,m]=R.useState([]),[y,T]=R.useState([]),[b,w]=R.useState([]),[S,N]=R.useState([]),A=Pn();R.useEffect(()=>{const ne=localStorage.getItem("loggedAppUser");if(ne){const $=JSON.parse(ne);e($),si.setToken($.token),is.setToken($.token),fn.setToken($.token),Br.setToken($.token),Zt.setToken($.token),zt.setToken($.token),Rt.setToken($.token),Un.setToken($.token)}},[]),R.useEffect(()=>{(async()=>{try{const $=await is.getAll();$&&h($)}catch($){console.error("Failed to fetch events:",$)}})()},[]),R.useEffect(()=>{const ne=async()=>{try{const $=await fn.getAll();$&&m($)}catch($){console.error("Failed to fetch tests:",$)}};t&&p.length===0&&ne()},[t]),R.useEffect(()=>{t&&(async()=>{try{const $=await si.getAll();$&&T($)}catch($){console.error("Failed to fetch users:",$)}})()},[t,S]),R.useEffect(()=>{const ne=async()=>{try{const $=await Br.getAll();$&&w($)}catch($){console.error("Failed to fetch questions:",$)}};t&&b.length===0&&ne()},[t]),R.useEffect(()=>{const ne=async()=>{try{const $=await Zt.getAll();$&&N($)}catch($){console.error("Failed to fetch teams:",$)}};t&&S.length===0&&ne()},[t]);const M=async ne=>{try{const $=await si.createUser(ne);return window.localStorage.setItem("loggedAppUser",JSON.stringify($)),e($),si.setToken($.token),is.setToken($.token),fn.setToken($.token),Br.setToken($.token),Zt.setToken($.token),zt.setToken($.token),Rt.setToken($.token),Un.setToken($.token),A("/"),console.log("Sign Up"),a("signed up successfully, please check your email to verify your email"),setTimeout(()=>{a(null)},5e3),!0}catch($){$.response.data.error?$.response.data.error==="Invalid admin key"?i("Invalid admin key!"):$.response.data.error==="Path `password` is required"?i("Password is required!"):$.response.data.error.includes("Path `email` is required")?i("Email is required!"):$.response.data.error.includes("Path `firstName` is required")?i("First name is required!"):$.response.data.error.includes("Path `lastName` is required")?i("Last name is required!"):$.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):$.response.data.error==="expected `email` to be unique"?i("Email already taken"):$.response.data.error==="expected `name` to be unique"?i("Name already taken. Please add your middle name/initial to your first name"):console.log($.response.data.error):console.log($.message),setTimeout(()=>{i(null)},5e3)}},P=()=>{window.localStorage.removeItem("loggedAppUser"),e(null),si.setToken(""),is.setToken(""),fn.setToken(""),Br.setToken(""),Zt.setToken(""),zt.setToken(""),Rt.setToken(""),Un.setToken(""),A("/signin"),a("Logged out successfully"),setTimeout(()=>{a(null)},5e3)},D=async ne=>{try{const $=await CO.login(ne);return window.localStorage.setItem("loggedAppUser",JSON.stringify($)),e($),si.setToken($.token),is.setToken($.token),fn.setToken($.token),Br.setToken($.token),Zt.setToken($.token),zt.setToken($.token),Rt.setToken($.token),Un.setToken($.token),console.log("Sign In"),A("/"),a("Logged in successfully"),setTimeout(()=>{a(null)},5e3),!0}catch($){$.status===401?(i("Invalid username or password"),setTimeout(()=>{i(null)},5e3)):$.status===403&&(i("Cannot sign in. Please verify your account first!"),setTimeout(()=>{i(null)},5e3))}},C=async ne=>{try{await si.resetPass({id:t.id,password:ne}),a("Reset password successfully"),setTimeout(()=>{a(null)},5e3)}catch($){$.response.data.error?$.response.data.error==="Path `password` is required"?i("Password is required!"):$.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):$.status===403?i("Unauthorized!"):console.log($.response.data.error):console.log($),setTimeout(()=>{i(null)},5e3)}},I=async ne=>{try{return await si.forgot(ne),a("Check your email for the reset link!"),setTimeout(()=>{a(null)},5e3),!0}catch($){$.status===404?(i("Email not found"),setTimeout(()=>{i(null)},5e3)):console.log($)}},V=async(ne,$)=>{try{await si.resetEmailPass(ne,$),a("Password reset successfully"),setTimeout(()=>{a(null)},5e3)}catch(we){we.response.data.error?we.response.data.error==="Path `password` is required"?i("Password is required!"):we.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):we.response.data.error==="Invalid or expired token"?i("Invalid or expired token!"):console.log(we.response.data.error):console.log(we.message),setTimeout(()=>{i(null)},5e3)}};return v.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-repeat-y bg-[url('/radiant-combined.svg')] bg-[length:100%]",children:[v.jsx("nav",{className:"bg-white shadow-md",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between h-16 items-center",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx(Qe,{to:"/",className:"flex items-center space-x-2 flex-shrink-0",children:v.jsx("img",{src:"/lville.png",alt:"Logo",className:"h-8 transition-transform duration-200 hover:scale-110"})}),v.jsx(Qe,{to:"/",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Home"}),v.jsx(Qe,{to:"/events",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Events"}),t&&t.admin&&v.jsxs("div",{className:"relative inline-block text-left group",children:[v.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Tests"}),v.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:v.jsxs("ul",{className:"py-1",children:[v.jsx("li",{children:v.jsx(Qe,{to:"/tests",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Test Bank"})}),v.jsx("li",{children:v.jsx(Qe,{to:"/tests/create",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Test"})}),v.jsx("li",{children:v.jsx(Qe,{to:"/tests/random",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Random Test"})})]})})]}),t&&v.jsxs("div",{className:"relative inline-block text-left group z-2",children:[v.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Meetings"}),v.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:v.jsxs("ul",{className:"py-1",children:[v.jsx("li",{children:v.jsx(Qe,{to:"/lineup",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Lineup"})}),((ee=(H=y.find(ne=>ne.id===t.id))==null?void 0:H.teams)==null?void 0:ee.length)>0&&v.jsx("li",{children:v.jsx(Qe,{to:"/assigned",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Assigned Tests"})}),((K=(z=y.find(ne=>ne.id===t.id))==null?void 0:z.teams)==null?void 0:K.length)>0&&v.jsx("li",{children:v.jsx(Qe,{to:"/review",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Review Tests"})}),v.jsx("li",{children:v.jsx(Qe,{to:`/statistics/${t.id}`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"My Statistics"})})]})})]}),t&&t.admin&&v.jsxs("div",{className:"relative inline-block text-left group",children:[v.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Results"}),v.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:v.jsxs("ul",{className:"py-1",children:[v.jsx("li",{children:v.jsx(Qe,{to:"/statistics",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Statistics"})}),v.jsx("li",{children:v.jsx(Qe,{to:"/review/all",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"All Submissions"})})]})})]})]}),v.jsx("div",{className:"flex space-x-4",children:t?v.jsxs(v.Fragment,{children:[v.jsx(Qe,{to:"/settings",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Settings"}),v.jsx("button",{onClick:P,className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-red-600 hover:text-white transition",children:"Logout"})]}):v.jsxs(v.Fragment,{children:[v.jsx(Qe,{to:"/signin",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign In"}),v.jsx(Qe,{to:"/signup",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign Up"})]})})]})})}),v.jsx("div",{className:"flex-grow pt-6 pb-24",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n&&v.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[v.jsx("strong",{className:"font-bold",children:"Error: "}),v.jsx("span",{className:"block sm:inline",children:n})]}),o&&v.jsxs("div",{className:"mb-4 rounded-md bg-green-100 border border-green-500 text-green-800 px-4 py-3 shadow-md",role:"alert",children:[v.jsx("strong",{className:"font-bold",children:"Notice: "}),v.jsx("span",{className:"block sm:inline",children:o})]}),v.jsxs(KS,{children:[v.jsx(St,{path:"/",element:v.jsx(Rw,{user:t})}),v.jsx(St,{path:"/signin",element:v.jsx(kw,{handleSignIn:D,setError:i})}),v.jsx(St,{path:"/signup",element:v.jsx(Mw,{handleSignUp:M,setError:i})}),v.jsx(St,{path:"/events",element:v.jsx(mE,{user:t,events:c,setEvents:h})}),v.jsx(St,{path:"/settings",element:v.jsx(tO,{handleReset:C,user:t,handleLogout:P})}),v.jsx(St,{path:"/forgot",element:v.jsx(pE,{handleForgot:I})}),v.jsx(St,{path:"/reset",element:v.jsx(hO,{handleEmailReset:V})}),v.jsx(St,{path:"/verify",element:v.jsx(bO,{setError:i,setNotif:a})}),v.jsx(St,{path:"/tests",element:v.jsx(SL,{tests:p,events:c,user:t,teams:S,setTests:m})}),v.jsx(St,{path:"/tests/create",element:v.jsx(_L,{setNotif:a,events:c,tests:p,setTests:m,setError:i,user:t})}),v.jsx(St,{path:"/tests/random",element:v.jsx(CL,{tests:p,questions:b,user:t,events:c,setError:i,setNotif:a,teams:S,setTests:m})}),v.jsx(St,{path:"/tests/:id",element:v.jsx(wL,{tests:p,user:t,teams:S,setError:i,setNotif:a,setTests:m})}),v.jsx(St,{path:"/lineup",element:v.jsx(DL,{setTeams:N,events:c,users:y,teams:S,user:t})}),v.jsx(St,{path:"/assigned",element:v.jsx(HL,{tests:p,user:t,users:y,teams:S})}),v.jsx(St,{path:"/assigned/:id",element:v.jsx(eO,{tests:p,user:t,users:y,teams:S,setNotif:a,setError:i,setTests:m})}),v.jsx(St,{path:"/review",element:v.jsx(oO,{user:t,users:y,teams:S})}),v.jsx(St,{path:"/review/all",element:v.jsx(aO,{user:t})}),v.jsx(St,{path:"/review/:id",element:v.jsx(fO,{user:t})}),v.jsx(St,{path:"/statistics",element:t&&t.admin?v.jsx(uO,{}):v.jsx(JS,{to:"/",replace:!0})}),v.jsx(St,{path:"/statistics/:id",element:v.jsx(cO,{user:t})}),v.jsx(St,{path:"*",element:v.jsx(_O,{})})]})]})}),v.jsxs("footer",{className:"bg-orange-100 text-orange-700 py-6 text-center text-sm",children:["© ",new Date().getFullYear()," Libertyville High School Science Olympiad"]})]})}sS.createRoot(document.getElementById("root")).render(v.jsx(xw,{children:v.jsx(EO,{})}));
