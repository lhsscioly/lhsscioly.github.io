(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function J_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Y_(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}),n}var Kd={exports:{}},ea={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function K_(){if(oy)return ea;oy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,a){var c=null;if(a!==void 0&&(c=""+a),o.key!==void 0&&(c=""+o.key),"key"in o){a={};for(var h in o)h!=="key"&&(a[h]=o[h])}else a=o;return o=a.ref,{$$typeof:t,type:i,key:c,ref:o!==void 0?o:null,props:a}}return ea.Fragment=e,ea.jsx=n,ea.jsxs=n,ea}var ay;function Q_(){return ay||(ay=1,Kd.exports=K_()),Kd.exports}var v=Q_(),Qd={exports:{}},ta={},Zd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function Z_(){return ly||(ly=1,function(t){function e(Z,ae){var Y=Z.length;Z.push(ae);e:for(;0<Y;){var q=Y-1>>>1,k=Z[q];if(0<o(k,ae))Z[q]=ae,Z[Y]=k,Y=q;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ae=Z[0],Y=Z.pop();if(Y!==ae){Z[0]=Y;e:for(var q=0,k=Z.length,L=k>>>1;q<L;){var B=2*(q+1)-1,W=Z[B],re=B+1,he=Z[re];if(0>o(W,Y))re<k&&0>o(he,W)?(Z[q]=he,Z[re]=Y,q=re):(Z[q]=W,Z[B]=Y,q=B);else if(re<k&&0>o(he,Y))Z[q]=he,Z[re]=Y,q=re;else break e}}return ae}function o(Z,ae){var Y=Z.sortIndex-ae.sortIndex;return Y!==0?Y:Z.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,T=null,b=3,w=!1,S=!1,N=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function C(Z){for(var ae=n(m);ae!==null;){if(ae.callback===null)i(m);else if(ae.startTime<=Z)i(m),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(m)}}function I(Z){if(N=!1,C(Z),!S)if(n(p)!==null)S=!0,V||(V=!0,$());else{var ae=n(m);ae!==null&&Ne(I,ae.startTime-Z)}}var V=!1,H=-1,ee=5,z=-1;function K(){return A?!0:!(t.unstable_now()-z<ee)}function ne(){if(A=!1,V){var Z=t.unstable_now();z=Z;var ae=!0;try{e:{S=!1,N&&(N=!1,P(H),H=-1),w=!0;var Y=b;try{t:{for(C(Z),T=n(p);T!==null&&!(T.expirationTime>Z&&K());){var q=T.callback;if(typeof q=="function"){T.callback=null,b=T.priorityLevel;var k=q(T.expirationTime<=Z);if(Z=t.unstable_now(),typeof k=="function"){T.callback=k,C(Z),ae=!0;break t}T===n(p)&&i(p),C(Z)}else i(p);T=n(p)}if(T!==null)ae=!0;else{var L=n(m);L!==null&&Ne(I,L.startTime-Z),ae=!1}}break e}finally{T=null,b=Y,w=!1}ae=void 0}}finally{ae?$():V=!1}}}var $;if(typeof D=="function")$=function(){D(ne)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Ee=Ce.port2;Ce.port1.onmessage=ne,$=function(){Ee.postMessage(null)}}else $=function(){M(ne,0)};function Ne(Z,ae){H=M(function(){Z(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var Y=b;b=ae;try{return Z()}finally{b=Y}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Y=b;b=Z;try{return ae()}finally{b=Y}},t.unstable_scheduleCallback=function(Z,ae,Y){var q=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?q+Y:q):Y=q,Z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Y+k,Z={id:y++,callback:ae,priorityLevel:Z,startTime:Y,expirationTime:k,sortIndex:-1},Y>q?(Z.sortIndex=Y,e(m,Z),n(p)===null&&Z===n(m)&&(N?(P(H),H=-1):N=!0,Ne(I,Y-q))):(Z.sortIndex=k,e(p,Z),S||w||(S=!0,V||(V=!0,$()))),Z},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(Z){var ae=b;return function(){var Y=b;b=ae;try{return Z.apply(this,arguments)}finally{b=Y}}}}(Xd)),Xd}var uy;function X_(){return uy||(uy=1,Zd.exports=Z_()),Zd.exports}var Wd={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function W_(){if(cy)return $e;cy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function A(k,L,B){this.props=k,this.context=L,this.refs=N,this.updater=B||w}A.prototype.isReactComponent={},A.prototype.setState=function(k,L){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,L,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function M(){}M.prototype=A.prototype;function P(k,L,B){this.props=k,this.context=L,this.refs=N,this.updater=B||w}var D=P.prototype=new M;D.constructor=P,S(D,A.prototype),D.isPureReactComponent=!0;var C=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function H(k,L,B,W,re,he){return B=he.ref,{$$typeof:t,type:k,key:L,ref:B!==void 0?B:null,props:he}}function ee(k,L){return H(k.type,L,void 0,void 0,void 0,k.props)}function z(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function K(k){var L={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(B){return L[B]})}var ne=/\/+/g;function $(k,L){return typeof k=="object"&&k!==null&&k.key!=null?K(""+k.key):L.toString(36)}function Ce(){}function Ee(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Ce,Ce):(k.status="pending",k.then(function(L){k.status==="pending"&&(k.status="fulfilled",k.value=L)},function(L){k.status==="pending"&&(k.status="rejected",k.reason=L)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ne(k,L,B,W,re){var he=typeof k;(he==="undefined"||he==="boolean")&&(k=null);var oe=!1;if(k===null)oe=!0;else switch(he){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(k.$$typeof){case t:case e:oe=!0;break;case y:return oe=k._init,Ne(oe(k._payload),L,B,W,re)}}if(oe)return re=re(k),oe=W===""?"."+$(k,0):W,C(re)?(B="",oe!=null&&(B=oe.replace(ne,"$&/")+"/"),Ne(re,L,B,"",function(et){return et})):re!=null&&(z(re)&&(re=ee(re,B+(re.key==null||k&&k.key===re.key?"":(""+re.key).replace(ne,"$&/")+"/")+oe)),L.push(re)),1;oe=0;var Ue=W===""?".":W+":";if(C(k))for(var Ae=0;Ae<k.length;Ae++)W=k[Ae],he=Ue+$(W,Ae),oe+=Ne(W,L,B,he,re);else if(Ae=b(k),typeof Ae=="function")for(k=Ae.call(k),Ae=0;!(W=k.next()).done;)W=W.value,he=Ue+$(W,Ae++),oe+=Ne(W,L,B,he,re);else if(he==="object"){if(typeof k.then=="function")return Ne(Ee(k),L,B,W,re);throw L=String(k),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return oe}function Z(k,L,B){if(k==null)return k;var W=[],re=0;return Ne(k,W,"","",function(he){return L.call(B,he,re++)}),W}function ae(k){if(k._status===-1){var L=k._result;L=L(),L.then(function(B){(k._status===0||k._status===-1)&&(k._status=1,k._result=B)},function(B){(k._status===0||k._status===-1)&&(k._status=2,k._result=B)}),k._status===-1&&(k._status=0,k._result=L)}if(k._status===1)return k._result.default;throw k._result}var Y=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function q(){}return $e.Children={map:Z,forEach:function(k,L,B){Z(k,function(){L.apply(this,arguments)},B)},count:function(k){var L=0;return Z(k,function(){L++}),L},toArray:function(k){return Z(k,function(L){return L})||[]},only:function(k){if(!z(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},$e.Component=A,$e.Fragment=n,$e.Profiler=o,$e.PureComponent=P,$e.StrictMode=i,$e.Suspense=p,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,$e.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},$e.cache=function(k){return function(){return k.apply(null,arguments)}},$e.cloneElement=function(k,L,B){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var W=S({},k.props),re=k.key,he=void 0;if(L!=null)for(oe in L.ref!==void 0&&(he=void 0),L.key!==void 0&&(re=""+L.key),L)!V.call(L,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&L.ref===void 0||(W[oe]=L[oe]);var oe=arguments.length-2;if(oe===1)W.children=B;else if(1<oe){for(var Ue=Array(oe),Ae=0;Ae<oe;Ae++)Ue[Ae]=arguments[Ae+2];W.children=Ue}return H(k.type,re,void 0,void 0,he,W)},$e.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},$e.createElement=function(k,L,B){var W,re={},he=null;if(L!=null)for(W in L.key!==void 0&&(he=""+L.key),L)V.call(L,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(re[W]=L[W]);var oe=arguments.length-2;if(oe===1)re.children=B;else if(1<oe){for(var Ue=Array(oe),Ae=0;Ae<oe;Ae++)Ue[Ae]=arguments[Ae+2];re.children=Ue}if(k&&k.defaultProps)for(W in oe=k.defaultProps,oe)re[W]===void 0&&(re[W]=oe[W]);return H(k,he,void 0,void 0,null,re)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(k){return{$$typeof:h,render:k}},$e.isValidElement=z,$e.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:ae}},$e.memo=function(k,L){return{$$typeof:m,type:k,compare:L===void 0?null:L}},$e.startTransition=function(k){var L=I.T,B={};I.T=B;try{var W=k(),re=I.S;re!==null&&re(B,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(q,Y)}catch(he){Y(he)}finally{I.T=L}},$e.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},$e.use=function(k){return I.H.use(k)},$e.useActionState=function(k,L,B){return I.H.useActionState(k,L,B)},$e.useCallback=function(k,L){return I.H.useCallback(k,L)},$e.useContext=function(k){return I.H.useContext(k)},$e.useDebugValue=function(){},$e.useDeferredValue=function(k,L){return I.H.useDeferredValue(k,L)},$e.useEffect=function(k,L,B){var W=I.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(k,L)},$e.useId=function(){return I.H.useId()},$e.useImperativeHandle=function(k,L,B){return I.H.useImperativeHandle(k,L,B)},$e.useInsertionEffect=function(k,L){return I.H.useInsertionEffect(k,L)},$e.useLayoutEffect=function(k,L){return I.H.useLayoutEffect(k,L)},$e.useMemo=function(k,L){return I.H.useMemo(k,L)},$e.useOptimistic=function(k,L){return I.H.useOptimistic(k,L)},$e.useReducer=function(k,L,B){return I.H.useReducer(k,L,B)},$e.useRef=function(k){return I.H.useRef(k)},$e.useState=function(k){return I.H.useState(k)},$e.useSyncExternalStore=function(k,L,B){return I.H.useSyncExternalStore(k,L,B)},$e.useTransition=function(){return I.H.useTransition()},$e.version="19.1.0",$e}var dy;function Qf(){return dy||(dy=1,Wd.exports=W_()),Wd.exports}var ef={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function eS(){if(fy)return Ht;fy=1;var t=Qf();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(p,m,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ht.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(p,m,null,y)},Ht.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},Ht.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Ht.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Ht.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:w}):y==="script"&&i.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ht.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Ht.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ht.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Ht.requestFormReset=function(p){i.d.r(p)},Ht.unstable_batchedUpdates=function(p,m){return p(m)},Ht.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},Ht.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ht.version="19.1.0",Ht}var hy;function tS(){if(hy)return ef.exports;hy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ef.exports=eS(),ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function nS(){if(my)return ta;my=1;var t=X_(),e=Qf(),n=tS();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=a(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,f=r;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return h(g),s;if(x===f)return h(g),r;x=x.sibling}throw Error(i(188))}if(l.return!==f.return)l=g,f=x;else{for(var _=!1,E=g.child;E;){if(E===l){_=!0,l=g,f=x;break}if(E===f){_=!0,f=g,l=x;break}E=E.sibling}if(!_){for(E=x.child;E;){if(E===l){_=!0,l=x,f=g;break}if(E===f){_=!0,f=x,l=g;break}E=E.sibling}if(!_)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function m(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=m(s),r!==null)return r;s=s.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var Ce=Symbol.for("react.client.reference");function Ee(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Ce?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case A:return"Profiler";case N:return"StrictMode";case I:return"Suspense";case V:return"SuspenseList";case z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case D:return(s.displayName||"Context")+".Provider";case P:return(s._context.displayName||"Context")+".Consumer";case C:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return r=s.displayName||null,r!==null?r:Ee(s.type)||"Memo";case ee:r=s._payload,s=s._init;try{return Ee(s(r))}catch{}}return null}var Ne=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},q=[],k=-1;function L(s){return{current:s}}function B(s){0>k||(s.current=q[k],q[k]=null,k--)}function W(s,r){k++,q[k]=s.current,s.current=r}var re=L(null),he=L(null),oe=L(null),Ue=L(null);function Ae(s,r){switch(W(oe,r),W(he,s),W(re,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Ig(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Ig(r),s=Pg(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}B(re),W(re,s)}function et(){B(re),B(he),B(oe)}function it(s){s.memoizedState!==null&&W(Ue,s);var r=re.current,l=Pg(r,s.type);r!==l&&(W(he,s),W(re,l))}function Rt(s){he.current===s&&(B(re),B(he)),Ue.current===s&&(B(Ue),Ko._currentValue=Y)}var Dt=Object.prototype.hasOwnProperty,me=t.unstable_scheduleCallback,fe=t.unstable_cancelCallback,Re=t.unstable_shouldYield,ue=t.unstable_requestPaint,qe=t.unstable_now,Le=t.unstable_getCurrentPriorityLevel,rt=t.unstable_ImmediatePriority,Oe=t.unstable_UserBlockingPriority,be=t.unstable_NormalPriority,Se=t.unstable_LowPriority,He=t.unstable_IdlePriority,Je=t.log,ce=t.unstable_setDisableYieldValue,pe=null,xe=null;function Ve(s){if(typeof Je=="function"&&ce(s),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(pe,s)}catch{}}var pt=Math.clz32?Math.clz32:Da,no=Math.log,Ls=Math.LN2;function Da(s){return s>>>=0,s===0?32:31-(no(s)/Ls|0)|0}var Zt=256,bn=4194304;function Xt(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function hn(s,r,l){var f=s.pendingLanes;if(f===0)return 0;var g=0,x=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var E=f&134217727;return E!==0?(f=E&~x,f!==0?g=Xt(f):(_&=E,_!==0?g=Xt(_):l||(l=E&~s,l!==0&&(g=Xt(l))))):(E=f&~x,E!==0?g=Xt(E):_!==0?g=Xt(_):l||(l=f&~s,l!==0&&(g=Xt(l)))),g===0?0:r!==0&&r!==g&&(r&x)===0&&(x=g&-g,l=r&-r,x>=l||x===32&&(l&4194048)!==0)?r:g}function tn(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ci(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function is(){var s=Zt;return Zt<<=1,(Zt&4194048)===0&&(Zt=256),s}function nn(){var s=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),s}function Ft(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function ni(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Bu(s,r,l,f,g,x){var _=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var E=s.entanglements,U=s.expirationTimes,G=s.hiddenUpdates;for(l=_&~l;0<l;){var te=31-pt(l),se=1<<te;E[te]=0,U[te]=-1;var J=G[te];if(J!==null)for(G[te]=null,te=0;te<J.length;te++){var Q=J[te];Q!==null&&(Q.lane&=-536870913)}l&=~se}f!==0&&Os(s,f,0),x!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=x&~(_&~r))}function Os(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var f=31-pt(r);s.entangledLanes|=r,s.entanglements[f]=s.entanglements[f]|1073741824|l&4194090}function io(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var f=31-pt(l),g=1<<f;g&r|s[f]&r&&(s[f]|=r),l&=~g}}function so(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ju(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function bh(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:ey(s.type))}function LT(s,r){var l=ae.p;try{return ae.p=s,r()}finally{ae.p=l}}var Ei=Math.random().toString(36).slice(2),zt="__reactFiber$"+Ei,sn="__reactProps$"+Ei,qs="__reactContainer$"+Ei,Vu="__reactEvents$"+Ei,OT="__reactListeners$"+Ei,qT="__reactHandles$"+Ei,_h="__reactResources$"+Ei,ro="__reactMarker$"+Ei;function $u(s){delete s[zt],delete s[sn],delete s[Vu],delete s[OT],delete s[qT]}function Bs(s){var r=s[zt];if(r)return r;for(var l=s.parentNode;l;){if(r=l[qs]||l[zt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=Bg(s);s!==null;){if(l=s[zt])return l;s=Bg(s)}return r}s=l,l=s.parentNode}return null}function js(s){if(s=s[zt]||s[qs]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function oo(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Vs(s){var r=s[_h];return r||(r=s[_h]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ut(s){s[ro]=!0}var Sh=new Set,wh={};function ss(s,r){$s(s,r),$s(s+"Capture",r)}function $s(s,r){for(wh[s]=r,s=0;s<r.length;s++)Sh.add(r[s])}var BT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ch={},Eh={};function jT(s){return Dt.call(Eh,s)?!0:Dt.call(Ch,s)?!1:BT.test(s)?Eh[s]=!0:(Ch[s]=!0,!1)}function Ua(s,r,l){if(jT(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Ia(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function ii(s,r,l,f){if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+f)}}var Fu,Ah;function Fs(s){if(Fu===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Fu=r&&r[1]||"",Ah=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fu+s+Ah}var zu=!1;function Gu(s,r){if(!s||zu)return"";zu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Q){var J=Q}Reflect.construct(s,[],se)}else{try{se.call()}catch(Q){J=Q}s.call(se.prototype)}}else{try{throw Error()}catch(Q){J=Q}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Q){if(Q&&J&&typeof Q.stack=="string")return[Q.stack,J.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),_=x[0],E=x[1];if(_&&E){var U=_.split(`
`),G=E.split(`
`);for(g=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(f===U.length||g===G.length)for(f=U.length-1,g=G.length-1;1<=f&&0<=g&&U[f]!==G[g];)g--;for(;1<=f&&0<=g;f--,g--)if(U[f]!==G[g]){if(f!==1||g!==1)do if(f--,g--,0>g||U[f]!==G[g]){var te=`
`+U[f].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=f&&0<=g);break}}}finally{zu=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Fs(l):""}function VT(s){switch(s.tag){case 26:case 27:case 5:return Fs(s.type);case 16:return Fs("Lazy");case 13:return Fs("Suspense");case 19:return Fs("SuspenseList");case 0:case 15:return Gu(s.type,!1);case 11:return Gu(s.type.render,!1);case 1:return Gu(s.type,!0);case 31:return Fs("Activity");default:return""}}function Nh(s){try{var r="";do r+=VT(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function _n(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Rh(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $T(s){var r=Rh(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),f=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,x=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(_){f=""+_,x.call(this,_)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(_){f=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Pa(s){s._valueTracker||(s._valueTracker=$T(s))}function kh(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),f="";return s&&(f=Rh(s)?s.checked?"true":"false":s.value),s=f,s!==l?(r.setValue(s),!0):!1}function La(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var FT=/[\n"\\]/g;function Sn(s){return s.replace(FT,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Hu(s,r,l,f,g,x,_,E){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+_n(r)):s.value!==""+_n(r)&&(s.value=""+_n(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?Ju(s,_,_n(r)):l!=null?Ju(s,_,_n(l)):f!=null&&s.removeAttribute("value"),g==null&&x!=null&&(s.defaultChecked=!!x),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.name=""+_n(E):s.removeAttribute("name")}function Mh(s,r,l,f,g,x,_,E){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),r!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||r!=null))return;l=l!=null?""+_n(l):"",r=r!=null?""+_n(r):l,E||r===s.value||(s.value=r),s.defaultValue=r}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=E?s.checked:!!f,s.defaultChecked=!!f,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_)}function Ju(s,r,l){r==="number"&&La(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function zs(s,r,l,f){if(s=s.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=r.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&f&&(s[l].defaultSelected=!0)}else{for(l=""+_n(l),r=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function Dh(s,r,l){if(r!=null&&(r=""+_n(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+_n(l):""}function Uh(s,r,l,f){if(r==null){if(f!=null){if(l!=null)throw Error(i(92));if(Ne(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),r=l}l=_n(r),s.defaultValue=l,f=s.textContent,f===l&&f!==""&&f!==null&&(s.value=f)}function Gs(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var zT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ih(s,r,l){var f=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":f?s.setProperty(r,l):typeof l!="number"||l===0||zT.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Ph(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var g in r)f=r[g],r.hasOwnProperty(g)&&l[g]!==f&&Ih(s,g,f)}else for(var x in r)r.hasOwnProperty(x)&&Ih(s,x,r[x])}function Yu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(s){return HT.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ku=null;function Qu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hs=null,Js=null;function Lh(s){var r=js(s);if(r&&(s=r.stateNode)){var l=s[sn]||null;e:switch(s=r.stateNode,r.type){case"input":if(Hu(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var f=l[r];if(f!==s&&f.form===s.form){var g=f[sn]||null;if(!g)throw Error(i(90));Hu(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)f=l[r],f.form===s.form&&kh(f)}break e;case"textarea":Dh(s,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&zs(s,!!l.multiple,r,!1)}}}var Zu=!1;function Oh(s,r,l){if(Zu)return s(r,l);Zu=!0;try{var f=s(r);return f}finally{if(Zu=!1,(Hs!==null||Js!==null)&&(_l(),Hs&&(r=Hs,s=Js,Js=Hs=null,Lh(r),s)))for(r=0;r<s.length;r++)Lh(s[r])}}function ao(s,r){var l=s.stateNode;if(l===null)return null;var f=l[sn]||null;if(f===null)return null;l=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=!1;if(si)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Xu=!1}var Ai=null,Wu=null,qa=null;function qh(){if(qa)return qa;var s,r=Wu,l=r.length,f,g="value"in Ai?Ai.value:Ai.textContent,x=g.length;for(s=0;s<l&&r[s]===g[s];s++);var _=l-s;for(f=1;f<=_&&r[l-f]===g[x-f];f++);return qa=g.slice(s,1<f?1-f:void 0)}function Ba(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ja(){return!0}function Bh(){return!1}function rn(s){function r(l,f,g,x,_){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(l=s[E],this[E]=l?l(x):x[E]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ja:Bh,this.isPropagationStopped=Bh,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),r}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=rn(rs),uo=y({},rs,{view:0,detail:0}),JT=rn(uo),ec,tc,co,$a=y({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==co&&(co&&s.type==="mousemove"?(ec=s.screenX-co.screenX,tc=s.screenY-co.screenY):tc=ec=0,co=s),ec)},movementY:function(s){return"movementY"in s?s.movementY:tc}}),jh=rn($a),YT=y({},$a,{dataTransfer:0}),KT=rn(YT),QT=y({},uo,{relatedTarget:0}),nc=rn(QT),ZT=y({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),XT=rn(ZT),WT=y({},rs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),eb=rn(WT),tb=y({},rs,{data:0}),Vh=rn(tb),nb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ib={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rb(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=sb[s])?!!r[s]:!1}function ic(){return rb}var ob=y({},uo,{key:function(s){if(s.key){var r=nb[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ba(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ib[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(s){return s.type==="keypress"?Ba(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ba(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ab=rn(ob),lb=y({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$h=rn(lb),ub=y({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),cb=rn(ub),db=y({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),fb=rn(db),hb=y({},$a,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),mb=rn(hb),pb=y({},rs,{newState:0,oldState:0}),gb=rn(pb),yb=[9,13,27,32],sc=si&&"CompositionEvent"in window,fo=null;si&&"documentMode"in document&&(fo=document.documentMode);var vb=si&&"TextEvent"in window&&!fo,Fh=si&&(!sc||fo&&8<fo&&11>=fo),zh=" ",Gh=!1;function Hh(s,r){switch(s){case"keyup":return yb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ys=!1;function xb(s,r){switch(s){case"compositionend":return Jh(r);case"keypress":return r.which!==32?null:(Gh=!0,zh);case"textInput":return s=r.data,s===zh&&Gh?null:s;default:return null}}function Tb(s,r){if(Ys)return s==="compositionend"||!sc&&Hh(s,r)?(s=qh(),qa=Wu=Ai=null,Ys=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Fh&&r.locale!=="ko"?null:r.data;default:return null}}var bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!bb[s.type]:r==="textarea"}function Kh(s,r,l,f){Hs?Js?Js.push(f):Js=[f]:Hs=f,r=Nl(r,"onChange"),0<r.length&&(l=new Va("onChange","change",null,l,f),s.push({event:l,listeners:r}))}var ho=null,mo=null;function _b(s){Rg(s,0)}function Fa(s){var r=oo(s);if(kh(r))return s}function Qh(s,r){if(s==="change")return r}var Zh=!1;if(si){var rc;if(si){var oc="oninput"in document;if(!oc){var Xh=document.createElement("div");Xh.setAttribute("oninput","return;"),oc=typeof Xh.oninput=="function"}rc=oc}else rc=!1;Zh=rc&&(!document.documentMode||9<document.documentMode)}function Wh(){ho&&(ho.detachEvent("onpropertychange",em),mo=ho=null)}function em(s){if(s.propertyName==="value"&&Fa(mo)){var r=[];Kh(r,mo,s,Qu(s)),Oh(_b,r)}}function Sb(s,r,l){s==="focusin"?(Wh(),ho=r,mo=l,ho.attachEvent("onpropertychange",em)):s==="focusout"&&Wh()}function wb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Fa(mo)}function Cb(s,r){if(s==="click")return Fa(r)}function Eb(s,r){if(s==="input"||s==="change")return Fa(r)}function Ab(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var mn=typeof Object.is=="function"?Object.is:Ab;function po(s,r){if(mn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),f=Object.keys(r);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!Dt.call(r,g)||!mn(s[g],r[g]))return!1}return!0}function tm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nm(s,r){var l=tm(s);s=0;for(var f;l;){if(l.nodeType===3){if(f=s+l.textContent.length,s<=r&&f>=r)return{node:l,offset:r-s};s=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tm(l)}}function im(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?im(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function sm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=La(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=La(s.document)}return r}function ac(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Nb=si&&"documentMode"in document&&11>=document.documentMode,Ks=null,lc=null,go=null,uc=!1;function rm(s,r,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;uc||Ks==null||Ks!==La(f)||(f=Ks,"selectionStart"in f&&ac(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),go&&po(go,f)||(go=f,f=Nl(lc,"onSelect"),0<f.length&&(r=new Va("onSelect","select",null,r,l),s.push({event:r,listeners:f}),r.target=Ks)))}function os(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Qs={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},cc={},om={};si&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function as(s){if(cc[s])return cc[s];if(!Qs[s])return s;var r=Qs[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in om)return cc[s]=r[l];return s}var am=as("animationend"),lm=as("animationiteration"),um=as("animationstart"),Rb=as("transitionrun"),kb=as("transitionstart"),Mb=as("transitioncancel"),cm=as("transitionend"),dm=new Map,dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dc.push("scrollEnd");function Pn(s,r){dm.set(s,r),ss(r,[s])}var fm=new WeakMap;function wn(s,r){if(typeof s=="object"&&s!==null){var l=fm.get(s);return l!==void 0?l:(r={value:s,source:r,stack:Nh(r)},fm.set(s,r),r)}return{value:s,source:r,stack:Nh(r)}}var Cn=[],Zs=0,fc=0;function za(){for(var s=Zs,r=fc=Zs=0;r<s;){var l=Cn[r];Cn[r++]=null;var f=Cn[r];Cn[r++]=null;var g=Cn[r];Cn[r++]=null;var x=Cn[r];if(Cn[r++]=null,f!==null&&g!==null){var _=f.pending;_===null?g.next=g:(g.next=_.next,_.next=g),f.pending=g}x!==0&&hm(l,g,x)}}function Ga(s,r,l,f){Cn[Zs++]=s,Cn[Zs++]=r,Cn[Zs++]=l,Cn[Zs++]=f,fc|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function hc(s,r,l,f){return Ga(s,r,l,f),Ha(s)}function Xs(s,r){return Ga(s,null,null,r),Ha(s)}function hm(s,r,l){s.lanes|=l;var f=s.alternate;f!==null&&(f.lanes|=l);for(var g=!1,x=s.return;x!==null;)x.childLanes|=l,f=x.alternate,f!==null&&(f.childLanes|=l),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(g=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,g&&r!==null&&(g=31-pt(l),s=x.hiddenUpdates,f=s[g],f===null?s[g]=[r]:f.push(r),r.lane=l|536870912),x):null}function Ha(s){if(50<Vo)throw Vo=0,xd=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Ws={};function Db(s,r,l,f){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(s,r,l,f){return new Db(s,r,l,f)}function mc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ri(s,r){var l=s.alternate;return l===null?(l=pn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function mm(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Ja(s,r,l,f,g,x){var _=0;if(f=s,typeof s=="function")mc(s)&&(_=1);else if(typeof s=="string")_=I_(s,l,re.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case z:return s=pn(31,l,r,g),s.elementType=z,s.lanes=x,s;case S:return ls(l.children,g,x,r);case N:_=8,g|=24;break;case A:return s=pn(12,l,r,g|2),s.elementType=A,s.lanes=x,s;case I:return s=pn(13,l,r,g),s.elementType=I,s.lanes=x,s;case V:return s=pn(19,l,r,g),s.elementType=V,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case D:_=10;break e;case P:_=9;break e;case C:_=11;break e;case H:_=14;break e;case ee:_=16,f=null;break e}_=29,l=Error(i(130,s===null?"null":typeof s,"")),f=null}return r=pn(_,l,r,g),r.elementType=s,r.type=f,r.lanes=x,r}function ls(s,r,l,f){return s=pn(7,s,f,r),s.lanes=l,s}function pc(s,r,l){return s=pn(6,s,null,r),s.lanes=l,s}function gc(s,r,l){return r=pn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var er=[],tr=0,Ya=null,Ka=0,En=[],An=0,us=null,oi=1,ai="";function cs(s,r){er[tr++]=Ka,er[tr++]=Ya,Ya=s,Ka=r}function pm(s,r,l){En[An++]=oi,En[An++]=ai,En[An++]=us,us=s;var f=oi;s=ai;var g=32-pt(f)-1;f&=~(1<<g),l+=1;var x=32-pt(r)+g;if(30<x){var _=g-g%5;x=(f&(1<<_)-1).toString(32),f>>=_,g-=_,oi=1<<32-pt(r)+g|l<<g|f,ai=x+s}else oi=1<<x|l<<g|f,ai=s}function yc(s){s.return!==null&&(cs(s,1),pm(s,1,0))}function vc(s){for(;s===Ya;)Ya=er[--tr],er[tr]=null,Ka=er[--tr],er[tr]=null;for(;s===us;)us=En[--An],En[An]=null,ai=En[--An],En[An]=null,oi=En[--An],En[An]=null}var Wt=null,Tt=null,st=!1,ds=null,Gn=!1,xc=Error(i(519));function fs(s){var r=Error(i(418,""));throw xo(wn(r,s)),xc}function gm(s){var r=s.stateNode,l=s.type,f=s.memoizedProps;switch(r[zt]=s,r[sn]=f,l){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(l=0;l<Fo.length;l++)Ke(Fo[l],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Ke("invalid",r),Mh(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Pa(r);break;case"select":Ke("invalid",r);break;case"textarea":Ke("invalid",r),Uh(r,f.value,f.defaultValue,f.children),Pa(r)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||f.suppressHydrationWarning===!0||Ug(r.textContent,l)?(f.popover!=null&&(Ke("beforetoggle",r),Ke("toggle",r)),f.onScroll!=null&&Ke("scroll",r),f.onScrollEnd!=null&&Ke("scrollend",r),f.onClick!=null&&(r.onclick=Rl),r=!0):r=!1,r||fs(s)}function ym(s){for(Wt=s.return;Wt;)switch(Wt.tag){case 5:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Wt=Wt.return}}function yo(s){if(s!==Wt)return!1;if(!st)return ym(s),st=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Pd(s.type,s.memoizedProps)),l=!l),l&&Tt&&fs(s),ym(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){Tt=On(s.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}Tt=null}}else r===27?(r=Tt,Fi(s.type)?(s=Bd,Bd=null,Tt=s):Tt=r):Tt=Wt?On(s.stateNode.nextSibling):null;return!0}function vo(){Tt=Wt=null,st=!1}function vm(){var s=ds;return s!==null&&(ln===null?ln=s:ln.push.apply(ln,s),ds=null),s}function xo(s){ds===null?ds=[s]:ds.push(s)}var Tc=L(null),hs=null,li=null;function Ni(s,r,l){W(Tc,r._currentValue),r._currentValue=l}function ui(s){s._currentValue=Tc.current,B(Tc)}function bc(s,r,l){for(;s!==null;){var f=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),s===l)break;s=s.return}}function _c(s,r,l,f){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var x=g.dependencies;if(x!==null){var _=g.child;x=x.firstContext;e:for(;x!==null;){var E=x;x=g;for(var U=0;U<r.length;U++)if(E.context===r[U]){x.lanes|=l,E=x.alternate,E!==null&&(E.lanes|=l),bc(x.return,l,s),f||(_=null);break e}x=E.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(i(341));_.lanes|=l,x=_.alternate,x!==null&&(x.lanes|=l),bc(_,l,s),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function To(s,r,l,f){s=null;for(var g=r,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var E=g.type;mn(g.pendingProps.value,_.value)||(s!==null?s.push(E):s=[E])}}else if(g===Ue.current){if(_=g.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Ko):s=[Ko])}g=g.return}s!==null&&_c(r,s,l,f),r.flags|=262144}function Qa(s){for(s=s.firstContext;s!==null;){if(!mn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ms(s){hs=s,li=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Gt(s){return xm(hs,s)}function Za(s,r){return hs===null&&ms(s),xm(s,r)}function xm(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},li===null){if(s===null)throw Error(i(308));li=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else li=li.next=r;return l}var Ub=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,f){s.push(f)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},Ib=t.unstable_scheduleCallback,Pb=t.unstable_NormalPriority,kt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new Ub,data:new Map,refCount:0}}function bo(s){s.refCount--,s.refCount===0&&Ib(Pb,function(){s.controller.abort()})}var _o=null,wc=0,nr=0,ir=null;function Lb(s,r){if(_o===null){var l=_o=[];wc=0,nr=Ed(),ir={status:"pending",value:void 0,then:function(f){l.push(f)}}}return wc++,r.then(Tm,Tm),r}function Tm(){if(--wc===0&&_o!==null){ir!==null&&(ir.status="fulfilled");var s=_o;_o=null,nr=0,ir=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function Ob(s,r){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){f.status="fulfilled",f.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var bm=Z.S;Z.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Lb(s,r),bm!==null&&bm(s,r)};var ps=L(null);function Cc(){var s=ps.current;return s!==null?s:ht.pooledCache}function Xa(s,r){r===null?W(ps,ps.current):W(ps,r.pool)}function _m(){var s=Cc();return s===null?null:{parent:kt._currentValue,pool:s}}var So=Error(i(460)),Sm=Error(i(474)),Wa=Error(i(542)),Ec={then:function(){}};function wm(s){return s=s.status,s==="fulfilled"||s==="rejected"}function el(){}function Cm(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(el,el),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Am(s),s;default:if(typeof r.status=="string")r.then(el,el);else{if(s=ht,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(f){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=f}},function(f){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Am(s),s}throw wo=r,So}}var wo=null;function Em(){if(wo===null)throw Error(i(459));var s=wo;return wo=null,s}function Am(s){if(s===So||s===Wa)throw Error(i(483))}var Ri=!1;function Ac(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nc(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ki(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Mi(s,r,l){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(ot&2)!==0){var g=f.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),f.pending=r,r=Ha(s),hm(s,null,l),r}return Ga(s,f,r,l),Ha(s)}function Co(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,io(s,l)}}function Rc(s,r){var l=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=_:x=x.next=_,l=l.next}while(l!==null);x===null?g=x=r:x=x.next=r}else g=x=r;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var kc=!1;function Eo(){if(kc){var s=ir;if(s!==null)throw s}}function Ao(s,r,l,f){kc=!1;var g=s.updateQueue;Ri=!1;var x=g.firstBaseUpdate,_=g.lastBaseUpdate,E=g.shared.pending;if(E!==null){g.shared.pending=null;var U=E,G=U.next;U.next=null,_===null?x=G:_.next=G,_=U;var te=s.alternate;te!==null&&(te=te.updateQueue,E=te.lastBaseUpdate,E!==_&&(E===null?te.firstBaseUpdate=G:E.next=G,te.lastBaseUpdate=U))}if(x!==null){var se=g.baseState;_=0,te=G=U=null,E=x;do{var J=E.lane&-536870913,Q=J!==E.lane;if(Q?(We&J)===J:(f&J)===J){J!==0&&J===nr&&(kc=!0),te!==null&&(te=te.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var De=s,ke=E;J=r;var dt=l;switch(ke.tag){case 1:if(De=ke.payload,typeof De=="function"){se=De.call(dt,se,J);break e}se=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=ke.payload,J=typeof De=="function"?De.call(dt,se,J):De,J==null)break e;se=y({},se,J);break e;case 2:Ri=!0}}J=E.callback,J!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=g.callbacks,Q===null?g.callbacks=[J]:Q.push(J))}else Q={lane:J,tag:E.tag,payload:E.payload,callback:E.callback,next:null},te===null?(G=te=Q,U=se):te=te.next=Q,_|=J;if(E=E.next,E===null){if(E=g.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,g.lastBaseUpdate=Q,g.shared.pending=null}}while(!0);te===null&&(U=se),g.baseState=U,g.firstBaseUpdate=G,g.lastBaseUpdate=te,x===null&&(g.shared.lanes=0),Bi|=_,s.lanes=_,s.memoizedState=se}}function Nm(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Rm(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Nm(l[s],r)}var sr=L(null),tl=L(0);function km(s,r){s=gi,W(tl,s),W(sr,r),gi=s|r.baseLanes}function Mc(){W(tl,gi),W(sr,sr.current)}function Dc(){gi=tl.current,B(sr),B(tl)}var Di=0,ze=null,ut=null,Ct=null,nl=!1,rr=!1,gs=!1,il=0,No=0,or=null,qb=0;function St(){throw Error(i(321))}function Uc(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!mn(s[l],r[l]))return!1;return!0}function Ic(s,r,l,f,g,x){return Di=x,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=s===null||s.memoizedState===null?hp:mp,gs=!1,x=l(f,g),gs=!1,rr&&(x=Dm(r,l,f,g)),Mm(s),x}function Mm(s){Z.H=ul;var r=ut!==null&&ut.next!==null;if(Di=0,Ct=ut=ze=null,nl=!1,No=0,or=null,r)throw Error(i(300));s===null||It||(s=s.dependencies,s!==null&&Qa(s)&&(It=!0))}function Dm(s,r,l,f){ze=s;var g=0;do{if(rr&&(or=null),No=0,rr=!1,25<=g)throw Error(i(301));if(g+=1,Ct=ut=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Z.H=Gb,x=r(l,f)}while(rr);return x}function Bb(){var s=Z.H,r=s.useState()[0];return r=typeof r.then=="function"?Ro(r):r,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(ze.flags|=1024),r}function Pc(){var s=il!==0;return il=0,s}function Lc(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Oc(s){if(nl){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}nl=!1}Di=0,Ct=ut=ze=null,rr=!1,No=il=0,or=null}function on(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ze.memoizedState=Ct=s:Ct=Ct.next=s,Ct}function Et(){if(ut===null){var s=ze.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var r=Ct===null?ze.memoizedState:Ct.next;if(r!==null)Ct=r,ut=s;else{if(s===null)throw ze.alternate===null?Error(i(467)):Error(i(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ct===null?ze.memoizedState=Ct=s:Ct=Ct.next=s}return Ct}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ro(s){var r=No;return No+=1,or===null&&(or=[]),s=Cm(or,s,r),r=ze,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?hp:mp),s}function sl(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ro(s);if(s.$$typeof===D)return Gt(s)}throw Error(i(438,String(s)))}function Bc(s){var r=null,l=ze.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var f=ze.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=qc(),ze.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),f=0;f<s;f++)l[f]=K;return r.index++,l}function ci(s,r){return typeof r=="function"?r(s):r}function rl(s){var r=Et();return jc(r,ut,s)}function jc(s,r,l){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var g=s.baseQueue,x=f.pending;if(x!==null){if(g!==null){var _=g.next;g.next=x.next,x.next=_}r.baseQueue=g=x,f.pending=null}if(x=s.baseState,g===null)s.memoizedState=x;else{r=g.next;var E=_=null,U=null,G=r,te=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(We&se)===se:(Di&se)===se){var J=G.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===nr&&(te=!0);else if((Di&J)===J){G=G.next,J===nr&&(te=!0);continue}else se={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(E=U=se,_=x):U=U.next=se,ze.lanes|=J,Bi|=J;se=G.action,gs&&l(x,se),x=G.hasEagerState?G.eagerState:l(x,se)}else J={lane:se,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(E=U=J,_=x):U=U.next=J,ze.lanes|=se,Bi|=se;G=G.next}while(G!==null&&G!==r);if(U===null?_=x:U.next=E,!mn(x,s.memoizedState)&&(It=!0,te&&(l=ir,l!==null)))throw l;s.memoizedState=x,s.baseState=_,s.baseQueue=U,f.lastRenderedState=x}return g===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function Vc(s){var r=Et(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var f=l.dispatch,g=l.pending,x=r.memoizedState;if(g!==null){l.pending=null;var _=g=g.next;do x=s(x,_.action),_=_.next;while(_!==g);mn(x,r.memoizedState)||(It=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),l.lastRenderedState=x}return[x,f]}function Um(s,r,l){var f=ze,g=Et(),x=st;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=r();var _=!mn((ut||g).memoizedState,l);_&&(g.memoizedState=l,It=!0),g=g.queue;var E=Lm.bind(null,f,g,s);if(ko(2048,8,E,[s]),g.getSnapshot!==r||_||Ct!==null&&Ct.memoizedState.tag&1){if(f.flags|=2048,ar(9,ol(),Pm.bind(null,f,g,l,r),null),ht===null)throw Error(i(349));x||(Di&124)!==0||Im(f,r,l)}return l}function Im(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=ze.updateQueue,r===null?(r=qc(),ze.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function Pm(s,r,l,f){r.value=l,r.getSnapshot=f,Om(r)&&qm(s)}function Lm(s,r,l){return l(function(){Om(r)&&qm(s)})}function Om(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!mn(s,l)}catch{return!0}}function qm(s){var r=Xs(s,2);r!==null&&Tn(r,s,2)}function $c(s){var r=on();if(typeof s=="function"){var l=s;if(s=l(),gs){Ve(!0);try{l()}finally{Ve(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:s},r}function Bm(s,r,l,f){return s.baseState=l,jc(s,ut,typeof f=="function"?f:ci)}function jb(s,r,l,f,g){if(ll(s))throw Error(i(485));if(s=r.action,s!==null){var x={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){x.listeners.push(_)}};Z.T!==null?l(!0):x.isTransition=!1,f(x),l=r.pending,l===null?(x.next=r.pending=x,jm(r,x)):(x.next=l.next,r.pending=l.next=x)}}function jm(s,r){var l=r.action,f=r.payload,g=s.state;if(r.isTransition){var x=Z.T,_={};Z.T=_;try{var E=l(g,f),U=Z.S;U!==null&&U(_,E),Vm(s,r,E)}catch(G){Fc(s,r,G)}finally{Z.T=x}}else try{x=l(g,f),Vm(s,r,x)}catch(G){Fc(s,r,G)}}function Vm(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){$m(s,r,f)},function(f){return Fc(s,r,f)}):$m(s,r,l)}function $m(s,r,l){r.status="fulfilled",r.value=l,Fm(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,jm(s,l)))}function Fc(s,r,l){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=l,Fm(r),r=r.next;while(r!==f)}s.action=null}function Fm(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function zm(s,r){return r}function Gm(s,r){if(st){var l=ht.formState;if(l!==null){e:{var f=ze;if(st){if(Tt){t:{for(var g=Tt,x=Gn;g.nodeType!==8;){if(!x){g=null;break t}if(g=On(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Tt=On(g.nextSibling),f=g.data==="F!";break e}}fs(f)}f=!1}f&&(r=l[0])}}return l=on(),l.memoizedState=l.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:r},l.queue=f,l=cp.bind(null,ze,f),f.dispatch=l,f=$c(!1),x=Yc.bind(null,ze,!1,f.queue),f=on(),g={state:r,dispatch:null,action:s,pending:null},f.queue=g,l=jb.bind(null,ze,g,x,l),g.dispatch=l,f.memoizedState=s,[r,l,!1]}function Hm(s){var r=Et();return Jm(r,ut,s)}function Jm(s,r,l){if(r=jc(s,r,zm)[0],s=rl(ci)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=Ro(r)}catch(_){throw _===So?Wa:_}else f=r;r=Et();var g=r.queue,x=g.dispatch;return l!==r.memoizedState&&(ze.flags|=2048,ar(9,ol(),Vb.bind(null,g,l),null)),[f,x,s]}function Vb(s,r){s.action=r}function Ym(s){var r=Et(),l=ut;if(l!==null)return Jm(r,l,s);Et(),r=r.memoizedState,l=Et();var f=l.queue.dispatch;return l.memoizedState=s,[r,f,!1]}function ar(s,r,l,f){return s={tag:s,create:l,deps:f,inst:r,next:null},r=ze.updateQueue,r===null&&(r=qc(),ze.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(f=l.next,l.next=s,s.next=f,r.lastEffect=s),s}function ol(){return{destroy:void 0,resource:void 0}}function Km(){return Et().memoizedState}function al(s,r,l,f){var g=on();f=f===void 0?null:f,ze.flags|=s,g.memoizedState=ar(1|r,ol(),l,f)}function ko(s,r,l,f){var g=Et();f=f===void 0?null:f;var x=g.memoizedState.inst;ut!==null&&f!==null&&Uc(f,ut.memoizedState.deps)?g.memoizedState=ar(r,x,l,f):(ze.flags|=s,g.memoizedState=ar(1|r,x,l,f))}function Qm(s,r){al(8390656,8,s,r)}function Zm(s,r){ko(2048,8,s,r)}function Xm(s,r){return ko(4,2,s,r)}function Wm(s,r){return ko(4,4,s,r)}function ep(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function tp(s,r,l){l=l!=null?l.concat([s]):null,ko(4,4,ep.bind(null,r,s),l)}function zc(){}function np(s,r){var l=Et();r=r===void 0?null:r;var f=l.memoizedState;return r!==null&&Uc(r,f[1])?f[0]:(l.memoizedState=[s,r],s)}function ip(s,r){var l=Et();r=r===void 0?null:r;var f=l.memoizedState;if(r!==null&&Uc(r,f[1]))return f[0];if(f=s(),gs){Ve(!0);try{s()}finally{Ve(!1)}}return l.memoizedState=[f,r],f}function Gc(s,r,l){return l===void 0||(Di&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=og(),ze.lanes|=s,Bi|=s,l)}function sp(s,r,l,f){return mn(l,r)?l:sr.current!==null?(s=Gc(s,l,f),mn(s,r)||(It=!0),s):(Di&42)===0?(It=!0,s.memoizedState=l):(s=og(),ze.lanes|=s,Bi|=s,r)}function rp(s,r,l,f,g){var x=ae.p;ae.p=x!==0&&8>x?x:8;var _=Z.T,E={};Z.T=E,Yc(s,!1,r,l);try{var U=g(),G=Z.S;if(G!==null&&G(E,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var te=Ob(U,f);Mo(s,r,te,xn(s))}else Mo(s,r,f,xn(s))}catch(se){Mo(s,r,{then:function(){},status:"rejected",reason:se},xn())}finally{ae.p=x,Z.T=_}}function $b(){}function Hc(s,r,l,f){if(s.tag!==5)throw Error(i(476));var g=op(s).queue;rp(s,g,r,Y,l===null?$b:function(){return ap(s),l(f)})}function op(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:Y},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function ap(s){var r=op(s).next.queue;Mo(s,r,{},xn())}function Jc(){return Gt(Ko)}function lp(){return Et().memoizedState}function up(){return Et().memoizedState}function Fb(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=xn();s=ki(l);var f=Mi(r,s,l);f!==null&&(Tn(f,r,l),Co(f,r,l)),r={cache:Sc()},s.payload=r;return}r=r.return}}function zb(s,r,l){var f=xn();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ll(s)?dp(r,l):(l=hc(s,r,l,f),l!==null&&(Tn(l,s,f),fp(l,r,f)))}function cp(s,r,l){var f=xn();Mo(s,r,l,f)}function Mo(s,r,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ll(s))dp(r,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var _=r.lastRenderedState,E=x(_,l);if(g.hasEagerState=!0,g.eagerState=E,mn(E,_))return Ga(s,r,g,0),ht===null&&za(),!1}catch{}finally{}if(l=hc(s,r,g,f),l!==null)return Tn(l,s,f),fp(l,r,f),!0}return!1}function Yc(s,r,l,f){if(f={lane:2,revertLane:Ed(),action:f,hasEagerState:!1,eagerState:null,next:null},ll(s)){if(r)throw Error(i(479))}else r=hc(s,l,f,2),r!==null&&Tn(r,s,2)}function ll(s){var r=s.alternate;return s===ze||r!==null&&r===ze}function dp(s,r){rr=nl=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function fp(s,r,l){if((l&4194048)!==0){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,io(s,l)}}var ul={readContext:Gt,use:sl,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},hp={readContext:Gt,use:sl,useCallback:function(s,r){return on().memoizedState=[s,r===void 0?null:r],s},useContext:Gt,useEffect:Qm,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,al(4194308,4,ep.bind(null,r,s),l)},useLayoutEffect:function(s,r){return al(4194308,4,s,r)},useInsertionEffect:function(s,r){al(4,2,s,r)},useMemo:function(s,r){var l=on();r=r===void 0?null:r;var f=s();if(gs){Ve(!0);try{s()}finally{Ve(!1)}}return l.memoizedState=[f,r],f},useReducer:function(s,r,l){var f=on();if(l!==void 0){var g=l(r);if(gs){Ve(!0);try{l(r)}finally{Ve(!1)}}}else g=r;return f.memoizedState=f.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},f.queue=s,s=s.dispatch=zb.bind(null,ze,s),[f.memoizedState,s]},useRef:function(s){var r=on();return s={current:s},r.memoizedState=s},useState:function(s){s=$c(s);var r=s.queue,l=cp.bind(null,ze,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:zc,useDeferredValue:function(s,r){var l=on();return Gc(l,s,r)},useTransition:function(){var s=$c(!1);return s=rp.bind(null,ze,s.queue,!0,!1),on().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var f=ze,g=on();if(st){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),ht===null)throw Error(i(349));(We&124)!==0||Im(f,r,l)}g.memoizedState=l;var x={value:l,getSnapshot:r};return g.queue=x,Qm(Lm.bind(null,f,x,s),[s]),f.flags|=2048,ar(9,ol(),Pm.bind(null,f,x,l,r),null),l},useId:function(){var s=on(),r=ht.identifierPrefix;if(st){var l=ai,f=oi;l=(f&~(1<<32-pt(f)-1)).toString(32)+l,r=""+r+"R"+l,l=il++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=qb++,r=""+r+"r"+l.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:Jc,useFormState:Gm,useActionState:Gm,useOptimistic:function(s){var r=on();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Yc.bind(null,ze,!0,l),l.dispatch=r,[s,r]},useMemoCache:Bc,useCacheRefresh:function(){return on().memoizedState=Fb.bind(null,ze)}},mp={readContext:Gt,use:sl,useCallback:np,useContext:Gt,useEffect:Zm,useImperativeHandle:tp,useInsertionEffect:Xm,useLayoutEffect:Wm,useMemo:ip,useReducer:rl,useRef:Km,useState:function(){return rl(ci)},useDebugValue:zc,useDeferredValue:function(s,r){var l=Et();return sp(l,ut.memoizedState,s,r)},useTransition:function(){var s=rl(ci)[0],r=Et().memoizedState;return[typeof s=="boolean"?s:Ro(s),r]},useSyncExternalStore:Um,useId:lp,useHostTransitionStatus:Jc,useFormState:Hm,useActionState:Hm,useOptimistic:function(s,r){var l=Et();return Bm(l,ut,s,r)},useMemoCache:Bc,useCacheRefresh:up},Gb={readContext:Gt,use:sl,useCallback:np,useContext:Gt,useEffect:Zm,useImperativeHandle:tp,useInsertionEffect:Xm,useLayoutEffect:Wm,useMemo:ip,useReducer:Vc,useRef:Km,useState:function(){return Vc(ci)},useDebugValue:zc,useDeferredValue:function(s,r){var l=Et();return ut===null?Gc(l,s,r):sp(l,ut.memoizedState,s,r)},useTransition:function(){var s=Vc(ci)[0],r=Et().memoizedState;return[typeof s=="boolean"?s:Ro(s),r]},useSyncExternalStore:Um,useId:lp,useHostTransitionStatus:Jc,useFormState:Ym,useActionState:Ym,useOptimistic:function(s,r){var l=Et();return ut!==null?Bm(l,ut,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Bc,useCacheRefresh:up},lr=null,Do=0;function cl(s){var r=Do;return Do+=1,lr===null&&(lr=[]),Cm(lr,s,r)}function Uo(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function dl(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function pp(s){var r=s._init;return r(s._payload)}function gp(s){function r(j,O){if(s){var F=j.deletions;F===null?(j.deletions=[O],j.flags|=16):F.push(O)}}function l(j,O){if(!s)return null;for(;O!==null;)r(j,O),O=O.sibling;return null}function f(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function g(j,O){return j=ri(j,O),j.index=0,j.sibling=null,j}function x(j,O,F){return j.index=F,s?(F=j.alternate,F!==null?(F=F.index,F<O?(j.flags|=67108866,O):F):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function _(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,F,ie){return O===null||O.tag!==6?(O=pc(F,j.mode,ie),O.return=j,O):(O=g(O,F),O.return=j,O)}function U(j,O,F,ie){var ge=F.type;return ge===S?te(j,O,F.props.children,ie,F.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ee&&pp(ge)===O.type)?(O=g(O,F.props),Uo(O,F),O.return=j,O):(O=Ja(F.type,F.key,F.props,null,j.mode,ie),Uo(O,F),O.return=j,O)}function G(j,O,F,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=gc(F,j.mode,ie),O.return=j,O):(O=g(O,F.children||[]),O.return=j,O)}function te(j,O,F,ie,ge){return O===null||O.tag!==7?(O=ls(F,j.mode,ie,ge),O.return=j,O):(O=g(O,F),O.return=j,O)}function se(j,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=pc(""+O,j.mode,F),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return F=Ja(O.type,O.key,O.props,null,j.mode,F),Uo(F,O),F.return=j,F;case w:return O=gc(O,j.mode,F),O.return=j,O;case ee:var ie=O._init;return O=ie(O._payload),se(j,O,F)}if(Ne(O)||$(O))return O=ls(O,j.mode,F,null),O.return=j,O;if(typeof O.then=="function")return se(j,cl(O),F);if(O.$$typeof===D)return se(j,Za(j,O),F);dl(j,O)}return null}function J(j,O,F,ie){var ge=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ge!==null?null:E(j,O,""+F,ie);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return F.key===ge?U(j,O,F,ie):null;case w:return F.key===ge?G(j,O,F,ie):null;case ee:return ge=F._init,F=ge(F._payload),J(j,O,F,ie)}if(Ne(F)||$(F))return ge!==null?null:te(j,O,F,ie,null);if(typeof F.then=="function")return J(j,O,cl(F),ie);if(F.$$typeof===D)return J(j,O,Za(j,F),ie);dl(j,F)}return null}function Q(j,O,F,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return j=j.get(F)||null,E(O,j,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return j=j.get(ie.key===null?F:ie.key)||null,U(O,j,ie,ge);case w:return j=j.get(ie.key===null?F:ie.key)||null,G(O,j,ie,ge);case ee:var Ge=ie._init;return ie=Ge(ie._payload),Q(j,O,F,ie,ge)}if(Ne(ie)||$(ie))return j=j.get(F)||null,te(O,j,ie,ge,null);if(typeof ie.then=="function")return Q(j,O,F,cl(ie),ge);if(ie.$$typeof===D)return Q(j,O,F,Za(O,ie),ge);dl(O,ie)}return null}function De(j,O,F,ie){for(var ge=null,Ge=null,Te=O,Me=O=0,Lt=null;Te!==null&&Me<F.length;Me++){Te.index>Me?(Lt=Te,Te=null):Lt=Te.sibling;var tt=J(j,Te,F[Me],ie);if(tt===null){Te===null&&(Te=Lt);break}s&&Te&&tt.alternate===null&&r(j,Te),O=x(tt,O,Me),Ge===null?ge=tt:Ge.sibling=tt,Ge=tt,Te=Lt}if(Me===F.length)return l(j,Te),st&&cs(j,Me),ge;if(Te===null){for(;Me<F.length;Me++)Te=se(j,F[Me],ie),Te!==null&&(O=x(Te,O,Me),Ge===null?ge=Te:Ge.sibling=Te,Ge=Te);return st&&cs(j,Me),ge}for(Te=f(Te);Me<F.length;Me++)Lt=Q(Te,j,Me,F[Me],ie),Lt!==null&&(s&&Lt.alternate!==null&&Te.delete(Lt.key===null?Me:Lt.key),O=x(Lt,O,Me),Ge===null?ge=Lt:Ge.sibling=Lt,Ge=Lt);return s&&Te.forEach(function(Yi){return r(j,Yi)}),st&&cs(j,Me),ge}function ke(j,O,F,ie){if(F==null)throw Error(i(151));for(var ge=null,Ge=null,Te=O,Me=O=0,Lt=null,tt=F.next();Te!==null&&!tt.done;Me++,tt=F.next()){Te.index>Me?(Lt=Te,Te=null):Lt=Te.sibling;var Yi=J(j,Te,tt.value,ie);if(Yi===null){Te===null&&(Te=Lt);break}s&&Te&&Yi.alternate===null&&r(j,Te),O=x(Yi,O,Me),Ge===null?ge=Yi:Ge.sibling=Yi,Ge=Yi,Te=Lt}if(tt.done)return l(j,Te),st&&cs(j,Me),ge;if(Te===null){for(;!tt.done;Me++,tt=F.next())tt=se(j,tt.value,ie),tt!==null&&(O=x(tt,O,Me),Ge===null?ge=tt:Ge.sibling=tt,Ge=tt);return st&&cs(j,Me),ge}for(Te=f(Te);!tt.done;Me++,tt=F.next())tt=Q(Te,j,Me,tt.value,ie),tt!==null&&(s&&tt.alternate!==null&&Te.delete(tt.key===null?Me:tt.key),O=x(tt,O,Me),Ge===null?ge=tt:Ge.sibling=tt,Ge=tt);return s&&Te.forEach(function(H_){return r(j,H_)}),st&&cs(j,Me),ge}function dt(j,O,F,ie){if(typeof F=="object"&&F!==null&&F.type===S&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case b:e:{for(var ge=F.key;O!==null;){if(O.key===ge){if(ge=F.type,ge===S){if(O.tag===7){l(j,O.sibling),ie=g(O,F.props.children),ie.return=j,j=ie;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ee&&pp(ge)===O.type){l(j,O.sibling),ie=g(O,F.props),Uo(ie,F),ie.return=j,j=ie;break e}l(j,O);break}else r(j,O);O=O.sibling}F.type===S?(ie=ls(F.props.children,j.mode,ie,F.key),ie.return=j,j=ie):(ie=Ja(F.type,F.key,F.props,null,j.mode,ie),Uo(ie,F),ie.return=j,j=ie)}return _(j);case w:e:{for(ge=F.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){l(j,O.sibling),ie=g(O,F.children||[]),ie.return=j,j=ie;break e}else{l(j,O);break}else r(j,O);O=O.sibling}ie=gc(F,j.mode,ie),ie.return=j,j=ie}return _(j);case ee:return ge=F._init,F=ge(F._payload),dt(j,O,F,ie)}if(Ne(F))return De(j,O,F,ie);if($(F)){if(ge=$(F),typeof ge!="function")throw Error(i(150));return F=ge.call(F),ke(j,O,F,ie)}if(typeof F.then=="function")return dt(j,O,cl(F),ie);if(F.$$typeof===D)return dt(j,O,Za(j,F),ie);dl(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(l(j,O.sibling),ie=g(O,F),ie.return=j,j=ie):(l(j,O),ie=pc(F,j.mode,ie),ie.return=j,j=ie),_(j)):l(j,O)}return function(j,O,F,ie){try{Do=0;var ge=dt(j,O,F,ie);return lr=null,ge}catch(Te){if(Te===So||Te===Wa)throw Te;var Ge=pn(29,Te,null,j.mode);return Ge.lanes=ie,Ge.return=j,Ge}finally{}}}var ur=gp(!0),yp=gp(!1),Nn=L(null),Hn=null;function Ui(s){var r=s.alternate;W(Mt,Mt.current&1),W(Nn,s),Hn===null&&(r===null||sr.current!==null||r.memoizedState!==null)&&(Hn=s)}function vp(s){if(s.tag===22){if(W(Mt,Mt.current),W(Nn,s),Hn===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(Hn=s)}}else Ii()}function Ii(){W(Mt,Mt.current),W(Nn,Nn.current)}function di(s){B(Nn),Hn===s&&(Hn=null),B(Mt)}var Mt=L(0);function fl(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||qd(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Kc(s,r,l,f){r=s.memoizedState,l=l(f,r),l=l==null?r:y({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Qc={enqueueSetState:function(s,r,l){s=s._reactInternals;var f=xn(),g=ki(f);g.payload=r,l!=null&&(g.callback=l),r=Mi(s,g,f),r!==null&&(Tn(r,s,f),Co(r,s,f))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var f=xn(),g=ki(f);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Mi(s,g,f),r!==null&&(Tn(r,s,f),Co(r,s,f))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=xn(),f=ki(l);f.tag=2,r!=null&&(f.callback=r),r=Mi(s,f,l),r!==null&&(Tn(r,s,l),Co(r,s,l))}};function xp(s,r,l,f,g,x,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,_):r.prototype&&r.prototype.isPureReactComponent?!po(l,f)||!po(g,x):!0}function Tp(s,r,l,f){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,f),r.state!==s&&Qc.enqueueReplaceState(r,r.state,null)}function ys(s,r){var l=r;if("ref"in r){l={};for(var f in r)f!=="ref"&&(l[f]=r[f])}if(s=s.defaultProps){l===r&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var hl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function bp(s){hl(s)}function _p(s){console.error(s)}function Sp(s){hl(s)}function ml(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function wp(s,r,l){try{var f=s.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Zc(s,r,l){return l=ki(l),l.tag=3,l.payload={element:null},l.callback=function(){ml(s,r)},l}function Cp(s){return s=ki(s),s.tag=3,s}function Ep(s,r,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=f.value;s.payload=function(){return g(x)},s.callback=function(){wp(r,l,f)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){wp(r,l,f),typeof g!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var E=f.stack;this.componentDidCatch(f.value,{componentStack:E!==null?E:""})})}function Hb(s,r,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=l.alternate,r!==null&&To(r,l,g,!0),l=Nn.current,l!==null){switch(l.tag){case 13:return Hn===null?bd():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===Ec?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([f]):r.add(f),Sd(s,f,g)),!1;case 22:return l.flags|=65536,f===Ec?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([f]):l.add(f)),Sd(s,f,g)),!1}throw Error(i(435,l.tag))}return Sd(s,f,g),bd(),!1}if(st)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,f!==xc&&(s=Error(i(422),{cause:f}),xo(wn(s,l)))):(f!==xc&&(r=Error(i(423),{cause:f}),xo(wn(r,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,f=wn(f,l),g=Zc(s.stateNode,f,g),Rc(s,g),bt!==4&&(bt=2)),!1;var x=Error(i(520),{cause:f});if(x=wn(x,l),jo===null?jo=[x]:jo.push(x),bt!==4&&(bt=2),r===null)return!0;f=wn(f,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Zc(l.stateNode,f,s),Rc(l,s),!1;case 1:if(r=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ji===null||!ji.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Cp(g),Ep(g,s,l,f),Rc(l,g),!1}l=l.return}while(l!==null);return!1}var Ap=Error(i(461)),It=!1;function Bt(s,r,l,f){r.child=s===null?yp(r,null,l,f):ur(r,s.child,l,f)}function Np(s,r,l,f,g){l=l.render;var x=r.ref;if("ref"in f){var _={};for(var E in f)E!=="ref"&&(_[E]=f[E])}else _=f;return ms(r),f=Ic(s,r,l,_,x,g),E=Pc(),s!==null&&!It?(Lc(s,r,g),fi(s,r,g)):(st&&E&&yc(r),r.flags|=1,Bt(s,r,f,g),r.child)}function Rp(s,r,l,f,g){if(s===null){var x=l.type;return typeof x=="function"&&!mc(x)&&x.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=x,kp(s,r,x,f,g)):(s=Ja(l.type,null,f,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(x=s.child,!rd(s,g)){var _=x.memoizedProps;if(l=l.compare,l=l!==null?l:po,l(_,f)&&s.ref===r.ref)return fi(s,r,g)}return r.flags|=1,s=ri(x,f),s.ref=r.ref,s.return=r,r.child=s}function kp(s,r,l,f,g){if(s!==null){var x=s.memoizedProps;if(po(x,f)&&s.ref===r.ref)if(It=!1,r.pendingProps=f=x,rd(s,g))(s.flags&131072)!==0&&(It=!0);else return r.lanes=s.lanes,fi(s,r,g)}return Xc(s,r,l,f,g)}function Mp(s,r,l){var f=r.pendingProps,g=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((r.flags&128)!==0){if(f=x!==null?x.baseLanes|l:l,s!==null){for(g=r.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;r.childLanes=x&~f}else r.childLanes=0,r.child=null;return Dp(s,r,f,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Xa(r,x!==null?x.cachePool:null),x!==null?km(r,x):Mc(),vp(r);else return r.lanes=r.childLanes=536870912,Dp(s,r,x!==null?x.baseLanes|l:l,l)}else x!==null?(Xa(r,x.cachePool),km(r,x),Ii(),r.memoizedState=null):(s!==null&&Xa(r,null),Mc(),Ii());return Bt(s,r,g,l),r.child}function Dp(s,r,l,f){var g=Cc();return g=g===null?null:{parent:kt._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},s!==null&&Xa(r,null),Mc(),vp(r),s!==null&&To(s,r,f,!0),null}function pl(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Xc(s,r,l,f,g){return ms(r),l=Ic(s,r,l,f,void 0,g),f=Pc(),s!==null&&!It?(Lc(s,r,g),fi(s,r,g)):(st&&f&&yc(r),r.flags|=1,Bt(s,r,l,g),r.child)}function Up(s,r,l,f,g,x){return ms(r),r.updateQueue=null,l=Dm(r,f,l,g),Mm(s),f=Pc(),s!==null&&!It?(Lc(s,r,x),fi(s,r,x)):(st&&f&&yc(r),r.flags|=1,Bt(s,r,l,x),r.child)}function Ip(s,r,l,f,g){if(ms(r),r.stateNode===null){var x=Ws,_=l.contextType;typeof _=="object"&&_!==null&&(x=Gt(_)),x=new l(f,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Qc,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=f,x.state=r.memoizedState,x.refs={},Ac(r),_=l.contextType,x.context=typeof _=="object"&&_!==null?Gt(_):Ws,x.state=r.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Kc(r,l,_,f),x.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(_=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),_!==x.state&&Qc.enqueueReplaceState(x,x.state,null),Ao(r,f,x,g),Eo(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(s===null){x=r.stateNode;var E=r.memoizedProps,U=ys(l,E);x.props=U;var G=x.context,te=l.contextType;_=Ws,typeof te=="object"&&te!==null&&(_=Gt(te));var se=l.getDerivedStateFromProps;te=typeof se=="function"||typeof x.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,te||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E||G!==_)&&Tp(r,x,f,_),Ri=!1;var J=r.memoizedState;x.state=J,Ao(r,f,x,g),Eo(),G=r.memoizedState,E||J!==G||Ri?(typeof se=="function"&&(Kc(r,l,se,f),G=r.memoizedState),(U=Ri||xp(r,l,U,f,J,G,_))?(te||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=G),x.props=f,x.state=G,x.context=_,f=U):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{x=r.stateNode,Nc(s,r),_=r.memoizedProps,te=ys(l,_),x.props=te,se=r.pendingProps,J=x.context,G=l.contextType,U=Ws,typeof G=="object"&&G!==null&&(U=Gt(G)),E=l.getDerivedStateFromProps,(G=typeof E=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==se||J!==U)&&Tp(r,x,f,U),Ri=!1,J=r.memoizedState,x.state=J,Ao(r,f,x,g),Eo();var Q=r.memoizedState;_!==se||J!==Q||Ri||s!==null&&s.dependencies!==null&&Qa(s.dependencies)?(typeof E=="function"&&(Kc(r,l,E,f),Q=r.memoizedState),(te=Ri||xp(r,l,te,f,J,Q,U)||s!==null&&s.dependencies!==null&&Qa(s.dependencies))?(G||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,Q,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,Q,U)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=Q),x.props=f,x.state=Q,x.context=U,f=te):(typeof x.componentDidUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),f=!1)}return x=f,pl(s,r),f=(r.flags&128)!==0,x||f?(x=r.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,s!==null&&f?(r.child=ur(r,s.child,null,g),r.child=ur(r,null,l,g)):Bt(s,r,l,g),r.memoizedState=x.state,s=r.child):s=fi(s,r,g),s}function Pp(s,r,l,f){return vo(),r.flags|=256,Bt(s,r,l,f),r.child}var Wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(s){return{baseLanes:s,cachePool:_m()}}function td(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Rn),s}function Lp(s,r,l){var f=r.pendingProps,g=!1,x=(r.flags&128)!==0,_;if((_=x)||(_=s!==null&&s.memoizedState===null?!1:(Mt.current&2)!==0),_&&(g=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(st){if(g?Ui(r):Ii(),st){var E=Tt,U;if(U=E){e:{for(U=E,E=Gn;U.nodeType!==8;){if(!E){E=null;break e}if(U=On(U.nextSibling),U===null){E=null;break e}}E=U}E!==null?(r.memoizedState={dehydrated:E,treeContext:us!==null?{id:oi,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},U=pn(18,null,null,0),U.stateNode=E,U.return=r,r.child=U,Wt=r,Tt=null,U=!0):U=!1}U||fs(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return qd(E)?r.lanes=32:r.lanes=536870912,null;di(r)}return E=f.children,f=f.fallback,g?(Ii(),g=r.mode,E=gl({mode:"hidden",children:E},g),f=ls(f,g,l,null),E.return=r,f.return=r,E.sibling=f,r.child=E,g=r.child,g.memoizedState=ed(l),g.childLanes=td(s,_,l),r.memoizedState=Wc,f):(Ui(r),nd(r,E))}if(U=s.memoizedState,U!==null&&(E=U.dehydrated,E!==null)){if(x)r.flags&256?(Ui(r),r.flags&=-257,r=id(s,r,l)):r.memoizedState!==null?(Ii(),r.child=s.child,r.flags|=128,r=null):(Ii(),g=f.fallback,E=r.mode,f=gl({mode:"visible",children:f.children},E),g=ls(g,E,l,null),g.flags|=2,f.return=r,g.return=r,f.sibling=g,r.child=f,ur(r,s.child,null,l),f=r.child,f.memoizedState=ed(l),f.childLanes=td(s,_,l),r.memoizedState=Wc,r=g);else if(Ui(r),qd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var G=_.dgst;_=G,f=Error(i(419)),f.stack="",f.digest=_,xo({value:f,source:null,stack:null}),r=id(s,r,l)}else if(It||To(s,r,l,!1),_=(l&s.childLanes)!==0,It||_){if(_=ht,_!==null&&(f=l&-l,f=(f&42)!==0?1:so(f),f=(f&(_.suspendedLanes|l))!==0?0:f,f!==0&&f!==U.retryLane))throw U.retryLane=f,Xs(s,f),Tn(_,s,f),Ap;E.data==="$?"||bd(),r=id(s,r,l)}else E.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=U.treeContext,Tt=On(E.nextSibling),Wt=r,st=!0,ds=null,Gn=!1,s!==null&&(En[An++]=oi,En[An++]=ai,En[An++]=us,oi=s.id,ai=s.overflow,us=r),r=nd(r,f.children),r.flags|=4096);return r}return g?(Ii(),g=f.fallback,E=r.mode,U=s.child,G=U.sibling,f=ri(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&65011712,G!==null?g=ri(G,g):(g=ls(g,E,l,null),g.flags|=2),g.return=r,f.return=r,f.sibling=g,r.child=f,f=g,g=r.child,E=s.child.memoizedState,E===null?E=ed(l):(U=E.cachePool,U!==null?(G=kt._currentValue,U=U.parent!==G?{parent:G,pool:G}:U):U=_m(),E={baseLanes:E.baseLanes|l,cachePool:U}),g.memoizedState=E,g.childLanes=td(s,_,l),r.memoizedState=Wc,f):(Ui(r),l=s.child,s=l.sibling,l=ri(l,{mode:"visible",children:f.children}),l.return=r,l.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=l,r.memoizedState=null,l)}function nd(s,r){return r=gl({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function gl(s,r){return s=pn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function id(s,r,l){return ur(r,s.child,null,l),s=nd(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Op(s,r,l){s.lanes|=r;var f=s.alternate;f!==null&&(f.lanes|=r),bc(s.return,r,l)}function sd(s,r,l,f,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=l,x.tailMode=g)}function qp(s,r,l){var f=r.pendingProps,g=f.revealOrder,x=f.tail;if(Bt(s,r,f.children,l),f=Mt.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Op(s,l,r);else if(s.tag===19)Op(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(W(Mt,f),g){case"forwards":for(l=r.child,g=null;l!==null;)s=l.alternate,s!==null&&fl(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),sd(r,!1,g,l,x);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&fl(s)===null){r.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}sd(r,!0,l,null,x);break;case"together":sd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function fi(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),Bi|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(To(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=ri(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=ri(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function rd(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Qa(s)))}function Jb(s,r,l){switch(r.tag){case 3:Ae(r,r.stateNode.containerInfo),Ni(r,kt,s.memoizedState.cache),vo();break;case 27:case 5:it(r);break;case 4:Ae(r,r.stateNode.containerInfo);break;case 10:Ni(r,r.type,r.memoizedProps.value);break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(Ui(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Lp(s,r,l):(Ui(r),s=fi(s,r,l),s!==null?s.sibling:null);Ui(r);break;case 19:var g=(s.flags&128)!==0;if(f=(l&r.childLanes)!==0,f||(To(s,r,l,!1),f=(l&r.childLanes)!==0),g){if(f)return qp(s,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),W(Mt,Mt.current),f)break;return null;case 22:case 23:return r.lanes=0,Mp(s,r,l);case 24:Ni(r,kt,s.memoizedState.cache)}return fi(s,r,l)}function Bp(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)It=!0;else{if(!rd(s,l)&&(r.flags&128)===0)return It=!1,Jb(s,r,l);It=(s.flags&131072)!==0}else It=!1,st&&(r.flags&1048576)!==0&&pm(r,Ka,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var f=r.elementType,g=f._init;if(f=g(f._payload),r.type=f,typeof f=="function")mc(f)?(s=ys(f,s),r.tag=1,r=Ip(null,r,f,s,l)):(r.tag=0,r=Xc(null,r,f,s,l));else{if(f!=null){if(g=f.$$typeof,g===C){r.tag=11,r=Np(null,r,f,s,l);break e}else if(g===H){r.tag=14,r=Rp(null,r,f,s,l);break e}}throw r=Ee(f)||f,Error(i(306,r,""))}}return r;case 0:return Xc(s,r,r.type,r.pendingProps,l);case 1:return f=r.type,g=ys(f,r.pendingProps),Ip(s,r,f,g,l);case 3:e:{if(Ae(r,r.stateNode.containerInfo),s===null)throw Error(i(387));f=r.pendingProps;var x=r.memoizedState;g=x.element,Nc(s,r),Ao(r,f,null,l);var _=r.memoizedState;if(f=_.cache,Ni(r,kt,f),f!==x.cache&&_c(r,[kt],l,!0),Eo(),f=_.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=Pp(s,r,f,l);break e}else if(f!==g){g=wn(Error(i(424)),r),xo(g),r=Pp(s,r,f,l);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Tt=On(s.firstChild),Wt=r,st=!0,ds=null,Gn=!0,l=yp(r,null,f,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(vo(),f===g){r=fi(s,r,l);break e}Bt(s,r,f,l)}r=r.child}return r;case 26:return pl(s,r),s===null?(l=Fg(r.type,null,r.pendingProps,null))?r.memoizedState=l:st||(l=r.type,s=r.pendingProps,f=kl(oe.current).createElement(l),f[zt]=r,f[sn]=s,Vt(f,l,s),Ut(f),r.stateNode=f):r.memoizedState=Fg(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return it(r),s===null&&st&&(f=r.stateNode=jg(r.type,r.pendingProps,oe.current),Wt=r,Gn=!0,g=Tt,Fi(r.type)?(Bd=g,Tt=On(f.firstChild)):Tt=g),Bt(s,r,r.pendingProps.children,l),pl(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&st&&((g=f=Tt)&&(f=b_(f,r.type,r.pendingProps,Gn),f!==null?(r.stateNode=f,Wt=r,Tt=On(f.firstChild),Gn=!1,g=!0):g=!1),g||fs(r)),it(r),g=r.type,x=r.pendingProps,_=s!==null?s.memoizedProps:null,f=x.children,Pd(g,x)?f=null:_!==null&&Pd(g,_)&&(r.flags|=32),r.memoizedState!==null&&(g=Ic(s,r,Bb,null,null,l),Ko._currentValue=g),pl(s,r),Bt(s,r,f,l),r.child;case 6:return s===null&&st&&((s=l=Tt)&&(l=__(l,r.pendingProps,Gn),l!==null?(r.stateNode=l,Wt=r,Tt=null,s=!0):s=!1),s||fs(r)),null;case 13:return Lp(s,r,l);case 4:return Ae(r,r.stateNode.containerInfo),f=r.pendingProps,s===null?r.child=ur(r,null,f,l):Bt(s,r,f,l),r.child;case 11:return Np(s,r,r.type,r.pendingProps,l);case 7:return Bt(s,r,r.pendingProps,l),r.child;case 8:return Bt(s,r,r.pendingProps.children,l),r.child;case 12:return Bt(s,r,r.pendingProps.children,l),r.child;case 10:return f=r.pendingProps,Ni(r,r.type,f.value),Bt(s,r,f.children,l),r.child;case 9:return g=r.type._context,f=r.pendingProps.children,ms(r),g=Gt(g),f=f(g),r.flags|=1,Bt(s,r,f,l),r.child;case 14:return Rp(s,r,r.type,r.pendingProps,l);case 15:return kp(s,r,r.type,r.pendingProps,l);case 19:return qp(s,r,l);case 31:return f=r.pendingProps,l=r.mode,f={mode:f.mode,children:f.children},s===null?(l=gl(f,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ri(s.child,f),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Mp(s,r,l);case 24:return ms(r),f=Gt(kt),s===null?(g=Cc(),g===null&&(g=ht,x=Sc(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),r.memoizedState={parent:f,cache:g},Ac(r),Ni(r,kt,g)):((s.lanes&l)!==0&&(Nc(s,r),Ao(r,null,null,l),Eo()),g=s.memoizedState,x=r.memoizedState,g.parent!==f?(g={parent:f,cache:f},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ni(r,kt,f)):(f=x.cache,Ni(r,kt,f),f!==g.cache&&_c(r,[kt],l,!0))),Bt(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function hi(s){s.flags|=4}function jp(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Yg(r)){if(r=Nn.current,r!==null&&((We&4194048)===We?Hn!==null:(We&62914560)!==We&&(We&536870912)===0||r!==Hn))throw wo=Ec,Sm;s.flags|=8192}}function yl(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?nn():536870912,s.lanes|=r,hr|=r)}function Io(s,r){if(!st)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function xt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,f=0;if(r)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=l,r}function Yb(s,r,l){var f=r.pendingProps;switch(vc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(r),null;case 1:return xt(r),null;case 3:return l=r.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),ui(kt),et(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(yo(r)?hi(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,vm())),xt(r),null;case 26:return l=r.memoizedState,s===null?(hi(r),l!==null?(xt(r),jp(r,l)):(xt(r),r.flags&=-16777217)):l?l!==s.memoizedState?(hi(r),xt(r),jp(r,l)):(xt(r),r.flags&=-16777217):(s.memoizedProps!==f&&hi(r),xt(r),r.flags&=-16777217),null;case 27:Rt(r),l=oe.current;var g=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==f&&hi(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return xt(r),null}s=re.current,yo(r)?gm(r):(s=jg(g,f,l),r.stateNode=s,hi(r))}return xt(r),null;case 5:if(Rt(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==f&&hi(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return xt(r),null}if(s=re.current,yo(r))gm(r);else{switch(g=kl(oe.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}s[zt]=r,s[sn]=f;e:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break e;for(;g.sibling===null;){if(g.return===null||g.return===r)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=s;e:switch(Vt(s,l,f),l){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&hi(r)}}return xt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==f&&hi(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(i(166));if(s=oe.current,yo(r)){if(s=r.stateNode,l=r.memoizedProps,f=null,g=Wt,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}s[zt]=r,s=!!(s.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Ug(s.nodeValue,l)),s||fs(r)}else s=kl(s).createTextNode(f),s[zt]=r,r.stateNode=s}return xt(r),null;case 13:if(f=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=yo(r),f!==null&&f.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[zt]=r}else vo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;xt(r),g=!1}else g=vm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(di(r),r):(di(r),null)}if(di(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=f!==null,s=s!==null&&s.memoizedState!==null,l){f=r.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==g&&(f.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),yl(r,r.updateQueue),xt(r),null;case 4:return et(),s===null&&kd(r.stateNode.containerInfo),xt(r),null;case 10:return ui(r.type),xt(r),null;case 19:if(B(Mt),g=r.memoizedState,g===null)return xt(r),null;if(f=(r.flags&128)!==0,x=g.rendering,x===null)if(f)Io(g,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(x=fl(s),x!==null){for(r.flags|=128,Io(g,!1),s=x.updateQueue,r.updateQueue=s,yl(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)mm(l,s),l=l.sibling;return W(Mt,Mt.current&1|2),r.child}s=s.sibling}g.tail!==null&&qe()>Tl&&(r.flags|=128,f=!0,Io(g,!1),r.lanes=4194304)}else{if(!f)if(s=fl(x),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,yl(r,s),Io(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!st)return xt(r),null}else 2*qe()-g.renderingStartTime>Tl&&l!==536870912&&(r.flags|=128,f=!0,Io(g,!1),r.lanes=4194304);g.isBackwards?(x.sibling=r.child,r.child=x):(s=g.last,s!==null?s.sibling=x:r.child=x,g.last=x)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=qe(),r.sibling=null,s=Mt.current,W(Mt,f?s&1|2:s&1),r):(xt(r),null);case 22:case 23:return di(r),Dc(),f=r.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(l&536870912)!==0&&(r.flags&128)===0&&(xt(r),r.subtreeFlags&6&&(r.flags|=8192)):xt(r),l=r.updateQueue,l!==null&&yl(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==l&&(r.flags|=2048),s!==null&&B(ps),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ui(kt),xt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Kb(s,r){switch(vc(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ui(kt),et(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Rt(r),null;case 13:if(di(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));vo()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return B(Mt),null;case 4:return et(),null;case 10:return ui(r.type),null;case 22:case 23:return di(r),Dc(),s!==null&&B(ps),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ui(kt),null;case 25:return null;default:return null}}function Vp(s,r){switch(vc(r),r.tag){case 3:ui(kt),et();break;case 26:case 27:case 5:Rt(r);break;case 4:et();break;case 13:di(r);break;case 19:B(Mt);break;case 10:ui(r.type);break;case 22:case 23:di(r),Dc(),s!==null&&B(ps);break;case 24:ui(kt)}}function Po(s,r){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&s)===s){f=void 0;var x=l.create,_=l.inst;f=x(),_.destroy=f}l=l.next}while(l!==g)}}catch(E){ft(r,r.return,E)}}function Pi(s,r,l){try{var f=r.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var x=g.next;f=x;do{if((f.tag&s)===s){var _=f.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,g=r;var U=l,G=E;try{G()}catch(te){ft(g,U,te)}}}f=f.next}while(f!==x)}}catch(te){ft(r,r.return,te)}}function $p(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{Rm(r,l)}catch(f){ft(s,s.return,f)}}}function Fp(s,r,l){l.props=ys(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(f){ft(s,r,f)}}function Lo(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof l=="function"?s.refCleanup=l(f):l.current=f}}catch(g){ft(s,r,g)}}function Jn(s,r){var l=s.ref,f=s.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){ft(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ft(s,r,g)}else l.current=null}function zp(s){var r=s.type,l=s.memoizedProps,f=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){ft(s,s.return,g)}}function od(s,r,l){try{var f=s.stateNode;g_(f,s.type,l,r),f[sn]=r}catch(g){ft(s,s.return,g)}}function Gp(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Fi(s.type)||s.tag===4}function ad(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Gp(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Fi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ld(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Rl));else if(f!==4&&(f===27&&Fi(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(ld(s,r,l),s=s.sibling;s!==null;)ld(s,r,l),s=s.sibling}function vl(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(f!==4&&(f===27&&Fi(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(vl(s,r,l),s=s.sibling;s!==null;)vl(s,r,l),s=s.sibling}function Hp(s){var r=s.stateNode,l=s.memoizedProps;try{for(var f=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Vt(r,f,l),r[zt]=s,r[sn]=l}catch(x){ft(s,s.return,x)}}var mi=!1,wt=!1,ud=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Qb(s,r){if(s=s.containerInfo,Ud=Ll,s=sm(s),ac(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var _=0,E=-1,U=-1,G=0,te=0,se=s,J=null;t:for(;;){for(var Q;se!==l||g!==0&&se.nodeType!==3||(E=_+g),se!==x||f!==0&&se.nodeType!==3||(U=_+f),se.nodeType===3&&(_+=se.nodeValue.length),(Q=se.firstChild)!==null;)J=se,se=Q;for(;;){if(se===s)break t;if(J===l&&++G===g&&(E=_),J===x&&++te===f&&(U=_),(Q=se.nextSibling)!==null)break;se=J,J=se.parentNode}se=Q}l=E===-1||U===-1?null:{start:E,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Id={focusedElem:s,selectionRange:l},Ll=!1,Pt=r;Pt!==null;)if(r=Pt,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Pt=s;else for(;Pt!==null;){switch(r=Pt,x=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,l=r,g=x.memoizedProps,x=x.memoizedState,f=l.stateNode;try{var De=ys(l.type,g,l.elementType===l.type);s=f.getSnapshotBeforeUpdate(De,x),f.__reactInternalSnapshotBeforeUpdate=s}catch(ke){ft(l,l.return,ke)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Od(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Od(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Pt=s;break}Pt=r.return}}function Yp(s,r,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Li(s,l),f&4&&Po(5,l);break;case 1:if(Li(s,l),f&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(_){ft(l,l.return,_)}else{var g=ys(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){ft(l,l.return,_)}}f&64&&$p(l),f&512&&Lo(l,l.return);break;case 3:if(Li(s,l),f&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Rm(s,r)}catch(_){ft(l,l.return,_)}}break;case 27:r===null&&f&4&&Hp(l);case 26:case 5:Li(s,l),r===null&&f&4&&zp(l),f&512&&Lo(l,l.return);break;case 12:Li(s,l);break;case 13:Li(s,l),f&4&&Zp(s,l),f&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=r_.bind(null,l),S_(s,l))));break;case 22:if(f=l.memoizedState!==null||mi,!f){r=r!==null&&r.memoizedState!==null||wt,g=mi;var x=wt;mi=f,(wt=r)&&!x?Oi(s,l,(l.subtreeFlags&8772)!==0):Li(s,l),mi=g,wt=x}break;case 30:break;default:Li(s,l)}}function Kp(s){var r=s.alternate;r!==null&&(s.alternate=null,Kp(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&$u(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,an=!1;function pi(s,r,l){for(l=l.child;l!==null;)Qp(s,r,l),l=l.sibling}function Qp(s,r,l){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(pe,l)}catch{}switch(l.tag){case 26:wt||Jn(l,r),pi(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:wt||Jn(l,r);var f=vt,g=an;Fi(l.type)&&(vt=l.stateNode,an=!1),pi(s,r,l),Go(l.stateNode),vt=f,an=g;break;case 5:wt||Jn(l,r);case 6:if(f=vt,g=an,vt=null,pi(s,r,l),vt=f,an=g,vt!==null)if(an)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(x){ft(l,r,x)}else try{vt.removeChild(l.stateNode)}catch(x){ft(l,r,x)}break;case 18:vt!==null&&(an?(s=vt,qg(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Wo(s)):qg(vt,l.stateNode));break;case 4:f=vt,g=an,vt=l.stateNode.containerInfo,an=!0,pi(s,r,l),vt=f,an=g;break;case 0:case 11:case 14:case 15:wt||Pi(2,l,r),wt||Pi(4,l,r),pi(s,r,l);break;case 1:wt||(Jn(l,r),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Fp(l,r,f)),pi(s,r,l);break;case 21:pi(s,r,l);break;case 22:wt=(f=wt)||l.memoizedState!==null,pi(s,r,l),wt=f;break;default:pi(s,r,l)}}function Zp(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wo(s)}catch(l){ft(r,r.return,l)}}function Zb(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Jp),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Jp),r;default:throw Error(i(435,s.tag))}}function cd(s,r){var l=Zb(s);r.forEach(function(f){var g=o_.bind(null,s,f);l.has(f)||(l.add(f),f.then(g,g))})}function gn(s,r){var l=r.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],x=s,_=r,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Fi(E.type)){vt=E.stateNode,an=!1;break e}break;case 5:vt=E.stateNode,an=!1;break e;case 3:case 4:vt=E.stateNode.containerInfo,an=!0;break e}E=E.return}if(vt===null)throw Error(i(160));Qp(x,_,g),vt=null,an=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Xp(r,s),r=r.sibling}var Ln=null;function Xp(s,r){var l=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:gn(r,s),yn(s),f&4&&(Pi(3,s,s.return),Po(3,s),Pi(5,s,s.return));break;case 1:gn(r,s),yn(s),f&512&&(wt||l===null||Jn(l,l.return)),f&64&&mi&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=Ln;if(gn(r,s),yn(s),f&512&&(wt||l===null||Jn(l,l.return)),f&4){var x=l!==null?l.memoizedState:null;if(f=s.memoizedState,l===null)if(f===null)if(s.stateNode===null){e:{f=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":x=g.getElementsByTagName("title")[0],(!x||x[ro]||x[zt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(f),g.head.insertBefore(x,g.querySelector("head > title"))),Vt(x,f,l),x[zt]=s,Ut(x),f=x;break e;case"link":var _=Hg("link","href",g).get(f+(l.href||""));if(_){for(var E=0;E<_.length;E++)if(x=_[E],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(E,1);break t}}x=g.createElement(f),Vt(x,f,l),g.head.appendChild(x);break;case"meta":if(_=Hg("meta","content",g).get(f+(l.content||""))){for(E=0;E<_.length;E++)if(x=_[E],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(E,1);break t}}x=g.createElement(f),Vt(x,f,l),g.head.appendChild(x);break;default:throw Error(i(468,f))}x[zt]=s,Ut(x),f=x}s.stateNode=f}else Jg(g,s.type,s.stateNode);else s.stateNode=Gg(g,f,s.memoizedProps);else x!==f?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,f===null?Jg(g,s.type,s.stateNode):Gg(g,f,s.memoizedProps)):f===null&&s.stateNode!==null&&od(s,s.memoizedProps,l.memoizedProps)}break;case 27:gn(r,s),yn(s),f&512&&(wt||l===null||Jn(l,l.return)),l!==null&&f&4&&od(s,s.memoizedProps,l.memoizedProps);break;case 5:if(gn(r,s),yn(s),f&512&&(wt||l===null||Jn(l,l.return)),s.flags&32){g=s.stateNode;try{Gs(g,"")}catch(Q){ft(s,s.return,Q)}}f&4&&s.stateNode!=null&&(g=s.memoizedProps,od(s,g,l!==null?l.memoizedProps:g)),f&1024&&(ud=!0);break;case 6:if(gn(r,s),yn(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,l=s.stateNode;try{l.nodeValue=f}catch(Q){ft(s,s.return,Q)}}break;case 3:if(Ul=null,g=Ln,Ln=Ml(r.containerInfo),gn(r,s),Ln=g,yn(s),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Wo(r.containerInfo)}catch(Q){ft(s,s.return,Q)}ud&&(ud=!1,Wp(s));break;case 4:f=Ln,Ln=Ml(s.stateNode.containerInfo),gn(r,s),yn(s),Ln=f;break;case 12:gn(r,s),yn(s);break;case 13:gn(r,s),yn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gd=qe()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,cd(s,f)));break;case 22:g=s.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,G=mi,te=wt;if(mi=G||g,wt=te||U,gn(r,s),wt=te,mi=G,yn(s),f&8192)e:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||U||mi||wt||vs(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){U=l=r;try{if(x=U.stateNode,g)_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=U.stateNode;var se=U.memoizedProps.style,J=se!=null&&se.hasOwnProperty("display")?se.display:null;E.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Q){ft(U,U.return,Q)}}}else if(r.tag===6){if(l===null){U=r;try{U.stateNode.nodeValue=g?"":U.memoizedProps}catch(Q){ft(U,U.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=s.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,cd(s,l))));break;case 19:gn(r,s),yn(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,cd(s,f)));break;case 30:break;case 21:break;default:gn(r,s),yn(s)}}function yn(s){var r=s.flags;if(r&2){try{for(var l,f=s.return;f!==null;){if(Gp(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,x=ad(s);vl(s,x,g);break;case 5:var _=l.stateNode;l.flags&32&&(Gs(_,""),l.flags&=-33);var E=ad(s);vl(s,E,_);break;case 3:case 4:var U=l.stateNode.containerInfo,G=ad(s);ld(s,G,U);break;default:throw Error(i(161))}}catch(te){ft(s,s.return,te)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Wp(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Wp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Li(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Yp(s,r.alternate,r),r=r.sibling}function vs(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Pi(4,r,r.return),vs(r);break;case 1:Jn(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Fp(r,r.return,l),vs(r);break;case 27:Go(r.stateNode);case 26:case 5:Jn(r,r.return),vs(r);break;case 22:r.memoizedState===null&&vs(r);break;case 30:vs(r);break;default:vs(r)}s=s.sibling}}function Oi(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,g=s,x=r,_=x.flags;switch(x.tag){case 0:case 11:case 15:Oi(g,x,l),Po(4,x);break;case 1:if(Oi(g,x,l),f=x,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){ft(f,f.return,G)}if(f=x,g=f.updateQueue,g!==null){var E=f.stateNode;try{var U=g.shared.hiddenCallbacks;if(U!==null)for(g.shared.hiddenCallbacks=null,g=0;g<U.length;g++)Nm(U[g],E)}catch(G){ft(f,f.return,G)}}l&&_&64&&$p(x),Lo(x,x.return);break;case 27:Hp(x);case 26:case 5:Oi(g,x,l),l&&f===null&&_&4&&zp(x),Lo(x,x.return);break;case 12:Oi(g,x,l);break;case 13:Oi(g,x,l),l&&_&4&&Zp(g,x);break;case 22:x.memoizedState===null&&Oi(g,x,l),Lo(x,x.return);break;case 30:break;default:Oi(g,x,l)}r=r.sibling}}function dd(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&bo(l))}function fd(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&bo(s))}function Yn(s,r,l,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)eg(s,r,l,f),r=r.sibling}function eg(s,r,l,f){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Yn(s,r,l,f),g&2048&&Po(9,r);break;case 1:Yn(s,r,l,f);break;case 3:Yn(s,r,l,f),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&bo(s)));break;case 12:if(g&2048){Yn(s,r,l,f),s=r.stateNode;try{var x=r.memoizedProps,_=x.id,E=x.onPostCommit;typeof E=="function"&&E(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){ft(r,r.return,U)}}else Yn(s,r,l,f);break;case 13:Yn(s,r,l,f);break;case 23:break;case 22:x=r.stateNode,_=r.alternate,r.memoizedState!==null?x._visibility&2?Yn(s,r,l,f):Oo(s,r):x._visibility&2?Yn(s,r,l,f):(x._visibility|=2,cr(s,r,l,f,(r.subtreeFlags&10256)!==0)),g&2048&&dd(_,r);break;case 24:Yn(s,r,l,f),g&2048&&fd(r.alternate,r);break;default:Yn(s,r,l,f)}}function cr(s,r,l,f,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var x=s,_=r,E=l,U=f,G=_.flags;switch(_.tag){case 0:case 11:case 15:cr(x,_,E,U,g),Po(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&2?cr(x,_,E,U,g):Oo(x,_):(te._visibility|=2,cr(x,_,E,U,g)),g&&G&2048&&dd(_.alternate,_);break;case 24:cr(x,_,E,U,g),g&&G&2048&&fd(_.alternate,_);break;default:cr(x,_,E,U,g)}r=r.sibling}}function Oo(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,f=r,g=f.flags;switch(f.tag){case 22:Oo(l,f),g&2048&&dd(f.alternate,f);break;case 24:Oo(l,f),g&2048&&fd(f.alternate,f);break;default:Oo(l,f)}r=r.sibling}}var qo=8192;function dr(s){if(s.subtreeFlags&qo)for(s=s.child;s!==null;)tg(s),s=s.sibling}function tg(s){switch(s.tag){case 26:dr(s),s.flags&qo&&s.memoizedState!==null&&L_(Ln,s.memoizedState,s.memoizedProps);break;case 5:dr(s);break;case 3:case 4:var r=Ln;Ln=Ml(s.stateNode.containerInfo),dr(s),Ln=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=qo,qo=16777216,dr(s),qo=r):dr(s));break;default:dr(s)}}function ng(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Bo(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];Pt=f,sg(f,s)}ng(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ig(s),s=s.sibling}function ig(s){switch(s.tag){case 0:case 11:case 15:Bo(s),s.flags&2048&&Pi(9,s,s.return);break;case 3:Bo(s);break;case 12:Bo(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,xl(s)):Bo(s);break;default:Bo(s)}}function xl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];Pt=f,sg(f,s)}ng(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Pi(8,r,r.return),xl(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,xl(r));break;default:xl(r)}s=s.sibling}}function sg(s,r){for(;Pt!==null;){var l=Pt;switch(l.tag){case 0:case 11:case 15:Pi(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:bo(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Pt=f;else e:for(l=s;Pt!==null;){f=Pt;var g=f.sibling,x=f.return;if(Kp(f),f===l){Pt=null;break e}if(g!==null){g.return=x,Pt=g;break e}Pt=x}}}var Xb={getCacheForType:function(s){var r=Gt(kt),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},Wb=typeof WeakMap=="function"?WeakMap:Map,ot=0,ht=null,Ye=null,We=0,at=0,vn=null,qi=!1,fr=!1,hd=!1,gi=0,bt=0,Bi=0,xs=0,md=0,Rn=0,hr=0,jo=null,ln=null,pd=!1,gd=0,Tl=1/0,bl=null,ji=null,jt=0,Vi=null,mr=null,pr=0,yd=0,vd=null,rg=null,Vo=0,xd=null;function xn(){if((ot&2)!==0&&We!==0)return We&-We;if(Z.T!==null){var s=nr;return s!==0?s:Ed()}return bh()}function og(){Rn===0&&(Rn=(We&536870912)===0||st?is():536870912);var s=Nn.current;return s!==null&&(s.flags|=32),Rn}function Tn(s,r,l){(s===ht&&(at===2||at===9)||s.cancelPendingCommit!==null)&&(gr(s,0),$i(s,We,Rn,!1)),ni(s,l),((ot&2)===0||s!==ht)&&(s===ht&&((ot&2)===0&&(xs|=l),bt===4&&$i(s,We,Rn,!1)),Kn(s))}function ag(s,r,l){if((ot&6)!==0)throw Error(i(327));var f=!l&&(r&124)===0&&(r&s.expiredLanes)===0||tn(s,r),g=f?n_(s,r):_d(s,r,!0),x=f;do{if(g===0){fr&&!f&&$i(s,r,0,!1);break}else{if(l=s.current.alternate,x&&!e_(l)){g=_d(s,r,!1),x=!1;continue}if(g===2){if(x=r,s.errorRecoveryDisabledLanes&x)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var E=s;g=jo;var U=E.current.memoizedState.isDehydrated;if(U&&(gr(E,_).flags|=256),_=_d(E,_,!1),_!==2){if(hd&&!U){E.errorRecoveryDisabledLanes|=x,xs|=x,g=4;break e}x=ln,ln=g,x!==null&&(ln===null?ln=x:ln.push.apply(ln,x))}g=_}if(x=!1,g!==2)continue}}if(g===1){gr(s,0),$i(s,r,0,!0);break}e:{switch(f=s,x=g,x){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:$i(f,r,Rn,!qi);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=gd+300-qe(),10<g)){if($i(f,r,Rn,!qi),hn(f,0,!0)!==0)break e;f.timeoutHandle=Lg(lg.bind(null,f,l,ln,bl,pd,r,Rn,xs,hr,qi,x,2,-0,0),g);break e}lg(f,l,ln,bl,pd,r,Rn,xs,hr,qi,x,0,-0,0)}}break}while(!0);Kn(s)}function lg(s,r,l,f,g,x,_,E,U,G,te,se,J,Q){if(s.timeoutHandle=-1,se=r.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Yo={stylesheets:null,count:0,unsuspend:P_},tg(r),se=O_(),se!==null)){s.cancelPendingCommit=se(pg.bind(null,s,r,x,l,f,g,_,E,U,te,1,J,Q)),$i(s,x,_,!G);return}pg(s,r,x,l,f,g,_,E,U)}function e_(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],x=g.getSnapshot;g=g.value;try{if(!mn(x(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $i(s,r,l,f){r&=~md,r&=~xs,s.suspendedLanes|=r,s.pingedLanes&=~r,f&&(s.warmLanes|=r),f=s.expirationTimes;for(var g=r;0<g;){var x=31-pt(g),_=1<<x;f[x]=-1,g&=~_}l!==0&&Os(s,l,r)}function _l(){return(ot&6)===0?($o(0),!1):!0}function Td(){if(Ye!==null){if(at===0)var s=Ye.return;else s=Ye,li=hs=null,Oc(s),lr=null,Do=0,s=Ye;for(;s!==null;)Vp(s.alternate,s),s=s.return;Ye=null}}function gr(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,v_(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Td(),ht=s,Ye=l=ri(s.current,null),We=r,at=0,vn=null,qi=!1,fr=tn(s,r),hd=!1,hr=Rn=md=xs=Bi=bt=0,ln=jo=null,pd=!1,(r&8)!==0&&(r|=r&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=r;0<f;){var g=31-pt(f),x=1<<g;r|=s[g],f&=~x}return gi=r,za(),l}function ug(s,r){ze=null,Z.H=ul,r===So||r===Wa?(r=Em(),at=3):r===Sm?(r=Em(),at=4):at=r===Ap?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Ye===null&&(bt=1,ml(s,wn(r,s.current)))}function cg(){var s=Z.H;return Z.H=ul,s===null?ul:s}function dg(){var s=Z.A;return Z.A=Xb,s}function bd(){bt=4,qi||(We&4194048)!==We&&Nn.current!==null||(fr=!0),(Bi&134217727)===0&&(xs&134217727)===0||ht===null||$i(ht,We,Rn,!1)}function _d(s,r,l){var f=ot;ot|=2;var g=cg(),x=dg();(ht!==s||We!==r)&&(bl=null,gr(s,r)),r=!1;var _=bt;e:do try{if(at!==0&&Ye!==null){var E=Ye,U=vn;switch(at){case 8:Td(),_=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var G=at;if(at=0,vn=null,yr(s,E,U,G),l&&fr){_=0;break e}break;default:G=at,at=0,vn=null,yr(s,E,U,G)}}t_(),_=bt;break}catch(te){ug(s,te)}while(!0);return r&&s.shellSuspendCounter++,li=hs=null,ot=f,Z.H=g,Z.A=x,Ye===null&&(ht=null,We=0,za()),_}function t_(){for(;Ye!==null;)fg(Ye)}function n_(s,r){var l=ot;ot|=2;var f=cg(),g=dg();ht!==s||We!==r?(bl=null,Tl=qe()+500,gr(s,r)):fr=tn(s,r);e:do try{if(at!==0&&Ye!==null){r=Ye;var x=vn;t:switch(at){case 1:at=0,vn=null,yr(s,r,x,1);break;case 2:case 9:if(wm(x)){at=0,vn=null,hg(r);break}r=function(){at!==2&&at!==9||ht!==s||(at=7),Kn(s)},x.then(r,r);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:wm(x)?(at=0,vn=null,hg(r)):(at=0,vn=null,yr(s,r,x,7));break;case 5:var _=null;switch(Ye.tag){case 26:_=Ye.memoizedState;case 5:case 27:var E=Ye;if(!_||Yg(_)){at=0,vn=null;var U=E.sibling;if(U!==null)Ye=U;else{var G=E.return;G!==null?(Ye=G,Sl(G)):Ye=null}break t}}at=0,vn=null,yr(s,r,x,5);break;case 6:at=0,vn=null,yr(s,r,x,6);break;case 8:Td(),bt=6;break e;default:throw Error(i(462))}}i_();break}catch(te){ug(s,te)}while(!0);return li=hs=null,Z.H=f,Z.A=g,ot=l,Ye!==null?0:(ht=null,We=0,za(),bt)}function i_(){for(;Ye!==null&&!Re();)fg(Ye)}function fg(s){var r=Bp(s.alternate,s,gi);s.memoizedProps=s.pendingProps,r===null?Sl(s):Ye=r}function hg(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=Up(l,r,r.pendingProps,r.type,void 0,We);break;case 11:r=Up(l,r,r.pendingProps,r.type.render,r.ref,We);break;case 5:Oc(r);default:Vp(l,r),r=Ye=mm(r,gi),r=Bp(l,r,gi)}s.memoizedProps=s.pendingProps,r===null?Sl(s):Ye=r}function yr(s,r,l,f){li=hs=null,Oc(r),lr=null,Do=0;var g=r.return;try{if(Hb(s,g,r,l,We)){bt=1,ml(s,wn(l,s.current)),Ye=null;return}}catch(x){if(g!==null)throw Ye=g,x;bt=1,ml(s,wn(l,s.current)),Ye=null;return}r.flags&32768?(st||f===1?s=!0:fr||(We&536870912)!==0?s=!1:(qi=s=!0,(f===2||f===9||f===3||f===6)&&(f=Nn.current,f!==null&&f.tag===13&&(f.flags|=16384))),mg(r,s)):Sl(r)}function Sl(s){var r=s;do{if((r.flags&32768)!==0){mg(r,qi);return}s=r.return;var l=Yb(r.alternate,r,gi);if(l!==null){Ye=l;return}if(r=r.sibling,r!==null){Ye=r;return}Ye=r=s}while(r!==null);bt===0&&(bt=5)}function mg(s,r){do{var l=Kb(s.alternate,s);if(l!==null){l.flags&=32767,Ye=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Ye=s;return}Ye=s=l}while(s!==null);bt=6,Ye=null}function pg(s,r,l,f,g,x,_,E,U){s.cancelPendingCommit=null;do wl();while(jt!==0);if((ot&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(x=r.lanes|r.childLanes,x|=fc,Bu(s,l,x,_,E,U),s===ht&&(Ye=ht=null,We=0),mr=r,Vi=s,pr=l,yd=x,vd=g,rg=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,a_(be,function(){return Tg(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null,g=ae.p,ae.p=2,_=ot,ot|=4;try{Qb(s,r,l)}finally{ot=_,ae.p=g,Z.T=f}}jt=1,gg(),yg(),vg()}}function gg(){if(jt===1){jt=0;var s=Vi,r=mr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var f=ae.p;ae.p=2;var g=ot;ot|=4;try{Xp(r,s);var x=Id,_=sm(s.containerInfo),E=x.focusedElem,U=x.selectionRange;if(_!==E&&E&&E.ownerDocument&&im(E.ownerDocument.documentElement,E)){if(U!==null&&ac(E)){var G=U.start,te=U.end;if(te===void 0&&(te=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(te,E.value.length);else{var se=E.ownerDocument||document,J=se&&se.defaultView||window;if(J.getSelection){var Q=J.getSelection(),De=E.textContent.length,ke=Math.min(U.start,De),dt=U.end===void 0?ke:Math.min(U.end,De);!Q.extend&&ke>dt&&(_=dt,dt=ke,ke=_);var j=nm(E,ke),O=nm(E,dt);if(j&&O&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var F=se.createRange();F.setStart(j.node,j.offset),Q.removeAllRanges(),ke>dt?(Q.addRange(F),Q.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),Q.addRange(F))}}}}for(se=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&se.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<se.length;E++){var ie=se[E];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Ll=!!Ud,Id=Ud=null}finally{ot=g,ae.p=f,Z.T=l}}s.current=r,jt=2}}function yg(){if(jt===2){jt=0;var s=Vi,r=mr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var f=ae.p;ae.p=2;var g=ot;ot|=4;try{Yp(s,r.alternate,r)}finally{ot=g,ae.p=f,Z.T=l}}jt=3}}function vg(){if(jt===4||jt===3){jt=0,ue();var s=Vi,r=mr,l=pr,f=rg;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,mr=Vi=null,xg(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ji=null),ju(l),r=r.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(pe,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=Z.T,g=ae.p,ae.p=2,Z.T=null;try{for(var x=s.onRecoverableError,_=0;_<f.length;_++){var E=f[_];x(E.value,{componentStack:E.stack})}}finally{Z.T=r,ae.p=g}}(pr&3)!==0&&wl(),Kn(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===xd?Vo++:(Vo=0,xd=s):Vo=0,$o(0)}}function xg(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,bo(r)))}function wl(s){return gg(),yg(),vg(),Tg()}function Tg(){if(jt!==5)return!1;var s=Vi,r=yd;yd=0;var l=ju(pr),f=Z.T,g=ae.p;try{ae.p=32>l?32:l,Z.T=null,l=vd,vd=null;var x=Vi,_=pr;if(jt=0,mr=Vi=null,pr=0,(ot&6)!==0)throw Error(i(331));var E=ot;if(ot|=4,ig(x.current),eg(x,x.current,_,l),ot=E,$o(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(pe,x)}catch{}return!0}finally{ae.p=g,Z.T=f,xg(s,r)}}function bg(s,r,l){r=wn(l,r),r=Zc(s.stateNode,r,2),s=Mi(s,r,2),s!==null&&(ni(s,2),Kn(s))}function ft(s,r,l){if(s.tag===3)bg(s,s,l);else for(;r!==null;){if(r.tag===3){bg(r,s,l);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ji===null||!ji.has(f))){s=wn(l,s),l=Cp(2),f=Mi(r,l,2),f!==null&&(Ep(l,f,r,s),ni(f,2),Kn(f));break}}r=r.return}}function Sd(s,r,l){var f=s.pingCache;if(f===null){f=s.pingCache=new Wb;var g=new Set;f.set(r,g)}else g=f.get(r),g===void 0&&(g=new Set,f.set(r,g));g.has(l)||(hd=!0,g.add(l),s=s_.bind(null,s,r,l),r.then(s,s))}function s_(s,r,l){var f=s.pingCache;f!==null&&f.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ht===s&&(We&l)===l&&(bt===4||bt===3&&(We&62914560)===We&&300>qe()-gd?(ot&2)===0&&gr(s,0):md|=l,hr===We&&(hr=0)),Kn(s)}function _g(s,r){r===0&&(r=nn()),s=Xs(s,r),s!==null&&(ni(s,r),Kn(s))}function r_(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),_g(s,l)}function o_(s,r){var l=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(r),_g(s,l)}function a_(s,r){return me(s,r)}var Cl=null,vr=null,wd=!1,El=!1,Cd=!1,Ts=0;function Kn(s){s!==vr&&s.next===null&&(vr===null?Cl=vr=s:vr=vr.next=s),El=!0,wd||(wd=!0,u_())}function $o(s,r){if(!Cd&&El){Cd=!0;do for(var l=!1,f=Cl;f!==null;){if(s!==0){var g=f.pendingLanes;if(g===0)var x=0;else{var _=f.suspendedLanes,E=f.pingedLanes;x=(1<<31-pt(42|s)+1)-1,x&=g&~(_&~E),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,Eg(f,x))}else x=We,x=hn(f,f===ht?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||tn(f,x)||(l=!0,Eg(f,x));f=f.next}while(l);Cd=!1}}function l_(){Sg()}function Sg(){El=wd=!1;var s=0;Ts!==0&&(y_()&&(s=Ts),Ts=0);for(var r=qe(),l=null,f=Cl;f!==null;){var g=f.next,x=wg(f,r);x===0?(f.next=null,l===null?Cl=g:l.next=g,g===null&&(vr=l)):(l=f,(s!==0||(x&3)!==0)&&(El=!0)),f=g}$o(s)}function wg(s,r){for(var l=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var _=31-pt(x),E=1<<_,U=g[_];U===-1?((E&l)===0||(E&f)!==0)&&(g[_]=Ci(E,r)):U<=r&&(s.expiredLanes|=E),x&=~E}if(r=ht,l=We,l=hn(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,l===0||s===r&&(at===2||at===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&fe(f),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||tn(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(f!==null&&fe(f),ju(l)){case 2:case 8:l=Oe;break;case 32:l=be;break;case 268435456:l=He;break;default:l=be}return f=Cg.bind(null,s),l=me(l,f),s.callbackPriority=r,s.callbackNode=l,r}return f!==null&&f!==null&&fe(f),s.callbackPriority=2,s.callbackNode=null,2}function Cg(s,r){if(jt!==0&&jt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(wl()&&s.callbackNode!==l)return null;var f=We;return f=hn(s,s===ht?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(ag(s,f,r),wg(s,qe()),s.callbackNode!=null&&s.callbackNode===l?Cg.bind(null,s):null)}function Eg(s,r){if(wl())return null;ag(s,r,!0)}function u_(){x_(function(){(ot&6)!==0?me(rt,l_):Sg()})}function Ed(){return Ts===0&&(Ts=is()),Ts}function Ag(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Oa(""+s)}function Ng(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function c_(s,r,l,f,g){if(r==="submit"&&l&&l.stateNode===g){var x=Ag((g[sn]||null).action),_=f.submitter;_&&(r=(r=_[sn]||null)?Ag(r.formAction):_.getAttribute("formAction"),r!==null&&(x=r,_=null));var E=new Va("action","action",null,f,g);s.push({event:E,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ts!==0){var U=_?Ng(g,_):new FormData(g);Hc(l,{pending:!0,data:U,method:g.method,action:x},null,U)}}else typeof x=="function"&&(E.preventDefault(),U=_?Ng(g,_):new FormData(g),Hc(l,{pending:!0,data:U,method:g.method,action:x},x,U))},currentTarget:g}]})}}for(var Ad=0;Ad<dc.length;Ad++){var Nd=dc[Ad],d_=Nd.toLowerCase(),f_=Nd[0].toUpperCase()+Nd.slice(1);Pn(d_,"on"+f_)}Pn(am,"onAnimationEnd"),Pn(lm,"onAnimationIteration"),Pn(um,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Rb,"onTransitionRun"),Pn(kb,"onTransitionStart"),Pn(Mb,"onTransitionCancel"),Pn(cm,"onTransitionEnd"),$s("onMouseEnter",["mouseout","mouseover"]),$s("onMouseLeave",["mouseout","mouseover"]),$s("onPointerEnter",["pointerout","pointerover"]),$s("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function Rg(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var f=s[l],g=f.event;f=f.listeners;e:{var x=void 0;if(r)for(var _=f.length-1;0<=_;_--){var E=f[_],U=E.instance,G=E.currentTarget;if(E=E.listener,U!==x&&g.isPropagationStopped())break e;x=E,g.currentTarget=G;try{x(g)}catch(te){hl(te)}g.currentTarget=null,x=U}else for(_=0;_<f.length;_++){if(E=f[_],U=E.instance,G=E.currentTarget,E=E.listener,U!==x&&g.isPropagationStopped())break e;x=E,g.currentTarget=G;try{x(g)}catch(te){hl(te)}g.currentTarget=null,x=U}}}}function Ke(s,r){var l=r[Vu];l===void 0&&(l=r[Vu]=new Set);var f=s+"__bubble";l.has(f)||(kg(r,s,2,!1),l.add(f))}function Rd(s,r,l){var f=0;r&&(f|=4),kg(l,s,f,r)}var Al="_reactListening"+Math.random().toString(36).slice(2);function kd(s){if(!s[Al]){s[Al]=!0,Sh.forEach(function(l){l!=="selectionchange"&&(h_.has(l)||Rd(l,!1,s),Rd(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Al]||(r[Al]=!0,Rd("selectionchange",!1,r))}}function kg(s,r,l,f){switch(ey(r)){case 2:var g=j_;break;case 8:g=V_;break;default:g=zd}l=g.bind(null,r,l,s),g=void 0,!Xu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(r,l,{capture:!0,passive:g}):s.addEventListener(r,l,!0):g!==void 0?s.addEventListener(r,l,{passive:g}):s.addEventListener(r,l,!1)}function Md(s,r,l,f,g){var x=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var E=f.stateNode.containerInfo;if(E===g)break;if(_===4)for(_=f.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;E!==null;){if(_=Bs(E),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){f=x=_;continue e}E=E.parentNode}}f=f.return}Oh(function(){var G=x,te=Qu(l),se=[];e:{var J=dm.get(s);if(J!==void 0){var Q=Va,De=s;switch(s){case"keypress":if(Ba(l)===0)break e;case"keydown":case"keyup":Q=ab;break;case"focusin":De="focus",Q=nc;break;case"focusout":De="blur",Q=nc;break;case"beforeblur":case"afterblur":Q=nc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=KT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=cb;break;case am:case lm:case um:Q=XT;break;case cm:Q=fb;break;case"scroll":case"scrollend":Q=JT;break;case"wheel":Q=mb;break;case"copy":case"cut":case"paste":Q=eb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=$h;break;case"toggle":case"beforetoggle":Q=gb}var ke=(r&4)!==0,dt=!ke&&(s==="scroll"||s==="scrollend"),j=ke?J!==null?J+"Capture":null:J;ke=[];for(var O=G,F;O!==null;){var ie=O;if(F=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||F===null||j===null||(ie=ao(O,j),ie!=null&&ke.push(zo(O,ie,F))),dt)break;O=O.return}0<ke.length&&(J=new Q(J,De,null,l,te),se.push({event:J,listeners:ke}))}}if((r&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",J&&l!==Ku&&(De=l.relatedTarget||l.fromElement)&&(Bs(De)||De[qs]))break e;if((Q||J)&&(J=te.window===te?te:(J=te.ownerDocument)?J.defaultView||J.parentWindow:window,Q?(De=l.relatedTarget||l.toElement,Q=G,De=De?Bs(De):null,De!==null&&(dt=a(De),ke=De.tag,De!==dt||ke!==5&&ke!==27&&ke!==6)&&(De=null)):(Q=null,De=G),Q!==De)){if(ke=jh,ie="onMouseLeave",j="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(ke=$h,ie="onPointerLeave",j="onPointerEnter",O="pointer"),dt=Q==null?J:oo(Q),F=De==null?J:oo(De),J=new ke(ie,O+"leave",Q,l,te),J.target=dt,J.relatedTarget=F,ie=null,Bs(te)===G&&(ke=new ke(j,O+"enter",De,l,te),ke.target=F,ke.relatedTarget=dt,ie=ke),dt=ie,Q&&De)t:{for(ke=Q,j=De,O=0,F=ke;F;F=xr(F))O++;for(F=0,ie=j;ie;ie=xr(ie))F++;for(;0<O-F;)ke=xr(ke),O--;for(;0<F-O;)j=xr(j),F--;for(;O--;){if(ke===j||j!==null&&ke===j.alternate)break t;ke=xr(ke),j=xr(j)}ke=null}else ke=null;Q!==null&&Mg(se,J,Q,ke,!1),De!==null&&dt!==null&&Mg(se,dt,De,ke,!0)}}e:{if(J=G?oo(G):window,Q=J.nodeName&&J.nodeName.toLowerCase(),Q==="select"||Q==="input"&&J.type==="file")var ge=Qh;else if(Yh(J))if(Zh)ge=Eb;else{ge=wb;var Ge=Sb}else Q=J.nodeName,!Q||Q.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?G&&Yu(G.elementType)&&(ge=Qh):ge=Cb;if(ge&&(ge=ge(s,G))){Kh(se,ge,l,te);break e}Ge&&Ge(s,J,G),s==="focusout"&&G&&J.type==="number"&&G.memoizedProps.value!=null&&Ju(J,"number",J.value)}switch(Ge=G?oo(G):window,s){case"focusin":(Yh(Ge)||Ge.contentEditable==="true")&&(Ks=Ge,lc=G,go=null);break;case"focusout":go=lc=Ks=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,rm(se,l,te);break;case"selectionchange":if(Nb)break;case"keydown":case"keyup":rm(se,l,te)}var Te;if(sc)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ys?Hh(s,l)&&(Me="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Me="onCompositionStart");Me&&(Fh&&l.locale!=="ko"&&(Ys||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ys&&(Te=qh()):(Ai=te,Wu="value"in Ai?Ai.value:Ai.textContent,Ys=!0)),Ge=Nl(G,Me),0<Ge.length&&(Me=new Vh(Me,s,null,l,te),se.push({event:Me,listeners:Ge}),Te?Me.data=Te:(Te=Jh(l),Te!==null&&(Me.data=Te)))),(Te=vb?xb(s,l):Tb(s,l))&&(Me=Nl(G,"onBeforeInput"),0<Me.length&&(Ge=new Vh("onBeforeInput","beforeinput",null,l,te),se.push({event:Ge,listeners:Me}),Ge.data=Te)),c_(se,s,G,l,te)}Rg(se,r)})}function zo(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Nl(s,r){for(var l=r+"Capture",f=[];s!==null;){var g=s,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=ao(s,l),g!=null&&f.unshift(zo(s,g,x)),g=ao(s,r),g!=null&&f.push(zo(s,g,x))),s.tag===3)return f;s=s.return}return[]}function xr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Mg(s,r,l,f,g){for(var x=r._reactName,_=[];l!==null&&l!==f;){var E=l,U=E.alternate,G=E.stateNode;if(E=E.tag,U!==null&&U===f)break;E!==5&&E!==26&&E!==27||G===null||(U=G,g?(G=ao(l,x),G!=null&&_.unshift(zo(l,G,U))):g||(G=ao(l,x),G!=null&&_.push(zo(l,G,U)))),l=l.return}_.length!==0&&s.push({event:r,listeners:_})}var m_=/\r\n?/g,p_=/\u0000|\uFFFD/g;function Dg(s){return(typeof s=="string"?s:""+s).replace(m_,`
`).replace(p_,"")}function Ug(s,r){return r=Dg(r),Dg(s)===r}function Rl(){}function ct(s,r,l,f,g,x){switch(l){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||Gs(s,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&Gs(s,""+f);break;case"className":Ia(s,"class",f);break;case"tabIndex":Ia(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ia(s,l,f);break;case"style":Ph(s,f,x);break;case"data":if(r!=="object"){Ia(s,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=Oa(""+f),s.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(r!=="input"&&ct(s,r,"name",g.name,g,null),ct(s,r,"formEncType",g.formEncType,g,null),ct(s,r,"formMethod",g.formMethod,g,null),ct(s,r,"formTarget",g.formTarget,g,null)):(ct(s,r,"encType",g.encType,g,null),ct(s,r,"method",g.method,g,null),ct(s,r,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=Oa(""+f),s.setAttribute(l,f);break;case"onClick":f!=null&&(s.onclick=Rl);break;case"onScroll":f!=null&&Ke("scroll",s);break;case"onScrollEnd":f!=null&&Ke("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}l=Oa(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""+f):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":f===!0?s.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,f):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(l,f):s.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(l):s.setAttribute(l,f);break;case"popover":Ke("beforetoggle",s),Ke("toggle",s),Ua(s,"popover",f);break;case"xlinkActuate":ii(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ii(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ii(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ii(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ii(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ii(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ii(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ii(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ii(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ua(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=GT.get(l)||l,Ua(s,l,f))}}function Dd(s,r,l,f,g,x){switch(l){case"style":Ph(s,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof f=="string"?Gs(s,f):(typeof f=="number"||typeof f=="bigint")&&Gs(s,""+f);break;case"onScroll":f!=null&&Ke("scroll",s);break;case"onScrollEnd":f!=null&&Ke("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Rl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wh.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),x=s[sn]||null,x=x!=null?x[l]:null,typeof x=="function"&&s.removeEventListener(r,x,g),typeof f=="function")){typeof x!="function"&&x!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,f,g);break e}l in s?s[l]=f:f===!0?s.setAttribute(l,""):Ua(s,l,f)}}}function Vt(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",s),Ke("load",s);var f=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var _=l[x];if(_!=null)switch(x){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ct(s,r,x,_,l,null)}}g&&ct(s,r,"srcSet",l.srcSet,l,null),f&&ct(s,r,"src",l.src,l,null);return;case"input":Ke("invalid",s);var E=x=_=g=null,U=null,G=null;for(f in l)if(l.hasOwnProperty(f)){var te=l[f];if(te!=null)switch(f){case"name":g=te;break;case"type":_=te;break;case"checked":U=te;break;case"defaultChecked":G=te;break;case"value":x=te;break;case"defaultValue":E=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:ct(s,r,f,te,l,null)}}Mh(s,x,E,U,G,_,g,!1),Pa(s);return;case"select":Ke("invalid",s),f=_=x=null;for(g in l)if(l.hasOwnProperty(g)&&(E=l[g],E!=null))switch(g){case"value":x=E;break;case"defaultValue":_=E;break;case"multiple":f=E;default:ct(s,r,g,E,l,null)}r=x,l=_,s.multiple=!!f,r!=null?zs(s,!!f,r,!1):l!=null&&zs(s,!!f,l,!0);return;case"textarea":Ke("invalid",s),x=g=f=null;for(_ in l)if(l.hasOwnProperty(_)&&(E=l[_],E!=null))switch(_){case"value":f=E;break;case"defaultValue":g=E;break;case"children":x=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:ct(s,r,_,E,l,null)}Uh(s,f,g,x),Pa(s);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(f=l[U],f!=null))switch(U){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ct(s,r,U,f,l,null)}return;case"dialog":Ke("beforetoggle",s),Ke("toggle",s),Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":Ke("load",s);break;case"video":case"audio":for(f=0;f<Fo.length;f++)Ke(Fo[f],s);break;case"image":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"embed":case"source":case"link":Ke("error",s),Ke("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(f=l[G],f!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ct(s,r,G,f,l,null)}return;default:if(Yu(r)){for(te in l)l.hasOwnProperty(te)&&(f=l[te],f!==void 0&&Dd(s,r,te,f,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(f=l[E],f!=null&&ct(s,r,E,f,l,null))}function g_(s,r,l,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,_=null,E=null,U=null,G=null,te=null;for(Q in l){var se=l[Q];if(l.hasOwnProperty(Q)&&se!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":U=se;default:f.hasOwnProperty(Q)||ct(s,r,Q,null,f,se)}}for(var J in f){var Q=f[J];if(se=l[J],f.hasOwnProperty(J)&&(Q!=null||se!=null))switch(J){case"type":x=Q;break;case"name":g=Q;break;case"checked":G=Q;break;case"defaultChecked":te=Q;break;case"value":_=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==se&&ct(s,r,J,Q,f,se)}}Hu(s,_,E,U,G,te,x,g);return;case"select":Q=_=E=J=null;for(x in l)if(U=l[x],l.hasOwnProperty(x)&&U!=null)switch(x){case"value":break;case"multiple":Q=U;default:f.hasOwnProperty(x)||ct(s,r,x,null,f,U)}for(g in f)if(x=f[g],U=l[g],f.hasOwnProperty(g)&&(x!=null||U!=null))switch(g){case"value":J=x;break;case"defaultValue":E=x;break;case"multiple":_=x;default:x!==U&&ct(s,r,g,x,f,U)}r=E,l=_,f=Q,J!=null?zs(s,!!l,J,!1):!!f!=!!l&&(r!=null?zs(s,!!l,r,!0):zs(s,!!l,l?[]:"",!1));return;case"textarea":Q=J=null;for(E in l)if(g=l[E],l.hasOwnProperty(E)&&g!=null&&!f.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ct(s,r,E,null,f,g)}for(_ in f)if(g=f[_],x=l[_],f.hasOwnProperty(_)&&(g!=null||x!=null))switch(_){case"value":J=g;break;case"defaultValue":Q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==x&&ct(s,r,_,g,f,x)}Dh(s,J,Q);return;case"option":for(var De in l)if(J=l[De],l.hasOwnProperty(De)&&J!=null&&!f.hasOwnProperty(De))switch(De){case"selected":s.selected=!1;break;default:ct(s,r,De,null,f,J)}for(U in f)if(J=f[U],Q=l[U],f.hasOwnProperty(U)&&J!==Q&&(J!=null||Q!=null))switch(U){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ct(s,r,U,J,f,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)J=l[ke],l.hasOwnProperty(ke)&&J!=null&&!f.hasOwnProperty(ke)&&ct(s,r,ke,null,f,J);for(G in f)if(J=f[G],Q=l[G],f.hasOwnProperty(G)&&J!==Q&&(J!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:ct(s,r,G,J,f,Q)}return;default:if(Yu(r)){for(var dt in l)J=l[dt],l.hasOwnProperty(dt)&&J!==void 0&&!f.hasOwnProperty(dt)&&Dd(s,r,dt,void 0,f,J);for(te in f)J=f[te],Q=l[te],!f.hasOwnProperty(te)||J===Q||J===void 0&&Q===void 0||Dd(s,r,te,J,f,Q);return}}for(var j in l)J=l[j],l.hasOwnProperty(j)&&J!=null&&!f.hasOwnProperty(j)&&ct(s,r,j,null,f,J);for(se in f)J=f[se],Q=l[se],!f.hasOwnProperty(se)||J===Q||J==null&&Q==null||ct(s,r,se,J,f,Q)}var Ud=null,Id=null;function kl(s){return s.nodeType===9?s:s.ownerDocument}function Ig(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pg(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Pd(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ld=null;function y_(){var s=window.event;return s&&s.type==="popstate"?s===Ld?!1:(Ld=s,!0):(Ld=null,!1)}var Lg=typeof setTimeout=="function"?setTimeout:void 0,v_=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,x_=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(s){return Og.resolve(null).then(s).catch(T_)}:Lg;function T_(s){setTimeout(function(){throw s})}function Fi(s){return s==="head"}function qg(s,r){var l=r,f=0,g=0;do{var x=l.nextSibling;if(s.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<f&&8>f){l=f;var _=s.ownerDocument;if(l&1&&Go(_.documentElement),l&2&&Go(_.body),l&4)for(l=_.head,Go(l),_=l.firstChild;_;){var E=_.nextSibling,U=_.nodeName;_[ro]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=E}}if(g===0){s.removeChild(x),Wo(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=x}while(l);Wo(r)}function Od(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Od(l),$u(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function b_(s,r,l,f){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[ro])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=On(s.nextSibling),s===null)break}return null}function __(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=On(s.nextSibling),s===null))return null;return s}function qd(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function S_(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var f=function(){r(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function On(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Bd=null;function Bg(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function jg(s,r,l){switch(r=kl(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Go(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);$u(s)}var kn=new Map,Vg=new Set;function Ml(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var yi=ae.d;ae.d={f:w_,r:C_,D:E_,C:A_,L:N_,m:R_,X:M_,S:k_,M:D_};function w_(){var s=yi.f(),r=_l();return s||r}function C_(s){var r=js(s);r!==null&&r.tag===5&&r.type==="form"?ap(r):yi.r(s)}var Tr=typeof document>"u"?null:document;function $g(s,r,l){var f=Tr;if(f&&typeof r=="string"&&r){var g=Sn(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Vg.has(g)||(Vg.add(g),s={rel:s,crossOrigin:l,href:r},f.querySelector(g)===null&&(r=f.createElement("link"),Vt(r,"link",s),Ut(r),f.head.appendChild(r)))}}function E_(s){yi.D(s),$g("dns-prefetch",s,null)}function A_(s,r){yi.C(s,r),$g("preconnect",s,r)}function N_(s,r,l){yi.L(s,r,l);var f=Tr;if(f&&s&&r){var g='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Sn(l.imageSizes)+'"]')):g+='[href="'+Sn(s)+'"]';var x=g;switch(r){case"style":x=br(s);break;case"script":x=_r(s)}kn.has(x)||(s=y({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),kn.set(x,s),f.querySelector(g)!==null||r==="style"&&f.querySelector(Ho(x))||r==="script"&&f.querySelector(Jo(x))||(r=f.createElement("link"),Vt(r,"link",s),Ut(r),f.head.appendChild(r)))}}function R_(s,r){yi.m(s,r);var l=Tr;if(l&&s){var f=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Sn(f)+'"][href="'+Sn(s)+'"]',x=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=_r(s)}if(!kn.has(x)&&(s=y({rel:"modulepreload",href:s},r),kn.set(x,s),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Jo(x)))return}f=l.createElement("link"),Vt(f,"link",s),Ut(f),l.head.appendChild(f)}}}function k_(s,r,l){yi.S(s,r,l);var f=Tr;if(f&&s){var g=Vs(f).hoistableStyles,x=br(s);r=r||"default";var _=g.get(x);if(!_){var E={loading:0,preload:null};if(_=f.querySelector(Ho(x)))E.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":r},l),(l=kn.get(x))&&jd(s,l);var U=_=f.createElement("link");Ut(U),Vt(U,"link",s),U._p=new Promise(function(G,te){U.onload=G,U.onerror=te}),U.addEventListener("load",function(){E.loading|=1}),U.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Dl(_,r,f)}_={type:"stylesheet",instance:_,count:1,state:E},g.set(x,_)}}}function M_(s,r){yi.X(s,r);var l=Tr;if(l&&s){var f=Vs(l).hoistableScripts,g=_r(s),x=f.get(g);x||(x=l.querySelector(Jo(g)),x||(s=y({src:s,async:!0},r),(r=kn.get(g))&&Vd(s,r),x=l.createElement("script"),Ut(x),Vt(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function D_(s,r){yi.M(s,r);var l=Tr;if(l&&s){var f=Vs(l).hoistableScripts,g=_r(s),x=f.get(g);x||(x=l.querySelector(Jo(g)),x||(s=y({src:s,async:!0,type:"module"},r),(r=kn.get(g))&&Vd(s,r),x=l.createElement("script"),Ut(x),Vt(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function Fg(s,r,l,f){var g=(g=oe.current)?Ml(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=br(l.href),l=Vs(g).hoistableStyles,f=l.get(r),f||(f={type:"style",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=br(l.href);var x=Vs(g).hoistableStyles,_=x.get(s);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,_),(x=g.querySelector(Ho(s)))&&!x._p&&(_.instance=x,_.state.loading=5),kn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},kn.set(s,l),x||U_(g,s,l,_.state))),r&&f===null)throw Error(i(528,""));return _}if(r&&f!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=_r(l),l=Vs(g).hoistableScripts,f=l.get(r),f||(f={type:"script",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function br(s){return'href="'+Sn(s)+'"'}function Ho(s){return'link[rel="stylesheet"]['+s+"]"}function zg(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function U_(s,r,l,f){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=s.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),Vt(r,"link",l),Ut(r),s.head.appendChild(r))}function _r(s){return'[src="'+Sn(s)+'"]'}function Jo(s){return"script[async]"+s}function Gg(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var f=s.querySelector('style[data-href~="'+Sn(l.href)+'"]');if(f)return r.instance=f,Ut(f),f;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Ut(f),Vt(f,"style",g),Dl(f,l.precedence,s),r.instance=f;case"stylesheet":g=br(l.href);var x=s.querySelector(Ho(g));if(x)return r.state.loading|=4,r.instance=x,Ut(x),x;f=zg(l),(g=kn.get(g))&&jd(f,g),x=(s.ownerDocument||s).createElement("link"),Ut(x);var _=x;return _._p=new Promise(function(E,U){_.onload=E,_.onerror=U}),Vt(x,"link",f),r.state.loading|=4,Dl(x,l.precedence,s),r.instance=x;case"script":return x=_r(l.src),(g=s.querySelector(Jo(x)))?(r.instance=g,Ut(g),g):(f=l,(g=kn.get(x))&&(f=y({},l),Vd(f,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ut(g),Vt(g,"link",f),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,Dl(f,l.precedence,s));return r.instance}function Dl(s,r,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,x=g,_=0;_<f.length;_++){var E=f[_];if(E.dataset.precedence===r)x=E;else if(x!==g)break}x?x.parentNode.insertBefore(s,x.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function jd(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Vd(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Ul=null;function Hg(s,r,l){if(Ul===null){var f=new Map,g=Ul=new Map;g.set(l,f)}else g=Ul,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(s))return f;for(f.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var x=l[g];if(!(x[ro]||x[zt]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var _=x.getAttribute(r)||"";_=s+_;var E=f.get(_);E?E.push(x):f.set(_,[x])}}return f}function Jg(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function I_(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Yg(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Yo=null;function P_(){}function L_(s,r,l){if(Yo===null)throw Error(i(475));var f=Yo;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=br(l.href),x=s.querySelector(Ho(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Il.bind(f),s.then(f,f)),r.state.loading|=4,r.instance=x,Ut(x);return}x=s.ownerDocument||s,l=zg(l),(g=kn.get(g))&&jd(l,g),x=x.createElement("link"),Ut(x);var _=x;_._p=new Promise(function(E,U){_.onload=E,_.onerror=U}),Vt(x,"link",l),r.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(f.count++,r=Il.bind(f),s.addEventListener("load",r),s.addEventListener("error",r))}}function O_(){if(Yo===null)throw Error(i(475));var s=Yo;return s.stylesheets&&s.count===0&&$d(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&$d(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Il(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Pl=null;function $d(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Pl=new Map,r.forEach(q_,s),Pl=null,Il.call(s))}function q_(s,r){if(!(r.state.loading&4)){var l=Pl.get(s);if(l)var f=l.get(null);else{l=new Map,Pl.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var _=g[x];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),f=_)}f&&l.set(null,f)}g=r.instance,_=g.getAttribute("data-precedence"),x=l.get(_)||f,x===f&&l.set(null,g),l.set(_,g),this.count++,f=Il.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),x?x.parentNode.insertBefore(g,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var Ko={$$typeof:D,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function B_(s,r,l,f,g,x,_,E){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.hiddenUpdates=Ft(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Kg(s,r,l,f,g,x,_,E,U,G,te,se){return s=new B_(s,r,l,_,E,U,G,se),r=1,x===!0&&(r|=24),x=pn(3,null,null,r),s.current=x,x.stateNode=s,r=Sc(),r.refCount++,s.pooledCache=r,r.refCount++,x.memoizedState={element:f,isDehydrated:l,cache:r},Ac(x),s}function Qg(s){return s?(s=Ws,s):Ws}function Zg(s,r,l,f,g,x){g=Qg(g),f.context===null?f.context=g:f.pendingContext=g,f=ki(r),f.payload={element:l},x=x===void 0?null:x,x!==null&&(f.callback=x),l=Mi(s,f,r),l!==null&&(Tn(l,s,r),Co(l,s,r))}function Xg(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Fd(s,r){Xg(s,r),(s=s.alternate)&&Xg(s,r)}function Wg(s){if(s.tag===13){var r=Xs(s,67108864);r!==null&&Tn(r,s,67108864),Fd(s,67108864)}}var Ll=!0;function j_(s,r,l,f){var g=Z.T;Z.T=null;var x=ae.p;try{ae.p=2,zd(s,r,l,f)}finally{ae.p=x,Z.T=g}}function V_(s,r,l,f){var g=Z.T;Z.T=null;var x=ae.p;try{ae.p=8,zd(s,r,l,f)}finally{ae.p=x,Z.T=g}}function zd(s,r,l,f){if(Ll){var g=Gd(f);if(g===null)Md(s,r,f,Ol,l),ty(s,f);else if(F_(g,s,r,l,f))f.stopPropagation();else if(ty(s,f),r&4&&-1<$_.indexOf(s)){for(;g!==null;){var x=js(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var _=Xt(x.pendingLanes);if(_!==0){var E=x;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var U=1<<31-pt(_);E.entanglements[1]|=U,_&=~U}Kn(x),(ot&6)===0&&(Tl=qe()+500,$o(0))}}break;case 13:E=Xs(x,2),E!==null&&Tn(E,x,2),_l(),Fd(x,2)}if(x=Gd(f),x===null&&Md(s,r,f,Ol,l),x===g)break;g=x}g!==null&&f.stopPropagation()}else Md(s,r,f,null,l)}}function Gd(s){return s=Qu(s),Hd(s)}var Ol=null;function Hd(s){if(Ol=null,s=Bs(s),s!==null){var r=a(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Ol=s,null}function ey(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case rt:return 2;case Oe:return 8;case be:case Se:return 32;case He:return 268435456;default:return 32}default:return 32}}var Jd=!1,zi=null,Gi=null,Hi=null,Qo=new Map,Zo=new Map,Ji=[],$_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ty(s,r){switch(s){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Qo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(r.pointerId)}}function Xo(s,r,l,f,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:r,domEventName:l,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},r!==null&&(r=js(r),r!==null&&Wg(r)),s):(s.eventSystemFlags|=f,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function F_(s,r,l,f,g){switch(r){case"focusin":return zi=Xo(zi,s,r,l,f,g),!0;case"dragenter":return Gi=Xo(Gi,s,r,l,f,g),!0;case"mouseover":return Hi=Xo(Hi,s,r,l,f,g),!0;case"pointerover":var x=g.pointerId;return Qo.set(x,Xo(Qo.get(x)||null,s,r,l,f,g)),!0;case"gotpointercapture":return x=g.pointerId,Zo.set(x,Xo(Zo.get(x)||null,s,r,l,f,g)),!0}return!1}function ny(s){var r=Bs(s.target);if(r!==null){var l=a(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,LT(s.priority,function(){if(l.tag===13){var f=xn();f=so(f);var g=Xs(l,f);g!==null&&Tn(g,l,f),Fd(l,f)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ql(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Gd(s.nativeEvent);if(l===null){l=s.nativeEvent;var f=new l.constructor(l.type,l);Ku=f,l.target.dispatchEvent(f),Ku=null}else return r=js(l),r!==null&&Wg(r),s.blockedOn=l,!1;r.shift()}return!0}function iy(s,r,l){ql(s)&&l.delete(r)}function z_(){Jd=!1,zi!==null&&ql(zi)&&(zi=null),Gi!==null&&ql(Gi)&&(Gi=null),Hi!==null&&ql(Hi)&&(Hi=null),Qo.forEach(iy),Zo.forEach(iy)}function Bl(s,r){s.blockedOn===r&&(s.blockedOn=null,Jd||(Jd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,z_)))}var jl=null;function sy(s){jl!==s&&(jl=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jl===s&&(jl=null);for(var r=0;r<s.length;r+=3){var l=s[r],f=s[r+1],g=s[r+2];if(typeof f!="function"){if(Hd(f||l)===null)continue;break}var x=js(l);x!==null&&(s.splice(r,3),r-=3,Hc(x,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function Wo(s){function r(U){return Bl(U,s)}zi!==null&&Bl(zi,s),Gi!==null&&Bl(Gi,s),Hi!==null&&Bl(Hi,s),Qo.forEach(r),Zo.forEach(r);for(var l=0;l<Ji.length;l++){var f=Ji[l];f.blockedOn===s&&(f.blockedOn=null)}for(;0<Ji.length&&(l=Ji[0],l.blockedOn===null);)ny(l),l.blockedOn===null&&Ji.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],x=l[f+1],_=g[sn]||null;if(typeof x=="function")_||sy(l);else if(_){var E=null;if(x&&x.hasAttribute("formAction")){if(g=x,_=x[sn]||null)E=_.formAction;else if(Hd(g)!==null)continue}else E=_.action;typeof E=="function"?l[f+1]=E:(l.splice(f,3),f-=3),sy(l)}}}function Yd(s){this._internalRoot=s}Vl.prototype.render=Yd.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,f=xn();Zg(l,f,s,r,null,null)},Vl.prototype.unmount=Yd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Zg(s.current,2,null,s,null,null),_l(),r[qs]=null}};function Vl(s){this._internalRoot=s}Vl.prototype.unstable_scheduleHydration=function(s){if(s){var r=bh();s={blockedOn:null,target:s,priority:r};for(var l=0;l<Ji.length&&r!==0&&r<Ji[l].priority;l++);Ji.splice(l,0,s),l===0&&ny(s)}};var ry=e.version;if(ry!=="19.1.0")throw Error(i(527,ry,"19.1.0"));ae.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var G_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{pe=$l.inject(G_),xe=$l}catch{}}return ta.createRoot=function(s,r){if(!o(s))throw Error(i(299));var l=!1,f="",g=bp,x=_p,_=Sp,E=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=Kg(s,1,!1,null,null,l,f,g,x,_,E,null),s[qs]=r.current,kd(s),new Yd(r)},ta.hydrateRoot=function(s,r,l){if(!o(s))throw Error(i(299));var f=!1,g="",x=bp,_=_p,E=Sp,U=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),r=Kg(s,1,!0,r,l??null,f,g,x,_,E,U,G),r.context=Qg(null),l=r.current,f=xn(),f=so(f),g=ki(f),g.callback=null,Mi(l,g,f),l=f,r.current.lanes=l,ni(r,l),Kn(r),s[qs]=r.current,kd(s),new Vl(r)},ta.version="19.1.0",ta}var py;function iS(){if(py)return Qd.exports;py=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qd.exports=nS(),Qd.exports}var sS=iS(),R=Qf(),na={},gy;function rS(){if(gy)return na;gy=1,Object.defineProperty(na,"__esModule",{value:!0}),na.parse=c,na.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,w){const S=new a,N=b.length;if(N<2)return S;const A=(w==null?void 0:w.decode)||y;let M=0;do{const P=b.indexOf("=",M);if(P===-1)break;const D=b.indexOf(";",M),C=D===-1?N:D;if(P>C){M=b.lastIndexOf(";",P-1)+1;continue}const I=h(b,M,P),V=p(b,P,I),H=b.slice(I,V);if(S[H]===void 0){let ee=h(b,P+1,C),z=p(b,C,ee);const K=A(b.slice(ee,z));S[H]=K}M=C+1}while(M<N);return S}function h(b,w,S){do{const N=b.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<S);return S}function p(b,w,S){for(;w>S;){const N=b.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return S}function m(b,w,S){const N=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const A=N(w);if(!e.test(A))throw new TypeError(`argument val is invalid: ${w}`);let M=b+"="+A;if(!S)return M;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);M+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);M+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);M+="; Path="+S.path}if(S.expires){if(!T(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);M+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(M+="; HttpOnly"),S.secure&&(M+="; Secure"),S.partitioned&&(M+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return M}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return o.call(b)==="[object Date]"}return na}rS();var yy="popstate";function oS(t={}){function e(i,o){let{pathname:a,search:c,hash:h}=i.location;return pf("",{pathname:a,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:ga(o)}return lS(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aS(){return Math.random().toString(36).substring(2,10)}function vy(t,e){return{usr:t.state,key:t.key,idx:e}}function pf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Gr(e):e,state:n,key:e&&e.key||i||aS()}}function ga({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function lS(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function T(){h="POP";let A=y(),M=A==null?null:A-m;m=A,p&&p({action:h,location:N.location,delta:M})}function b(A,M){h="PUSH";let P=pf(N.location,A,M);m=y()+1;let D=vy(P,m),C=N.createHref(P);try{c.pushState(D,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(C)}a&&p&&p({action:h,location:N.location,delta:1})}function w(A,M){h="REPLACE";let P=pf(N.location,A,M);m=y();let D=vy(P,m),C=N.createHref(P);c.replaceState(D,"",C),a&&p&&p({action:h,location:N.location,delta:0})}function S(A){return uS(A)}let N={get action(){return h},get location(){return t(o,c)},listen(A){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(yy,T),p=A,()=>{o.removeEventListener(yy,T),p=null}},createHref(A){return e(o,A)},createURL:S,encodeLocation(A){let M=S(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:w,go(A){return c.go(A)}};return N}function uS(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ga(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function F0(t,e,n="/"){return cS(t,e,n,!1)}function cS(t,e,n,i){let o=typeof e=="string"?Gr(e):e,a=bi(o.pathname||"/",n);if(a==null)return null;let c=z0(t);dS(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=H0(a);h=TS(c[p],m,i)}return h}function z0(t,e=[],n=[],i=""){let o=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(yt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Ti([i,p.relativePath]),y=n.concat(p);a.children&&a.children.length>0&&(yt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),z0(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:vS(m,a.index),routesMeta:y})};return t.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let p of G0(a.path))o(a,c,p)}),e}function G0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=G0(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function dS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var fS=/^:[\w-]+$/,hS=3,mS=2,pS=1,gS=10,yS=-2,xy=t=>t==="*";function vS(t,e){let n=t.split("/"),i=n.length;return n.some(xy)&&(i+=yS),e&&(i+=mS),n.filter(o=>!xy(o)).reduce((o,a)=>o+(fS.test(a)?hS:a===""?pS:gS),i)}function xS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function TS(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],m=h===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",T=ya({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),b=p.route;if(!T&&m&&n&&!i[i.length-1].route.index&&(T=ya({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Ti([a,T.pathname]),pathnameBase:CS(Ti([a,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(a=Ti([a,T.pathnameBase]))}return c}function ya(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=bS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:T},b)=>{if(y==="*"){let S=h[b]||"";c=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const w=h[b];return T&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:t}}function bS(t,e=!1,n=!0){jn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function H0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function bi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function _S(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Gr(t):t;return{pathname:n?n.startsWith("/")?n:SS(n,e):e,search:ES(i),hash:AS(o)}}function SS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function tf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zf(t){let e=wS(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Xf(t,e,n,i=!1){let o;typeof t=="string"?o=Gr(t):(o={...t},yt(!o.pathname||!o.pathname.includes("?"),tf("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),tf("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),tf("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=n;else{let T=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}h=T>=0?e[T]:"/"}let p=_S(o,h),m=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Ti=t=>t.join("/").replace(/\/\/+/g,"/"),CS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ES=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var J0=["POST","PUT","PATCH","DELETE"];new Set(J0);var RS=["GET",...J0];new Set(RS);var Hr=R.createContext(null);Hr.displayName="DataRouter";var Tu=R.createContext(null);Tu.displayName="DataRouterState";var Y0=R.createContext({isTransitioning:!1});Y0.displayName="ViewTransition";var kS=R.createContext(new Map);kS.displayName="Fetchers";var MS=R.createContext(null);MS.displayName="Await";var Vn=R.createContext(null);Vn.displayName="Navigation";var _a=R.createContext(null);_a.displayName="Location";var $n=R.createContext({outlet:null,matches:[],isDataRoute:!1});$n.displayName="Route";var Wf=R.createContext(null);Wf.displayName="RouteError";function DS(t,{relative:e}={}){yt(Us(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=R.useContext(Vn),{hash:o,pathname:a,search:c}=Sa(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:Ti([n,a])),i.createHref({pathname:h,search:c,hash:o})}function Us(){return R.useContext(_a)!=null}function Fn(){return yt(Us(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(_a).location}function K0(t){yt(Us(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=Fn();return R.useMemo(()=>ya(t,H0(e)),[e,t])}var Q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z0(t){R.useContext(Vn).static||R.useLayoutEffect(t)}function Un(){let{isDataRoute:t}=R.useContext($n);return t?GS():US()}function US(){yt(Us(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Hr),{basename:e,navigator:n}=R.useContext(Vn),{matches:i}=R.useContext($n),{pathname:o}=Fn(),a=JSON.stringify(Zf(i)),c=R.useRef(!1);return Z0(()=>{c.current=!0}),R.useCallback((p,m={})=>{if(jn(c.current,Q0),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=Xf(p,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ti([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,a,o,t])}R.createContext(null);function X0(){let{matches:t}=R.useContext($n),e=t[t.length-1];return e?e.params:{}}function Sa(t,{relative:e}={}){let{matches:n}=R.useContext($n),{pathname:i}=Fn(),o=JSON.stringify(Zf(n));return R.useMemo(()=>Xf(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function IS(t,e){return W0(t,e)}function W0(t,e,n,i){var M;yt(Us(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(Vn),{matches:a}=R.useContext($n),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let P=y&&y.path||"";ex(p,!y||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let T=Fn(),b;if(e){let P=typeof e=="string"?Gr(e):e;yt(m==="/"||((M=P.pathname)==null?void 0:M.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=T;let w=b.pathname||"/",S=w;if(m!=="/"){let P=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let N=F0(t,{pathname:S});jn(y||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),jn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=BS(N&&N.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:Ti([m,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:Ti([m,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,n,i);return e&&A?R.createElement(_a.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function PS(){let t=zS(),e=NS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,c)}var LS=R.createElement(PS,null),OS=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement($n.Provider,{value:this.props.routeContext},R.createElement(Wf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qS({routeContext:t,match:e,children:n}){let i=R.useContext(Hr);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement($n.Provider,{value:t},n)}function BS(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let p=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);yt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(n)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:T}=n,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||b){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let T,b=!1,w=null,S=null;n&&(T=a&&m.route.id?a[m.route.id]:void 0,w=m.route.errorElement||LS,c&&(h<0&&y===0?(ex("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):h===y&&(b=!0,S=m.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,y+1)),A=()=>{let M;return T?M=w:b?M=S:m.route.Component?M=R.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=p,R.createElement(qS,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:M})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?R.createElement(OS,{location:n.location,revalidation:n.revalidation,component:w,error:T,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):A()},null)}function eh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jS(t){let e=R.useContext(Hr);return yt(e,eh(t)),e}function VS(t){let e=R.useContext(Tu);return yt(e,eh(t)),e}function $S(t){let e=R.useContext($n);return yt(e,eh(t)),e}function th(t){let e=$S(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FS(){return th("useRouteId")}function zS(){var i;let t=R.useContext(Wf),e=VS("useRouteError"),n=th("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function GS(){let{router:t}=jS("useNavigate"),e=th("useNavigate"),n=R.useRef(!1);return Z0(()=>{n.current=!0}),R.useCallback(async(o,a={})=>{jn(n.current,Q0),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Ty={};function ex(t,e,n){!e&&!Ty[t]&&(Ty[t]=!0,jn(!1,n))}R.memo(HS);function HS({routes:t,future:e,state:n}){return W0(t,void 0,n,e)}function JS({to:t,replace:e,state:n,relative:i}){yt(Us(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(Vn);jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext($n),{pathname:c}=Fn(),h=Un(),p=Xf(t,Zf(a),c,i==="path"),m=JSON.stringify(p);return R.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:i})},[h,m,i,e,n]),null}function _t(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YS({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){yt(!Us(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=Gr(n));let{pathname:p="/",search:m="",hash:y="",state:T=null,key:b="default"}=n,w=R.useMemo(()=>{let S=bi(p,c);return S==null?null:{location:{pathname:S,search:m,hash:y,state:T,key:b},navigationType:i}},[c,p,m,y,T,b,i]);return jn(w!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:R.createElement(Vn.Provider,{value:h},R.createElement(_a.Provider,{children:e,value:w}))}function KS({children:t,location:e}){return IS(gf(t),e)}function gf(t,e=[]){let n=[];return R.Children.forEach(t,(i,o)=>{if(!R.isValidElement(i))return;let a=[...e,o];if(i.type===R.Fragment){n.push.apply(n,gf(i.props.children,a));return}yt(i.type===_t,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=gf(i.props.children,a)),n.push(c)}),n}var Wl="get",eu="application/x-www-form-urlencoded";function bu(t){return t!=null&&typeof t.tagName=="string"}function QS(t){return bu(t)&&t.tagName.toLowerCase()==="button"}function ZS(t){return bu(t)&&t.tagName.toLowerCase()==="form"}function XS(t){return bu(t)&&t.tagName.toLowerCase()==="input"}function WS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ew(t,e){return t.button===0&&(!e||e==="_self")&&!WS(t)}var Fl=null;function tw(){if(Fl===null)try{new FormData(document.createElement("form"),0),Fl=!1}catch{Fl=!0}return Fl}var nw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nf(t){return t!=null&&!nw.has(t)?(jn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eu}"`),null):t}function iw(t,e){let n,i,o,a,c;if(ZS(t)){let h=t.getAttribute("action");i=h?bi(h,e):null,n=t.getAttribute("method")||Wl,o=nf(t.getAttribute("enctype"))||eu,a=new FormData(t)}else if(QS(t)||XS(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(i=p?bi(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Wl,o=nf(t.getAttribute("formenctype"))||nf(h.getAttribute("enctype"))||eu,a=new FormData(h,t),!tw()){let{name:m,type:y,value:T}=t;if(y==="image"){let b=m?`${m}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else m&&a.append(m,T)}}else{if(bu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wl,i=null,o=eu,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:c}}function nh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function sw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ow(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await sw(a,n);return c.links?c.links():[]}return[]}));return cw(i.flat(1).filter(rw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function by(t,e,n,i,o,a){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):a==="data"?e.filter((p,m)=>{var T;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function aw(t,e,{includeHydrateFallback:n}={}){return lw(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function lw(t){return[...new Set(t)]}function uw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function cw(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(uw(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dw=new Set([100,101,204,205]);function fw(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&bi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function tx(){let t=R.useContext(Hr);return nh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hw(){let t=R.useContext(Tu);return nh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ih=R.createContext(void 0);ih.displayName="FrameworkContext";function nx(){let t=R.useContext(ih);return nh(t,"You must render this element inside a <HydratedRouter> element"),t}function mw(t,e){let n=R.useContext(ih),[i,o]=R.useState(!1),[a,c]=R.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:T}=e,b=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=M=>{M.forEach(P=>{c(P.isIntersecting)})},A=new IntersectionObserver(N,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[t]),R.useEffect(()=>{if(i){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[i]);let w=()=>{o(!0)},S=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:ia(h,w),onBlur:ia(p,S),onMouseEnter:ia(m,w),onMouseLeave:ia(y,S),onTouchStart:ia(T,w)}]:[!1,b,{}]}function ia(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pw({page:t,...e}){let{router:n}=tx(),i=R.useMemo(()=>F0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?R.createElement(yw,{page:t,matches:i,...e}):null}function gw(t){let{manifest:e,routeModules:n}=nx(),[i,o]=R.useState([]);return R.useEffect(()=>{let a=!1;return ow(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),i}function yw({page:t,matches:e,...n}){let i=Fn(),{manifest:o,routeModules:a}=nx(),{basename:c}=tx(),{loaderData:h,matches:p}=hw(),m=R.useMemo(()=>by(t,e,p,o,i,"data"),[t,e,p,o,i]),y=R.useMemo(()=>by(t,e,p,o,i,"assets"),[t,e,p,o,i]),T=R.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,N=!1;if(e.forEach(M=>{var D;let P=o.routes[M.route.id];!P||!P.hasLoader||(!m.some(C=>C.route.id===M.route.id)&&M.route.id in h&&((D=a[M.route.id])!=null&&D.shouldRevalidate)||P.hasClientLoader?N=!0:S.add(M.route.id))}),S.size===0)return[];let A=fw(t,c);return N&&S.size>0&&A.searchParams.set("_routes",e.filter(M=>S.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[c,h,i,o,m,e,t,a]),b=R.useMemo(()=>aw(y,o),[y,o]),w=gw(y);return R.createElement(R.Fragment,null,T.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:N})=>R.createElement("link",{key:S,...N})))}function vw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ix&&(window.__reactRouterVersion="7.6.3")}catch{}function xw({basename:t,children:e,window:n}){let i=R.useRef();i.current==null&&(i.current=oS({window:n,v5Compat:!0}));let o=i.current,[a,c]=R.useState({action:o.action,location:o.location}),h=R.useCallback(p=>{R.startTransition(()=>c(p))},[c]);return R.useLayoutEffect(()=>o.listen(h),[o,h]),R.createElement(YS,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var sx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=R.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:T,...b},w){let{basename:S}=R.useContext(Vn),N=typeof m=="string"&&sx.test(m),A,M=!1;if(typeof m=="string"&&N&&(A=m,ix))try{let z=new URL(window.location.href),K=m.startsWith("//")?new URL(z.protocol+m):new URL(m),ne=bi(K.pathname,S);K.origin===z.origin&&ne!=null?m=ne+K.search+K.hash:M=!0}catch{jn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=DS(m,{relative:o}),[D,C,I]=mw(i,b),V=Sw(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:o,viewTransition:T});function H(z){e&&e(z),z.defaultPrevented||V(z)}let ee=R.createElement("a",{...b,...I,href:A||P,onClick:M||a?e:H,ref:vw(w,C),target:p,"data-discover":!N&&n==="render"?"true":void 0});return D&&!N?R.createElement(R.Fragment,null,ee,R.createElement(pw,{page:P})):ee});Ze.displayName="Link";var Tw=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:h,children:p,...m},y){let T=Sa(c,{relative:m.relative}),b=Fn(),w=R.useContext(Tu),{navigator:S,basename:N}=R.useContext(Vn),A=w!=null&&Nw(T)&&h===!0,M=S.encodeLocation?S.encodeLocation(T).pathname:T.pathname,P=b.pathname,D=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(P=P.toLowerCase(),D=D?D.toLowerCase():null,M=M.toLowerCase()),D&&N&&(D=bi(D,N)||D);const C=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let I=P===M||!o&&P.startsWith(M)&&P.charAt(C)==="/",V=D!=null&&(D===M||!o&&D.startsWith(M)&&D.charAt(M.length)==="/"),H={isActive:I,isPending:V,isTransitioning:A},ee=I?e:void 0,z;typeof i=="function"?z=i(H):z=[i,I?"active":null,V?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(H):a;return R.createElement(Ze,{...m,"aria-current":ee,className:z,ref:y,style:K,to:c,viewTransition:h},typeof p=="function"?p(H):p)});Tw.displayName="NavLink";var bw=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:c=Wl,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:T,...b},w)=>{let S=Ew(),N=Aw(h,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&sx.test(h),P=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let C=D.nativeEvent.submitter,I=(C==null?void 0:C.getAttribute("formmethod"))||c;S(C||D.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:a,relative:m,preventScrollReset:y,viewTransition:T})};return R.createElement("form",{ref:w,method:A,action:N,onSubmit:i?p:P,...b,"data-discover":!M&&t==="render"?"true":void 0})});bw.displayName="Form";function _w(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rx(t){let e=R.useContext(Hr);return yt(e,_w(t)),e}function Sw(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=Un(),p=Fn(),m=Sa(t,{relative:a});return R.useCallback(y=>{if(ew(y,e)){y.preventDefault();let T=n!==void 0?n:ga(p)===ga(m);h(t,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,m,n,i,e,t,o,a,c])}var ww=0,Cw=()=>`__${String(++ww)}__`;function Ew(){let{router:t}=rx("useSubmit"),{basename:e}=R.useContext(Vn),n=FS();return R.useCallback(async(i,o={})=>{let{action:a,method:c,encType:h,formData:p,body:m}=iw(i,e);if(o.navigate===!1){let y=o.fetcherKey||Cw();await t.fetch(y,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function Aw(t,{relative:e}={}){let{basename:n}=R.useContext(Vn),i=R.useContext($n);yt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Sa(t||".",{relative:e})},c=Fn();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(T=>T).forEach(T=>h.append("index",T));let y=h.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ti([n,a.pathname])),ga(a)}function Nw(t,e={}){let n=R.useContext(Y0);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rx("useViewTransitionState"),o=Sa(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=bi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=bi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ya(o.pathname,c)!=null||ya(o.pathname,a)!=null}[...dw];const Rw=({user:t})=>v.jsxs("div",{className:"min-h-screen flex flex-col items-center px-6 py-24 text-center overflow-hidden",children:[v.jsxs("div",{className:"max-w-4xl animate-fade-in-up",children:[v.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white leading-tight mb-6 drop-shadow-md",children:"Welcome to Libertyville High School Science Olympiad"}),v.jsx("p",{className:"text-lg sm:text-xl bg-white/20 text-orange-50 font-medium rounded-xl shadow-lg p-5 max-w-4xl mx-auto mb-15 backdrop-blur-md",children:"Join the community, access events, practice tests, and excel in Science Olympiad!"}),v.jsx("div",{className:"mb-16 animate-fade-in-up animation-delay-200",children:t?v.jsx(Ze,{to:"/events",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Events & Resources"}):v.jsx(Ze,{to:"/signup",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Get Started"})})]}),v.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 w-full max-w-4xl animate-fade-in-up animation-delay-400",children:[v.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[v.jsx("div",{className:"text-5xl mb-4",children:""}),v.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Track Your Progress"}),v.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Monitor your performance and improve with feedback."})]}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[v.jsx("div",{className:"text-5xl mb-4",children:""}),v.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Practice Tests"}),v.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Access curated practice tests tailored for Science Olympiad events."})]})]})]}),kw=t=>{const[e,n]=R.useState(""),[i,o]=R.useState(""),a=async c=>{c.preventDefault(),await t.handleSignIn({email:e,password:i})&&(n(""),o(""))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign in to LHS Scioly"}),v.jsxs("form",{onSubmit:a,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),v.jsx("input",{value:e,onChange:({target:c})=>n(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),v.jsx("input",{type:"password",value:i,onChange:({target:c})=>o(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign In"}),v.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline mt-2",children:v.jsx(Ze,{to:"/signup",children:"Don't have an account? Sign Up"})}),v.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:v.jsx(Ze,{to:"/forgot",children:"Forgot password?"})})]})]})},Mw=t=>{const[e,n]=R.useState(""),[i,o]=R.useState(""),[a,c]=R.useState(""),[h,p]=R.useState(""),[m,y]=R.useState(""),[T,b]=R.useState(""),[w,S]=R.useState(!1);Un();const N=async A=>{if(A.preventDefault(),h!==m){t.setError("passwords do not match"),setTimeout(()=>{t.setError(null)},3e3);return}await t.handleSignUp({email:e,firstName:i,lastName:a,password:h,adminKey:T})&&(n(""),o(""),c(""),p(""),y(""),b(""))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign up for LHS Scioly"}),v.jsxs("form",{onSubmit:N,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),v.jsx("input",{value:e,onChange:({target:A})=>n(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"First Name"}),v.jsx("input",{value:i,onChange:({target:A})=>o(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Last Name"}),v.jsx("input",{value:a,onChange:({target:A})=>c(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),v.jsx("input",{type:"password",value:h,onChange:({target:A})=>p(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Confirm Password"}),v.jsx("input",{type:"password",value:m,onChange:({target:A})=>y(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),w?v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Admin Key"}),v.jsx("input",{type:"password",value:T,onChange:({target:A})=>b(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"}),v.jsx("button",{type:"button",onClick:()=>S(!1),className:"text-orange-600 hover:underline",children:"Cancel"})]}):v.jsx("div",{children:v.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-orange-600 hover:underline",children:"I am a Coach or Captain"})}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign Up"}),v.jsxs("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:["Already have an account? ",v.jsx(Ze,{to:"/signin",children:"Sign In"})]})]})]})},Dw=t=>{const[e,n]=R.useState(!1),[i,o]=R.useState(t.event.name),[a,c]=R.useState(t.event.block),[h,p]=R.useState(t.event.group),[m,y]=R.useState(t.event.description),[T,b]=R.useState(""),[w,S]=R.useState(t.event.resources),N=async P=>{P.preventDefault(),await t.editEvent(t.event.id,{name:i,group:h,block:a,description:m,resources:w}),n(!1)},A=async()=>{await t.deleteEvent(t.event.id)},M=()=>{T.trim()&&(S(w.concat(T.trim())),b(""))};return e?v.jsx("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:v.jsxs("form",{onSubmit:N,children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("div",{className:"mb-1",children:v.jsx("input",{value:i,onChange:({target:P})=>o(P.value),className:"text-lg font-semibold text-orange-700 px-2 py-1 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",children:"Save"}),v.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:()=>{n(!1),o(t.event.name),c(t.event.block),p(t.event.group),y(t.event.description),b(""),S(t.event.resources)},children:"Cancel"})]})]}),v.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("label",{className:"font-medium block mb-1",children:"Category"}),v.jsxs("select",{name:"category",value:h,onChange:({target:P})=>p(P.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[v.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),v.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),v.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),v.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),v.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),v.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),v.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("label",{className:"font-medium block mb-1",children:"Block"}),v.jsxs("select",{name:"block",value:a,onChange:({target:P})=>c(P.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[v.jsx("option",{value:"",children:"Self Schedule"}),v.jsx("option",{value:"1",children:"Block 1"}),v.jsx("option",{value:"2",children:"Block 2"}),v.jsx("option",{value:"3",children:"Block 3"}),v.jsx("option",{value:"4",children:"Block 4"}),v.jsx("option",{value:"5",children:"Block 5"})]})]}),v.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("label",{className:"font-medium block mb-1",children:"Description:"}),v.jsx("textarea",{value:m,onChange:({target:P})=>y(P.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",rows:4})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(P=>v.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[v.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:P}),v.jsx("button",{type:"button",onClick:()=>S(w.filter(D=>D!==P)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:""})]},P))})]}),v.jsxs("div",{className:"pt-3",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:T,onChange:({target:P})=>b(P.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),v.jsx("button",{onClick:M,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]})]})}):v.jsxs("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-1",children:t.event.name}),t.user&&t.user.admin?v.jsxs("div",{className:"flex justify-between gap-2",children:[v.jsx("button",{className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-orange-700 transition",onClick:()=>n(!0),children:"Edit"}),v.jsx("button",{className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:A,children:"Delete"})]}):null]}),v.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[v.jsx("span",{className:"font-medium",children:"Category:"})," ",t.event.group]}),v.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[v.jsx("span",{className:"font-medium",children:"Block:"})," ",t.event.block===""?"Self Schedule":t.event.block]}),v.jsxs("p",{className:"text-sm text-gray-800 mb-3",children:[v.jsx("span",{className:"font-medium",children:"Description:"})," ",t.event.description]}),t.user?v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:t.event.resources.map(P=>v.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:P},P))})]}):null]})};function ox(t,e){return function(){return t.apply(e,arguments)}}const{toString:Uw}=Object.prototype,{getPrototypeOf:sh}=Object,{iterator:_u,toStringTag:ax}=Symbol,Su=(t=>e=>{const n=Uw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zn=t=>(t=t.toLowerCase(),e=>Su(e)===t),wu=t=>e=>typeof e===t,{isArray:Jr}=Array,va=wu("undefined");function Iw(t){return t!==null&&!va(t)&&t.constructor!==null&&!va(t.constructor)&&dn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lx=zn("ArrayBuffer");function Pw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lx(t.buffer),e}const Lw=wu("string"),dn=wu("function"),ux=wu("number"),Cu=t=>t!==null&&typeof t=="object",Ow=t=>t===!0||t===!1,tu=t=>{if(Su(t)!=="object")return!1;const e=sh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ax in t)&&!(_u in t)},qw=zn("Date"),Bw=zn("File"),jw=zn("Blob"),Vw=zn("FileList"),$w=t=>Cu(t)&&dn(t.pipe),Fw=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||dn(t.append)&&((e=Su(t))==="formdata"||e==="object"&&dn(t.toString)&&t.toString()==="[object FormData]"))},zw=zn("URLSearchParams"),[Gw,Hw,Jw,Yw]=["ReadableStream","Request","Response","Headers"].map(zn),Kw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wa(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,o;if(typeof t!="object"&&(t=[t]),Jr(t))for(i=0,o=t.length;i<o;i++)e.call(null,t[i],i,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let h;for(i=0;i<c;i++)h=a[i],e.call(null,t[h],h,t)}}function cx(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,o;for(;i-- >0;)if(o=n[i],e===o.toLowerCase())return o;return null}const Cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dx=t=>!va(t)&&t!==Cs;function yf(){const{caseless:t}=dx(this)&&this||{},e={},n=(i,o)=>{const a=t&&cx(e,o)||o;tu(e[a])&&tu(i)?e[a]=yf(e[a],i):tu(i)?e[a]=yf({},i):Jr(i)?e[a]=i.slice():e[a]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&wa(arguments[i],n);return e}const Qw=(t,e,n,{allOwnKeys:i}={})=>(wa(e,(o,a)=>{n&&dn(o)?t[a]=ox(o,n):t[a]=o},{allOwnKeys:i}),t),Zw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Xw=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ww=(t,e,n,i)=>{let o,a,c;const h={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)c=o[a],(!i||i(c,t,e))&&!h[c]&&(e[c]=t[c],h[c]=!0);t=n!==!1&&sh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},eC=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},tC=t=>{if(!t)return null;if(Jr(t))return t;let e=t.length;if(!ux(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},nC=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&sh(Uint8Array)),iC=(t,e)=>{const i=(t&&t[_u]).call(t);let o;for(;(o=i.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},sC=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},rC=zn("HTMLFormElement"),oC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),_y=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),aC=zn("RegExp"),fx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};wa(n,(o,a)=>{let c;(c=e(o,a,t))!==!1&&(i[a]=c||o)}),Object.defineProperties(t,i)},lC=t=>{fx(t,(e,n)=>{if(dn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(dn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},uC=(t,e)=>{const n={},i=o=>{o.forEach(a=>{n[a]=!0})};return Jr(t)?i(t):i(String(t).split(e)),n},cC=()=>{},dC=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function fC(t){return!!(t&&dn(t.append)&&t[ax]==="FormData"&&t[_u])}const hC=t=>{const e=new Array(10),n=(i,o)=>{if(Cu(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;const a=Jr(i)?[]:{};return wa(i,(c,h)=>{const p=n(c,o+1);!va(p)&&(a[h]=p)}),e[o]=void 0,a}}return i};return n(t,0)},mC=zn("AsyncFunction"),pC=t=>t&&(Cu(t)||dn(t))&&dn(t.then)&&dn(t.catch),hx=((t,e)=>t?setImmediate:e?((n,i)=>(Cs.addEventListener("message",({source:o,data:a})=>{o===Cs&&a===n&&i.length&&i.shift()()},!1),o=>{i.push(o),Cs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",dn(Cs.postMessage)),gC=typeof queueMicrotask<"u"?queueMicrotask.bind(Cs):typeof process<"u"&&process.nextTick||hx,yC=t=>t!=null&&dn(t[_u]),X={isArray:Jr,isArrayBuffer:lx,isBuffer:Iw,isFormData:Fw,isArrayBufferView:Pw,isString:Lw,isNumber:ux,isBoolean:Ow,isObject:Cu,isPlainObject:tu,isReadableStream:Gw,isRequest:Hw,isResponse:Jw,isHeaders:Yw,isUndefined:va,isDate:qw,isFile:Bw,isBlob:jw,isRegExp:aC,isFunction:dn,isStream:$w,isURLSearchParams:zw,isTypedArray:nC,isFileList:Vw,forEach:wa,merge:yf,extend:Qw,trim:Kw,stripBOM:Zw,inherits:Xw,toFlatObject:Ww,kindOf:Su,kindOfTest:zn,endsWith:eC,toArray:tC,forEachEntry:iC,matchAll:sC,isHTMLForm:rC,hasOwnProperty:_y,hasOwnProp:_y,reduceDescriptors:fx,freezeMethods:lC,toObjectSet:uC,toCamelCase:oC,noop:cC,toFiniteNumber:dC,findKey:cx,global:Cs,isContextDefined:dx,isSpecCompliantForm:fC,toJSONObject:hC,isAsyncFn:mC,isThenable:pC,setImmediate:hx,asap:gC,isIterable:yC};function je(t,e,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}X.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const mx=je.prototype,px={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{px[t]={value:t}});Object.defineProperties(je,px);Object.defineProperty(mx,"isAxiosError",{value:!0});je.from=(t,e,n,i,o,a)=>{const c=Object.create(mx);return X.toFlatObject(t,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),je.call(c,t.message,e,n,i,o),c.cause=t,c.name=t.name,a&&Object.assign(c,a),c};const vC=null;function vf(t){return X.isPlainObject(t)||X.isArray(t)}function gx(t){return X.endsWith(t,"[]")?t.slice(0,-2):t}function Sy(t,e,n){return t?t.concat(e).map(function(o,a){return o=gx(o),!n&&a?"["+o+"]":o}).join(n?".":""):e}function xC(t){return X.isArray(t)&&!t.some(vf)}const TC=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function Eu(t,e,n){if(!X.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,A){return!X.isUndefined(A[N])});const i=n.metaTokens,o=n.visitor||y,a=n.dots,c=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(o))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(X.isDate(S))return S.toISOString();if(X.isBoolean(S))return S.toString();if(!p&&X.isBlob(S))throw new je("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(S)||X.isTypedArray(S)?p&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,N,A){let M=S;if(S&&!A&&typeof S=="object"){if(X.endsWith(N,"{}"))N=i?N:N.slice(0,-2),S=JSON.stringify(S);else if(X.isArray(S)&&xC(S)||(X.isFileList(S)||X.endsWith(N,"[]"))&&(M=X.toArray(S)))return N=gx(N),M.forEach(function(D,C){!(X.isUndefined(D)||D===null)&&e.append(c===!0?Sy([N],C,a):c===null?N:N+"[]",m(D))}),!1}return vf(S)?!0:(e.append(Sy(A,N,a),m(S)),!1)}const T=[],b=Object.assign(TC,{defaultVisitor:y,convertValue:m,isVisitable:vf});function w(S,N){if(!X.isUndefined(S)){if(T.indexOf(S)!==-1)throw Error("Circular reference detected in "+N.join("."));T.push(S),X.forEach(S,function(M,P){(!(X.isUndefined(M)||M===null)&&o.call(e,M,X.isString(P)?P.trim():P,N,b))===!0&&w(M,N?N.concat(P):[P])}),T.pop()}}if(!X.isObject(t))throw new TypeError("data must be an object");return w(t),e}function wy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function rh(t,e){this._pairs=[],t&&Eu(t,this,e)}const yx=rh.prototype;yx.append=function(e,n){this._pairs.push([e,n])};yx.toString=function(e){const n=e?function(i){return e.call(this,i,wy)}:wy;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function bC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vx(t,e,n){if(!e)return t;const i=n&&n.encode||bC;X.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(o?a=o(e,n):a=X.isURLSearchParams(e)?e.toString():new rh(e,n).toString(i),a){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Cy{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(i){i!==null&&e(i)})}}const xx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_C=typeof URLSearchParams<"u"?URLSearchParams:rh,SC=typeof FormData<"u"?FormData:null,wC=typeof Blob<"u"?Blob:null,CC={isBrowser:!0,classes:{URLSearchParams:_C,FormData:SC,Blob:wC},protocols:["http","https","file","blob","url","data"]},oh=typeof window<"u"&&typeof document<"u",xf=typeof navigator=="object"&&navigator||void 0,EC=oh&&(!xf||["ReactNative","NativeScript","NS"].indexOf(xf.product)<0),AC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NC=oh&&window.location.href||"http://localhost",RC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oh,hasStandardBrowserEnv:EC,hasStandardBrowserWebWorkerEnv:AC,navigator:xf,origin:NC},Symbol.toStringTag,{value:"Module"})),Kt={...RC,...CC};function kC(t,e){return Eu(t,new Kt.classes.URLSearchParams,Object.assign({visitor:function(n,i,o,a){return Kt.isNode&&X.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function MC(t){return X.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function DC(t){const e={},n=Object.keys(t);let i;const o=n.length;let a;for(i=0;i<o;i++)a=n[i],e[a]=t[a];return e}function Tx(t){function e(n,i,o,a){let c=n[a++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=a>=n.length;return c=!c&&X.isArray(o)?o.length:c,p?(X.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!h):((!o[c]||!X.isObject(o[c]))&&(o[c]=[]),e(n,i,o[c],a)&&X.isArray(o[c])&&(o[c]=DC(o[c])),!h)}if(X.isFormData(t)&&X.isFunction(t.entries)){const n={};return X.forEachEntry(t,(i,o)=>{e(MC(i),o,n,0)}),n}return null}function UC(t,e,n){if(X.isString(t))try{return(e||JSON.parse)(t),X.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Ca={transitional:xx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,a=X.isObject(e);if(a&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return o?JSON.stringify(Tx(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return kC(e,this.formSerializer).toString();if((h=X.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Eu(h?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(n.setContentType("application/json",!1),UC(e)):e}],transformResponse:[function(e){const n=this.transitional||Ca.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(i&&!this.responseType||o)){const c=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?je.from(h,je.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],t=>{Ca.headers[t]={}});const IC=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PC=t=>{const e={};let n,i,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),n=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!n||e[n]&&IC[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Ey=Symbol("internals");function sa(t){return t&&String(t).trim().toLowerCase()}function nu(t){return t===!1||t==null?t:X.isArray(t)?t.map(nu):String(t)}function LC(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const OC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function sf(t,e,n,i,o){if(X.isFunction(i))return i.call(this,e,n);if(o&&(e=n),!!X.isString(e)){if(X.isString(i))return e.indexOf(i)!==-1;if(X.isRegExp(i))return i.test(e)}}function qC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function BC(t,e){const n=X.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(o,a,c){return this[i].call(this,e,o,a,c)},configurable:!0})})}let fn=class{constructor(e){e&&this.set(e)}set(e,n,i){const o=this;function a(h,p,m){const y=sa(p);if(!y)throw new Error("header name must be a non-empty string");const T=X.findKey(o,y);(!T||o[T]===void 0||m===!0||m===void 0&&o[T]!==!1)&&(o[T||p]=nu(h))}const c=(h,p)=>X.forEach(h,(m,y)=>a(m,y,p));if(X.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(X.isString(e)&&(e=e.trim())&&!OC(e))c(PC(e),n);else if(X.isObject(e)&&X.isIterable(e)){let h={},p,m;for(const y of e){if(!X.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[m=y[0]]=(p=h[m])?X.isArray(p)?[...p,y[1]]:[p,y[1]]:y[1]}c(h,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=sa(e),e){const i=X.findKey(this,e);if(i){const o=this[i];if(!n)return o;if(n===!0)return LC(o);if(X.isFunction(n))return n.call(this,o,i);if(X.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=sa(e),e){const i=X.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||sf(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let o=!1;function a(c){if(c=sa(c),c){const h=X.findKey(i,c);h&&(!n||sf(i,i[h],h,n))&&(delete i[h],o=!0)}}return X.isArray(e)?e.forEach(a):a(e),o}clear(e){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const a=n[i];(!e||sf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const n=this,i={};return X.forEach(this,(o,a)=>{const c=X.findKey(i,a);if(c){n[c]=nu(o),delete n[a];return}const h=e?qC(a):String(a).trim();h!==a&&delete n[a],n[h]=nu(o),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return X.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=e&&X.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[Ey]=this[Ey]={accessors:{}}).accessors,o=this.prototype;function a(c){const h=sa(c);i[h]||(BC(o,c),i[h]=!0)}return X.isArray(e)?e.forEach(a):a(e),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(fn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});X.freezeMethods(fn);function rf(t,e){const n=this||Ca,i=e||n,o=fn.from(i.headers);let a=i.data;return X.forEach(t,function(h){a=h.call(n,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function bx(t){return!!(t&&t.__CANCEL__)}function Yr(t,e,n){je.call(this,t??"canceled",je.ERR_CANCELED,e,n),this.name="CanceledError"}X.inherits(Yr,je,{__CANCEL__:!0});function _x(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new je("Request failed with status code "+n.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function jC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function VC(t,e){t=t||10;const n=new Array(t),i=new Array(t);let o=0,a=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),y=i[a];c||(c=m),n[o]=p,i[o]=m;let T=a,b=0;for(;T!==o;)b+=n[T++],T=T%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),m-c<e)return;const w=y&&m-y;return w?Math.round(b*1e3/w):void 0}}function $C(t,e){let n=0,i=1e3/e,o,a;const c=(m,y=Date.now())=>{n=y,o=null,a&&(clearTimeout(a),a=null),t.apply(null,m)};return[(...m)=>{const y=Date.now(),T=y-n;T>=i?c(m,y):(o=m,a||(a=setTimeout(()=>{a=null,c(o)},i-T)))},()=>o&&c(o)]}const lu=(t,e,n=3)=>{let i=0;const o=VC(50,250);return $C(a=>{const c=a.loaded,h=a.lengthComputable?a.total:void 0,p=c-i,m=o(p),y=c<=h;i=c;const T={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&y?(h-c)/m:void 0,event:a,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(T)},n)},Ay=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},Ny=t=>(...e)=>X.asap(()=>t(...e)),FC=Kt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Kt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Kt.origin),Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent)):()=>!0,zC=Kt.hasStandardBrowserEnv?{write(t,e,n,i,o,a){const c=[t+"="+encodeURIComponent(e)];X.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),X.isString(i)&&c.push("path="+i),X.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function GC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function HC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Sx(t,e,n){let i=!GC(e);return t&&(i||n==!1)?HC(t,e):e}const Ry=t=>t instanceof fn?{...t}:t;function Ns(t,e){e=e||{};const n={};function i(m,y,T,b){return X.isPlainObject(m)&&X.isPlainObject(y)?X.merge.call({caseless:b},m,y):X.isPlainObject(y)?X.merge({},y):X.isArray(y)?y.slice():y}function o(m,y,T,b){if(X.isUndefined(y)){if(!X.isUndefined(m))return i(void 0,m,T,b)}else return i(m,y,T,b)}function a(m,y){if(!X.isUndefined(y))return i(void 0,y)}function c(m,y){if(X.isUndefined(y)){if(!X.isUndefined(m))return i(void 0,m)}else return i(void 0,y)}function h(m,y,T){if(T in e)return i(m,y);if(T in t)return i(void 0,m)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(m,y,T)=>o(Ry(m),Ry(y),T,!0)};return X.forEach(Object.keys(Object.assign({},t,e)),function(y){const T=p[y]||o,b=T(t[y],e[y],y);X.isUndefined(b)&&T!==h||(n[y]=b)}),n}const wx=t=>{const e=Ns({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:h}=e;e.headers=c=fn.from(c),e.url=vx(Sx(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(X.isFormData(n)){if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...y]=p?p.split(";").map(T=>T.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...y].join("; "))}}if(Kt.hasStandardBrowserEnv&&(i&&X.isFunction(i)&&(i=i(e)),i||i!==!1&&FC(e.url))){const m=o&&a&&zC.read(a);m&&c.set(o,m)}return e},JC=typeof XMLHttpRequest<"u",YC=JC&&function(t){return new Promise(function(n,i){const o=wx(t);let a=o.data;const c=fn.from(o.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=o,y,T,b,w,S;function N(){w&&w(),S&&S(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let A=new XMLHttpRequest;A.open(o.method.toUpperCase(),o.url,!0),A.timeout=o.timeout;function M(){if(!A)return;const D=fn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),I={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:D,config:t,request:A};_x(function(H){n(H),N()},function(H){i(H),N()},I),A=null}"onloadend"in A?A.onloadend=M:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(M)},A.onabort=function(){A&&(i(new je("Request aborted",je.ECONNABORTED,t,A)),A=null)},A.onerror=function(){i(new je("Network Error",je.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let C=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const I=o.transitional||xx;o.timeoutErrorMessage&&(C=o.timeoutErrorMessage),i(new je(C,I.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,A)),A=null},a===void 0&&c.setContentType(null),"setRequestHeader"in A&&X.forEach(c.toJSON(),function(C,I){A.setRequestHeader(I,C)}),X.isUndefined(o.withCredentials)||(A.withCredentials=!!o.withCredentials),h&&h!=="json"&&(A.responseType=o.responseType),m&&([b,S]=lu(m,!0),A.addEventListener("progress",b)),p&&A.upload&&([T,w]=lu(p),A.upload.addEventListener("progress",T),A.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(y=D=>{A&&(i(!D||D.type?new Yr(null,t,A):D),A.abort(),A=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const P=jC(o.url);if(P&&Kt.protocols.indexOf(P)===-1){i(new je("Unsupported protocol "+P+":",je.ERR_BAD_REQUEST,t));return}A.send(a||null)})},KC=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,o;const a=function(m){if(!o){o=!0,h();const y=m instanceof Error?m:this.reason;i.abort(y instanceof je?y:new Yr(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,a(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const h=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:p}=i;return p.unsubscribe=()=>X.asap(h),p}},QC=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,o;for(;i<n;)o=i+e,yield t.slice(i,o),i=o},ZC=async function*(t,e){for await(const n of XC(t))yield*QC(n,e)},XC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},ky=(t,e,n,i)=>{const o=ZC(t,e);let a=0,c,h=p=>{c||(c=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:y}=await o.next();if(m){h(),p.close();return}let T=y.byteLength;if(n){let b=a+=T;n(b)}p.enqueue(new Uint8Array(y))}catch(m){throw h(m),m}},cancel(p){return h(p),o.return()}},{highWaterMark:2})},Au=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Cx=Au&&typeof ReadableStream=="function",WC=Au&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ex=(t,...e)=>{try{return!!t(...e)}catch{return!1}},eE=Cx&&Ex(()=>{let t=!1;const e=new Request(Kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),My=64*1024,Tf=Cx&&Ex(()=>X.isReadableStream(new Response("").body)),uu={stream:Tf&&(t=>t.body)};Au&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!uu[e]&&(uu[e]=X.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new je(`Response type '${e}' is not supported`,je.ERR_NOT_SUPPORT,i)})})})(new Response);const tE=async t=>{if(t==null)return 0;if(X.isBlob(t))return t.size;if(X.isSpecCompliantForm(t))return(await new Request(Kt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(X.isArrayBufferView(t)||X.isArrayBuffer(t))return t.byteLength;if(X.isURLSearchParams(t)&&(t=t+""),X.isString(t))return(await WC(t)).byteLength},nE=async(t,e)=>{const n=X.toFiniteNumber(t.getContentLength());return n??tE(e)},iE=Au&&(async t=>{let{url:e,method:n,data:i,signal:o,cancelToken:a,timeout:c,onDownloadProgress:h,onUploadProgress:p,responseType:m,headers:y,withCredentials:T="same-origin",fetchOptions:b}=wx(t);m=m?(m+"").toLowerCase():"text";let w=KC([o,a&&a.toAbortSignal()],c),S;const N=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let A;try{if(p&&eE&&n!=="get"&&n!=="head"&&(A=await nE(y,i))!==0){let I=new Request(e,{method:"POST",body:i,duplex:"half"}),V;if(X.isFormData(i)&&(V=I.headers.get("content-type"))&&y.setContentType(V),I.body){const[H,ee]=Ay(A,lu(Ny(p)));i=ky(I.body,My,H,ee)}}X.isString(T)||(T=T?"include":"omit");const M="credentials"in Request.prototype;S=new Request(e,{...b,signal:w,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:M?T:void 0});let P=await fetch(S,b);const D=Tf&&(m==="stream"||m==="response");if(Tf&&(h||D&&N)){const I={};["status","statusText","headers"].forEach(z=>{I[z]=P[z]});const V=X.toFiniteNumber(P.headers.get("content-length")),[H,ee]=h&&Ay(V,lu(Ny(h),!0))||[];P=new Response(ky(P.body,My,H,()=>{ee&&ee(),N&&N()}),I)}m=m||"text";let C=await uu[X.findKey(uu,m)||"text"](P,t);return!D&&N&&N(),await new Promise((I,V)=>{_x(I,V,{data:C,headers:fn.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:S})})}catch(M){throw N&&N(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,t,S),{cause:M.cause||M}):je.from(M,M&&M.code,t,S)}}),bf={http:vC,xhr:YC,fetch:iE};X.forEach(bf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Dy=t=>`- ${t}`,sE=t=>X.isFunction(t)||t===null||t===!1,Ax={getAdapter:t=>{t=X.isArray(t)?t:[t];const{length:e}=t;let n,i;const o={};for(let a=0;a<e;a++){n=t[a];let c;if(i=n,!sE(n)&&(i=bf[(c=String(n)).toLowerCase()],i===void 0))throw new je(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+a]=i}if(!i){const a=Object.entries(o).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(Dy).join(`
`):" "+Dy(a[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:bf};function of(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Yr(null,t)}function Uy(t){return of(t),t.headers=fn.from(t.headers),t.data=rf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ax.getAdapter(t.adapter||Ca.adapter)(t).then(function(i){return of(t),i.data=rf.call(t,t.transformResponse,i),i.headers=fn.from(i.headers),i},function(i){return bx(i)||(of(t),i&&i.response&&(i.response.data=rf.call(t,t.transformResponse,i.response),i.response.headers=fn.from(i.response.headers))),Promise.reject(i)})}const Nx="1.10.0",Nu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Nu[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Iy={};Nu.transitional=function(e,n,i){function o(a,c){return"[Axios v"+Nx+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,h)=>{if(e===!1)throw new je(o(c," has been removed"+(n?" in "+n:"")),je.ERR_DEPRECATED);return n&&!Iy[c]&&(Iy[c]=!0,console.warn(o(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,c,h):!0}};Nu.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function rE(t,e,n){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let o=i.length;for(;o-- >0;){const a=i[o],c=e[a];if(c){const h=t[a],p=h===void 0||c(h,a,t);if(p!==!0)throw new je("option "+a+" must be "+p,je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new je("Unknown option "+a,je.ERR_BAD_OPTION)}}const iu={assertOptions:rE,validators:Nu},Qn=iu.validators;let Es=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Cy,response:new Cy}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ns(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:a}=n;i!==void 0&&iu.assertOptions(i,{silentJSONParsing:Qn.transitional(Qn.boolean),forcedJSONParsing:Qn.transitional(Qn.boolean),clarifyTimeoutError:Qn.transitional(Qn.boolean)},!1),o!=null&&(X.isFunction(o)?n.paramsSerializer={serialize:o}:iu.assertOptions(o,{encode:Qn.function,serialize:Qn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),iu.assertOptions(n,{baseUrl:Qn.spelling("baseURL"),withXsrfToken:Qn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&X.merge(a.common,a[n.method]);a&&X.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),n.headers=fn.concat(c,a);const h=[];let p=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(p=p&&N.synchronous,h.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let y,T=0,b;if(!p){const S=[Uy.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,m),b=S.length,y=Promise.resolve(n);T<b;)y=y.then(S[T++],S[T++]);return y}b=h.length;let w=n;for(T=0;T<b;){const S=h[T++],N=h[T++];try{w=S(w)}catch(A){N.call(this,A);break}}try{y=Uy.call(this,w)}catch(S){return Promise.reject(S)}for(T=0,b=m.length;T<b;)y=y.then(m[T++],m[T++]);return y}getUri(e){e=Ns(this.defaults,e);const n=Sx(e.baseURL,e.url,e.allowAbsoluteUrls);return vx(n,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Es.prototype[e]=function(n,i){return this.request(Ns(i||{},{method:e,url:n,data:(i||{}).data}))}});X.forEach(["post","put","patch"],function(e){function n(i){return function(a,c,h){return this.request(Ns(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Es.prototype[e]=n(),Es.prototype[e+"Form"]=n(!0)});let oE=class Rx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(o=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](o);i._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(h=>{i.subscribe(h),a=h}).then(o);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,h){i.reason||(i.reason=new Yr(a,c,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Rx(function(o){e=o}),cancel:e}}};function aE(t){return function(n){return t.apply(null,n)}}function lE(t){return X.isObject(t)&&t.isAxiosError===!0}const _f={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_f).forEach(([t,e])=>{_f[e]=t});function kx(t){const e=new Es(t),n=ox(Es.prototype.request,e);return X.extend(n,Es.prototype,e,{allOwnKeys:!0}),X.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return kx(Ns(t,o))},n}const we=kx(Ca);we.Axios=Es;we.CanceledError=Yr;we.CancelToken=oE;we.isCancel=bx;we.VERSION=Nx;we.toFormData=Eu;we.AxiosError=je;we.Cancel=we.CanceledError;we.all=function(e){return Promise.all(e)};we.spread=aE;we.isAxiosError=lE;we.mergeConfig=Ns;we.AxiosHeaders=fn;we.formToJSON=t=>Tx(X.isHTMLForm(t)?new FormData(t):t);we.getAdapter=Ax.getAdapter;we.HttpStatusCode=_f;we.default=we;const{Axios:RO,AxiosError:kO,CanceledError:MO,isCancel:DO,CancelToken:UO,VERSION:IO,all:PO,Cancel:LO,isAxiosError:OO,spread:qO,toFormData:BO,AxiosHeaders:jO,HttpStatusCode:VO,formToJSON:$O,getAdapter:FO,mergeConfig:zO}=we,Ru="/api/events";let ku=null;const uE=t=>{ku=`Bearer ${t}`},cE=async()=>(await we.get(Ru)).data,dE=async t=>(await we.post(Ru,t,{headers:{Authorization:ku}})).data,fE=async(t,e)=>{const n=`${Ru}/${t}`;return(await we.put(n,e,{headers:{Authorization:ku}})).data},hE=async t=>{const e=`${Ru}/${t}`;return(await we.delete(e,{headers:{Authorization:ku}})).data},Xi={setToken:uE,getAll:cE,createEvent:dE,changeEvent:fE,deleteEvent:hE},Mx=({isOpen:t,onClose:e,title:n,children:i})=>(R.useEffect(()=>{const o=a=>{a.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e]),t?v.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-center z-50",onClick:e,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg",onClick:o=>o.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:n}),v.jsx("button",{onClick:e,className:"text-gray-600 hover:text-red-600 text-xl font-bold",children:""})]}),v.jsx("div",{children:i})]})}):null),mE=t=>{var z;const[e,n]=R.useState(null),[i,o]=R.useState(""),[a,c]=R.useState([]),[h,p]=R.useState(""),[m,y]=R.useState(""),[T,b]=R.useState(""),[w,S]=R.useState(""),[N,A]=R.useState(""),[M,P]=R.useState([]),[D,C]=R.useState(!1);R.useEffect(()=>{i.length===0?c(t.events):c(t.events.filter(K=>K.name.toLowerCase().includes(i.toLowerCase())))},[i,t.events]);const I=()=>{N.trim()&&(P(M.concat(N.trim())),A(""))},V=async K=>{var ne,$;K.preventDefault();try{const Ce=await Xi.createEvent({name:h,block:T,group:m,description:w,resources:M});t.setEvents(t.events.concat(Ce)),p(""),b(""),y(""),S(""),A(""),P([]),C(!1),o("")}catch(Ce){($=(ne=Ce.response)==null?void 0:ne.data)!=null&&$.error&&Ce.response.data.error==="expected `event name` to be unique"?(n("Event already added"),setTimeout(()=>{n(null)},5e3)):console.error("Failed to add event:",Ce)}},H=async(K,ne)=>{try{const $=await Xi.changeEvent(K,ne);t.setEvents(t.events.map(Ce=>Ce.id===$.id?$:Ce))}catch($){console.error("Failed to edit event:",$)}},ee=async K=>{try{await Xi.deleteEvent(K),t.setEvents(t.events.filter(ne=>ne.id!==K))}catch(ne){console.error("Failed to delete event:",ne)}};return v.jsxs("div",{className:"max-w-3xl mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-orange-800 text-center sm:text-left flex-1",children:"Science Olympiad Events"}),v.jsx("input",{type:"text",placeholder:"Filter events...",value:i,onChange:({target:K})=>o(K.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 w-full sm:w-1/3"})]}),((z=t.user)==null?void 0:z.admin)&&v.jsx("div",{className:"py-4",children:v.jsx("div",{className:"flex items-center justify-center",children:v.jsx("button",{onClick:()=>C(!0),className:"text-orange-600 text-4xl pt-2 pb-4 py-2 rounded hover:text-orange-700 transition pb-2 w-full border border-orange-300 border-dashed rounded-md hover:bg-orange-100",title:"Add Event",children:"+"})})}),v.jsxs(Mx,{isOpen:D,onClose:()=>{p(""),y(""),S(""),A(""),P([]),C(!1)},title:"Add New Event",children:[e&&v.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[v.jsx("strong",{className:"font-bold",children:"Error: "}),v.jsx("span",{className:"block sm:inline",children:e})]}),v.jsxs("form",{onSubmit:V,className:"space-y-4 bg-orange-50 p-4 rounded-md",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Name"}),v.jsx("input",{value:h,onChange:({target:K})=>p(K.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Category"}),v.jsxs("select",{name:"category",value:m,onChange:({target:K})=>y(K.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[v.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),v.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),v.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),v.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),v.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),v.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Block"}),v.jsxs("select",{name:"block",value:T,onChange:({target:K})=>b(K.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[v.jsx("option",{value:"",children:"Self Schedule"}),v.jsx("option",{value:"1",children:"Block 1"}),v.jsx("option",{value:"2",children:"Block 2"}),v.jsx("option",{value:"3",children:"Block 3"}),v.jsx("option",{value:"4",children:"Block 4"}),v.jsx("option",{value:"4",children:"Block 5"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Description"}),v.jsx("textarea",{value:w,onChange:({target:K})=>S(K.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 resize-y min-h-[100px]"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:N,onChange:({target:K})=>A(K.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),v.jsx("button",{onClick:I,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]}),v.jsx("div",{className:"mt-4 space-y-2",children:M.length>0&&v.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(K=>v.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[v.jsx("a",{href:K,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:K}),v.jsx("button",{onClick:()=>P(M.filter(ne=>ne!==K)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:""})]},K))})}),v.jsx("button",{type:"submit",className:"w-full bg-orange-600 text-white py-2 rounded-md hover:bg-orange-700 transition",children:"Add Event"})]})]}),v.jsx("ul",{className:"space-y-4",children:a.map(K=>v.jsx(Dw,{user:t.user,event:K,editEvent:H,deleteEvent:ee},K.id))})]})},pE=t=>{const[e,n]=R.useState(""),i=Un(),o=async a=>{a.preventDefault(),await t.handleForgot(e)&&(n(""),i("/signin"))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Forgot Password"}),v.jsxs("form",{onSubmit:o,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"Email Address"}),v.jsx("input",{value:e,onChange:({target:a})=>n(a.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset Password"}),v.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:v.jsx(Ze,{to:"/signin",children:"Cancel"})})]})]})},ah="/api/tests";let Mu=null;const gE=t=>{Mu=`Bearer ${t}`},yE=async()=>(await we.get(ah,{headers:{Authorization:Mu}})).data,vE=async t=>(await we.post(ah,t,{headers:{Authorization:Mu}})).data,xE=async(t,e)=>(await we.put(`${ah}/${t}`,{assignees:e.assignees},{headers:{Authorization:Mu}})).data,cn={setToken:gE,getAll:yE,createTest:vE,updateTest:xE},Dx="/api/questions";let lh=null;const TE=t=>{lh=`Bearer ${t}`},bE=async()=>(await we.get(Dx,{headers:{Authorization:lh}})).data,_E=async t=>(await we.post(Dx,t,{headers:{Authorization:lh}})).data,Ur={setToken:TE,getAll:bE,createQuestion:_E},SE="modulepreload",wE=function(t){return"/"+t},Py={},Ea=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=c(n.map(m=>{if(m=wE(m),m in Py)return;Py[m]=!0;const y=m.endsWith(".css"),T=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${T}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":SE,y||(b.as="script"),b.crossOrigin="",b.href=m,p&&b.setAttribute("nonce",p),document.head.appendChild(b),y)return new Promise((w,S)=>{b.addEventListener("load",w),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},CE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ea(async()=>{const{default:i}=await Promise.resolve().then(()=>Kr);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class uh extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class EE extends uh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class AE extends uh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class NE extends uh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sf||(Sf={}));var RE=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class kE{constructor(e,{headers:n={},customFetch:i,region:o=Sf.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=CE(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return RE(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:c}=n;let h={},{region:p}=n;p||(p=this.region),p&&p!=="any"&&(h["x-region"]=p);let m;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)));const y=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:m}).catch(S=>{throw new EE(S)}),T=y.headers.get("x-relay-error");if(T&&T==="true")throw new AE(y);if(!y.ok)throw new NE(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield y.json():b==="application/octet-stream"?w=yield y.blob():b==="text/event-stream"?w=y:b==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null}}catch(o){return{data:null,error:o}}})}}var Ot={},Sr={},wr={},Cr={},Er={},Ar={},ME=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Br=ME();const DE=Br.fetch,Ux=Br.fetch.bind(Br),Ix=Br.Headers,UE=Br.Request,IE=Br.Response,Kr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ix,Request:UE,Response:IE,default:Ux,fetch:DE},Symbol.toStringTag,{value:"Module"})),PE=Y_(Kr);var zl={},Ly;function Px(){if(Ly)return zl;Ly=1,Object.defineProperty(zl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return zl.default=t,zl}var Oy;function Lx(){if(Oy)return Ar;Oy=1;var t=Ar&&Ar.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ar,"__esModule",{value:!0});const e=t(PE),n=t(Px());class i{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,c){return this.headers=Object.assign({},this.headers),this.headers[a]=c,this}then(a,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,T,b;let w=null,S=null,N=null,A=m.status,M=m.statusText;if(m.ok){if(this.method!=="HEAD"){const I=await m.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=I:S=JSON.parse(I))}const D=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),C=(T=m.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");D&&C&&C.length>1&&(N=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,N=null,A=406,M="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const D=await m.text();try{w=JSON.parse(D),Array.isArray(w)&&m.status===404&&(S=[],w=null,A=200,M="OK")}catch{m.status===404&&D===""?(A=204,M="No Content"):w={message:D}}if(w&&this.isMaybeSingle&&(!((b=w==null?void 0:w.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,A=200,M="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:S,count:N,status:A,statusText:M}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,T,b;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(T=m==null?void 0:m.stack)!==null&&T!==void 0?T:""}`,hint:"",code:`${(b=m==null?void 0:m.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),p.then(a,c)}returns(){return this}overrideTypes(){return this}}return Ar.default=i,Ar}var qy;function Ox(){if(qy)return Er;qy=1;var t=Er&&Er.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Er,"__esModule",{value:!0});const e=t(Lx());class n extends e.default{select(o){let a=!1;const c=(o??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:a=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${o}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:c=a}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,a,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(m,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:a=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var y;const T=[o?"analyze":null,a?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${b}"; options=${T};`,m==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Er.default=n,Er}var By;function ch(){if(By)return Cr;By=1;var t=Cr&&Cr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Cr,"__esModule",{value:!0});const e=t(Ox());class n extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const c=Array.from(new Set(a)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${p}fts${m}.${a}`),this}match(o){return Object.entries(o).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(o,a,c){return this.url.searchParams.append(o,`not.${a}.${c}`),this}or(o,{foreignTable:a,referencedTable:c=a}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,a,c){return this.url.searchParams.append(o,`${a}.${c}`),this}}return Cr.default=n,Cr}var jy;function qx(){if(jy)return wr;jy=1;var t=wr&&wr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wr,"__esModule",{value:!0});const e=t(ch());class n{constructor(o,{headers:a={},schema:c,fetch:h}){this.url=o,this.headers=a,this.schema=c,this.fetch=h}select(o,{head:a=!1,count:c}={}){const h=a?"HEAD":"GET";let p=!1;const m=(o??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:a,defaultToNull:c=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),a&&p.push(`count=${a}`),c||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const m=o.reduce((y,T)=>y.concat(Object.keys(T)),[]);if(m.length>0){const y=[...new Set(m)].map(T=>`"${T}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:a,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){const m="POST",y=[`resolution=${c?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),p||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(o)){const T=o.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(T.length>0){const b=[...new Set(T)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:a}={}){const c="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),this.headers.Prefer=h.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const a="DELETE",c=[];return o&&c.push(`count=${o}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return wr.default=n,wr}var ra={},oa={},Vy;function LE(){return Vy||(Vy=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.version=void 0,oa.version="0.0.0-automated"),oa}var $y;function OE(){if($y)return ra;$y=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.DEFAULT_HEADERS=void 0;const t=LE();return ra.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ra}var Fy;function qE(){if(Fy)return Sr;Fy=1;var t=Sr&&Sr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Sr,"__esModule",{value:!0});const e=t(qx()),n=t(ch()),i=OE();class o{constructor(c,{headers:h={},schema:p,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:m=!1,count:y}={}){let T;const b=new URL(`${this.url}/rpc/${c}`);let w;p||m?(T=p?"HEAD":"GET",Object.entries(h).filter(([N,A])=>A!==void 0).map(([N,A])=>[N,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([N,A])=>{b.searchParams.append(N,A)})):(T="POST",w=h);const S=Object.assign({},this.headers);return y&&(S.Prefer=`count=${y}`),new n.default({method:T,url:b,headers:S,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Sr.default=o,Sr}var zy;function BE(){if(zy)return Ot;zy=1;var t=Ot&&Ot.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.PostgrestError=Ot.PostgrestBuilder=Ot.PostgrestTransformBuilder=Ot.PostgrestFilterBuilder=Ot.PostgrestQueryBuilder=Ot.PostgrestClient=void 0;const e=t(qE());Ot.PostgrestClient=e.default;const n=t(qx());Ot.PostgrestQueryBuilder=n.default;const i=t(ch());Ot.PostgrestFilterBuilder=i.default;const o=t(Ox());Ot.PostgrestTransformBuilder=o.default;const a=t(Lx());Ot.PostgrestBuilder=a.default;const c=t(Px());return Ot.PostgrestError=c.default,Ot.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:c.default},Ot}var jE=BE();const VE=J_(jE),{PostgrestClient:$E,PostgrestQueryBuilder:GO,PostgrestFilterBuilder:HO,PostgrestTransformBuilder:JO,PostgrestBuilder:YO,PostgrestError:KO}=VE;function FE(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const zE=FE(),GE="2.11.15",HE=`realtime-js/${GE}`,JE="1.0.0",Bx=1e4,YE=1e3;var da;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(da||(da={}));var Jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jt||(Jt={}));var Bn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Bn||(Bn={}));var wf;(function(t){t.websocket="websocket"})(wf||(wf={}));var ws;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ws||(ws={}));class KE{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const o=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(e.slice(c,c+o));c=c+o;const p=i.decode(e.slice(c,c+a));c=c+a;const m=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class jx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(mt||(mt={}));const Gy=(t,e,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((a,c)=>(a[c]=QE(c,t,e,o),a),{})},QE=(t,e,n,i)=>{const o=e.find(h=>h.name===t),a=o==null?void 0:o.type,c=n[t];return a&&!i.includes(a)?Vx(a,c):Cf(c)},Vx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return eA(e,n)}switch(t){case mt.bool:return ZE(e);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return XE(e);case mt.json:case mt.jsonb:return WE(e);case mt.timestamp:return tA(e);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return Cf(e);default:return Cf(e)}},Cf=t=>t,ZE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},XE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},WE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},eA=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let a;const c=t.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(h=>Vx(e,h))}return t},tA=t=>typeof t=="string"?t.replace(" ","T"):t,$x=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class af{constructor(e,n,i={},o=Bx){this.channel=e,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Hy||(Hy={}));class fa{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fa.syncState(this.state,o,a,c),this.pendingDiffs.forEach(p=>{this.state=fa.syncDiff(this.state,p,a,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=fa.syncDiff(this.state,o,a,c),h())}),this.onJoin((o,a,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:c})}),this.onLeave((o,a,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,o){const a=this.cloneDeep(e),c=this.transformState(n),h={},p={};return this.map(a,(m,y)=>{c[m]||(p[m]=y)}),this.map(c,(m,y)=>{const T=a[m];if(T){const b=y.map(A=>A.presence_ref),w=T.map(A=>A.presence_ref),S=y.filter(A=>w.indexOf(A.presence_ref)<0),N=T.filter(A=>b.indexOf(A.presence_ref)<0);S.length>0&&(h[m]=S),N.length>0&&(p[m]=N)}else h[m]=y}),this.syncDiff(a,{joins:h,leaves:p},i,o)}static syncDiff(e,n,i,o){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(h,p)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),y.length>0){const T=e[h].map(w=>w.presence_ref),b=y.filter(w=>T.indexOf(w.presence_ref)<0);e[h].unshift(...b)}i(h,y,p)}),this.map(c,(h,p)=>{let m=e[h];if(!m)return;const y=p.map(T=>T.presence_ref);m=m.filter(T=>y.indexOf(T.presence_ref)<0),e[h]=m,o(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const o=e[i];return"metas"in o?n[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Jy||(Jy={}));var Yy;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yy||(Yy={}));var xi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(xi||(xi={}));class dh{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new af(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new jx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new fa(this),this.broadcastEndpointURL=$x(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:a,presence:c,private:h}}=this.params;this._onError(y=>e==null?void 0:e(xi.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(xi.CLOSED));const p={},m={broadcast:a,presence:c,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var T;if(this.socket.setAuth(),y===void 0){e==null||e(xi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(T=b==null?void 0:b.length)!==null&&T!==void 0?T:0,S=[];for(let N=0;N<w;N++){const A=b[N],{filter:{event:M,schema:P,table:D,filter:C}}=A,I=y&&y[N];if(I&&I.event===M&&I.schema===P&&I.table===D&&I.filter===C)S.push(Object.assign(Object.assign({},A),{id:I.id}));else{this.unsubscribe(),this.state=Jt.errored,e==null||e(xi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(xi.SUBSCRIBED);return}}).receive("error",y=>{this.state=Jt.errored,e==null||e(xi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(xi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new af(this,Bn.leave,{},e),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new af(this,e,n,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var o,a;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:y}=Bn;if(i&&[h,p,m,y].indexOf(c)>=0&&i!==this._joinRef())return;let b=this._onMessage(c,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var S,N,A;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((A=(N=w.filter)===null||N===void 0?void 0:N.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(w=>w.callback(b,i)):(a=this.bindings[c])===null||a===void 0||a.filter(w=>{var S,N,A,M,P,D;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const C=w.id,I=(S=w.filter)===null||S===void 0?void 0:S.event;return C&&((N=n.ids)===null||N===void 0?void 0:N.includes(C))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const C=(P=(M=w==null?void 0:w.filter)===null||M===void 0?void 0:M.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return C==="*"||C===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:N,table:A,commit_timestamp:M,type:P,errors:D}=S;b=Object.assign(Object.assign({},{schema:N,table:A,commit_timestamp:M,eventType:P,new:{},old:{},errors:D}),this._getPayloadRecords(S))}w.callback(b,i)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&dh.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bn.close,{},e)}_onError(e){this._on(Bn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Gy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Gy(e.columns,e.old_record)),n}}const Ky=()=>{},nA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iA{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bx,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ky,this.ref=0,this.logger=Ky,this.conn=null,this.sendBuffer=[],this.serializer=new KE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...h)=>Ea(async()=>{const{default:p}=await Promise.resolve().then(()=>Kr);return{default:p}},void 0).then(({default:p})=>p(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${e}/${wf.websocket}`,this.httpEndpoint=$x(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,c)=>c(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=zE),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JE}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case da.connecting:return ws.Connecting;case da.open:return ws.Open;case da.closing:return ws.Closing;default:return ws.Closed}}isConnected(){return this.connectionState()===ws.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new dh(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:i,payload:o,ref:a}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${a})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:HE};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Bn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(YE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:o,payload:a,ref:c}=n;i==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${i} ${o} ${c&&"("+c+")"||""}`,a),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(o,a,c)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Bn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${i}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([nA],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class fh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function qt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class sA extends fh{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ef extends fh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var rA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const Fx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ea(async()=>{const{default:i}=await Promise.resolve().then(()=>Kr);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},oA=()=>rA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ea(()=>Promise.resolve().then(()=>Kr),void 0)).Response:Response}),Af=t=>{if(Array.isArray(t))return t.map(n=>Af(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Af(i)}),e};var Is=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const lf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aA=(t,e,n)=>Is(void 0,void 0,void 0,function*(){const i=yield oA();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{e(new sA(lf(o),t.status||500))}).catch(o=>{e(new Ef(lf(o),o))}):e(new Ef(lf(t),t))}),lA=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),n))};function Aa(t,e,n,i,o,a){return Is(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(n,lA(e,i,o,a)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>aA(p,h,i))})})}function cu(t,e,n,i){return Is(this,void 0,void 0,function*(){return Aa(t,"GET",e,n,i)})}function Qi(t,e,n,i,o){return Is(this,void 0,void 0,function*(){return Aa(t,"POST",e,i,o,n)})}function uA(t,e,n,i,o){return Is(this,void 0,void 0,function*(){return Aa(t,"PUT",e,i,o,n)})}function cA(t,e,n,i){return Is(this,void 0,void 0,function*(){return Aa(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function zx(t,e,n,i,o){return Is(this,void 0,void 0,function*(){return Aa(t,"DELETE",e,i,o,n)})}var un=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const dA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fA{constructor(e,n={},i,o){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Fx(o)}uploadOrUpdate(e,n,i,o){return un(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},Qy),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),p&&a.append("metadata",this.encodeMetadata(p)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",c.cacheControl),p&&a.append("metadata",this.encodeMetadata(p))):(a=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const m=this._removeEmptyFolders(n),y=this._getFinalPath(m),T=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:e,body:a,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),b=yield T.json();return T.ok?{data:{path:m,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(a){if(qt(a))return{data:null,error:a};throw a}})}upload(e,n,i){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,o){return un(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),c=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:Qy.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const T=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:y}),b=yield T.json();return T.ok?{data:{path:a,fullPath:b.Key},error:null}:{data:null,error:b}}catch(p){if(qt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return un(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield Qi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),c=new URL(this.url+a.url),h=c.searchParams.get("token");if(!h)throw new fh("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(i){if(qt(i))return{data:null,error:i};throw i}})}update(e,n,i){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return un(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(qt(o))return{data:null,error:o};throw o}})}copy(e,n,i){return un(this,void 0,void 0,function*(){try{return{data:{path:(yield Qi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(qt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,i){return un(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Qi(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(o){if(qt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,i){return un(this,void 0,void 0,function*(){try{const o=yield Qi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(o){if(qt(o))return{data:null,error:o};throw o}})}download(e,n){return un(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield cu(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(qt(h))return{data:null,error:h};throw h}})}info(e){return un(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield cu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Af(i),error:null}}catch(i){if(qt(i))return{data:null,error:i};throw i}})}exists(e){return un(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield cA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(qt(i)&&i instanceof Ef){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&o.push(p);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(e){return un(this,void 0,void 0,function*(){try{return{data:yield zx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}list(e,n,i){return un(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},dA),n),{prefix:e||""});return{data:yield Qi(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(qt(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const hA="2.7.1",mA={"X-Client-Info":`storage-js/${hA}`};var Nr=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class pA{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},mA),n),this.fetch=Fx(i)}listBuckets(){return Nr(this,void 0,void 0,function*(){try{return{data:yield cu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(qt(e))return{data:null,error:e};throw e}})}getBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield cu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Nr(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(qt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Nr(this,void 0,void 0,function*(){try{return{data:yield uA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(qt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield zx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}}class gA extends pA{constructor(e,n={},i){super(e,n,i)}from(e){return new fA(this.url,this.headers,e,this.fetch)}}const yA="2.50.2";let la="";typeof Deno<"u"?la="deno":typeof document<"u"?la="web":typeof navigator<"u"&&navigator.product==="ReactNative"?la="react-native":la="node";const vA={"X-Client-Info":`supabase-js-${la}/${yA}`},xA={headers:vA},TA={schema:"public"},bA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_A={};var SA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const wA=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ux:e=fetch,(...n)=>e(...n)},CA=()=>typeof Headers>"u"?Ix:Headers,EA=(t,e,n)=>{const i=wA(n),o=CA();return(a,c)=>SA(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:t;let m=new o(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(a,Object.assign(Object.assign({},c),{headers:m}))})};var AA=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};function NA(t){return t.endsWith("/")?t:t+"/"}function RA(t,e){var n,i;const{db:o,auth:a,realtime:c,global:h}=t,{db:p,auth:m,realtime:y,global:T}=e,b={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},y),c),global:Object.assign(Object.assign(Object.assign({},T),h),{headers:Object.assign(Object.assign({},(n=T==null?void 0:T.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>AA(this,void 0,void 0,function*(){return""})};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}const Gx="2.70.0",Ir=30*1e3,Nf=3,uf=Nf*Ir,kA="http://localhost:9999",MA="supabase.auth.token",DA={"X-Client-Info":`gotrue-js/${Gx}`},Rf="X-Supabase-Api-Version",Hx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IA=6e5;class hh extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class PA extends hh{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function LA(t){return Be(t)&&t.name==="AuthApiError"}class Jx extends hh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ns extends hh{constructor(e,n,i,o){super(e,i,o),this.name=n,this.status=i}}class Ki extends ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OA(t){return Be(t)&&t.name==="AuthSessionMissingError"}class Gl extends ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hl extends ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jl extends ns{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qA(t){return Be(t)&&t.name==="AuthImplicitGrantRedirectError"}class Zy extends ns{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kf extends ns{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function cf(t){return Be(t)&&t.name==="AuthRetryableFetchError"}class Xy extends ns{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class ha extends ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wy=` 	
\r=`.split(""),BA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Wy.length;e+=1)t[Wy[e].charCodeAt(0)]=-2;for(let e=0;e<du.length;e+=1)t[du[e].charCodeAt(0)]=e;return t})();function ev(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(du[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(du[i]),e.queuedBits-=6}}function Yx(t,e,n){const i=BA[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tv(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=c=>{$A(c,i,n)};for(let c=0;c<t.length;c+=1)Yx(t.charCodeAt(c),o,a);return e.join("")}function jA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function VA(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}jA(i,e)}}function $A(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function FA(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Yx(t.charCodeAt(o),n,i);return new Uint8Array(e)}function zA(t){const e=[];return VA(t,n=>e.push(n)),new Uint8Array(e)}function GA(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>ev(o,n,i)),ev(null,n,i),e.join("")}function HA(t){return Math.round(Date.now()/1e3)+t}function JA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const qn=()=>typeof window<"u"&&typeof document<"u",bs={tested:!1,writable:!1},ma=()=>{if(!qn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bs.tested)return bs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),bs.tested=!0,bs.writable=!0}catch{bs.tested=!0,bs.writable=!1}return bs.writable};function YA(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((i,o)=>{e[o]=i}),e}const Kx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ea(async()=>{const{default:i}=await Promise.resolve().then(()=>Kr);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},KA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Yl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kl=async(t,e)=>{await t.removeItem(e)};class Du{constructor(){this.promise=new Du.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Du.promiseConstructor=Promise;function df(t){const e=t.split(".");if(e.length!==3)throw new ha("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!UA.test(e[i]))throw new ha("JWT not in base64url format");return{header:JSON.parse(tv(e[0])),payload:JSON.parse(tv(e[1])),signature:FA(e[2]),raw:{header:e[0],payload:e[1]}}}async function QA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ZA(t,e){return new Promise((i,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await t(a);if(!e(a,null,c)){i(c);return}}catch(c){if(!e(a,c)){o(c);return}}})()})}function XA(t){return("0"+t.toString(16)).substr(-2)}function WA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,XA).join("")}async function eN(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function tN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await eN(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rr(t,e,n=!1){const i=WA();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await Qx(t,`${e}-code-verifier`,o);const a=await tN(i);return[a,i===a?"plain":"s256"]}const nN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iN(t){const e=t.headers.get(Rf);if(!e||!e.match(nN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kr(t){if(!oN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var aN=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};const Ss=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lN=[502,503,504];async function nv(t){var e;if(!KA(t))throw new kf(Ss(t),0);if(lN.includes(t.status))throw new kf(Ss(t),t.status);let n;try{n=await t.json()}catch(a){throw new Jx(Ss(a),a)}let i;const o=iN(t);if(o&&o.getTime()>=Hx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Xy(Ss(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ki}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Xy(Ss(n),t.status,n.weak_password.reasons);throw new PA(Ss(n),t.status||500,i)}const uN=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function Qe(t,e,n,i){var o;const a=Object.assign({},i==null?void 0:i.headers);a[Rf]||(a[Rf]=Hx["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const c=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await cN(t,e,n+h,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function cN(t,e,n,i,o,a){const c=uN(e,i,o,a);let h;try{h=await t(n,Object.assign({},c))}catch(p){throw console.error(p),new kf(Ss(p),0)}if(h.ok||await nv(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await nv(p)}}function vi(t){var e;let n=null;mN(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=HA(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function iv(t){const e=vi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Wi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dN(t){return{data:t,error:null}}function fN(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a}=t,c=aN(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function hN(t){return t}function mN(t){return t.access_token&&t.refresh_token&&t.expires_in}const ff=["global","local","others"];var pN=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};class gN{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Kx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ff[0]){if(ff.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ff.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Wi})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=pN(e,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:fN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wi})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,o,a,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:hN});if(y.error)throw y.error;const T=await y.json(),b=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(S=>{const N=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);m[`${A}Page`]=N}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},T),m),error:null}}catch(m){if(Be(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){kr(e);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wi})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){kr(e);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Wi})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){kr(e);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Wi})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){kr(e.userId);try{const{data:n,error:i}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){kr(e.userId),kr(e.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}}const yN={getItem:t=>ma()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ma()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ma()&&globalThis.localStorage.removeItem(t)}};function sv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function vN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Mr={debug:!!(globalThis&&ma()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xN extends Zx{}async function TN(t,e,n){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Mr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}vN();const bN={url:kA,storageKey:MA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rv(t,e,n){return await n()}class xa{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xa.nextInstanceID,xa.nextInstanceID+=1,this.instanceID>0&&qn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},bN),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new gN({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Kx(o.fetch),this.lock=o.lock||rv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:qn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=TN:this.lock=rv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:ma()?this.storage=yN:(this.memoryStorage={},this.storage=sv(this.memoryStorage)):(this.memoryStorage={},this.storage=sv(this.memoryStorage)),qn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=YA(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),qn()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),qA(a)){const p=(e=a.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Be(n)?{error:n}:{error:new Jx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,o;try{const a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:vi}),{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,i,o;try{let a;if("email"in e){const{email:y,password:T,options:b}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Rr(this.storage,this.storageKey)),a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:y,password:T,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:w,code_challenge_method:S},xform:vi})}else if("phone"in e){const{phone:y,password:T,options:b}=e;a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:T,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:vi})}else throw new Hl("You must provide either an email or phone number and a password");const{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:c,options:h}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:iv})}else if("phone"in e){const{phone:a,password:c,options:h}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:iv})}else throw new Hl("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Gl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,o,a,c,h,p,m,y,T,b,w;let S,N;if("message"in e)S=e.message,N=e.signature;else{const{chain:A,wallet:M,statement:P,options:D}=e;let C;if(qn())if(typeof M=="object")C=M;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))C=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=M}const I=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const V=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),P?{statement:P}:null));let H;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")H=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)H=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)S=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),N=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${I.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(i=D==null?void 0:D.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=D==null?void 0:D.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((T=(y=D==null?void 0:D.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||T===void 0)&&T.length?["Resources",...D.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const V=await C.signMessage(new TextEncoder().encode(S),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=V}}try{const{data:A,error:M}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:GA(N)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:vi});if(M)throw M;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Gl}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:M})}catch(A){if(Be(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const n=await Yl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{const{data:a,error:c}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:vi});if(await Kl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Gl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:c})}catch(a){if(Be(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:i,token:o,access_token:a,nonce:c}=e,h=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vi}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Gl}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,o,a,c;try{if("email"in e){const{email:h,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Rr(this.storage,this.storageKey));const{error:T}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:T}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:y}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new Hl("You must provide either an email or phone number.")}catch(h){if(Be(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,i;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:vi});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,i,o;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Rr(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:dN})}catch(a){if(Be(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Ki;const{error:o}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Be(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:a}=e,{error:c}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:o,options:a}=e,{data:c,error:h}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Hl("You must provide either an email or phone number and a type")}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Yl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<uf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,y)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,y))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wi}):await this._useSession(async n=>{var i,o,a;const{data:c,error:h}=n;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ki}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Wi})})}catch(n){if(Be(n))return OA(n)&&(await this._removeSession(),await Kl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new Ki;const c=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Rr(this.storage,this.storageKey));const{data:m,error:y}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:Wi});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ki;const n=Date.now()/1e3;let i=n,o=!0,a=null;const{payload:c}=df(e.access_token);if(c.exp&&(i=c.exp,o=i<=n),o){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Ki;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!qn())throw new Jl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Zy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Zy("No code detected.");const{data:P,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=e;if(!a||!h||!c||!m)throw new Jl("No session defined in URL");const y=Math.round(Date.now()/1e3),T=parseInt(h);let b=y+T;p&&(b=parseInt(p));const w=b-y;w*1e3<=Ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${T}s`);const S=b-T;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,y);const{data:N,error:A}=await this._getUser(a);if(A)throw A;const M={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:T,expires_at:b,refresh_token:c,token_type:m,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(i){if(Be(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Yl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{error:a};const c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(LA(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Kl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=JA(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,o;try{const{data:{session:a},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Rr(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Be(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:o}=await this._useSession(async a=>{var c,h,p,m,y;const{data:T,error:b}=a;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(m=T.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return qn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Be(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:c}=n;if(c)throw c;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await ZA(async o=>(o>0&&await QA(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vi})),(o,a)=>{const c=200*Math.pow(2,o);return a&&cf(a)&&Date.now()+c-i<Ir})}catch(i){if(this._debug(n,"error",i),Be(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),qn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Yl(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<uf;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${uf}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),cf(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Ki;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Du;const{data:a,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!a.session)throw new Ki;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),Be(a)){const c={session:null,error:a};return cf(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){a.push(p)}});if(await Promise.all(c),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Qx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Kl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ir);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ir}ms, refresh threshold is ${Nf} ticks`),o<=Nf&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,c]=await Rr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:m}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:c,error:h}=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],o=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=df(o.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i||(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+IA>Date.now()))return i;const{data:o,error:a}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!o.keys||o.keys.length===0)throw new ha("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),i=o.keys.find(c=>c.kid===e),!i)throw new ha("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};i=w.session.access_token}const{header:o,payload:a,signature:c,raw:{header:h,payload:p}}=df(i);if(sN(a.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:a,header:o,signature:c},error:null}}const m=rN(o.alg),y=await this.fetchJwk(o.kid,n),T=await crypto.subtle.importKey("jwk",y,m,!0,["verify"]);if(!await crypto.subtle.verify(m,T,c,zA(`${h}.${p}`)))throw new ha("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}}}xa.nextInstanceID=0;const _N=xa;class SN extends _N{constructor(e){super(e)}}var wN=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?a(y.value):o(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class CN{constructor(e,n,i){var o,a,c;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=NA(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:TA,realtime:_A,auth:Object.assign(Object.assign({},bA),{storageKey:m}),global:xA},T=RA(i??{},y);this.storageKey=(o=T.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=T.global.headers)!==null&&a!==void 0?a:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(b,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=T.auth)!==null&&c!==void 0?c:{},this.headers,T.global.fetch),this.fetch=EA(n,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.rest=new $E(new URL("rest/v1",p).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),T.accessToken||this._listenForAuthEvents()}get functions(){return new kE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gA(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return wN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,storageKey:a,flowType:c,lock:h,debug:p},m,y){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SN({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),m),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,flowType:c,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new iA(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const EN=(t,e,n)=>new CN(t,e,n),ov=EN("https://zazwsuhcsscuxbvyiuwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphendzdWhjc3NjdXhidnlpdXdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA4MjExMjMsImV4cCI6MjA2NjM5NzEyM30.lt7ZjnkOKJdLW_oiJ-3Nu4YoeLWFGlmcuwMkMmrTqY0"),AN=async t=>{if(!t)return null;const e=t.name.split(".").pop(),i=`images/${`${Math.random().toString(36).slice(2)}.${e}`}`,{data:o,error:a}=await ov.storage.from("images").upload(i,t);if(a)return console.error(a),null;const{data:c,error:h}=ov.storage.from("images").getPublicUrl(i);if(h)return console.error("Public URL error:",h),null;if(c)return c.publicUrl},NN={getImageUrl:AN};var nt;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const a={};for(const c of o)a[c]=c;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(h=>typeof o[o[h]]!="number"),c={};for(const h of a)c[h]=o[h];return t.objectValues(c)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&a.push(c);return a},t.find=(o,a)=>{for(const c of o)if(a(c))return c},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,a=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}t.joinValues=i,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(nt||(nt={}));var av;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(av||(av={}));const ye=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zi=t=>{switch(typeof t){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return Number.isNaN(t)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(t)?ye.array:t===null?ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ye.promise:typeof Map<"u"&&t instanceof Map?ye.map:typeof Set<"u"&&t instanceof Set?ye.set:typeof Date<"u"&&t instanceof Date?ye.date:ye.object;default:return ye.unknown}},le=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class _i extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},i={_errors:[]},o=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)i._errors.push(n(c));else{let h=i,p=0;for(;p<c.path.length;){const m=c.path[p];p===c.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(n(c))):h[m]=h[m]||{_errors:[]},h=h[m],p++}}};return o(this),i}static assert(e){if(!(e instanceof _i))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):i.push(e(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}_i.create=t=>new _i(t);const Mf=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,nt.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${nt.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${nt.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${nt.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:nt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,nt.assertNever(t)}return{message:n}};let RN=Mf;function kN(){return RN}const MN=t=>{const{data:e,path:n,errorMaps:i,issueData:o}=t,a=[...n,...o.path||[]],c={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let h="";const p=i.filter(m=>!!m).slice().reverse();for(const m of p)h=m(c,{data:e,defaultError:h}).message;return{...o,path:a,message:h}};function de(t,e){const n=kN(),i=MN({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Mf?void 0:Mf].filter(o=>!!o)});t.common.issues.push(i)}class en{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const o of n){if(o.status==="aborted")return Pe;o.status==="dirty"&&e.dirty(),i.push(o.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const o of n){const a=await o.key,c=await o.value;i.push({key:a,value:c})}return en.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const o of n){const{key:a,value:c}=o;if(a.status==="aborted"||c.status==="aborted")return Pe;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(i[a.value]=c.value)}return{status:e.value,value:i}}}const Pe=Object.freeze({status:"aborted"}),ua=t=>({status:"dirty",value:t}),In=t=>({status:"valid",value:t}),lv=t=>t.status==="aborted",uv=t=>t.status==="dirty",jr=t=>t.status==="valid",fu=t=>typeof Promise<"u"&&t instanceof Promise;var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));class ti{constructor(e,n,i,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cv=(t,e)=>{if(jr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new _i(t.common.issues);return this._error=n,this._error}}};function Fe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:o}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,h)=>{const{message:p}=t;return c.code==="invalid_enum_value"?{message:p??h.defaultError}:typeof h.data>"u"?{message:p??i??h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:p??n??h.defaultError}},description:o}}class Xe{get description(){return this._def.description}_getType(e){return Zi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Zi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new en,ctx:{common:e.parent.common,data:e.data,parsedType:Zi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(fu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zi(e)},o=this._parseSync({data:e,path:i.path,parent:i});return cv(i,o)}"~validate"(e){var i,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zi(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return jr(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(o=(i=a==null?void 0:a.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>jr(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zi(e)},o=this._parse({data:e,path:i.path,parent:i}),a=await(fu(o)?o:Promise.resolve(o));return cv(i,a)}refine(e,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,a)=>{const c=e(o),h=()=>a.addIssue({code:le.custom,...i(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(p=>p?!0:(h(),!1)):c?!0:(h(),!1)})}refinement(e,n){return this._refinement((i,o)=>e(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(e){return new Fr({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return es.create(this,this._def)}nullable(){return zr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ei.create(this)}promise(){return yu.create(this,this._def)}or(e){return mu.create([this,e],this._def)}and(e){return pu.create(this,e,this._def)}transform(e){return new Fr({...Fe(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Pf({...Fe(this._def),innerType:this,defaultValue:n,typeName:Ie.ZodDefault})}brand(){return new eR({typeName:Ie.ZodBranded,type:this,...Fe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Lf({...Fe(this._def),innerType:this,catchValue:n,typeName:Ie.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return mh.create(this,e)}readonly(){return Of.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const DN=/^c[^\s-]{8,}$/i,UN=/^[0-9a-z]+$/,IN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,LN=/^[a-z0-9_-]{21}$/i,ON=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,qN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,BN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hf;const VN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$N=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,FN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,HN=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Xx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",JN=new RegExp(`^${Xx}$`);function Wx(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function YN(t){return new RegExp(`^${Wx(t)}$`)}function KN(t){let e=`${Xx}T${Wx(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function QN(t,e){return!!((e==="v4"||!e)&&VN.test(t)||(e==="v6"||!e)&&FN.test(t))}function ZN(t,e){if(!ON.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function XN(t,e){return!!((e==="v4"||!e)&&$N.test(t)||(e==="v6"||!e)&&zN.test(t))}class Xn extends Xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const a=this._getOrReturnCtx(e);return de(a,{code:le.invalid_type,expected:ye.string,received:a.parsedType}),Pe}const i=new en;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,h=e.data.length<a.value;(c||h)&&(o=this._getOrReturnCtx(e,o),c?de(o,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):h&&de(o,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")BN.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"email",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")hf||(hf=new RegExp(jN,"u")),hf.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"emoji",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")PN.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"uuid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")LN.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"nanoid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")DN.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"cuid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")UN.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"cuid2",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")IN.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"ulid",code:le.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),de(o,{validation:"url",code:le.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"regex",code:le.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),de(o,{code:le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),de(o,{code:le.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),de(o,{code:le.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?KN(a).test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{code:le.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?JN.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{code:le.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?YN(a).test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{code:le.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?qN.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"duration",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?QN(e.data,a.version)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"ip",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?ZN(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"jwt",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?XN(e.data,a.version)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"cidr",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?GN.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"base64",code:le.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?HN.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"base64url",code:le.invalid_string,message:a.message}),i.dirty()):nt.assertNever(a);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(o=>e.test(o),{validation:n,code:le.invalid_string,...ve.errToObj(i)})}_addCheck(e){return new Xn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ve.errToObj(n)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Xn.create=t=>new Xn({checks:[],typeName:Ie.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Fe(t)});function WN(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=n>i?n:i,a=Number.parseInt(t.toFixed(o).replace(".","")),c=Number.parseInt(e.toFixed(o).replace(".",""));return a%c/10**o}class Rs extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const a=this._getOrReturnCtx(e);return de(a,{code:le.invalid_type,expected:ye.number,received:a.parsedType}),Pe}let i;const o=new en;for(const a of this._def.checks)a.kind==="int"?nt.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{code:le.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),de(i,{code:le.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),de(i,{code:le.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?WN(e.data,a.value)!==0&&(i=this._getOrReturnCtx(e,i),de(i,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{code:le.not_finite,message:a.message}),o.dirty()):nt.assertNever(a);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,i,o){return new Rs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:ve.toString(o)}]})}_addCheck(e){return new Rs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&nt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Rs.create=t=>new Rs({checks:[],typeName:Ie.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Fe(t)});class ks extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ye.bigint)return this._getInvalidInput(e);let i;const o=new en;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),de(i,{code:le.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),de(i,{code:le.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),de(i,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):nt.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return de(n,{code:le.invalid_type,expected:ye.bigint,received:n.parsedType}),Pe}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,i,o){return new ks({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:ve.toString(o)}]})}_addCheck(e){return new ks({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ks.create=t=>new ks({checks:[],typeName:Ie.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Fe(t)});class hu extends Xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const i=this._getOrReturnCtx(e);return de(i,{code:le.invalid_type,expected:ye.boolean,received:i.parsedType}),Pe}return In(e.data)}}hu.create=t=>new hu({typeName:Ie.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Fe(t)});class Vr extends Xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const a=this._getOrReturnCtx(e);return de(a,{code:le.invalid_type,expected:ye.date,received:a.parsedType}),Pe}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return de(a,{code:le.invalid_date}),Pe}const i=new en;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):nt.assertNever(a);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vr({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Vr.create=t=>new Vr({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ie.ZodDate,...Fe(t)});class dv extends Xe{_parse(e){if(this._getType(e)!==ye.symbol){const i=this._getOrReturnCtx(e);return de(i,{code:le.invalid_type,expected:ye.symbol,received:i.parsedType}),Pe}return In(e.data)}}dv.create=t=>new dv({typeName:Ie.ZodSymbol,...Fe(t)});class fv extends Xe{_parse(e){if(this._getType(e)!==ye.undefined){const i=this._getOrReturnCtx(e);return de(i,{code:le.invalid_type,expected:ye.undefined,received:i.parsedType}),Pe}return In(e.data)}}fv.create=t=>new fv({typeName:Ie.ZodUndefined,...Fe(t)});class hv extends Xe{_parse(e){if(this._getType(e)!==ye.null){const i=this._getOrReturnCtx(e);return de(i,{code:le.invalid_type,expected:ye.null,received:i.parsedType}),Pe}return In(e.data)}}hv.create=t=>new hv({typeName:Ie.ZodNull,...Fe(t)});class mv extends Xe{constructor(){super(...arguments),this._any=!0}_parse(e){return In(e.data)}}mv.create=t=>new mv({typeName:Ie.ZodAny,...Fe(t)});class Df extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return In(e.data)}}Df.create=t=>new Df({typeName:Ie.ZodUnknown,...Fe(t)});class ts extends Xe{_parse(e){const n=this._getOrReturnCtx(e);return de(n,{code:le.invalid_type,expected:ye.never,received:n.parsedType}),Pe}}ts.create=t=>new ts({typeName:Ie.ZodNever,...Fe(t)});class pv extends Xe{_parse(e){if(this._getType(e)!==ye.undefined){const i=this._getOrReturnCtx(e);return de(i,{code:le.invalid_type,expected:ye.void,received:i.parsedType}),Pe}return In(e.data)}}pv.create=t=>new pv({typeName:Ie.ZodVoid,...Fe(t)});class ei extends Xe{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),o=this._def;if(n.parsedType!==ye.array)return de(n,{code:le.invalid_type,expected:ye.array,received:n.parsedType}),Pe;if(o.exactLength!==null){const c=n.data.length>o.exactLength.value,h=n.data.length<o.exactLength.value;(c||h)&&(de(n,{code:c?le.too_big:le.too_small,minimum:h?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(de(n,{code:le.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(de(n,{code:le.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((c,h)=>o.type._parseAsync(new ti(n,c,n.path,h)))).then(c=>en.mergeArray(i,c));const a=[...n.data].map((c,h)=>o.type._parseSync(new ti(n,c,n.path,h)));return en.mergeArray(i,a)}get element(){return this._def.type}min(e,n){return new ei({...this._def,minLength:{value:e,message:ve.toString(n)}})}max(e,n){return new ei({...this._def,maxLength:{value:e,message:ve.toString(n)}})}length(e,n){return new ei({...this._def,exactLength:{value:e,message:ve.toString(n)}})}nonempty(e){return this.min(1,e)}}ei.create=(t,e)=>new ei({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...Fe(e)});function Pr(t){if(t instanceof At){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=es.create(Pr(i))}return new At({...t._def,shape:()=>e})}else return t instanceof ei?new ei({...t._def,type:Pr(t.element)}):t instanceof es?es.create(Pr(t.unwrap())):t instanceof zr?zr.create(Pr(t.unwrap())):t instanceof Ms?Ms.create(t.items.map(e=>Pr(e))):t}class At extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=nt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ye.object){const m=this._getOrReturnCtx(e);return de(m,{code:le.invalid_type,expected:ye.object,received:m.parsedType}),Pe}const{status:i,ctx:o}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof ts&&this._def.unknownKeys==="strip"))for(const m in o.data)c.includes(m)||h.push(m);const p=[];for(const m of c){const y=a[m],T=o.data[m];p.push({key:{status:"valid",value:m},value:y._parse(new ti(o,T,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof ts){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of h)p.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(m==="strict")h.length>0&&(de(o,{code:le.unrecognized_keys,keys:h}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of h){const T=o.data[y];p.push({key:{status:"valid",value:y},value:m._parse(new ti(o,T,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of p){const T=await y.key,b=await y.value;m.push({key:T,value:b,alwaysSet:y.alwaysSet})}return m}).then(m=>en.mergeObjectSync(i,m)):en.mergeObjectSync(i,p)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new At({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var a,c;const o=((c=(a=this._def).errorMap)==null?void 0:c.call(a,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:ve.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new At({...this._def,unknownKeys:"strip"})}passthrough(){return new At({...this._def,unknownKeys:"passthrough"})}extend(e){return new At({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new At({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ie.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new At({...this._def,catchall:e})}pick(e){const n={};for(const i of nt.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new At({...this._def,shape:()=>n})}omit(e){const n={};for(const i of nt.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new At({...this._def,shape:()=>n})}deepPartial(){return Pr(this)}partial(e){const n={};for(const i of nt.objectKeys(this.shape)){const o=this.shape[i];e&&!e[i]?n[i]=o:n[i]=o.optional()}return new At({...this._def,shape:()=>n})}required(e){const n={};for(const i of nt.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof es;)a=a._def.innerType;n[i]=a}return new At({...this._def,shape:()=>n})}keyof(){return eT(nt.objectKeys(this.shape))}}At.create=(t,e)=>new At({shape:()=>t,unknownKeys:"strip",catchall:ts.create(),typeName:Ie.ZodObject,...Fe(e)});At.strictCreate=(t,e)=>new At({shape:()=>t,unknownKeys:"strict",catchall:ts.create(),typeName:Ie.ZodObject,...Fe(e)});At.lazycreate=(t,e)=>new At({shape:t,unknownKeys:"strip",catchall:ts.create(),typeName:Ie.ZodObject,...Fe(e)});class mu extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function o(a){for(const h of a)if(h.result.status==="valid")return h.result;for(const h of a)if(h.result.status==="dirty")return n.common.issues.push(...h.ctx.common.issues),h.result;const c=a.map(h=>new _i(h.ctx.common.issues));return de(n,{code:le.invalid_union,unionErrors:c}),Pe}if(n.common.async)return Promise.all(i.map(async a=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(o);{let a;const c=[];for(const p of i){const m={...n,common:{...n.common,issues:[]},parent:null},y=p._parseSync({data:n.data,path:n.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!a&&(a={result:y,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const h=c.map(p=>new _i(p));return de(n,{code:le.invalid_union,unionErrors:h}),Pe}}get options(){return this._def.options}}mu.create=(t,e)=>new mu({options:t,typeName:Ie.ZodUnion,...Fe(e)});function Uf(t,e){const n=Zi(t),i=Zi(e);if(t===e)return{valid:!0,data:t};if(n===ye.object&&i===ye.object){const o=nt.objectKeys(e),a=nt.objectKeys(t).filter(h=>o.indexOf(h)!==-1),c={...t,...e};for(const h of a){const p=Uf(t[h],e[h]);if(!p.valid)return{valid:!1};c[h]=p.data}return{valid:!0,data:c}}else if(n===ye.array&&i===ye.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const c=t[a],h=e[a],p=Uf(c,h);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return n===ye.date&&i===ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class pu extends Xe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=(a,c)=>{if(lv(a)||lv(c))return Pe;const h=Uf(a.value,c.value);return h.valid?((uv(a)||uv(c))&&n.dirty(),{status:n.value,value:h.data}):(de(i,{code:le.invalid_intersection_types}),Pe)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,c])=>o(a,c)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}pu.create=(t,e,n)=>new pu({left:t,right:e,typeName:Ie.ZodIntersection,...Fe(n)});class Ms extends Xe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ye.array)return de(i,{code:le.invalid_type,expected:ye.array,received:i.parsedType}),Pe;if(i.data.length<this._def.items.length)return de(i,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&i.data.length>this._def.items.length&&(de(i,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((c,h)=>{const p=this._def.items[h]||this._def.rest;return p?p._parse(new ti(i,c,i.path,h)):null}).filter(c=>!!c);return i.common.async?Promise.all(a).then(c=>en.mergeArray(n,c)):en.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Ms({...this._def,rest:e})}}Ms.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ms({items:t,typeName:Ie.ZodTuple,rest:null,...Fe(e)})};class gu extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ye.object)return de(i,{code:le.invalid_type,expected:ye.object,received:i.parsedType}),Pe;const o=[],a=this._def.keyType,c=this._def.valueType;for(const h in i.data)o.push({key:a._parse(new ti(i,h,i.path,h)),value:c._parse(new ti(i,i.data[h],i.path,h)),alwaysSet:h in i.data});return i.common.async?en.mergeObjectAsync(n,o):en.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof Xe?new gu({keyType:e,valueType:n,typeName:Ie.ZodRecord,...Fe(i)}):new gu({keyType:Xn.create(),valueType:e,typeName:Ie.ZodRecord,...Fe(n)})}}class gv extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ye.map)return de(i,{code:le.invalid_type,expected:ye.map,received:i.parsedType}),Pe;const o=this._def.keyType,a=this._def.valueType,c=[...i.data.entries()].map(([h,p],m)=>({key:o._parse(new ti(i,h,i.path,[m,"key"])),value:a._parse(new ti(i,p,i.path,[m,"value"]))}));if(i.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const p of c){const m=await p.key,y=await p.value;if(m.status==="aborted"||y.status==="aborted")return Pe;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}})}else{const h=new Map;for(const p of c){const m=p.key,y=p.value;if(m.status==="aborted"||y.status==="aborted")return Pe;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}}}}gv.create=(t,e,n)=>new gv({valueType:e,keyType:t,typeName:Ie.ZodMap,...Fe(n)});class Ta extends Xe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ye.set)return de(i,{code:le.invalid_type,expected:ye.set,received:i.parsedType}),Pe;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(de(i,{code:le.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(de(i,{code:le.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const a=this._def.valueType;function c(p){const m=new Set;for(const y of p){if(y.status==="aborted")return Pe;y.status==="dirty"&&n.dirty(),m.add(y.value)}return{status:n.value,value:m}}const h=[...i.data.values()].map((p,m)=>a._parse(new ti(i,p,i.path,m)));return i.common.async?Promise.all(h).then(p=>c(p)):c(h)}min(e,n){return new Ta({...this._def,minSize:{value:e,message:ve.toString(n)}})}max(e,n){return new Ta({...this._def,maxSize:{value:e,message:ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ta.create=(t,e)=>new Ta({valueType:t,minSize:null,maxSize:null,typeName:Ie.ZodSet,...Fe(e)});class If extends Xe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}If.create=(t,e)=>new If({getter:t,typeName:Ie.ZodLazy,...Fe(e)});class yv extends Xe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return de(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}yv.create=(t,e)=>new yv({value:t,typeName:Ie.ZodLiteral,...Fe(e)});function eT(t,e){return new $r({values:t,typeName:Ie.ZodEnum,...Fe(e)})}class $r extends Xe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return de(n,{expected:nt.joinValues(i),received:n.parsedType,code:le.invalid_type}),Pe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return de(n,{received:n.data,code:le.invalid_enum_value,options:i}),Pe}return In(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return $r.create(e,{...this._def,...n})}exclude(e,n=this._def){return $r.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}$r.create=eT;class vv extends Xe{_parse(e){const n=nt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==ye.string&&i.parsedType!==ye.number){const o=nt.objectValues(n);return de(i,{expected:nt.joinValues(o),received:i.parsedType,code:le.invalid_type}),Pe}if(this._cache||(this._cache=new Set(nt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=nt.objectValues(n);return de(i,{received:i.data,code:le.invalid_enum_value,options:o}),Pe}return In(e.data)}get enum(){return this._def.values}}vv.create=(t,e)=>new vv({values:t,typeName:Ie.ZodNativeEnum,...Fe(e)});class yu extends Xe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.promise&&n.common.async===!1)return de(n,{code:le.invalid_type,expected:ye.promise,received:n.parsedType}),Pe;const i=n.parsedType===ye.promise?n.data:Promise.resolve(n.data);return In(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}yu.create=(t,e)=>new yu({type:t,typeName:Ie.ZodPromise,...Fe(e)});class Fr extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:c=>{de(i,c),c.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const c=o.transform(i.data,a);if(i.common.async)return Promise.resolve(c).then(async h=>{if(n.value==="aborted")return Pe;const p=await this._def.schema._parseAsync({data:h,path:i.path,parent:i});return p.status==="aborted"?Pe:p.status==="dirty"||n.value==="dirty"?ua(p.value):p});{if(n.value==="aborted")return Pe;const h=this._def.schema._parseSync({data:c,path:i.path,parent:i});return h.status==="aborted"?Pe:h.status==="dirty"||n.value==="dirty"?ua(h.value):h}}if(o.type==="refinement"){const c=h=>{const p=o.refinement(h,a);if(i.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(i.common.async===!1){const h=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return h.status==="aborted"?Pe:(h.status==="dirty"&&n.dirty(),c(h.value),{status:n.value,value:h.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(h=>h.status==="aborted"?Pe:(h.status==="dirty"&&n.dirty(),c(h.value).then(()=>({status:n.value,value:h.value}))))}if(o.type==="transform")if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!jr(c))return Pe;const h=o.transform(c.value,a);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:h}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>jr(c)?Promise.resolve(o.transform(c.value,a)).then(h=>({status:n.value,value:h})):Pe);nt.assertNever(o)}}Fr.create=(t,e,n)=>new Fr({schema:t,typeName:Ie.ZodEffects,effect:e,...Fe(n)});Fr.createWithPreprocess=(t,e,n)=>new Fr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ie.ZodEffects,...Fe(n)});class es extends Xe{_parse(e){return this._getType(e)===ye.undefined?In(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}es.create=(t,e)=>new es({innerType:t,typeName:Ie.ZodOptional,...Fe(e)});class zr extends Xe{_parse(e){return this._getType(e)===ye.null?In(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zr.create=(t,e)=>new zr({innerType:t,typeName:Ie.ZodNullable,...Fe(e)});class Pf extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===ye.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Pf.create=(t,e)=>new Pf({innerType:t,typeName:Ie.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Fe(e)});class Lf extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return fu(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new _i(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new _i(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Lf.create=(t,e)=>new Lf({innerType:t,typeName:Ie.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Fe(e)});class xv extends Xe{_parse(e){if(this._getType(e)!==ye.nan){const i=this._getOrReturnCtx(e);return de(i,{code:le.invalid_type,expected:ye.nan,received:i.parsedType}),Pe}return{status:"valid",value:e.data}}}xv.create=t=>new xv({typeName:Ie.ZodNaN,...Fe(t)});class eR extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class mh extends Xe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Pe:a.status==="dirty"?(n.dirty(),ua(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Pe:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(e,n){return new mh({in:e,out:n,typeName:Ie.ZodPipeline})}}class Of extends Xe{_parse(e){const n=this._def.innerType._parse(e),i=o=>(jr(o)&&(o.value=Object.freeze(o.value)),o);return fu(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}Of.create=(t,e)=>new Of({innerType:t,typeName:Ie.ZodReadonly,...Fe(e)});var Ie;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const _s=Xn.create,Tv=Rs.create;ks.create;const tR=hu.create;Vr.create;const bv=Df.create;ts.create;const ca=ei.create,nR=At.create,iR=mu.create;pu.create;Ms.create;const sR=gu.create,rR=If.create,oR=$r.create;yu.create;es.create;zr.create;const Dr={string:t=>Xn.create({...t,coerce:!0}),number:t=>Rs.create({...t,coerce:!0}),boolean:t=>hu.create({...t,coerce:!0}),bigint:t=>ks.create({...t,coerce:!0}),date:t=>Vr.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aR,lR;function uR(){return{geminiUrl:aR,vertexUrl:lR}}function cR(t,e,n){var i,o,a;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const c=uR();return t.vertexai?(o=c.vertexUrl)!==null&&o!==void 0?o:e:(a=c.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ps{}function _e(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function d(t,e,n){for(let a=0;a<e.length-1;a++){const c=e[a];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(n))for(let m=0;m<p.length;m++){const y=p[m];d(y,e.slice(a+1),n[m])}else for(const m of p)d(m,e.slice(a+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];d(p[0],e.slice(a+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(c=>u(c,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _v;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(_v||(_v={}));var Sv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Sv||(Sv={}));var Wn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Wn||(Wn={}));var wv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(wv||(wv={}));var Cv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Cv||(Cv={}));var Ev;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ev||(Ev={}));var Av;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Av||(Av={}));var Nv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Nv||(Nv={}));var Rv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Rv||(Rv={}));var kv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(kv||(kv={}));var Mv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Mv||(Mv={}));var Dv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Dv||(Dv={}));var Uv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Uv||(Uv={}));var vu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(vu||(vu={}));var Iv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Iv||(Iv={}));var qf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qf||(qf={}));var Pv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Pv||(Pv={}));var Lv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Lv||(Lv={}));var Ov;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ov||(Ov={}));var qv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qv||(qv={}));var Bv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Bv||(Bv={}));var jv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(jv||(jv={}));var Vv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Vv||(Vv={}));var $v;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})($v||($v={}));var Fv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Fv||(Fv={}));var zv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(zv||(zv={}));var Gv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Gv||(Gv={}));var Hv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hv||(Hv={}));var Jv;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Jv||(Jv={}));var Yv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Yv||(Yv={}));var Kv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Kv||(Kv={}));var Qv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Qv||(Qv={}));var Zv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Zv||(Zv={}));var Xv;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xv||(Xv={}));var Wv;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Wv||(Wv={}));var e0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(e0||(e0={}));var t0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(t0||(t0={}));var n0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(n0||(n0={}));var i0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(i0||(i0={}));var Lr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Lr||(Lr={}));function s0(t,e){return{fileData:{fileUri:t,mimeType:e}}}class Bf{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class aa{get text(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const T=[];for(const b of(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[w,S]of Object.entries(b))w!=="text"&&w!=="thought"&&(S!==null||S!==void 0)&&T.push(w);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;y=!0,m+=b.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const T of(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[b,w]of Object.entries(T))b!=="inlineData"&&(w!==null||w!==void 0)&&y.push(b);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,o,a,c,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,o,a,c,h,p,m;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,o,a,c,h,p,m;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class r0{}class o0{}class dR{}class fR{}class a0{}class l0{}class u0{}class hR{}class c0{}class d0{}class f0{}class mR{}class pR{}class gR{}class h0{}class yR{get text(){var e,n,i;let o="",a=!1;const c=[];for(const h of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&c.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;a=!0,o+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,i;let o="";const a=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(c))h!=="inlineData"&&p!==null&&a.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class vR{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function tT(t,e){const n=lt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function nT(t){return Array.isArray(t)?t.map(e=>xu(e)):[xu(t)]}function xu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function xR(t){const e=xu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function TR(t){const e=xu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function m0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function iT(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>m0(e)):[m0(t)]}function jf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function p0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function g0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Qt(t){if(t==null)throw new Error("ContentUnion is required");return jf(t)?t:{role:"user",parts:iT(t)}}function sT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Qt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Qt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Qt(n)):[Qt(e)]}function Dn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(p0(t)||g0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qt(t)]}const e=[],n=[],i=jf(t[0]);for(const o of t){const a=jf(o);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(p0(o)||g0(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:iT(n)}),e}const bR=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),y0=oR(["string","number","integer","object","array","boolean","null"]),_R=iR([y0,ca(y0)]);function SR(t=!0){const e=rR(()=>{const n=nR({type:_R.optional(),format:_s().optional(),title:_s().optional(),description:_s().optional(),default:bv().optional(),items:e.optional(),minItems:Dr.string().optional(),maxItems:Dr.string().optional(),enum:ca(bv()).optional(),properties:sR(_s(),e).optional(),required:ca(_s()).optional(),minProperties:Dr.string().optional(),maxProperties:Dr.string().optional(),propertyOrdering:ca(_s()).optional(),minimum:Tv().optional(),maximum:Tv().optional(),minLength:Dr.string().optional(),maxLength:Dr.string().optional(),pattern:_s().optional(),anyOf:ca(e).optional(),additionalProperties:tR().optional()});return t?n.strict():n});return e}function wR(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Wn).includes(n[0].toUpperCase())?n[0].toUpperCase():Wn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Wn).includes(i.toUpperCase())?i.toUpperCase():Wn.TYPE_UNSPECIFIED})}}function Or(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&wR(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Wn).includes(h.toUpperCase())?h.toUpperCase():Wn.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=Or(h);else if(i.includes(c)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(Or(m))}e[c]=p}else if(o.includes(c)){const p={};for(const[m,y]of Object.entries(h))p[m]=Or(y);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=h}return e}function ba(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=SR().parse(t);return Or(e)}else return Or(t)}function ph(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function gh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Qr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=ba(e.parameters)),e.response&&(e.response=ba(e.response));return t}function Zr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function CR(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Si(t,e){if(typeof e!="string")throw new Error("name must be a string");return CR(t,e,"cachedContents")}function rT(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function wi(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function ER(t){return t!=null&&typeof t=="object"&&"name"in t}function AR(t){return t!=null&&typeof t=="object"&&"video"in t}function NR(t){return t!=null&&typeof t=="object"&&"uri"in t}function oT(t){var e;let n;if(ER(t)&&(n=t.name),!(NR(t)&&(n=t.uri,n===void 0))&&!(AR(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function aT(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function lT(t){for(const e of["models","tunedModels","publisherModels"])if(RR(t,e))return t[e];return[]}function RR(t,e){return t!==null&&typeof t=="object"&&e in t}function kR(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:Or(Uu(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function MR(t,e={}){const n=[],i=new Set;for(const o of t){const a=o.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const c=kR(o,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function DR(t){const e=[];for(const n of t)e.push(Uu(n));return e}function UR(t){const e={};for(const[n,i]of Object.entries(t)){const o=i;e[n]=Uu(o)}return e}function Uu(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),o={};for(const[a,c]of Object.entries(t))if(e.has(a))o[a]=Uu(c);else if(n.has(a))o[a]=DR(c);else if(i.has(a))o[a]=UR(c);else if(a==="type"){const h=c.toUpperCase();o[a]=Object.values(Wn).includes(h)?h:Wn.TYPE_UNSPECIFIED}else bR.has(a)&&(o[a]=c);return o}function uT(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function IR(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Iu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function cT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PR(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function LR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function OR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function qR(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],PR(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],LR(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],OR(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function dT(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>qR(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function BR(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&d(e,["maxProperties"],T);const b=u(t,["maximum"]);b!=null&&d(e,["maximum"],b);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const S=u(t,["minLength"]);S!=null&&d(e,["minLength"],S);const N=u(t,["minProperties"]);N!=null&&d(e,["minProperties"],N);const A=u(t,["minimum"]);A!=null&&d(e,["minimum"],A);const M=u(t,["nullable"]);M!=null&&d(e,["nullable"],M);const P=u(t,["pattern"]);P!=null&&d(e,["pattern"],P);const D=u(t,["properties"]);D!=null&&d(e,["properties"],D);const C=u(t,["propertyOrdering"]);C!=null&&d(e,["propertyOrdering"],C);const I=u(t,["required"]);I!=null&&d(e,["required"],I);const V=u(t,["title"]);V!=null&&d(e,["title"],V);const H=u(t,["type"]);return H!=null&&d(e,["type"],H),e}function jR(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&d(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&d(e,["threshold"],i),e}function VR(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function $R(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function FR(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],$R(n)),e}function zR(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function GR(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],zR(n)),e}function HR(){return{}}function JR(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>VR(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],FR(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],GR(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],HR());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function YR(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function KR(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function QR(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],KR(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function ZR(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],YR(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],QR(i)),e}function XR(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function fT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],XR(n)),e}function WR(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],fT(i)),e}function ek(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>WR(o))),d(e,["speakerVoiceConfigs"],i)}return e}function tk(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],fT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],ek(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function nk(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function ik(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],dT(Qt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&d(i,["responseLogprobs"],T);const b=u(e,["logprobs"]);b!=null&&d(i,["logprobs"],b);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const S=u(e,["frequencyPenalty"]);S!=null&&d(i,["frequencyPenalty"],S);const N=u(e,["seed"]);N!=null&&d(i,["seed"],N);const A=u(e,["responseMimeType"]);A!=null&&d(i,["responseMimeType"],A);const M=u(e,["responseSchema"]);M!=null&&d(i,["responseSchema"],BR(ba(M)));const P=u(e,["responseJsonSchema"]);if(P!=null&&d(i,["responseJsonSchema"],P),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(e,["safetySettings"]);if(n!==void 0&&D!=null){let ne=D;Array.isArray(ne)&&(ne=ne.map($=>jR($))),d(n,["safetySettings"],ne)}const C=u(e,["tools"]);if(n!==void 0&&C!=null){let ne=Zr(C);Array.isArray(ne)&&(ne=ne.map($=>JR(Qr($)))),d(n,["tools"],ne)}const I=u(e,["toolConfig"]);if(n!==void 0&&I!=null&&d(n,["toolConfig"],ZR(I)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(e,["cachedContent"]);n!==void 0&&V!=null&&d(n,["cachedContent"],Si(t,V));const H=u(e,["responseModalities"]);H!=null&&d(i,["responseModalities"],H);const ee=u(e,["mediaResolution"]);ee!=null&&d(i,["mediaResolution"],ee);const z=u(e,["speechConfig"]);if(z!=null&&d(i,["speechConfig"],tk(ph(z))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=u(e,["thinkingConfig"]);return K!=null&&d(i,["thinkingConfig"],nk(K)),i}function sk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["request","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>dT(h))),d(n,["request","contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["request","generationConfig"],ik(t,a,n)),n}function rk(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&d(n,["fileName"],i);const o=u(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>sk(t,c))),d(n,["requests","requests"],a)}return n}function ok(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&d(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ak(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["src"]);o!=null&&d(n,["batch","inputConfig"],rk(t,uT(t,o)));const a=u(e,["config"]);return a!=null&&d(n,["config"],ok(a,n)),n}function lk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Iu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function uk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Iu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function ck(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);if(e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function dk(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],ck(n,e)),e}function fk(t){const e={},n=u(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&d(e,["gcsSource","uris"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&d(e,["bigquerySource","inputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function hk(t){const e={},n=u(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&d(e,["gcsDestination","outputUriPrefix"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&d(e,["bigqueryDestination","outputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function mk(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["dest"]);return e!==void 0&&o!=null&&d(e,["outputConfig"],hk(IR(o))),n}function pk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],lt(t,i));const o=u(e,["src"]);o!=null&&d(n,["inputConfig"],fk(uT(t,o)));const a=u(e,["config"]);return a!=null&&d(n,["config"],mk(a,n)),n}function gk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Iu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function yk(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Iu(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function vk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function xk(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],vk(n,e)),e}function Tk(){return{}}function bk(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function _k(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Sk(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function wk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],bk(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],_k(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],Sk(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function Ck(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>wk(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function Ek(t){const e={},n=u(t,["citationSources"]);return n!=null&&d(e,["citations"],n),e}function Ak(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function Nk(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ak(o))),d(e,["urlMetadata"],i)}return e}function Rk(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],Ck(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],Ek(i));const o=u(t,["tokenCount"]);o!=null&&d(e,["tokenCount"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],Nk(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&d(e,["safetyRatings"],T),e}function kk(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>Rk(h))),d(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=u(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function Mk(t){const e={},n=u(t,["response"]);return n!=null&&d(e,["response"],kk(n)),u(t,["error"])!=null&&d(e,["error"],Tk()),e}function Dk(t){const e={},n=u(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Mk(a))),d(e,["inlinedResponses"],o)}return e}function Vf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["metadata","state"]);o!=null&&d(e,["state"],cT(o));const a=u(t,["metadata","createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["metadata","endTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["metadata","updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["metadata","model"]);p!=null&&d(e,["model"],p);const m=u(t,["metadata","output"]);return m!=null&&d(e,["dest"],Dk(m)),e}function Uk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Vf(a))),d(e,["batchJobs"],o)}return e}function Ik(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["code"]);i!=null&&d(e,["code"],i);const o=u(t,["message"]);return o!=null&&d(e,["message"],o),e}function Pk(t){const e={},n=u(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&d(e,["gcsUri"],i);const o=u(t,["bigquerySource","inputUri"]);return o!=null&&d(e,["bigqueryUri"],o),e}function Lk(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&d(e,["gcsUri"],i);const o=u(t,["bigqueryDestination","outputUri"]);return o!=null&&d(e,["bigqueryUri"],o),e}function $f(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["state"]);o!=null&&d(e,["state"],cT(o));const a=u(t,["error"]);a!=null&&d(e,["error"],Ik(a));const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["startTime"]);h!=null&&d(e,["startTime"],h);const p=u(t,["endTime"]);p!=null&&d(e,["endTime"],p);const m=u(t,["updateTime"]);m!=null&&d(e,["updateTime"],m);const y=u(t,["model"]);y!=null&&d(e,["model"],y);const T=u(t,["inputConfig"]);T!=null&&d(e,["src"],Pk(T));const b=u(t,["outputConfig"]);return b!=null&&d(e,["dest"],Lk(b)),e}function Ok(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>$f(a))),d(e,["batchJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ds;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ds||(Ds={}));class Na{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};i?typeof i=="object"?c=Object.assign({},i):c=i:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(a=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qk extends Ps{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Na(Ds.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=pk(this.apiClient,e);return h=_e("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>$f(y))}else{const m=ak(this.apiClient,e);return h=_e("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Vf(y))}}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=gk(this.apiClient,e);return h=_e("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>$f(y))}else{const m=lk(this.apiClient,e);return h=_e("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Vf(y))}}async cancel(e){var n,i,o,a;let c="",h={};if(this.apiClient.isVertexAI()){const p=yk(this.apiClient,e);c=_e("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=uk(this.apiClient,e);c=_e("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=xk(e);return h=_e("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=Ok(y),b=new h0;return Object.assign(b,T),b})}else{const m=dk(e);return h=_e("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=Uk(y),b=new h0;return Object.assign(b,T),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bk(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function jk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Vk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function $k(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],Bk(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],jk(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],Vk(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function v0(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>$k(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function Fk(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function zk(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function Gk(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],zk(n)),e}function Hk(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function Jk(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],Hk(n)),e}function Yk(){return{}}function Kk(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Fk(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],Gk(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],Jk(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],Yk());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function Qk(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function Zk(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function Xk(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],Zk(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function Wk(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],Qk(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],Xk(i)),e}function eM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const a=u(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let y=Dn(c);Array.isArray(y)&&(y=y.map(T=>v0(T))),d(e,["contents"],y)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],v0(Qt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(T=>Kk(T))),d(e,["tools"],y)}const m=u(t,["toolConfig"]);if(e!==void 0&&m!=null&&d(e,["toolConfig"],Wk(m)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function tM(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],tT(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],eM(o,n)),n}function nM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function iM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function sM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),n}function rM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],sM(o,n)),n}function oM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function aM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],oM(n,e)),e}function lM(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function uM(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function cM(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function dM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],lM(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],uM(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],cM(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function x0(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>dM(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function fM(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function hM(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function mM(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],hM(n)),e}function pM(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function gM(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],pM(n)),e}function yM(){return{}}function vM(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function xM(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],vM(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function TM(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],xM(n)),e}function bM(){return{}}function _M(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(T=>fM(T))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],mM(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],gM(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],yM());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],TM(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],bM());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function SM(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function wM(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function CM(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],wM(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function EM(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],SM(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],CM(i)),e}function AM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const a=u(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let T=Dn(c);Array.isArray(T)&&(T=T.map(b=>x0(b))),d(e,["contents"],T)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],x0(Qt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let T=p;Array.isArray(T)&&(T=T.map(b=>_M(b))),d(e,["tools"],T)}const m=u(t,["toolConfig"]);e!==void 0&&m!=null&&d(e,["toolConfig"],EM(m));const y=u(t,["kmsKeyName"]);return e!==void 0&&y!=null&&d(e,["encryption_spec","kmsKeyName"],y),n}function NM(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],tT(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],AM(o,n)),n}function RM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function kM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function MM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),n}function DM(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],Si(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],MM(o,n)),n}function UM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function IM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],UM(n,e)),e}function su(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["model"]);o!=null&&d(e,["model"],o);const a=u(t,["createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&d(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function PM(){return{}}function LM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>su(a))),d(e,["cachedContents"],o)}return e}function ru(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["model"]);o!=null&&d(e,["model"],o);const a=u(t,["createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&d(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function OM(){return{}}function qM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ru(a))),d(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BM extends Ps{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Na(Ds.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=NM(this.apiClient,e);return h=_e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>ru(y))}else{const m=tM(this.apiClient,e);return h=_e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>su(y))}}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=RM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>ru(y))}else{const m=nM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>su(y))}}async delete(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=kM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=OM(),T=new d0;return Object.assign(T,y),T})}else{const m=iM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=PM(),T=new d0;return Object.assign(T,y),T})}}async update(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=DM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>ru(y))}else{const m=rM(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>su(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=IM(e);return h=_e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=qM(y),b=new f0;return Object.assign(b,T),b})}else{const m=aM(e);return h=_e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=LM(y),b=new f0;return Object.assign(b,T),b})}}}function T0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gt(t){return this instanceof gt?(this.v=t,this):new gt(t)}function qr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(w){return function(S){return Promise.resolve(S).then(w,T)}}function h(w,S){i[w]&&(o[w]=function(N){return new Promise(function(A,M){a.push([w,N,A,M])>1||p(w,N)})},S&&(o[w]=S(o[w])))}function p(w,S){try{m(i[w](S))}catch(N){b(a[0][3],N)}}function m(w){w.value instanceof gt?Promise.resolve(w.value.v).then(y,T):b(a[0][2],w)}function y(w){p("next",w)}function T(w){p("throw",w)}function b(w,S){w(S),a.shift(),a.length&&p(a[0][0],a[0][1])}}function pa(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof T0=="function"?T0(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(c){return new Promise(function(h,p){c=t[a](c),o(h,p,c.done,c.value)})}}function o(a,c,h,p){Promise.resolve(p).then(function(m){a({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jM(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:hT(n)}function hT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function VM(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function b0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let a=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),a&&!hT(t[i])&&(a=!1),i++;a?e.push(...o):e.pop()}return e}class $M{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new FM(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class FM{constructor(e,n,i,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),VM(a)}async sendMessage(e){var n;await this.sendPromise;const i=Qt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,c,h;const p=await o,m=(c=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content,y=p.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let b=[];y!=null&&(b=(h=y.slice(T))!==null&&h!==void 0?h:[]);const w=m?[m]:[];this.recordHistory(i,w,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Qt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?b0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return qr(this,arguments,function*(){var c,h,p,m;const y=[];try{for(var T=!0,b=pa(e),w;w=yield gt(b.next()),c=w.done,!c;T=!0){m=w.value,T=!1;const S=m;if(jM(S)){const N=(o=(i=S.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;N!==void 0&&y.push(N)}yield yield gt(S)}}catch(S){h={error:S}}finally{try{!T&&!c&&(p=b.return)&&(yield gt(p.call(b)))}finally{if(h)throw h.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...b0(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Pu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),n}function GM(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],zM(n,e)),e}function HM(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["message"]);i!=null&&d(e,["message"],i);const o=u(t,["code"]);return o!=null&&d(e,["code"],o),e}function JM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&d(e,["mimeType"],o);const a=u(t,["sizeBytes"]);a!=null&&d(e,["sizeBytes"],a);const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&d(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&d(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&d(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&d(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&d(e,["downloadUri"],T);const b=u(t,["state"]);b!=null&&d(e,["state"],b);const w=u(t,["source"]);w!=null&&d(e,["source"],w);const S=u(t,["videoMetadata"]);S!=null&&d(e,["videoMetadata"],S);const N=u(t,["error"]);return N!=null&&d(e,["error"],HM(N)),e}function YM(t){const e={},n=u(t,["file"]);n!=null&&d(e,["file"],JM(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function KM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","file"],oT(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function QM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","file"],oT(n));const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function ZM(t){const e={},n=u(t,["details"]);n!=null&&d(e,["details"],n);const i=u(t,["message"]);i!=null&&d(e,["message"],i);const o=u(t,["code"]);return o!=null&&d(e,["code"],o),e}function Ff(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&d(e,["mimeType"],o);const a=u(t,["sizeBytes"]);a!=null&&d(e,["sizeBytes"],a);const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&d(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&d(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&d(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&d(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&d(e,["downloadUri"],T);const b=u(t,["state"]);b!=null&&d(e,["state"],b);const w=u(t,["source"]);w!=null&&d(e,["source"],w);const S=u(t,["videoMetadata"]);S!=null&&d(e,["videoMetadata"],S);const N=u(t,["error"]);return N!=null&&d(e,["error"],ZM(N)),e}function XM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ff(a))),d(e,["files"],o)}return e}function WM(){return{}}function e1(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t1 extends Ps{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Na(Ds.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ff(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=GM(e);return a=_e("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=XM(p),y=new mR;return Object.assign(y,m),y})}}async createInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YM(e);return a=_e("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(()=>{const p=WM(),m=new pR;return Object.assign(m,p),m})}}async get(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KM(e);return a=_e("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>Ff(p))}}async delete(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=QM(e);return a=_e("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(()=>{const p=e1(),m=new gR;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n1(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function i1(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function mT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],n1(n)),e}function s1(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],i1(n)),e}function r1(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],mT(i)),e}function o1(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>r1(o))),d(e,["speakerVoiceConfigs"],i)}return e}function a1(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],mT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],o1(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function l1(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],s1(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function u1(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function c1(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function d1(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function f1(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function h1(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function m1(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function p1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],u1(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],d1(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],h1(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function g1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],c1(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],f1(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],m1(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function y1(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>p1(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function v1(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>g1(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function x1(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function T1(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function b1(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function _1(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function S1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],b1(n)),e}function w1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],_1(n)),e}function C1(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function E1(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function A1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],C1(n)),e}function N1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],E1(n)),e}function R1(){return{}}function k1(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function M1(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],k1(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function D1(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],M1(n)),e}function U1(){return{}}function I1(){return{}}function P1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>x1(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],S1(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],A1(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],U1());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function L1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(T=>T1(T))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],w1(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],N1(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],R1());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],D1(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],I1());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function O1(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function q1(t){const e={},n=u(t,["handle"]);n!=null&&d(e,["handle"],n);const i=u(t,["transparent"]);return i!=null&&d(e,["transparent"],i),e}function _0(){return{}}function S0(){return{}}function B1(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function j1(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function V1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],B1(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function $1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],j1(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function F1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function z1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function G1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],F1(i)),e}function H1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],z1(i)),e}function J1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function Y1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function K1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],a1(gh(T)));const b=u(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],y1(Qt(w)));const S=u(t,["tools"]);if(e!==void 0&&S!=null){let I=Zr(S);Array.isArray(I)&&(I=I.map(V=>P1(Qr(V)))),d(e,["setup","tools"],I)}const N=u(t,["sessionResumption"]);e!==void 0&&N!=null&&d(e,["setup","sessionResumption"],O1(N));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],_0());const M=u(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","outputAudioTranscription"],_0());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],V1(P));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],G1(D));const C=u(t,["proactivity"]);return e!==void 0&&C!=null&&d(e,["setup","proactivity"],J1(C)),n}function Q1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],l1(gh(T)));const b=u(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],v1(Qt(w)));const S=u(t,["tools"]);if(e!==void 0&&S!=null){let I=Zr(S);Array.isArray(I)&&(I=I.map(V=>L1(Qr(V)))),d(e,["setup","tools"],I)}const N=u(t,["sessionResumption"]);e!==void 0&&N!=null&&d(e,["setup","sessionResumption"],q1(N));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],S0());const M=u(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","outputAudioTranscription"],S0());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],$1(P));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],H1(D));const C=u(t,["proactivity"]);return e!==void 0&&C!=null&&d(e,["setup","proactivity"],Y1(C)),n}function Z1(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],K1(o,n)),n}function X1(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],Q1(o,n)),n}function W1(){return{}}function eD(){return{}}function tD(){return{}}function nD(){return{}}function iD(t){const e={},n=u(t,["media"]);n!=null&&d(e,["mediaChunks"],nT(n));const i=u(t,["audio"]);i!=null&&d(e,["audio"],TR(i));const o=u(t,["audioStreamEnd"]);o!=null&&d(e,["audioStreamEnd"],o);const a=u(t,["video"]);a!=null&&d(e,["video"],xR(a));const c=u(t,["text"]);return c!=null&&d(e,["text"],c),u(t,["activityStart"])!=null&&d(e,["activityStart"],W1()),u(t,["activityEnd"])!=null&&d(e,["activityEnd"],tD()),e}function sD(t){const e={},n=u(t,["media"]);if(n!=null&&d(e,["mediaChunks"],nT(n)),u(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=u(t,["audioStreamEnd"]);if(i!=null&&d(e,["audioStreamEnd"],i),u(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(t,["activityStart"])!=null&&d(e,["activityStart"],eD()),u(t,["activityEnd"])!=null&&d(e,["activityEnd"],nD()),e}function pT(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["weight"]);return i!=null&&d(e,["weight"],i),e}function rD(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pT(o))),d(e,["weightedPrompts"],i)}return e}function gT(t){const e={},n=u(t,["temperature"]);n!=null&&d(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&d(e,["topK"],i);const o=u(t,["seed"]);o!=null&&d(e,["seed"],o);const a=u(t,["guidance"]);a!=null&&d(e,["guidance"],a);const c=u(t,["bpm"]);c!=null&&d(e,["bpm"],c);const h=u(t,["density"]);h!=null&&d(e,["density"],h);const p=u(t,["brightness"]);p!=null&&d(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&d(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&d(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&d(e,["muteDrums"],T);const b=u(t,["onlyBassAndDrums"]);return b!=null&&d(e,["onlyBassAndDrums"],b),e}function oD(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],gT(n)),e}function yT(t){const e={},n=u(t,["model"]);return n!=null&&d(e,["model"],n),e}function vT(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pT(o))),d(e,["weightedPrompts"],i)}return e}function zf(t){const e={},n=u(t,["setup"]);n!=null&&d(e,["setup"],yT(n));const i=u(t,["clientContent"]);i!=null&&d(e,["clientContent"],vT(i));const o=u(t,["musicGenerationConfig"]);o!=null&&d(e,["musicGenerationConfig"],gT(o));const a=u(t,["playbackControl"]);return a!=null&&d(e,["playbackControl"],a),e}function aD(){return{}}function lD(){return{}}function uD(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function cD(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function dD(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function fD(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function hD(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function mD(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function pD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],uD(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],dD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],hD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function gD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],cD(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],fD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],mD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function yD(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>pD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function vD(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>gD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function w0(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["finished"]);return i!=null&&d(e,["finished"],i),e}function C0(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["finished"]);return i!=null&&d(e,["finished"],i),e}function xD(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function TD(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xD(o))),d(e,["urlMetadata"],i)}return e}function bD(t){const e={},n=u(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],yD(n));const i=u(t,["turnComplete"]);i!=null&&d(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&d(e,["interrupted"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const c=u(t,["generationComplete"]);c!=null&&d(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&d(e,["inputTranscription"],w0(h));const p=u(t,["outputTranscription"]);p!=null&&d(e,["outputTranscription"],w0(p));const m=u(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],TD(m)),e}function _D(t){const e={},n=u(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],vD(n));const i=u(t,["turnComplete"]);i!=null&&d(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&d(e,["interrupted"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const c=u(t,["generationComplete"]);c!=null&&d(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&d(e,["inputTranscription"],C0(h));const p=u(t,["outputTranscription"]);return p!=null&&d(e,["outputTranscription"],C0(p)),e}function SD(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const i=u(t,["args"]);i!=null&&d(e,["args"],i);const o=u(t,["name"]);return o!=null&&d(e,["name"],o),e}function wD(t){const e={},n=u(t,["args"]);n!=null&&d(e,["args"],n);const i=u(t,["name"]);return i!=null&&d(e,["name"],i),e}function CD(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>SD(o))),d(e,["functionCalls"],i)}return e}function ED(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wD(o))),d(e,["functionCalls"],i)}return e}function AD(t){const e={},n=u(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function ND(t){const e={},n=u(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function Ql(t){const e={},n=u(t,["modality"]);n!=null&&d(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&d(e,["tokenCount"],i),e}function Zl(t){const e={},n=u(t,["modality"]);n!=null&&d(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&d(e,["tokenCount"],i),e}function RD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&d(e,["cachedContentTokenCount"],i);const o=u(t,["responseTokenCount"]);o!=null&&d(e,["responseTokenCount"],o);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&d(e,["toolUsePromptTokenCount"],a);const c=u(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(w=>Ql(w))),d(e,["promptTokensDetails"],b)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(w=>Ql(w))),d(e,["cacheTokensDetails"],b)}const y=u(t,["responseTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(w=>Ql(w))),d(e,["responseTokensDetails"],b)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let b=T;Array.isArray(b)&&(b=b.map(w=>Ql(w))),d(e,["toolUsePromptTokensDetails"],b)}return e}function kD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&d(e,["cachedContentTokenCount"],i);const o=u(t,["candidatesTokenCount"]);o!=null&&d(e,["responseTokenCount"],o);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&d(e,["toolUsePromptTokenCount"],a);const c=u(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(S=>Zl(S))),d(e,["promptTokensDetails"],w)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(S=>Zl(S))),d(e,["cacheTokensDetails"],w)}const y=u(t,["candidatesTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(S=>Zl(S))),d(e,["responseTokensDetails"],w)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let w=T;Array.isArray(w)&&(w=w.map(S=>Zl(S))),d(e,["toolUsePromptTokensDetails"],w)}const b=u(t,["trafficType"]);return b!=null&&d(e,["trafficType"],b),e}function MD(t){const e={},n=u(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function DD(t){const e={},n=u(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function UD(t){const e={},n=u(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&d(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&d(e,["lastConsumedClientMessageIndex"],o),e}function ID(t){const e={},n=u(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&d(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&d(e,["lastConsumedClientMessageIndex"],o),e}function PD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],aD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],bD(i));const o=u(t,["toolCall"]);o!=null&&d(e,["toolCall"],CD(o));const a=u(t,["toolCallCancellation"]);a!=null&&d(e,["toolCallCancellation"],AD(a));const c=u(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],RD(c));const h=u(t,["goAway"]);h!=null&&d(e,["goAway"],MD(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&d(e,["sessionResumptionUpdate"],UD(p)),e}function LD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],lD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],_D(i));const o=u(t,["toolCall"]);o!=null&&d(e,["toolCall"],ED(o));const a=u(t,["toolCallCancellation"]);a!=null&&d(e,["toolCallCancellation"],ND(a));const c=u(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],kD(c));const h=u(t,["goAway"]);h!=null&&d(e,["goAway"],DD(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&d(e,["sessionResumptionUpdate"],ID(p)),e}function OD(){return{}}function qD(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["weight"]);return i!=null&&d(e,["weight"],i),e}function BD(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qD(o))),d(e,["weightedPrompts"],i)}return e}function jD(t){const e={},n=u(t,["temperature"]);n!=null&&d(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&d(e,["topK"],i);const o=u(t,["seed"]);o!=null&&d(e,["seed"],o);const a=u(t,["guidance"]);a!=null&&d(e,["guidance"],a);const c=u(t,["bpm"]);c!=null&&d(e,["bpm"],c);const h=u(t,["density"]);h!=null&&d(e,["density"],h);const p=u(t,["brightness"]);p!=null&&d(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&d(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&d(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&d(e,["muteDrums"],T);const b=u(t,["onlyBassAndDrums"]);return b!=null&&d(e,["onlyBassAndDrums"],b),e}function VD(t){const e={},n=u(t,["clientContent"]);n!=null&&d(e,["clientContent"],BD(n));const i=u(t,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],jD(i)),e}function $D(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);i!=null&&d(e,["mimeType"],i);const o=u(t,["sourceMetadata"]);return o!=null&&d(e,["sourceMetadata"],VD(o)),e}function FD(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$D(o))),d(e,["audioChunks"],i)}return e}function zD(t){const e={},n=u(t,["text"]);n!=null&&d(e,["text"],n);const i=u(t,["filteredReason"]);return i!=null&&d(e,["filteredReason"],i),e}function GD(t){const e={};u(t,["setupComplete"])!=null&&d(e,["setupComplete"],OD());const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],FD(i));const o=u(t,["filteredPrompt"]);return o!=null&&d(e,["filteredPrompt"],zD(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HD(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function JD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function YD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function KD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],HD(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],JD(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],YD(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function Lu(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>KD(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function QD(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&d(e,["maxProperties"],T);const b=u(t,["maximum"]);b!=null&&d(e,["maximum"],b);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const S=u(t,["minLength"]);S!=null&&d(e,["minLength"],S);const N=u(t,["minProperties"]);N!=null&&d(e,["minProperties"],N);const A=u(t,["minimum"]);A!=null&&d(e,["minimum"],A);const M=u(t,["nullable"]);M!=null&&d(e,["nullable"],M);const P=u(t,["pattern"]);P!=null&&d(e,["pattern"],P);const D=u(t,["properties"]);D!=null&&d(e,["properties"],D);const C=u(t,["propertyOrdering"]);C!=null&&d(e,["propertyOrdering"],C);const I=u(t,["required"]);I!=null&&d(e,["required"],I);const V=u(t,["title"]);V!=null&&d(e,["title"],V);const H=u(t,["type"]);return H!=null&&d(e,["type"],H),e}function ZD(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&d(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&d(e,["threshold"],i),e}function XD(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function WD(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function e2(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],WD(n)),e}function t2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function n2(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],t2(n)),e}function i2(){return{}}function s2(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>XD(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],e2(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],n2(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],i2());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function r2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function o2(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function a2(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],o2(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function l2(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],r2(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],a2(i)),e}function u2(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function xT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],u2(n)),e}function c2(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],xT(i)),e}function d2(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>c2(o))),d(e,["speakerVoiceConfigs"],i)}return e}function f2(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],xT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],d2(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function h2(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function m2(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],Lu(Qt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&d(i,["responseLogprobs"],T);const b=u(e,["logprobs"]);b!=null&&d(i,["logprobs"],b);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const S=u(e,["frequencyPenalty"]);S!=null&&d(i,["frequencyPenalty"],S);const N=u(e,["seed"]);N!=null&&d(i,["seed"],N);const A=u(e,["responseMimeType"]);A!=null&&d(i,["responseMimeType"],A);const M=u(e,["responseSchema"]);M!=null&&d(i,["responseSchema"],QD(ba(M)));const P=u(e,["responseJsonSchema"]);if(P!=null&&d(i,["responseJsonSchema"],P),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(e,["safetySettings"]);if(n!==void 0&&D!=null){let ne=D;Array.isArray(ne)&&(ne=ne.map($=>ZD($))),d(n,["safetySettings"],ne)}const C=u(e,["tools"]);if(n!==void 0&&C!=null){let ne=Zr(C);Array.isArray(ne)&&(ne=ne.map($=>s2(Qr($)))),d(n,["tools"],ne)}const I=u(e,["toolConfig"]);if(n!==void 0&&I!=null&&d(n,["toolConfig"],l2(I)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(e,["cachedContent"]);n!==void 0&&V!=null&&d(n,["cachedContent"],Si(t,V));const H=u(e,["responseModalities"]);H!=null&&d(i,["responseModalities"],H);const ee=u(e,["mediaResolution"]);ee!=null&&d(i,["mediaResolution"],ee);const z=u(e,["speechConfig"]);if(z!=null&&d(i,["speechConfig"],f2(ph(z))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=u(e,["thinkingConfig"]);return K!=null&&d(i,["thinkingConfig"],h2(K)),i}function E0(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>Lu(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["generationConfig"],m2(t,a,n)),n}function p2(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&d(e,["requests[]","taskType"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&d(e,["requests[]","title"],o);const a=u(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&d(e,["requests[]","outputDimensionality"],a),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function g2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);o!=null&&d(n,["requests[]","content"],sT(t,o));const a=u(e,["config"]);a!=null&&d(n,["config"],p2(a,n));const c=u(e,["model"]);return c!==void 0&&d(n,["requests[]","model"],lt(t,c)),n}function y2(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const a=u(t,["guidanceScale"]);if(e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const p=u(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&d(e,["parameters","includeSafetyAttributes"],p);const m=u(t,["includeRaiReason"]);e!==void 0&&m!=null&&d(e,["parameters","includeRaiReason"],m);const y=u(t,["language"]);e!==void 0&&y!=null&&d(e,["parameters","language"],y);const T=u(t,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const b=u(t,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&d(e,["parameters","outputOptions","compressionQuality"],b),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function v2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["config"]);return a!=null&&d(n,["config"],y2(a,n)),n}function x2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function T2(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&d(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&d(n,["_url","models_url"],aT(t,h)),i}function b2(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],T2(t,i,n)),n}function _2(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&d(e,["defaultCheckpointId"],a),n}function S2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],_2(o,n)),n}function w2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function C2(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function E2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>Lu(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],C2(a)),n}function A2(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],wi(n));const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function N2(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=u(t,["durationSeconds"]);if(e!==void 0&&o!=null&&d(e,["parameters","durationSeconds"],o),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=u(t,["aspectRatio"]);if(e!==void 0&&a!=null&&d(e,["parameters","aspectRatio"],a),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=u(t,["personGeneration"]);if(e!==void 0&&c!=null&&d(e,["parameters","personGeneration"],c),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(t,["negativePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","negativePrompt"],h);const p=u(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&d(e,["parameters","enhancePrompt"],p),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function R2(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["image"]);if(a!=null&&d(n,["instances[0]","image"],A2(a)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const c=u(e,["config"]);return c!=null&&d(n,["config"],N2(c,n)),n}function k2(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function M2(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function D2(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function U2(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],k2(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],M2(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],D2(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function Xr(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>U2(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function I2(t){const e={},n=u(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&d(e,["default"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["enum"]);a!=null&&d(e,["enum"],a);const c=u(t,["example"]);c!=null&&d(e,["example"],c);const h=u(t,["format"]);h!=null&&d(e,["format"],h);const p=u(t,["items"]);p!=null&&d(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&d(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&d(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&d(e,["maxProperties"],T);const b=u(t,["maximum"]);b!=null&&d(e,["maximum"],b);const w=u(t,["minItems"]);w!=null&&d(e,["minItems"],w);const S=u(t,["minLength"]);S!=null&&d(e,["minLength"],S);const N=u(t,["minProperties"]);N!=null&&d(e,["minProperties"],N);const A=u(t,["minimum"]);A!=null&&d(e,["minimum"],A);const M=u(t,["nullable"]);M!=null&&d(e,["nullable"],M);const P=u(t,["pattern"]);P!=null&&d(e,["pattern"],P);const D=u(t,["properties"]);D!=null&&d(e,["properties"],D);const C=u(t,["propertyOrdering"]);C!=null&&d(e,["propertyOrdering"],C);const I=u(t,["required"]);I!=null&&d(e,["required"],I);const V=u(t,["title"]);V!=null&&d(e,["title"],V);const H=u(t,["type"]);return H!=null&&d(e,["type"],H),e}function P2(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&d(e,["featureSelectionPreference"],n),e}function L2(t){const e={},n=u(t,["method"]);n!=null&&d(e,["method"],n);const i=u(t,["category"]);i!=null&&d(e,["category"],i);const o=u(t,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function O2(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const o=u(t,["parameters"]);o!=null&&d(e,["parameters"],o);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function q2(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function B2(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],q2(n)),e}function j2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function V2(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],j2(n)),e}function $2(){return{}}function F2(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function z2(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],F2(n));const i=u(t,["authType"]);i!=null&&d(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const a=u(t,["httpBasicAuthConfig"]);a!=null&&d(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function G2(t){const e={},n=u(t,["authConfig"]);return n!=null&&d(e,["authConfig"],z2(n)),e}function H2(){return{}}function TT(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(T=>O2(T))),d(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],B2(o));const a=u(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],V2(a)),u(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],$2());const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],G2(h)),u(t,["urlContext"])!=null&&d(e,["urlContext"],H2());const m=u(t,["codeExecution"]);return m!=null&&d(e,["codeExecution"],m),e}function J2(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&d(e,["allowedFunctionNames"],i),e}function Y2(t){const e={},n=u(t,["latitude"]);n!=null&&d(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&d(e,["longitude"],i),e}function K2(t){const e={},n=u(t,["latLng"]);n!=null&&d(e,["latLng"],Y2(n));const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function Q2(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],J2(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],K2(i)),e}function Z2(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function X2(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],Z2(n)),e}function W2(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],X2(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function eU(t){const e={},n=u(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&d(e,["thinkingBudget"],i),e}function tU(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],Xr(Qt(o)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const h=u(e,["topK"]);h!=null&&d(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&d(i,["responseLogprobs"],T);const b=u(e,["logprobs"]);b!=null&&d(i,["logprobs"],b);const w=u(e,["presencePenalty"]);w!=null&&d(i,["presencePenalty"],w);const S=u(e,["frequencyPenalty"]);S!=null&&d(i,["frequencyPenalty"],S);const N=u(e,["seed"]);N!=null&&d(i,["seed"],N);const A=u(e,["responseMimeType"]);A!=null&&d(i,["responseMimeType"],A);const M=u(e,["responseSchema"]);M!=null&&d(i,["responseSchema"],I2(ba(M)));const P=u(e,["responseJsonSchema"]);P!=null&&d(i,["responseJsonSchema"],P);const D=u(e,["routingConfig"]);D!=null&&d(i,["routingConfig"],D);const C=u(e,["modelSelectionConfig"]);C!=null&&d(i,["modelConfig"],P2(C));const I=u(e,["safetySettings"]);if(n!==void 0&&I!=null){let Ne=I;Array.isArray(Ne)&&(Ne=Ne.map(Z=>L2(Z))),d(n,["safetySettings"],Ne)}const V=u(e,["tools"]);if(n!==void 0&&V!=null){let Ne=Zr(V);Array.isArray(Ne)&&(Ne=Ne.map(Z=>TT(Qr(Z)))),d(n,["tools"],Ne)}const H=u(e,["toolConfig"]);n!==void 0&&H!=null&&d(n,["toolConfig"],Q2(H));const ee=u(e,["labels"]);n!==void 0&&ee!=null&&d(n,["labels"],ee);const z=u(e,["cachedContent"]);n!==void 0&&z!=null&&d(n,["cachedContent"],Si(t,z));const K=u(e,["responseModalities"]);K!=null&&d(i,["responseModalities"],K);const ne=u(e,["mediaResolution"]);ne!=null&&d(i,["mediaResolution"],ne);const $=u(e,["speechConfig"]);$!=null&&d(i,["speechConfig"],W2(ph($)));const Ce=u(e,["audioTimestamp"]);Ce!=null&&d(i,["audioTimestamp"],Ce);const Ee=u(e,["thinkingConfig"]);return Ee!=null&&d(i,["thinkingConfig"],eU(Ee)),i}function A0(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>Xr(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["generationConfig"],tU(t,a,n)),n}function nU(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&d(e,["instances[]","task_type"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&d(e,["instances[]","title"],o);const a=u(t,["outputDimensionality"]);e!==void 0&&a!=null&&d(e,["parameters","outputDimensionality"],a);const c=u(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const h=u(t,["autoTruncate"]);return e!==void 0&&h!=null&&d(e,["parameters","autoTruncate"],h),n}function iU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);o!=null&&d(n,["instances[]","content"],sT(t,o));const a=u(e,["config"]);return a!=null&&d(n,["config"],nU(a,n)),n}function sU(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const b=u(t,["includeRaiReason"]);e!==void 0&&b!=null&&d(e,["parameters","includeRaiReason"],b);const w=u(t,["language"]);e!==void 0&&w!=null&&d(e,["parameters","language"],w);const S=u(t,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const N=u(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const A=u(t,["addWatermark"]);e!==void 0&&A!=null&&d(e,["parameters","addWatermark"],A);const M=u(t,["enhancePrompt"]);return e!==void 0&&M!=null&&d(e,["parameters","enhancePrompt"],M),n}function rU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["config"]);return a!=null&&d(n,["config"],sU(a,n)),n}function Ou(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],wi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function oU(t){const e={},n=u(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&d(e,["maskClasses"],i);const o=u(t,["maskDilation"]);return o!=null&&d(e,["dilation"],o),e}function aU(t){const e={},n=u(t,["controlType"]);n!=null&&d(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&d(e,["computeControl"],i),e}function lU(t){const e={},n=u(t,["styleDescription"]);return n!=null&&d(e,["styleDescription"],n),e}function uU(t){const e={},n=u(t,["subjectType"]);n!=null&&d(e,["subjectType"],n);const i=u(t,["subjectDescription"]);return i!=null&&d(e,["subjectDescription"],i),e}function cU(t){const e={},n=u(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],Ou(n));const i=u(t,["referenceId"]);i!=null&&d(e,["referenceId"],i);const o=u(t,["referenceType"]);o!=null&&d(e,["referenceType"],o);const a=u(t,["maskImageConfig"]);a!=null&&d(e,["maskImageConfig"],oU(a));const c=u(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],aU(c));const h=u(t,["styleImageConfig"]);h!=null&&d(e,["styleImageConfig"],lU(h));const p=u(t,["subjectImageConfig"]);return p!=null&&d(e,["subjectImageConfig"],uU(p)),e}function dU(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const b=u(t,["includeRaiReason"]);e!==void 0&&b!=null&&d(e,["parameters","includeRaiReason"],b);const w=u(t,["language"]);e!==void 0&&w!=null&&d(e,["parameters","language"],w);const S=u(t,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const N=u(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const A=u(t,["editMode"]);e!==void 0&&A!=null&&d(e,["parameters","editMode"],A);const M=u(t,["baseSteps"]);return e!==void 0&&M!=null&&d(e,["parameters","editConfig","baseSteps"],M),n}function fU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["referenceImages"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>cU(p))),d(n,["instances[0]","referenceImages"],h)}const c=u(e,["config"]);return c!=null&&d(n,["config"],dU(c,n)),n}function hU(t,e){const n={},i=u(t,["includeRaiReason"]);e!==void 0&&i!=null&&d(e,["parameters","includeRaiReason"],i);const o=u(t,["outputMimeType"]);e!==void 0&&o!=null&&d(e,["parameters","outputOptions","mimeType"],o);const a=u(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&d(e,["parameters","outputOptions","compressionQuality"],a);const c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],c);const h=u(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=u(t,["numberOfImages"]);e!==void 0&&p!=null&&d(e,["parameters","sampleCount"],p);const m=u(t,["mode"]);return e!==void 0&&m!=null&&d(e,["parameters","mode"],m),n}function mU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["image"]);o!=null&&d(n,["instances[0]","image"],Ou(o));const a=u(e,["upscaleFactor"]);a!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],a);const c=u(e,["config"]);return c!=null&&d(n,["config"],hU(c,n)),n}function pU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function gU(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&d(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&d(n,["_url","models_url"],aT(t,h)),i}function yU(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],gU(t,i,n)),n}function vU(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&d(e,["defaultCheckpointId"],a),n}function xU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],vU(o,n)),n}function TU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],o),n}function bU(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&d(e,["systemInstruction"],Xr(Qt(i)));const o=u(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>TT(h))),d(e,["tools"],c)}const a=u(t,["generationConfig"]);return e!==void 0&&a!=null&&d(e,["generationConfig"],a),n}function _U(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>Xr(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],bU(a,n)),n}function SU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["contents"]);if(o!=null){let c=Dn(o);Array.isArray(c)&&(c=c.map(h=>Xr(h))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["config"],a),n}function wU(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&d(e,["bytesBase64Encoded"],wi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function CU(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const a=u(t,["fps"]);e!==void 0&&a!=null&&d(e,["parameters","fps"],a);const c=u(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const p=u(t,["aspectRatio"]);e!==void 0&&p!=null&&d(e,["parameters","aspectRatio"],p);const m=u(t,["resolution"]);e!==void 0&&m!=null&&d(e,["parameters","resolution"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=u(t,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const b=u(t,["negativePrompt"]);e!==void 0&&b!=null&&d(e,["parameters","negativePrompt"],b);const w=u(t,["enhancePrompt"]);e!==void 0&&w!=null&&d(e,["parameters","enhancePrompt"],w);const S=u(t,["generateAudio"]);e!==void 0&&S!=null&&d(e,["parameters","generateAudio"],S);const N=u(t,["lastFrame"]);e!==void 0&&N!=null&&d(e,["instances[0]","lastFrame"],Ou(N));const A=u(t,["compressionQuality"]);return e!==void 0&&A!=null&&d(e,["parameters","compressionQuality"],A),n}function EU(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],lt(t,i));const o=u(e,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const a=u(e,["image"]);a!=null&&d(n,["instances[0]","image"],Ou(a));const c=u(e,["video"]);c!=null&&d(n,["instances[0]","video"],wU(c));const h=u(e,["config"]);return h!=null&&d(n,["config"],CU(h,n)),n}function AU(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function NU(t){const e={},n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function RU(t){const e={},n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function kU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],AU(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],NU(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],RU(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function MU(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>kU(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function DU(t){const e={},n=u(t,["citationSources"]);return n!=null&&d(e,["citations"],n),e}function UU(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function IU(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>UU(o))),d(e,["urlMetadata"],i)}return e}function PU(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],MU(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],DU(i));const o=u(t,["tokenCount"]);o!=null&&d(e,["tokenCount"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],IU(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&d(e,["safetyRatings"],T),e}function N0(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>PU(h))),d(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=u(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function LU(t){const e={},n=u(t,["values"]);return n!=null&&d(e,["values"],n),e}function OU(){return{}}function qU(t){const e={},n=u(t,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>LU(a))),d(e,["embeddings"],o)}return u(t,["metadata"])!=null&&d(e,["metadata"],OU()),e}function BU(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],wi(n));const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function bT(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&d(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function jU(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],BU(n));const i=u(t,["raiFilteredReason"]);i!=null&&d(e,["raiFilteredReason"],i);const o=u(t,["_self"]);return o!=null&&d(e,["safetyAttributes"],bT(o)),e}function VU(t){const e={},n=u(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>jU(a))),d(e,["generatedImages"],o)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],bT(i)),e}function $U(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function Gf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["version"]);a!=null&&d(e,["version"],a);const c=u(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],$U(c));const h=u(t,["inputTokenLimit"]);h!=null&&d(e,["inputTokenLimit"],h);const p=u(t,["outputTokenLimit"]);p!=null&&d(e,["outputTokenLimit"],p);const m=u(t,["supportedGenerationMethods"]);return m!=null&&d(e,["supportedActions"],m),e}function FU(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=u(e,["_self"]);if(o!=null){let a=lT(o);Array.isArray(a)&&(a=a.map(c=>Gf(c))),d(n,["models"],a)}return n}function zU(){return{}}function GU(t){const e={},n=u(t,["totalTokens"]);n!=null&&d(e,["totalTokens"],n);const i=u(t,["cachedContentTokenCount"]);return i!=null&&d(e,["cachedContentTokenCount"],i),e}function HU(t){const e={},n=u(t,["video","uri"]);n!=null&&d(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&d(e,["videoBytes"],wi(i));const o=u(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function JU(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],HU(n)),e}function YU(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>JU(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function KU(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],YU(c)),e}function QU(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function ZU(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["data"]);i!=null&&d(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function XU(t){const e={},n=u(t,["displayName"]);n!=null&&d(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function WU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],QU(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],ZU(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],XU(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function eI(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>WU(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function tI(t){const e={},n=u(t,["citations"]);return n!=null&&d(e,["citations"],n),e}function nI(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&d(e,["urlRetrievalStatus"],i),e}function iI(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nI(o))),d(e,["urlMetadata"],i)}return e}function sI(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],eI(n));const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],tI(i));const o=u(t,["finishMessage"]);o!=null&&d(e,["finishMessage"],o);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],iI(c));const h=u(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&d(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&d(e,["safetyRatings"],T),e}function R0(t){const e={},n=u(t,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>sI(m))),d(e,["candidates"],p)}const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["responseId"]);o!=null&&d(e,["responseId"],o);const a=u(t,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const c=u(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const h=u(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function rI(t){const e={},n=u(t,["truncated"]);n!=null&&d(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&d(e,["tokenCount"],i),e}function oI(t){const e={},n=u(t,["values"]);n!=null&&d(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&d(e,["statistics"],rI(i)),e}function aI(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&d(e,["billableCharacterCount"],n),e}function lI(t){const e={},n=u(t,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>oI(a))),d(e,["embeddings"],o)}const i=u(t,["metadata"]);return i!=null&&d(e,["metadata"],aI(i)),e}function uI(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],wi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function _T(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&d(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function yh(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],uI(n));const i=u(t,["raiFilteredReason"]);i!=null&&d(e,["raiFilteredReason"],i);const o=u(t,["_self"]);o!=null&&d(e,["safetyAttributes"],_T(o));const a=u(t,["prompt"]);return a!=null&&d(e,["enhancedPrompt"],a),e}function cI(t){const e={},n=u(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>yh(a))),d(e,["generatedImages"],o)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],_T(i)),e}function dI(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yh(o))),d(e,["generatedImages"],i)}return e}function fI(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yh(o))),d(e,["generatedImages"],i)}return e}function hI(t){const e={},n=u(t,["endpoint"]);n!=null&&d(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&d(e,["deployedModelId"],i),e}function mI(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function pI(t){const e={},n=u(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&d(e,["epoch"],i);const o=u(t,["step"]);return o!=null&&d(e,["step"],o),e}function Hf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const o=u(t,["description"]);o!=null&&d(e,["description"],o);const a=u(t,["versionId"]);a!=null&&d(e,["version"],a);const c=u(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(b=>hI(b))),d(e,["endpoints"],T)}const h=u(t,["labels"]);h!=null&&d(e,["labels"],h);const p=u(t,["_self"]);p!=null&&d(e,["tunedModelInfo"],mI(p));const m=u(t,["defaultCheckpointId"]);m!=null&&d(e,["defaultCheckpointId"],m);const y=u(t,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(b=>pI(b))),d(e,["checkpoints"],T)}return e}function gI(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=u(e,["_self"]);if(o!=null){let a=lT(o);Array.isArray(a)&&(a=a.map(c=>Hf(c))),d(n,["models"],a)}return n}function yI(){return{}}function vI(t){const e={},n=u(t,["totalTokens"]);return n!=null&&d(e,["totalTokens"],n),e}function xI(t){const e={},n=u(t,["tokensInfo"]);return n!=null&&d(e,["tokensInfo"],n),e}function TI(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["videoBytes"],wi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function bI(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],TI(n)),e}function _I(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>bI(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function SI(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],_I(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wI="Content-Type",CI="X-Server-Timeout",EI="User-Agent",Jf="x-goog-api-client",AI="1.7.0",NI=`google-genai-sdk/${AI}`,RI="v1beta1",kI="v1beta",k0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class MI{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:RI,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:kI,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))o.searchParams.append(c,String(h));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?i[o]=Object.assign(Object.assign({},i[o]),a):a!==void 0&&(i[o]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&DI(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await M0(o),new Bf(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await M0(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return qr(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:p}=yield gt(o.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(p);try{const T=JSON.parse(m);if("error"in T){const b=JSON.parse(JSON.stringify(T.error)),w=b.status,S=b.code,N=`got status: ${w}. ${JSON.stringify(T)}`;if(S>=400&&S<600)throw new Pu({message:N,status:S})}}catch(T){if(T.name==="ApiError")throw T}c+=m;let y=c.match(k0);for(;y;){const T=y[1];try{const b=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield gt(new Bf(b)),c=c.slice(y[0].length),y=c.match(k0)}catch(b){throw new Error(`exception parsing stream chunk ${T}. ${b}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=NI+" "+this.clientOptions.userAgentExtra;return e[EI]=n,e[Jf]=n,e[wI]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(CI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,c=await a.stat(e);o.sizeBytes=String(c.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=h;const p=await this.fetchUploadUrl(o,n);return a.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},c=await this.request({path:_e("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:o});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function M0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Pu({message:o,status:n}):new Error(o)}}function DI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,c){const h=Object.assign({},a);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const m=c[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UI="mcp_used/unknown";function ST(t){for(const e of t)if(vh(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function wT(t){var e;const n=(e=t[Jf])!==null&&e!==void 0?e:"";t[Jf]=(n+` ${UI}`).trimStart()}function II(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>vh(o)))!==null&&i!==void 0?i:!1}function PI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!vh(o)))!==null&&i!==void 0?i:!1}function vh(t){return t!==null&&typeof t=="object"&&t instanceof xh}function LI(t,e=100){return qr(this,arguments,function*(){let i,o=0;for(;o<e;){const a=yield gt(t.listTools({cursor:i}));for(const c of a.tools)yield yield gt(c),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class xh{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new xh(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const a={},c=[];for(const y of this.mcpClients)try{for(var h=!0,p=(n=void 0,pa(LI(y))),m;m=await p.next(),e=m.done,!e;h=!0){o=m.value,h=!1;const T=o;c.push(T);const b=T.name;if(a[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);a[b]=y}}catch(T){n={error:T}}finally{try{!h&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),MR(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const c=await o.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OI(t,e,n){const i=new vR;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const a=GD(o);Object.assign(i,a),e(i)}class qI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),c=VI(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(D=>{m=D}),T=e.callbacks,b=function(){m({})},w=this.apiClient,S={onopen:b,onmessage:D=>{OI(w,T.onmessage,D)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(D){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(D){}},N=this.webSocketFactory.create(p,jI(c),S);N.connect(),await y;const A=lt(this.apiClient,e.model),M=yT({model:A}),P=zf({setup:M});return N.send(JSON.stringify(P)),new BI(N,this.apiClient)}}class BI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=rD(e),i=vT(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=oD(e),i=zf(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=zf({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Lr.PLAY)}pause(){this.sendPlaybackControl(Lr.PAUSE)}stop(){this.sendPlaybackControl(Lr.STOP)}resetContext(){this.sendPlaybackControl(Lr.RESET_CONTEXT)}close(){this.conn.close()}}function jI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function VI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $I="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FI(t,e,n){const i=new yR;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const c=LD(a);Object.assign(i,c)}else{const c=PD(a);Object.assign(i,c)}e(i)}class zI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new qI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,a,c,h;const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const T=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&ST(e.config.tools)&&wT(T);const b=YI(T);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b);else{const z=this.apiClient.getApiKey();let K="BidiGenerateContent",ne="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),K="BidiGenerateContentConstrained",ne="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${K}?${ne}=${z}`}let w=()=>{};const S=new Promise(z=>{w=z}),N=e.callbacks,A=function(){var z;(z=N==null?void 0:N.onopen)===null||z===void 0||z.call(N),w({})},M=this.apiClient,P={onopen:A,onmessage:z=>{FI(M,N.onmessage,z)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(z){},onclose:(i=N==null?void 0:N.onclose)!==null&&i!==void 0?i:function(z){}},D=this.webSocketFactory.create(y,JI(b),P);D.connect(),await S;let C=lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const z=this.apiClient.getProject(),K=this.apiClient.getLocation();C=`projects/${z}/locations/${K}/`+C}let I={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[vu.AUDIO]}:e.config.responseModalities=[vu.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],H=[];for(const z of V)if(this.isCallableTool(z)){const K=z;H.push(await K.tool())}else H.push(z);H.length>0&&(e.config.tools=H);const ee={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=X1(this.apiClient,ee):I=Z1(this.apiClient,ee),delete I.config,D.send(JSON.stringify(I)),new HI(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const GI={turnComplete:!0};class HI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Dn(n.turns),e.isVertexAI()?i=i.map(o=>Xr(o)):i=i.map(o=>Lu(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error($I)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},GI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:sD(e)}:n={realtimeInput:iD(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function JI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function YI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D0=10;function U0(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ou(c)){o=!0;break}if(!o)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ou(t){return"callTool"in t&&typeof t.callTool=="function"}function I0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KI extends Ps{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,a,c,h;const p=await this.processParamsForMcpUsage(n);if(!II(n)||U0(n.config))return await this.generateContentInternal(p);if(PI(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const T=Dn(p.contents),b=(a=(o=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:D0;let w=0;for(;w<b&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const S=m.candidates[0].content,N=[];for(const A of(h=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(ou(A)){const P=await A.callTool(m.functionCalls);N.push(...P)}w++,y={role:"user",parts:N},p.contents=Dn(p.contents),p.contents.push(S),p.contents.push(y),I0(p.config)&&(T.push(S),T.push(y))}return I0(p.config)&&(m.automaticFunctionCallingHistory=T),m},this.generateContentStream=async n=>{if(U0(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let a;const c=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=p==null?void 0:p.safetyAttributes:c.push(p);let h;return a?h={generatedImages:c,positivePromptSafetyAttributes:a}:h={generatedImages:c},h}),this.list=async n=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Na(Ds.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var n,i,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const c=await Promise.all(a.map(async p=>ou(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&ST(e.config.tools)){const p=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),wT(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var n,i,o;const a=new Map;for(const c of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(ou(c)){const h=c,p=await h.tool();for(const m of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!m.name)throw new Error("Function declaration name is required.");if(a.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);a.set(m.name,h)}}return a}async processAfcStream(e){var n,i,o;const a=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:D0;let c=!1,h=0;const p=await this.initAfcToolsMap(e);return function(m,y,T){var b,w;return qr(this,arguments,function*(){for(var S,N,A,M;h<a;){c&&(h++,c=!1);const I=yield gt(m.processParamsForMcpUsage(T)),V=yield gt(m.generateContentStreamInternal(I)),H=[],ee=[];try{for(var P=!0,D=(N=void 0,pa(V)),C;C=yield gt(D.next()),S=C.done,!S;P=!0){M=C.value,P=!1;const z=M;if(yield yield gt(z),z.candidates&&(!((b=z.candidates[0])===null||b===void 0)&&b.content)){ee.push(z.candidates[0].content);for(const K of(w=z.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(h<a&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(K.functionCall.name)){const ne=yield gt(y.get(K.functionCall.name).callTool([K.functionCall]));H.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(z){N={error:z}}finally{try{!P&&!S&&(A=D.return)&&(yield gt(A.call(D)))}finally{if(N)throw N.error}}if(H.length>0){c=!0;const z=new aa;z.candidates=[{content:{role:"user",parts:H}}],yield yield gt(z);const K=[];K.push(...ee),K.push({role:"user",parts:H});const ne=Dn(T.contents).concat(K);T.contents=ne}else break}})}(this,p,e)}async generateContentInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=A0(this.apiClient,e);return h=_e("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=R0(y),b=new aa;return Object.assign(b,T),b})}else{const m=E0(this.apiClient,e);return h=_e("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=N0(y),b=new aa;return Object.assign(b,T),b})}}async generateContentStreamInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=A0(this.apiClient,e);return h=_e("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(T){return qr(this,arguments,function*(){var b,w,S,N;try{for(var A=!0,M=pa(T),P;P=yield gt(M.next()),b=P.done,!b;A=!0){N=P.value,A=!1;const C=R0(yield gt(N.json())),I=new aa;Object.assign(I,C),yield yield gt(I)}}catch(D){w={error:D}}finally{try{!A&&!b&&(S=M.return)&&(yield gt(S.call(M)))}finally{if(w)throw w.error}}})})}else{const m=E0(this.apiClient,e);return h=_e("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(T){return qr(this,arguments,function*(){var b,w,S,N;try{for(var A=!0,M=pa(T),P;P=yield gt(M.next()),b=P.done,!b;A=!0){N=P.value,A=!1;const C=N0(yield gt(N.json())),I=new aa;Object.assign(I,C),yield yield gt(I)}}catch(D){w={error:D}}finally{try{!A&&!b&&(S=M.return)&&(yield gt(S.call(M)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=iU(this.apiClient,e);return h=_e("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=lI(y),b=new r0;return Object.assign(b,T),b})}else{const m=g2(this.apiClient,e);return h=_e("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=qU(y),b=new r0;return Object.assign(b,T),b})}}async generateImagesInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=rU(this.apiClient,e);return h=_e("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=cI(y),b=new o0;return Object.assign(b,T),b})}else{const m=v2(this.apiClient,e);return h=_e("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=VU(y),b=new o0;return Object.assign(b,T),b})}}async editImageInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=fU(this.apiClient,e);return a=_e("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=dI(p),y=new dR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=mU(this.apiClient,e);return a=_e("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=fI(p),y=new fR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=pU(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Hf(y))}else{const m=x2(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Gf(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=yU(this.apiClient,e);return h=_e("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=gI(this.apiClient,y),b=new a0;return Object.assign(b,T),b})}else{const m=b2(this.apiClient,e);return h=_e("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=FU(this.apiClient,y),b=new a0;return Object.assign(b,T),b})}}async update(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=xU(this.apiClient,e);return h=_e("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Hf(y))}else{const m=S2(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Gf(y))}}async delete(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=TU(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=yI(),T=new l0;return Object.assign(T,y),T})}else{const m=w2(this.apiClient,e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=zU(),T=new l0;return Object.assign(T,y),T})}}async countTokens(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=_U(this.apiClient,e);return h=_e("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=vI(y),b=new u0;return Object.assign(b,T),b})}else{const m=E2(this.apiClient,e);return h=_e("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=GU(y),b=new u0;return Object.assign(b,T),b})}}async computeTokens(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=SU(this.apiClient,e);return a=_e("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=xI(p),y=new hR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=EU(this.apiClient,e);return h=_e("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>SI(y))}else{const m=R2(this.apiClient,e);return h=_e("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>KU(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function ZI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function XI(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["operationName"],n);const i=u(t,["resourceName"]);i!=null&&d(e,["_url","resourceName"],i);const o=u(t,["config"]);return o!=null&&d(e,["config"],o),e}function WI(t){const e={},n=u(t,["video","uri"]);n!=null&&d(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&d(e,["videoBytes"],wi(i));const o=u(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function eP(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],WI(n)),e}function tP(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>eP(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function nP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],tP(c)),e}function iP(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["videoBytes"],wi(i));const o=u(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function sP(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],iP(n)),e}function rP(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>sP(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function P0(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],rP(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oP extends Ps{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;return i&&"httpOptions"in i&&(a=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=ZI(e);return h=_e("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>P0(y))}else{const m=QI(e);return h=_e("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>nP(y))}}async fetchPredictVideosOperationInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=XI(e);return a=_e("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>P0(p))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aP(t){const e={},n=u(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function CT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],aP(n)),e}function lP(t){const e={},n=u(t,["speaker"]);n!=null&&d(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&d(e,["voiceConfig"],CT(i)),e}function uP(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lP(o))),d(e,["speakerVoiceConfigs"],i)}return e}function cP(t){const e={},n=u(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],CT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&d(e,["multiSpeakerVoiceConfig"],uP(i));const o=u(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function dP(t){const e={},n=u(t,["fps"]);n!=null&&d(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&d(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function fP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&d(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function hP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function mP(t){const e={},n=u(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],dP(n));const i=u(t,["thought"]);i!=null&&d(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&d(e,["inlineData"],fP(o));const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],hP(a));const c=u(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&d(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&d(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&d(e,["text"],T),e}function pP(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>mP(a))),d(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function gP(t){const e={},n=u(t,["behavior"]);n!=null&&d(e,["behavior"],n);const i=u(t,["description"]);i!=null&&d(e,["description"],i);const o=u(t,["name"]);o!=null&&d(e,["name"],o);const a=u(t,["parameters"]);a!=null&&d(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&d(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function yP(t){const e={},n=u(t,["startTime"]);n!=null&&d(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&d(e,["endTime"],i),e}function vP(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],yP(n)),e}function xP(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&d(e,["dynamicThreshold"],i),e}function TP(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],xP(n)),e}function bP(){return{}}function _P(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>gP(p))),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],vP(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],TP(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&d(e,["urlContext"],bP());const c=u(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function SP(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function L0(){return{}}function wP(t){const e={},n=u(t,["disabled"]);n!=null&&d(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&d(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const a=u(t,["prefixPaddingMs"]);a!=null&&d(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function CP(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],wP(n));const i=u(t,["activityHandling"]);i!=null&&d(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function EP(t){const e={},n=u(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function AP(t){const e={},n=u(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&d(e,["slidingWindow"],EP(i)),e}function NP(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function RP(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],cP(gh(T)));const b=u(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],pP(Qt(w)));const S=u(t,["tools"]);if(e!==void 0&&S!=null){let I=Zr(S);Array.isArray(I)&&(I=I.map(V=>_P(Qr(V)))),d(e,["setup","tools"],I)}const N=u(t,["sessionResumption"]);e!==void 0&&N!=null&&d(e,["setup","sessionResumption"],SP(N));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],L0());const M=u(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","outputAudioTranscription"],L0());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],CP(P));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],AP(D));const C=u(t,["proactivity"]);return e!==void 0&&C!=null&&d(e,["setup","proactivity"],NP(C)),n}function kP(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],lt(t,i));const o=u(e,["config"]);return o!=null&&d(n,["config"],RP(o,n)),n}function MP(t,e,n){const i={},o=u(e,["expireTime"]);n!==void 0&&o!=null&&d(n,["expireTime"],o);const a=u(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&d(n,["newSessionExpireTime"],a);const c=u(e,["uses"]);n!==void 0&&c!=null&&d(n,["uses"],c);const h=u(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&d(n,["bidiGenerateContentSetup"],kP(t,h));const p=u(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&d(n,["fieldMask"],p),i}function DP(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],MP(t,i,n)),n}function UP(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IP(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function PP(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=IP(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];o.length>0&&(h=o.map(m=>c.includes(m)?`generationConfig.${m}`:m));const p=[];a&&p.push(a),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class LP extends Ps{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=DP(this.apiClient,e);a=_e("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const p=PP(h,e.config);return o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),o.then(m=>UP(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function qP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function BP(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],qP(n,e)),e}function jP(t){const e={},n=u(t,["textInput"]);n!=null&&d(e,["textInput"],n);const i=u(t,["output"]);return i!=null&&d(e,["output"],i),e}function VP(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jP(o))),d(e,["examples","examples"],i)}return e}function $P(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&d(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=u(t,["epochCount"]);e!==void 0&&o!=null&&d(e,["tuningTask","hyperparameters","epochCount"],o);const a=u(t,["learningRateMultiplier"]);if(a!=null&&d(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=u(t,["batchSize"]);e!==void 0&&c!=null&&d(e,["tuningTask","hyperparameters","batchSize"],c);const h=u(t,["learningRate"]);return e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","learningRate"],h),n}function FP(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&d(e,["tuningTask","trainingData"],VP(i));const o=u(t,["config"]);return o!=null&&d(e,["config"],$P(o,e)),e}function zP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&d(e,["config"],i),e}function GP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function HP(t){const e={},n=u(t,["config"]);return n!=null&&d(e,["config"],GP(n,e)),e}function JP(t,e){const n={},i=u(t,["gcsUri"]);if(e!==void 0&&i!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],i),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function YP(t){const e={},n=u(t,["gcsUri"]);return n!=null&&d(e,["validationDatasetUri"],n),e}function KP(t,e){const n={},i=u(t,["validationDataset"]);e!==void 0&&i!=null&&d(e,["supervisedTuningSpec"],YP(i));const o=u(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&d(e,["tunedModelDisplayName"],o);const a=u(t,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const c=u(t,["epochCount"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const h=u(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=u(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=u(t,["adapterSize"]);if(e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function QP(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],JP(i,e));const o=u(t,["config"]);return o!=null&&d(e,["config"],KP(o,e)),e}function ZP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["model"],n);const i=u(t,["name"]);return i!=null&&d(e,["endpoint"],i),e}function ET(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["state"]);i!=null&&d(e,["state"],rT(i));const o=u(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=u(t,["tuningTask","startTime"]);a!=null&&d(e,["startTime"],a);const c=u(t,["tuningTask","completeTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["description"]);p!=null&&d(e,["description"],p);const m=u(t,["baseModel"]);m!=null&&d(e,["baseModel"],m);const y=u(t,["_self"]);y!=null&&d(e,["tunedModel"],ZP(y));const T=u(t,["distillationSpec"]);T!=null&&d(e,["distillationSpec"],T);const b=u(t,["experiment"]);b!=null&&d(e,["experiment"],b);const w=u(t,["labels"]);w!=null&&d(e,["labels"],w);const S=u(t,["pipelineJob"]);S!=null&&d(e,["pipelineJob"],S);const N=u(t,["serviceAccount"]);N!=null&&d(e,["serviceAccount"],N);const A=u(t,["tunedModelDisplayName"]);return A!=null&&d(e,["tunedModelDisplayName"],A),e}function XP(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ET(a))),d(e,["tuningJobs"],o)}return e}function WP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=u(t,["done"]);o!=null&&d(e,["done"],o);const a=u(t,["error"]);return a!=null&&d(e,["error"],a),e}function eL(t){const e={},n=u(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&d(e,["epoch"],i);const o=u(t,["step"]);o!=null&&d(e,["step"],o);const a=u(t,["endpoint"]);return a!=null&&d(e,["endpoint"],a),e}function tL(t){const e={},n=u(t,["model"]);n!=null&&d(e,["model"],n);const i=u(t,["endpoint"]);i!=null&&d(e,["endpoint"],i);const o=u(t,["checkpoints"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>eL(c))),d(e,["checkpoints"],a)}return e}function Yf(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["state"]);i!=null&&d(e,["state"],rT(i));const o=u(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=u(t,["startTime"]);a!=null&&d(e,["startTime"],a);const c=u(t,["endTime"]);c!=null&&d(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const p=u(t,["error"]);p!=null&&d(e,["error"],p);const m=u(t,["description"]);m!=null&&d(e,["description"],m);const y=u(t,["baseModel"]);y!=null&&d(e,["baseModel"],y);const T=u(t,["tunedModel"]);T!=null&&d(e,["tunedModel"],tL(T));const b=u(t,["supervisedTuningSpec"]);b!=null&&d(e,["supervisedTuningSpec"],b);const w=u(t,["tuningDataStats"]);w!=null&&d(e,["tuningDataStats"],w);const S=u(t,["encryptionSpec"]);S!=null&&d(e,["encryptionSpec"],S);const N=u(t,["partnerModelTuningSpec"]);N!=null&&d(e,["partnerModelTuningSpec"],N);const A=u(t,["distillationSpec"]);A!=null&&d(e,["distillationSpec"],A);const M=u(t,["experiment"]);M!=null&&d(e,["experiment"],M);const P=u(t,["labels"]);P!=null&&d(e,["labels"],P);const D=u(t,["pipelineJob"]);D!=null&&d(e,["pipelineJob"],D);const C=u(t,["serviceAccount"]);C!=null&&d(e,["serviceAccount"],C);const I=u(t,["tunedModelDisplayName"]);return I!=null&&d(e,["tunedModelDisplayName"],I),e}function nL(t){const e={},n=u(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const i=u(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Yf(a))),d(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iL extends Ps{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Na(Ds.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:qf.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=zP(e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Yf(y))}else{const m=OP(e);return h=_e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>ET(y))}}async listInternal(e){var n,i,o,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=HP(e);return h=_e("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=nL(y),b=new c0;return Object.assign(b,T),b})}else{const m=BP(e);return h=_e("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const T=XP(y),b=new c0;return Object.assign(b,T),b})}}async tuneInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=QP(e);return a=_e("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>Yf(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=FP(e);return a=_e("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>WP(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sL{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const rL=1024*1024*8,oL=3,aL=1e3,lL=2,mf="x-goog-upload-status";async function uL(t,e,n){var i,o,a;let c=0,h=0,p=new Bf(new Response),m="upload";for(c=t.size;h<c;){const T=Math.min(rL,c-h),b=t.slice(h,h+T);h+T>=c&&(m+=", finalize");let w=0,S=aL;for(;w<oL&&(p=await n.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[mf]));)w++,await dL(S),S=S*lL;if(h+=T,((o=p==null?void 0:p.headers)===null||o===void 0?void 0:o[mf])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[mf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function cL(t){return{size:t.size,type:t.type}}function dL(t){return new Promise(e=>setTimeout(e,t))}class fL{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uL(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cL(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hL{create(e,n,i){return new mL(e,n,i)}}class mL{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O0="x-goog-api-key";class pL{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(O0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(O0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gL="gl-node/";class yL{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=cR(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new pL(this.apiKey);this.apiClient=new MI({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:gL+"web",uploader:new fL,downloader:new sL}),this.models=new KI(this.apiClient),this.live=new zI(this.apiClient,o,new hL),this.batches=new qk(this.apiClient),this.chats=new $M(this.models,this.apiClient),this.caches=new BM(this.apiClient),this.files=new t1(this.apiClient),this.operations=new oP(this.apiClient),this.authTokens=new LP(this.apiClient),this.tunings=new iL(this.apiClient)}}const au=new yL({apiKey:"AIzaSyA-6iYToU_byydoAlucPvc0qnZXciaSI2A"}),vL=`
    # The following files given to you are a science olympiad invitational test and the answer/solutions.
    # Take all the questions and return them in an array of question JSON objects.
    # Each question object should have the following details: 
    {
      type,
      question,
      points,
      choices,
      answer,
      group,
    }

    # Go through the pdf, and identify the type of each question.
    # The type can be either mcq, saq, or leq, NOTHING ELSE!! 
    # mcq: multiple choice, saq: short answer (so one word, objective answers), leq: (longer answers where you have to explain or show your work)
    # If it's a matching question, the questions should be mcqs and just make as many questions as there are things to match
    # And the things to match are the choices
    # If it's a question where you have a few items/facts with letters, and each following question requires you to pull from that answer bank, then make the question an mcq, with the answer bank as choices, and each question as its own question.
    # Choices can be null if the question is not multiple choice
    # The question attribute is the question itself, so for example "What is blah". The question is an array, but unless for Codebusters, it is just an array with one string, which is the question itself.
    # The points are the points assigned to the question. Some tests will have this and others won't.
    # For tests that don't assign points, assign 1 point to each mcq and saq, and 5 for each leq.
    # For choices, don't label A, B, C (I'll do that myself). Choices is an array of strings, where the strings are the choices themselves without any other attachments.
    # For answers look at the answers pdf. For mcqs, the answer is the choice letter, so A, B, C, D, etc. If the test has the choices labeled differently still use A, B, C, and consecutive letters as the answer
    # If for mcqs the test answer refers to the actual answer, change it so the test answer is the correct letter instead. So for example if the test choices were labeled 1 through 10, and the answer was 1, your answer will be A.
    # Just to reiterate, the answer to mcqs will always be the correct LETTER choice and nothing else!
    # For questions that ask to order something, make that an mcq as well. For the choices, include the correct answer, and make up other orders of that order.
    # Make true-false questions mcqs with true and false as the two choices. 
    # The answer to an mcq should always be an option letter so even though the options for true and false are true or false, the answer will either be A or B
    # If a question is in a set, and there is context given pertaining to all questions in the beginning, then put that context in the question string of each question
    # If a question is in a set where they all refer to the same image, then you should also give a group attribute in the question object with a unique identifer for all questions in that group
    # The group attribute is optional, and ONLY for questions who have the same image used. So ONLY give and it and DEFINITELY give it when you have that situation where a bunch of questions use the same image, chart, drawing, etc 
    # Do not describe images for the test taker! 
    # For saqs, simply write down the one word or short phrase answer
    # If there are multiple answers for mcqs and saqs separate them with a comma and a space.
    # For leqs, put whatever the answer key for that test has in the answer, as a string, including directions to grade the problem if there are those.
    # Do not care about any images in the test. I will handle those later.
    # Only send the valid JSON array and no other words, because your response has to be JSON parsable
    # To reiterate, send an array of objects that have the property, type, which is either mcq, saq, or leq, question, which is an array of strings, points, which is a number, choices, which is an array of strings (only if the q is multiple choice), and answer, which is either a singuler string or a string with comma separated values
    # In the case you are not given an answers pdf, or the answer might be unclear, you may generate the answer to the best of your knowledge. Ensure that none of the answers are anything such as "this will be determined later." For those type of "lab-based" questions, provide a range if you can from the best of your knowledge. 
    # ONLY GENERATE AN ANSWER WHEN IT IS CLEARLY NOT CLEAR OR NOT PRESENT. OTHERWISE DO NOT INTERFERE!
    # Do NOT generate your own questions!!
    # Make sure to return a **complete and valid JSON array**.
    # Your response should start with a left bracket [ and end with a right bracket ].
    # Once you end your triple quotes STOP!
    # Every question should stand on its own without other questions. So if any question refers to a previous question, ensure that the relevant context is in this question without needing the previous question. Some questions might refer to other questions. Our numbering and structure is different, so ensure that the question is self-contained, with relevant context from that other question given in this question without reference to the other question. 
    # DO NOT REVEAL ANSWERS IN THE QUESTION!!
    # Do not have wording such as "previous question" or "next question" because the order might change, so make the question so it can stand without having done other questions.
    # If you have an leq, then you can put all the parts that depend on each other as one question
    # If you have mcqs or saqs that refer to other questions, put that relevant information in the current question so it stands alone.
    # DO NOT PUT CHOICES IN THE QUESTION!! If you have choices, no matter how the test pdf has it, make the question an mcq and put choices as strings in an array
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), then all questions should be an leq! 
    # IF AND ONLY IF THE test is Codebusters, the questions attribute is NOT a string, but an Array of strings. In the first index goes the question, and in the second index goes the cipher. Make sure to use spaces properly as it is in the test.
    # IF AND ONLY IF the test is Codebusters, then make sure that if a question is a special bonus question you add special bonus to it, and if the question has points listed, put those points in the points attribute.
    # IF AND ONLY IF the test is Codebusters, ensure that the question that might say (decode this) is separated from the cipher (the actual words) through new lines and such. Clearly separate the question from the cipher as two elements of an array in the questions attribute! 
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), the answer should be the solution to the cipher, with proper spaces. Do not add newlines or anything like that to the answer key. That should just be the simple answer.
    # FINAL INSTRUCTION: Your response must be *only* a valid JSON array, starting with '[' and ending with ']'. No explanations, no formatting, no extra text.
`;async function q0(t){const e=await au.files.upload({file:t,config:{displayName:t.name}});let n=await au.files.get({name:e.name});for(;n.state==="PROCESSING";)n=await au.files.get({name:e.name}),console.log(`current file status: ${n.state}`),console.log("File is still processing, retrying in 5 seconds"),await new Promise(i=>{setTimeout(i,5e3)});if(e.state==="FAILED")throw new Error("File processing failed.");return e}async function xL(t,e){const n=[vL];let i=await q0(t);if(i.uri&&i.mimeType){const c=s0(i.uri,i.mimeType);n.push(c)}let o=await q0(e);if(o.uri&&o.mimeType){const c=s0(o.uri,o.mimeType);n.push(c)}const a=await au.models.generateContent({model:"gemini-2.5-flash",contents:n});return console.log(a.text),a.text}const TL={createQuestions:xL},bL=({q:t,index:e,onEdit:n,onDelete:i})=>{const[o,a]=R.useState(!1),c={...t,question:Array.isArray(t.question)?t.question:[t.question]},[h,p]=R.useState(c),m=()=>{a(!1),n(e,h)};return v.jsx("div",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:o?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-2",children:"Question"}),v.jsxs("div",{className:"space-y-2",children:[h.question.map((y,T)=>v.jsxs("div",{className:"flex gap-2 border border-gray-300 rounded-md p-2",children:[v.jsx("textarea",{value:y,onChange:b=>{const w=[...h.question];w[T]=b.target.value,p({...h,question:w})},placeholder:T===0?"Question text...":"Additional part (e.g., cipher)...",rows:3,className:"flex-1 px-3 py-2 focus:ring-orange-400 focus:ring-2"}),h.question.length>1&&v.jsx("button",{type:"button",onClick:()=>{const b=h.question.filter((w,S)=>S!==T);p({...h,question:b})},className:"text-red-500 font-bold text-2xl rounded-md hover:text-red-600 self-start",children:""})]},T)),v.jsx("button",{type:"button",onClick:()=>{p({...h,question:[...h.question,""]})},className:"text-orange-600 hover:underline text-sm",children:"+ Add Part"}),h.question.length>1&&v.jsx("button",{type:"button",onClick:()=>{p({...h,question:[h.question.join(`

`)]})},className:"ml-4 text-amber-600 hover:underline text-sm",children:"Merge into Single Part"}),h.question.length===1&&h.question[0].includes(`
`)&&v.jsx("button",{type:"button",onClick:()=>{const y=h.question[0].split(`

`).filter(T=>T.trim()!=="");if(y.length>1)p({...h,question:y});else{const T=h.question[0].split(`
`).filter(b=>b.trim()!=="");T.length>1?p({...h,question:T}):alert("No clear separation found. Use double line breaks or single line breaks to separate parts.")}},className:"ml-4 text-blue-600 hover:underline text-sm",children:"Split into Parts"})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),v.jsxs("select",{value:h.type,onChange:y=>p({...h,type:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"mcq",children:"Multiple Choice"}),v.jsx("option",{value:"saq",children:"Short Answer"}),v.jsx("option",{value:"leq",children:"Long Answer"})]})]}),h.type==="mcq"&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Choices"}),v.jsx("div",{className:"space-y-2",children:h.choices.map((y,T)=>v.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+T),"."]}),v.jsx("input",{value:y,onChange:b=>{const w=[...h.choices];w[T]=b.target.value,p({...h,choices:w})},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}),v.jsx("button",{type:"button",className:"text-orange-600 font-medium",onClick:()=>{const b=h.choices.filter((w,S)=>S!==T);p({...h,choices:b})},children:"Remove"})]},T))}),v.jsx("button",{type:"button",className:"mt-2 text-orange-600 hover:underline",onClick:()=>p({...h,choices:[...h.choices,""]}),children:"+ Add Choice"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),h.type==="leq"?v.jsx("textarea",{value:h.answer,onChange:y=>p({...h,answer:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}):v.jsx("input",{value:h.answer,onChange:y=>p({...h,answer:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),v.jsx("input",{type:"number",value:h.points,onChange:y=>p({...h,points:+y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),h.selectedFile?v.jsxs("div",{className:"mt-4 w-full",children:[v.jsxs("div",{className:"flex justify-between items-center pb-2",children:[v.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),v.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>p({...h,selectedFile:null}),children:""})]}),v.jsx("img",{src:URL.createObjectURL(h.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):v.jsxs("label",{htmlFor:`file-upload-${e}`,className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[v.jsx("input",{id:`file-upload-${e}`,type:"file",className:"hidden",onChange:y=>{y.target.files&&y.target.files.length>0&&p({...h,selectedFile:y.target.files[0]})}}),v.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]}),v.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[v.jsx("button",{onClick:()=>a(!1),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Cancel"}),v.jsx("button",{onClick:m,className:"bg-orange-600 text-black px-4 py-1 rounded-md hover:bg-orange-700",children:"Save"})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"flex justify-between items-center mb-3",children:v.jsxs("div",{className:"mb-2 font-medium text-orange-900",children:[v.jsxs("span",{children:["Q",e+1,": "]}),c.question.map((y,T)=>v.jsx("span",{className:T>0?"block mt-4":"inline",children:y},T))]})}),t.type==="mcq"&&t.choices.map((y,T)=>v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+T),"."]}),v.jsx("span",{className:"text-gray-800",children:y})]},`${y}-${T}`)),v.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",v.jsx("span",{className:"font-semibold",children:t.points})]}),v.jsxs("div",{className:"text-sm text-gray-700",children:["Answer (s): ",v.jsx("span",{className:"font-semibold",children:t.answer})]}),t.selectedFile&&v.jsx("div",{className:"mt-4 w-full",children:v.jsx("img",{src:URL.createObjectURL(t.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})}),v.jsx("div",{className:"flex justify-end py-2",children:v.jsxs("div",{className:"flex justify-between gap-3",children:[v.jsx("button",{onClick:()=>a(!0),className:"bg-orange-500 hover:bg-orange-600 px-4 py-1 rounded-md",children:"Edit"}),v.jsx("button",{onClick:()=>i(e),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Delete"})]})})]})})},_L=t=>{const[e,n]=R.useState(!0),[i,o]=R.useState([]),[a,c]=R.useState([""]),[h,p]=R.useState(""),[m,y]=R.useState(""),[T,b]=R.useState(1),[w,S]=R.useState([]),[N,A]=R.useState(""),[M,P]=R.useState(""),[D,C]=R.useState(""),[I,V]=R.useState(""),[H,ee]=R.useState(null),[z,K]=R.useState(""),[ne,$]=R.useState(""),[Ce,Ee]=R.useState(!1),Ne=q=>q.split(",").map(k=>k.trim()).every(k=>/^[A-Za-z]$/.test(k)),Z=()=>{if(m.length===0){t.setError("Type of question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(a.every(q=>!q.trim()))t.setError("Question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);else if(h.length===0){t.setError("Answer required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(m==="mcq"){if(!w||w.length<2){t.setError("Choices required for multiple choice question!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(!Ne(h)){t.setError("Invalid formatting of answers. Separate multiple answers with commas."),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}o(i.concat({type:m,question:a,choices:w,points:T,answer:h,selectedFile:H})),c([""]),p(""),y(""),b(1),S([]),ee(null)},ae=async q=>{if(q.preventDefault(),I)if(M)if(D){if(i.length===0){t.setError("Questions are required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}else{t.setError("Test year required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Tournament name required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Event required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}if(t.tests.find(B=>B.school===M&&B.year===D)){t.setError("Test already uploaded to bank"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}const k=[];t.setNotif("Processing Test...");for(const B of i){let W;B.selectedFile&&(W=await NN.getImageUrl(B.selectedFile)),console.log(W);const re=await Ur.createQuestion({event:I,school:M,year:D,type:B.type,question:B.question,points:B.points,choices:B.choices,answer:B.answer,imageUrl:W});re&&k.push(re.id)}const L=await cn.createTest({event:I,random:!1,school:M,year:D,questions:k});console.log("Added Test"),t.setNotif("Added Test",L),t.setTests(t.tests.concat(L)),o([]),c([""]),p(""),y(""),b(1),S([]),ee(null),V(""),P(""),C(""),setTimeout(()=>{t.setNotif(null)},5e3)},Y=async q=>{q.preventDefault(),Ee(!1),n(!1),window.scrollTo({top:0,behavior:"smooth"}),t.setNotif("Processing PDFs...");let L=(await TL.createQuestions(z,ne)).trim();L.startsWith("```json")?L=L.replace(/^```json/,"").replace(/```$/,"").trim():L.startsWith("```")&&(L=L.replace(/^```/,"").replace(/```$/,"").trim());try{const W=JSON.parse(L).map(re=>({...re,question:Array.isArray(re.question)?re.question:[re.question]}));o(W),K(!1),$(!1),t.setNotif("Questions loaded!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch(B){t.setNotif(null),t.setError("Error loading questions"),setTimeout(()=>{t.setError(null)},5e3),console.log("Error",B)}};return t.user?v.jsxs("div",{className:"max-w-3xl mx-auto mt-10 p-6 bg-white rounded-md shadow-md",children:[v.jsxs("form",{className:"space-y-6",onSubmit:ae,children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Test"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Save Test"}),v.jsx(Ze,{to:"/tests",className:"bg-amber-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Test Bank"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Tournament Name"}),v.jsx("input",{value:M,onChange:({target:q})=>P(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: Libertyville High School"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Year"}),v.jsx("input",{value:D,onChange:({target:q})=>C(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: 2025"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Event"}),v.jsxs("select",{value:I,onChange:({target:q})=>V(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select Event"}),t.events.map(q=>v.jsx("option",{value:q.name,children:q.name},q.name))]})]}),e?v.jsx("div",{children:v.jsxs("div",{className:"bg-orange-50 p-6 rounded-md border border-orange-200",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-4",children:"Add Question"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Question"}),v.jsxs("div",{className:"space-y-2",children:[a.map((q,k)=>v.jsxs("div",{className:"flex gap-2 border border-gray-300 rounded-md p-2",children:[v.jsx("textarea",{value:q,onChange:L=>{const B=[...a];B[k]=L.target.value,c(B)},placeholder:k===0?"Question text...":"Additional part (e.g., cipher)...",rows:3,className:"flex-1 px-3 py-2 focus:ring-orange-400 focus:ring-2"}),a.length>1&&v.jsx("button",{type:"button",onClick:()=>{const L=a.filter((B,W)=>W!==k);c(L)},className:"text-red-500 font-bold text-2xl rounded-md hover:text-red-600 self-start",children:""})]},k)),v.jsx("button",{type:"button",onClick:()=>{c([...a,""])},className:"text-orange-600 hover:underline text-sm",children:"+ Add Part"}),a.length>1&&v.jsx("button",{type:"button",onClick:()=>{c([a.join(`

`)])},className:"ml-4 text-amber-600 hover:underline text-sm",children:"Merge into Single Part"}),a.length===1&&a[0].includes(`
`)&&v.jsx("button",{type:"button",onClick:()=>{const q=a[0].split(`

`).filter(k=>k.trim()!=="");if(q.length>1)c(q);else{const k=a[0].split(`
`).filter(L=>L.trim()!=="");k.length>1?c(k):alert("No clear separation found. Use double line breaks (\\n\\n) or single line breaks to separate parts.")}},className:"ml-4 text-blue-600 hover:underline text-sm",children:"Split into Parts"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),v.jsxs("select",{value:m,onChange:({target:q})=>y(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"",disabled:!0,children:"Select question type"}),v.jsx("option",{value:"mcq",children:"Multiple Choice"}),v.jsx("option",{value:"saq",children:"Short Answer"}),v.jsx("option",{value:"leq",children:"Paragraph/Long Answer"})]})]}),m==="mcq"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Choices"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:N,onChange:({target:q})=>A(q.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: H20"}),v.jsx("button",{type:"button",onClick:()=>{N.trim()!==""&&(S([...w,N.trim()]),A(""))},className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]}),w.length>0&&v.jsx("div",{className:"space-y-2 mt-3",children:w.map((q,k)=>v.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+k),"."]}),v.jsx("span",{className:"text-gray-800",children:q})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{className:"text-orange-600 font-medium",onClick:()=>S(w.filter(L=>L!==q)),children:"Remove"})})]},q))})]}),m==="leq"?v.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer"}),v.jsx("textarea",{value:h,onChange:({target:q})=>p(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),v.jsx("input",{type:"number",value:T,onChange:({target:q})=>b(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}):v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),v.jsx("input",{value:h,onChange:({target:q})=>p(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: A, B"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),v.jsx("input",{type:"number",value:T,onChange:({target:q})=>b(q.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),H?v.jsxs("div",{className:"mt-4 w-full",children:[v.jsxs("div",{className:"flex justify-between items-center pb-2",children:[v.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),v.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>ee(null),children:""})]}),v.jsx("img",{src:URL.createObjectURL(H),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):v.jsxs("label",{htmlFor:"file-upload-add",className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[v.jsx("input",{id:"file-upload-add",type:"file",className:"hidden",onChange:q=>{q.target.files&&q.target.files.length>0&&ee(q.target.files[0])}}),v.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]})]}),v.jsxs("div",{className:"flex justify-between mt-6",children:[v.jsx("button",{type:"button",onClick:Z,className:"bg-orange-600 text-white px-6 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Save Question"}),v.jsx("button",{type:"button",onClick:()=>n(!1),className:"bg-orange-50 mb-2 text-orange-700 font-semibold hover:underline",children:"Close Question Editor"})]})]})}):v.jsx("button",{type:"button",onClick:()=>n(!0),className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Open Question Editor"})]}),v.jsxs("div",{className:"mt-5",children:[v.jsx("button",{onClick:()=>{Ee(!0),K(null),$(null)},className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Add Questions From PDF"}),v.jsx(Mx,{isOpen:Ce,onClose:()=>{Ee(!1)},title:"Add Questions From PDF",children:v.jsxs("form",{onSubmit:Y,className:"max-w-md mx-auto space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question PDF"}),v.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:q})=>K(q.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer PDF"}),v.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:q})=>$(q.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),v.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg shadow-md transition duration-200",children:"Upload"})]})})]}),v.jsx("ul",{className:"mb-8 mt-10 space-y-4",children:i.length>0?i.map((q,k)=>v.jsx(bL,{q,index:k,onEdit:(L,B)=>{o(i.map((W,re)=>re===L?B:W))},onDelete:L=>{o(i.filter((B,W)=>W!==L))}},k)):v.jsx("div",{className:"border-2 border-dashed border-orange-300 rounded-md p-6 text-center text-orange-700 italic bg-orange-50",children:"No questions added yet. Use the forms above to add questions."})})]}):null},SL=t=>{const[e,n]=R.useState([]),[i,o]=R.useState(""),[a,c]=R.useState(""),[h,p]=R.useState("");R.useEffect(()=>{const y=t.tests.filter(T=>!T.random&&T.event.includes(i)&&T.school.includes(a)&&T.year.toString().includes(h));n(y)},[i,a,h,t.tests]);const m=()=>{o(""),c(""),p("")};return t.user?v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:v.jsxs("div",{className:"bg-white border border-orange-200 rounded-md p-6 shadow-md",children:[v.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-6",children:"Test Bank"}),v.jsxs("div",{className:"mb-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Event"}),v.jsxs("select",{value:i,onChange:({target:y})=>o(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[v.jsx("option",{value:"",children:"All"},"all"),t.events.map(y=>v.jsx("option",{value:y.name,children:y.name},y.name))]})]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"School"}),v.jsxs("select",{value:a,onChange:({target:y})=>c(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[v.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.school))].map(y=>v.jsx("option",{value:y,children:y},y))]})]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Year"}),v.jsxs("select",{value:h,onChange:({target:y})=>p(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[v.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.year))].map(y=>v.jsx("option",{value:y,children:y},y))]})]}),v.jsx("div",{className:"flex items-end",children:v.jsx("button",{onClick:m,className:"bg-orange-200 hover:bg-orange-300 text-orange-900 font-medium px-4 py-2 rounded-md transition w-full",children:"Reset Filters"})})]}),e.length>0?v.jsx("div",{className:"flex flex-col space-y-3",children:e.map(y=>v.jsx(Ze,{to:`/tests/${y.id}`,children:v.jsx("div",{className:"flex justify-between items-center border border-orange-200 border-2 rounded-lg p-4 hover:bg-orange-100 transition",children:v.jsxs("div",{children:[v.jsxs("p",{className:"text-base font-semibold text-orange-800",children:[y.school," ",y.year]}),v.jsx("p",{className:"text-sm text-orange-700",children:y.event})]})})},y.id))}):v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-orange-700 mb-3 italic",children:"No tests found."}),v.jsx(Ze,{to:"/tests/create",className:"inline-block bg-orange-200 text-orange-800 font-medium px-4 py-2 rounded-md hover:bg-orange-300 transition",children:"Add a Test"})]})]})}):null},wL=({tests:t,user:e,teams:n,setError:i,setNotif:o,setTests:a})=>{const[c,h]=R.useState(null),p=K0("/tests/:id"),m=Un();if(R.useEffect(()=>{if(p&&t){const T=t.find(b=>String(b.id)===p.params.id);h(T||null)}},[p,t]),!e)return;if(!t||!p)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(!c)return t.map(T=>T.id).includes(p.params.id.toString())?v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsx("div",{className:"text-center max-w-4xl mx-auto bg-white rounded-lg px-2 py-5 mt-10 font-medium text-orange-600",children:"Test not found."});const y=async()=>{if(!e||!c)return;if(!n||n.length===0){i("No teams available to assign this test."),setTimeout(()=>{i(null)},5e3);return}let T;try{T=await cn.updateTest(c.id,{assignees:n.filter(b=>b.event===c.event).map(b=>b.id)}),T&&(a(t.map(b=>b.id===c.id?T:b)),o("Test assigned successfully!"),setTimeout(()=>{o(null)},5e3),m("/tests"))}catch(b){console.error("Error assigning test:",b),b.response&&b.response.status===409?i(b.response.data.error):i("Failed to assign test. Please try again."),setTimeout(()=>{i(null)},5e3)}};return v.jsxs("div",{className:"max-w-4xl mx-auto mt-10 p-6 bg-white rounded-md shadow",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx(Ze,{to:"/tests",className:"text-sm sm:text-base text-orange-600 font-semibold hover:text-orange-700 hover:underline transition",children:" Return to Test Bank"}),v.jsx("button",{onClick:y,className:"bg-orange-500 hover:bg-orange-600 text-white font-medium px-4 py-2 rounded shadow transition",children:"Assign"})]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("h2",{className:"text-2xl font-semibold text-orange-700",children:[c.school," Science Olympiad ",c.year]}),v.jsx("h3",{className:"text-lg font-medium text-gray-700 mt-1",children:c.event})]})]}),v.jsx("ul",{className:"space-y-6 mt-8",children:c.questions&&c.questions.length>0?c.questions.map((T,b)=>{var w;return v.jsxs("li",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:[v.jsxs("div",{className:"mb-3 font-medium text-orange-900",children:[v.jsxs("span",{children:["Q",b+1,": "]}),T.question.map((S,N)=>v.jsx("span",{className:N>0?"block mt-4":"inline",children:S},N))]}),T.type==="mcq"&&((w=T.choices)==null?void 0:w.map((S,N)=>v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[v.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+N),"."]}),v.jsx("span",{className:"text-gray-800",children:S})]},N))),v.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",v.jsx("span",{className:"font-semibold",children:T.points})]}),v.jsxs("div",{className:"text-sm text-gray-700",children:["Answer: ",v.jsx("span",{className:"font-semibold",children:T.answer})]}),T.imageUrl&&v.jsx("div",{className:"mt-4 w-full flex justify-center",children:v.jsx("img",{src:T.imageUrl,alt:"Attached",className:"max-w-lg border border-orange-300 rounded-md shadow"})})]},b)}):v.jsx("div",{className:"text-center italic text-orange-500",children:"No questions available for this test."})})]})},CL=t=>{const[e,n]=R.useState(""),[i,o]=R.useState([]),[a,c]=R.useState("20"),[h,p]=R.useState("20"),[m,y]=R.useState("10");if(!t.user)return null;if(!t.questions||t.questions.length===0)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});const T=async()=>{if(!e){t.setError("Please select an event."),setTimeout(()=>t.setError(null),5e3);return}if(a.length===0||h.length===0||m.length===0){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}if(isNaN(Number(a))||isNaN(Number(h))||isNaN(Number(m))){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}try{const w=t.questions.filter(M=>M.event===e&&M.type==="mcq"),S=t.questions.filter(M=>M.event===e&&M.type==="saq"),N=t.questions.filter(M=>M.event===e&&M.type==="leq"),A=[...w.sort(()=>.5-Math.random()).slice(0,Number(a)),...S.sort(()=>.5-Math.random()).slice(0,Number(h)),...N.sort(()=>.5-Math.random()).slice(0,Number(m))];o(A)}catch(w){console.error("Error creating test:",w)}},b=async()=>{if(i.length===0){t.setError("No questions generated to assign."),setTimeout(()=>{t.setError(null)},5e3);return}const w={event:e,random:!0,questions:i.map(S=>S.id)};try{if(!t.teams||t.teams.length===0){t.setError("No teams available to assign this test."),setTimeout(()=>{t.setError(null)},5e3);return}const S=await cn.createTest(w);if(S){const N=await cn.updateTest(S.id,{assignees:t.teams.filter(A=>A.event===e).map(A=>A.id)});t.setNotif("Test assigned successfully!"),setTimeout(()=>{t.setNotif(null)},5e3),t.setTests(t.tests.concat(N))}o([])}catch(S){console.error("Error assigning test:",S),S.response&&S.response.status===409?t.setError(S.response.data.error):t.setError("Failed to assign test. Please try again."),setTimeout(()=>{t.setError(null)},5e3)}};return v.jsxs("div",{className:"max-w-3xl mx-auto mt-12 p-6 bg-white rounded-lg shadow-md space-y-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Random Practice Test"}),v.jsxs("div",{className:"grid-cols-2 gap-4",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"Event"}),v.jsxs("select",{value:e,onChange:({target:w})=>n(w.value),className:"w-full px-4 py-2 mt-2 mb-4 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[v.jsx("option",{value:"",children:"Select Event"}),t.events.map(w=>v.jsx("option",{value:w.name,children:w.name},w.name))]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of Multiple Choice"}),v.jsx("input",{type:"number",min:"0",value:a,onChange:w=>c(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of Short Answer"}),v.jsx("input",{type:"number",min:"0",value:h,onChange:w=>p(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of Long Answer"}),v.jsx("input",{type:"number",min:"0",value:m,onChange:w=>y(w.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]})]})]}),v.jsx("div",{className:"text-center",children:v.jsx("button",{onClick:T,className:"bg-orange-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-orange-700 transition",children:"Generate"})}),i.length>0&&v.jsxs("div",{className:"mt-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:"Generated Questions"}),v.jsx("button",{onClick:b,className:"bg-amber-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-amber-700 transition",children:"Assign Test"})]}),v.jsx("ul",{className:"space-y-3 mb-6",children:i.map((w,S)=>v.jsxs("li",{className:"bg-orange-50 border border-orange-200 rounded-md p-4 text-gray-800 shadow-sm",children:[v.jsxs("span",{children:["Q",S+1,": "]}),w.question.map((N,A)=>v.jsx("span",{className:A>0?"block mt-4":"inline",children:N},A))]},S))})]})]})},EL=({event:t,users:e,teams:n,onSave:i,user:o})=>{const[a,c]=R.useState({orange:[],black:[],white:[]}),[h,p]=R.useState({orange:[],black:[],white:[]}),[m,y]=R.useState({orange:"",black:"",white:""}),[T,b]=R.useState(!1),[w,S]=R.useState(!1),[N,A]=R.useState(!1);R.useEffect(()=>{var V,H,ee;const C={orange:[],black:[],white:[]};C.orange=((V=n.find(z=>z.name==="Varsity"))==null?void 0:V.students)||[],C.black=((H=n.find(z=>z.name==="JV"))==null?void 0:H.students)||[],C.white=((ee=n.find(z=>z.name==="JV2"))==null?void 0:ee.students)||[],c({...C}),p({...C});const I=C.white.length>0;b(I),S(I)},[n]);const M=C=>{const I=m[C].trim().toLowerCase(),V=e.find(H=>H.firstName.toLowerCase().includes(I)||`${H.firstName} ${H.lastName}`.toLowerCase().includes(I));V&&!a[C].some(H=>H.id===V.id)&&(c(H=>({...H,[C]:[...H[C],V]})),y(H=>({...H,[C]:""})))},P=(C,I)=>{c(V=>({...V,[C]:V[C].filter(H=>H.id!==I)}))},D=(C,I,V,H)=>v.jsxs("div",{className:"w-full",children:[v.jsx("div",{className:`text-[10px] font-bold py-1 px-1 rounded-t text-center ${V} ${H}`,children:I}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-b px-1 py-1 space-y-1 min-h-[40px]",onClick:()=>{var ee;return N&&((ee=document.getElementById(`${t.id}-${C}-input`))==null?void 0:ee.focus())},children:[a[C].map(ee=>v.jsxs("div",{className:"flex justify-between items-center text-[10px] bg-orange-50 px-1 py-[2px] rounded",children:[v.jsxs("span",{className:"truncate",children:[ee.firstName," ",ee.lastName]}),N&&v.jsx("button",{className:"text-gray-400 hover:text-red-500 ml-1 text-xs",onClick:z=>{z.stopPropagation(),P(C,ee.id)},children:""})]},ee.id)),N&&v.jsx("input",{id:`${t.id}-${C}-input`,value:m[C],onChange:ee=>y(z=>({...z,[C]:ee.target.value})),onKeyDown:ee=>ee.key==="Enter"&&M(C),placeholder:"Enter name and press enter",className:"w-full mt-1 px-1 py-[2px] text-[10px] border border-orange-300 rounded focus:outline-none focus:ring-1 focus:ring-orange-500"})]})]});return v.jsxs("div",{className:"border border-orange-200 rounded p-2 bg-orange-50 shadow-sm text-xs",children:[v.jsx("h4",{className:"font-semibold text-orange-700 text-center mb-2 truncate",children:t.name}),v.jsxs("div",{className:"flex gap-2 justify-center",children:[D("orange","Varsity","bg-orange-600","text-white"),D("black","JV","bg-black","text-white"),T&&D("white","JV2","bg-white","text-black")]}),(o==null?void 0:o.admin)&&N&&v.jsx("div",{className:"text-center mt-2",children:T?v.jsx("button",{className:"text-[10px] text-red-500 hover:underline",onClick:()=>{c(C=>({...C,white:[]})),b(!1)},children:"Remove JV2"}):v.jsx("button",{className:"text-orange-600 text-[10px] hover:underline",onClick:()=>b(!0),children:"+ Add JV2"})}),v.jsxs("div",{className:"text-center mt-3 space-x-2",children:[(o==null?void 0:o.admin)&&!N&&v.jsx("button",{onClick:()=>A(!0),className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Edit"}),(o==null?void 0:o.admin)&&N&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>{console.log("Saving assignment for",t.name,a),p(a),S(T),A(!1),i(t.name,a)},className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Save"}),v.jsx("button",{onClick:()=>{c(h),b(w),y({orange:"",black:"",white:""}),A(!1)},className:"bg-gray-200 text-gray-700 px-3 py-1 rounded text-xs hover:bg-gray-300 transition",children:"Cancel"})]})]})]})},qu="/api/teams";let Ra=null;const AL=t=>{Ra=`Bearer ${t}`},NL=async()=>(await we.get(qu,{headers:{Authorization:Ra}})).data,RL=async t=>(await we.post(qu,t,{headers:{Authorization:Ra}})).data,kL=async(t,e)=>{const n=`${qu}/${t}`;return(await we.put(n,e,{headers:{Authorization:Ra}})).data},ML=async t=>{const e=`${qu}/${t}`;if((await we.delete(e,{headers:{Authorization:Ra}})).status===204)return{id:t}},Yt={setToken:AL,getAll:NL,createTeam:RL,changeTeam:kL,deleteTeam:ML},DL=({user:t,users:e,events:n,teams:i,setTeams:o})=>{const[a,c]=R.useState([]),[h,p]=R.useState([]),[m,y]=R.useState([]),[T,b]=R.useState([]),[w,S]=R.useState([]),[N,A]=R.useState([]),M=(C,I)=>{if(C.length!==I.length)return!1;const V=z=>z.map(K=>typeof K=="object"?K.id:K),H=V(C).sort(),ee=V(I).sort();return H.every((z,K)=>z===ee[K])},P=async(C,I)=>{const V=i.find(z=>z.event===C&&z.name==="Varsity"),H=i.find(z=>z.event===C&&z.name==="JV"),ee=i.find(z=>z.event===C&&z.name==="JV2");try{if(I.orange.length>0)if(V){if(M(V.students,I.orange.map(K=>K.id)))return;console.log("Updating Varsity team for",C);const z=await Yt.changeTeam(V.id,{students:I.orange.map(K=>K.id)});o(i.map(K=>K.id===V.id?z:K))}else{console.log("Creating new Varsity team for",C);const z=await Yt.createTeam({event:C,name:"Varsity",students:I.orange.map(K=>K.id)});o(i.concat(z))}else if(V){console.log("Deleting Varsity team for",C);const z=await Yt.deleteTeam(V.id);z&&o(i.filter(K=>K.id!==z.id))}if(I.black.length>0)if(H){if(M(H.students,I.black.map(K=>K.id)))return;console.log("Updating JV team for",C);const z=await Yt.changeTeam(H.id,{students:I.black.map(K=>K.id)});o(i.map(K=>K.id===H.id?z:K))}else{console.log("Creating new JV team for",C);const z=await Yt.createTeam({event:C,name:"JV",students:I.black.map(K=>K.id)});o(i.concat(z))}else if(H){console.log("Deleting JV team for",C);const z=await Yt.deleteTeam(H.id);z&&o(i.filter(K=>K.id!==z.id))}if(I.white.length>0)if(ee){if(M(ee.students,I.white.map(K=>K.id)))return;console.log("Updating JV2 team for",C);const z=await Yt.changeTeam(ee.id,{students:I.white.map(K=>K.id)});o(i.map(K=>K.id===ee.id?z:K))}else{console.log("Creating new JV2 team for",C);const z=await Yt.createTeam({event:C,name:"JV2",students:I.white.map(K=>K.id)});o(i.concat(z))}else if(ee){console.log("Deleting JV2 team for",C);const z=await Yt.deleteTeam(ee.id);z&&o(i.filter(K=>K.id!==z.id))}console.log("Team assignments saved successfully for",C)}catch(z){throw console.error("Full error object:",z),z.response&&z.response.data?(console.error(`API Error: ${z.response.data.error}`),console.error("Response status:",z.response.status),console.error("Response data:",z.response.data)):z.message?console.error("Error message:",z.message):console.error("An unexpected error occurred while saving team assignments:",z),z}};R.useEffect(()=>{n&&(c(n.filter(C=>C.block==="1")),p(n.filter(C=>C.block==="2")),y(n.filter(C=>C.block==="3")),b(n.filter(C=>C.block==="4")),S(n.filter(C=>C.block==="5")),A(n.filter(C=>C.block==="")))},[n]);const D=(C,I)=>v.jsxs("div",{className:"bg-white shadow rounded-lg p-4 flex flex-col",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-3 text-center border-b border-orange-200 pb-1",children:C}),v.jsx("div",{className:"space-y-3 min-h-[360px]",children:I.map(V=>v.jsx(EL,{event:V,users:e,teams:i.filter(H=>H.event===V.name),user:t,onSave:P},V.id))})]},C);if(t)return!e||!i||!n?v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsxs("div",{className:"px-4 py-8 space-y-10",children:[v.jsx("h2",{className:"w-full text-center font-semibold text-2xl text-orange-800 mb-6 bg-white rounded-lg shadow-lg p-4",children:"Team Lineup"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[D("Block 1",a),D("Block 2",h),D("Block 3",m)]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[D("Block 4",T),D("Block 5",w),D("Self Schedule",N)]}),v.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mt-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 border-b border-orange-200 pb-2 mb-4 text-center",children:"Events Per Student"}),v.jsx("div",{className:"flex flex-wrap gap-3",children:e.filter(C=>C.teams&&C.teams.length>0).map(C=>v.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-md px-3 py-2 text-sm text-orange-800 shadow-sm",children:[v.jsxs("span",{className:"font-medium",children:[C.firstName," ",C.lastName]}),": ",C.teams.length]},C.id))})]})]})},ka="/api/answers";let AT=null;const UL=t=>{AT=`Bearer ${t}`},Ma=()=>({headers:{Authorization:AT}}),IL=async t=>(await we.post(ka,t,Ma())).data,PL=async(t,e)=>(await we.get(`${ka}/${t}/${e}`,Ma())).data,LL=async(t,e,n)=>(await we.put(`${ka}/${t}/${e}`,n,Ma())).data,OL=async(t,e,{questionId:n,answer:i,drawing:o})=>(await we.patch(`${ka}/${t}/${e}`,{questionId:n,answer:i,drawing:o},Ma())).data,qL=async()=>(await we.get(ka,Ma())).data,$t={setToken:UL,create:IL,getByTestAndTeam:PL,update:LL,updateSpecific:OL,getAll:qL},Wr="/api/submissions";let NT=null;const BL=t=>{NT=`Bearer ${t}`},eo=()=>({headers:{Authorization:NT}}),jL=async t=>(await we.post(Wr,t,eo())).data,VL=async()=>(await we.get(Wr,eo())).data,$L=async t=>(await we.get(`${Wr}/${t}`,eo())).data,FL=async(t,e)=>(await we.get(`${Wr}/check/${t}/${e}`,eo())).data,zL=async t=>(await we.get(`${Wr}/team/${t}`,eo())).data,GL=async(t,e)=>(await we.put(`${Wr}/${t}`,e,eo())).data,Nt={setToken:BL,create:jL,getAll:VL,getById:$L,checkSubmission:FL,getByTeam:zL,update:GL},HL=({tests:t,user:e,users:n,teams:i})=>{const[o,a]=R.useState([]),[c,h]=R.useState({});return R.useEffect(()=>{var p;if(t&&e&&n){const m=n.find(b=>b.id===e.id),y=((p=m==null?void 0:m.teams)==null?void 0:p.map(b=>b.id))||[];console.log(y),console.log(t);const T=t.filter(b=>{var w;return(w=b.assignees)==null?void 0:w.some(S=>y.includes(S))});a(T)}},[t,e,n]),R.useEffect(()=>{(async()=>{if(o.length>0&&i&&e){const m=localStorage.getItem("loggedAppUser");if(m){const T=JSON.parse(m);$t.setToken(T.token),Nt.setToken(T.token)}const y={};for(const T of o){const b=i.find(w=>w&&w.event===T.event&&w.students&&Array.isArray(w.students)&&w.students.some(S=>S&&S.id===e.id));if(b)try{if((await Nt.checkSubmission(T.id,b.id)).submitted)y[T.id]="submitted";else{const S=await $t.getByTestAndTeam(T.id,b.id);y[T.id]=S?"started":"not_started"}}catch{y[T.id]="not_started"}else y[T.id]="no_team"}h(y)}})()},[o,i,e]),e?v.jsxs("div",{className:"max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"Assigned Tests"}),o.length===0?v.jsx("p",{className:"text-center text-gray-500 italic",children:"You currently have no assigned tests."}):v.jsx("ul",{className:"space-y-3",children:o.map(p=>v.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:p.random?`Random Test - ${p.event}`:`${p.school} ${p.year} - ${p.event}`}),c[p.id]==="submitted"&&v.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Submitted"})]}),c[p.id]==="submitted"?v.jsx("span",{className:"text-sm text-green-600 font-medium",children:" Completed"}):v.jsxs(Ze,{to:`/assigned/${p.id}`,className:"text-sm text-orange-600 hover:underline",children:[c[p.id]==="started"?"Continue Test":"Take Test"," "]})]})},p.id))})]}):null};function B0(t,e,n,i,o,a,c){try{var h=t[a](c),p=h.value}catch(m){n(m);return}h.done?e(p):Promise.resolve(p).then(i,o)}function JL(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function c(p){B0(a,i,o,c,h,"next",p)}function h(p){B0(a,i,o,c,h,"throw",p)}c(void 0)})}}function As(){return As=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},As.apply(this,arguments)}var RT={exports:{}};(function(t){var e=function(n){var i=Object.prototype,o=i.hasOwnProperty,a,c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",m=c.toStringTag||"@@toStringTag";function y(Y,q,k){return Object.defineProperty(Y,q,{value:k,enumerable:!0,configurable:!0,writable:!0}),Y[q]}try{y({},"")}catch{y=function(q,k,L){return q[k]=L}}function T(Y,q,k,L){var B=q&&q.prototype instanceof P?q:P,W=Object.create(B.prototype),re=new Ne(L||[]);return W._invoke=ne(Y,k,re),W}n.wrap=T;function b(Y,q,k){try{return{type:"normal",arg:Y.call(q,k)}}catch(L){return{type:"throw",arg:L}}}var w="suspendedStart",S="suspendedYield",N="executing",A="completed",M={};function P(){}function D(){}function C(){}var I={};y(I,h,function(){return this});var V=Object.getPrototypeOf,H=V&&V(V(Z([])));H&&H!==i&&o.call(H,h)&&(I=H);var ee=C.prototype=P.prototype=Object.create(I);D.prototype=C,y(ee,"constructor",C),y(C,"constructor",D),D.displayName=y(C,m,"GeneratorFunction");function z(Y){["next","throw","return"].forEach(function(q){y(Y,q,function(k){return this._invoke(q,k)})})}n.isGeneratorFunction=function(Y){var q=typeof Y=="function"&&Y.constructor;return q?q===D||(q.displayName||q.name)==="GeneratorFunction":!1},n.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,C):(Y.__proto__=C,y(Y,m,"GeneratorFunction")),Y.prototype=Object.create(ee),Y},n.awrap=function(Y){return{__await:Y}};function K(Y,q){function k(W,re,he,oe){var Ue=b(Y[W],Y,re);if(Ue.type==="throw")oe(Ue.arg);else{var Ae=Ue.arg,et=Ae.value;return et&&typeof et=="object"&&o.call(et,"__await")?q.resolve(et.__await).then(function(it){k("next",it,he,oe)},function(it){k("throw",it,he,oe)}):q.resolve(et).then(function(it){Ae.value=it,he(Ae)},function(it){return k("throw",it,he,oe)})}}var L;function B(W,re){function he(){return new q(function(oe,Ue){k(W,re,oe,Ue)})}return L=L?L.then(he,he):he()}this._invoke=B}z(K.prototype),y(K.prototype,p,function(){return this}),n.AsyncIterator=K,n.async=function(Y,q,k,L,B){B===void 0&&(B=Promise);var W=new K(T(Y,q,k,L),B);return n.isGeneratorFunction(q)?W:W.next().then(function(re){return re.done?re.value:W.next()})};function ne(Y,q,k){var L=w;return function(W,re){if(L===N)throw new Error("Generator is already running");if(L===A){if(W==="throw")throw re;return ae()}for(k.method=W,k.arg=re;;){var he=k.delegate;if(he){var oe=$(he,k);if(oe){if(oe===M)continue;return oe}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(L===w)throw L=A,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);L=N;var Ue=b(Y,q,k);if(Ue.type==="normal"){if(L=k.done?A:S,Ue.arg===M)continue;return{value:Ue.arg,done:k.done}}else Ue.type==="throw"&&(L=A,k.method="throw",k.arg=Ue.arg)}}}function $(Y,q){var k=Y.iterator[q.method];if(k===a){if(q.delegate=null,q.method==="throw"){if(Y.iterator.return&&(q.method="return",q.arg=a,$(Y,q),q.method==="throw"))return M;q.method="throw",q.arg=new TypeError("The iterator does not provide a 'throw' method")}return M}var L=b(k,Y.iterator,q.arg);if(L.type==="throw")return q.method="throw",q.arg=L.arg,q.delegate=null,M;var B=L.arg;if(!B)return q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,M;if(B.done)q[Y.resultName]=B.value,q.next=Y.nextLoc,q.method!=="return"&&(q.method="next",q.arg=a);else return B;return q.delegate=null,M}z(ee),y(ee,m,"Generator"),y(ee,h,function(){return this}),y(ee,"toString",function(){return"[object Generator]"});function Ce(Y){var q={tryLoc:Y[0]};1 in Y&&(q.catchLoc=Y[1]),2 in Y&&(q.finallyLoc=Y[2],q.afterLoc=Y[3]),this.tryEntries.push(q)}function Ee(Y){var q=Y.completion||{};q.type="normal",delete q.arg,Y.completion=q}function Ne(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(Ce,this),this.reset(!0)}n.keys=function(Y){var q=[];for(var k in Y)q.push(k);return q.reverse(),function L(){for(;q.length;){var B=q.pop();if(B in Y)return L.value=B,L.done=!1,L}return L.done=!0,L}};function Z(Y){if(Y){var q=Y[h];if(q)return q.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var k=-1,L=function B(){for(;++k<Y.length;)if(o.call(Y,k))return B.value=Y[k],B.done=!1,B;return B.value=a,B.done=!0,B};return L.next=L}}return{next:ae}}n.values=Z;function ae(){return{value:a,done:!0}}return Ne.prototype={constructor:Ne,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Ee),!Y)for(var q in this)q.charAt(0)==="t"&&o.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=a)},stop:function(){this.done=!0;var Y=this.tryEntries[0],q=Y.completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var q=this;function k(oe,Ue){return W.type="throw",W.arg=Y,q.next=oe,Ue&&(q.method="next",q.arg=a),!!Ue}for(var L=this.tryEntries.length-1;L>=0;--L){var B=this.tryEntries[L],W=B.completion;if(B.tryLoc==="root")return k("end");if(B.tryLoc<=this.prev){var re=o.call(B,"catchLoc"),he=o.call(B,"finallyLoc");if(re&&he){if(this.prev<B.catchLoc)return k(B.catchLoc,!0);if(this.prev<B.finallyLoc)return k(B.finallyLoc)}else if(re){if(this.prev<B.catchLoc)return k(B.catchLoc,!0)}else if(he){if(this.prev<B.finallyLoc)return k(B.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Y,q){for(var k=this.tryEntries.length-1;k>=0;--k){var L=this.tryEntries[k];if(L.tryLoc<=this.prev&&o.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var B=L;break}}B&&(Y==="break"||Y==="continue")&&B.tryLoc<=q&&q<=B.finallyLoc&&(B=null);var W=B?B.completion:{};return W.type=Y,W.arg=q,B?(this.method="next",this.next=B.finallyLoc,M):this.complete(W)},complete:function(Y,q){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&q&&(this.next=q),M},finish:function(Y){for(var q=this.tryEntries.length-1;q>=0;--q){var k=this.tryEntries[q];if(k.finallyLoc===Y)return this.complete(k.completion,k.afterLoc),Ee(k),M}},catch:function(Y){for(var q=this.tryEntries.length-1;q>=0;--q){var k=this.tryEntries[q];if(k.tryLoc===Y){var L=k.completion;if(L.type==="throw"){var B=L.arg;Ee(k)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(Y,q,k){return this.delegate={iterator:Z(Y),resultName:q,nextLoc:k},this.method==="next"&&(this.arg=a),M}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(RT);var j0=RT.exports,kT=function(e){var n=e.paths,i=e.id,o=e.strokeWidth,a=e.strokeColor,c=e.command,h=c===void 0?MT:c;if(n.length===1){var p=n[0],m=p.x,y=p.y,T=o/2;return R.createElement("circle",{key:i,id:i,cx:m,cy:y,r:T,stroke:a,fill:a})}var b=n.reduce(function(w,S,N,A){return N===0?"M "+S.x+","+S.y:w+" "+h(S,N,A)},"");return R.createElement("path",{key:i,id:i,d:b,fill:"none",strokeLinecap:"round",stroke:a,strokeWidth:o})},YL=function(e,n){var i=n.x-e.x,o=n.y-e.y;return{length:Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),angle:Math.atan2(o,i)}},Xl=function(e){var n=e.current,i=e.next,o=e.previous,a=e.reverse,c=o||n,h=i||n,p=.2,m=YL(c,h),y=m.angle+(a?Math.PI:0),T=m.length*p,b=n.x+Math.cos(y)*T,w=n.y+Math.sin(y)*T;return[b,w]},MT=function(e,n,i){var o=null,a=null;switch(n){case 0:var c=Xl({current:e});o=c[0],a=c[1];break;case 1:var h=Xl({current:i[n-1],next:e});o=h[0],a=h[1];break;default:var p=Xl({current:i[n-1],previous:i[n-2],next:e});o=p[0],a=p[1];break}var m=Xl({current:e,previous:i[n-1],next:i[n+1],reverse:!0}),y=m[0],T=m[1];return"C "+o+","+a+" "+y+","+T+" "+e.x+", "+e.y},KL=function(e){var n=e.id,i=e.paths;return R.createElement(R.Fragment,null,i.map(function(o,a){return R.createElement(kT,{key:n+"__"+a,paths:o.paths,id:n+"__"+a,strokeWidth:o.strokeWidth,strokeColor:o.strokeColor,command:MT})}))},V0=function(e){return new Promise(function(n,i){var o=new Image;o.addEventListener("load",function(){o.width>0&&n(o),i("Image not found")}),o.addEventListener("error",function(a){return i(a)}),o.src=e,o.setAttribute("crossorigin","anonymous")})};function $0(t){var e,n=(e=t.firstChild)==null?void 0:e.cloneNode(!0),i=t.offsetWidth,o=t.offsetHeight;return n.setAttribute("viewBox","0 0 "+i+" "+o),n.setAttribute("width",i.toString()),n.setAttribute("height",o.toString()),{svgCanvas:n,width:i,height:o}}var QL=R.forwardRef(function(t,e){var n=t.paths,i=t.isDrawing,o=t.onPointerDown,a=t.onPointerMove,c=t.onPointerUp,h=t.id,p=h===void 0?"react-sketch-canvas":h,m=t.width,y=m===void 0?"100%":m,T=t.height,b=T===void 0?"100%":T,w=t.className,S=w===void 0?"react-sketch-canvas":w,N=t.canvasColor,A=N===void 0?"red":N,M=t.backgroundImage,P=M===void 0?"":M,D=t.exportWithBackgroundImage,C=D===void 0?!1:D,I=t.preserveBackgroundImageAspectRatio,V=I===void 0?"none":I,H=t.allowOnlyPointerType,ee=H===void 0?"all":H,z=t.style,K=z===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:z,ne=t.svgStyle,$=ne===void 0?{}:ne,Ce=R.useRef(null),Ee=function(B){var W,re,he,oe=(W=Ce.current)==null?void 0:W.getBoundingClientRect(),Ue=(re=window.scrollX)!=null?re:0,Ae=(he=window.scrollY)!=null?he:0;if(!oe)return{x:0,y:0};var et={x:B.pageX-oe.left-Ue,y:B.pageY-oe.top-Ae};return et},Ne=function(B){if(!(ee!=="all"&&B.pointerType!==ee)&&!(B.pointerType==="mouse"&&B.button!==0)){var W=Ee(B);o(W)}},Z=function(B){if(i&&!(ee!=="all"&&B.pointerType!==ee)){var W=Ee(B);a(W)}},ae=function(B){B.pointerType==="mouse"&&B.button!==0||ee!=="all"&&B.pointerType!==ee||c()};R.useImperativeHandle(e,function(){return{exportImage:function(B){return new Promise(function(){var W=JL(j0.mark(function re(he,oe){var Ue,Ae,et,it,Rt,Dt,me,fe;return j0.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(ue.prev=0,Ue=Ce.current,Ue){ue.next=4;break}throw Error("Canvas not rendered yet");case 4:return Ae=$0(Ue),et=Ae.svgCanvas,it=Ae.width,Rt=Ae.height,Dt="data:image/svg+xml;base64,"+btoa(et.outerHTML),ue.next=8,V0(Dt);case 8:if(ue.t0=ue.sent,me=[ue.t0],!C){ue.next=21;break}return ue.prev=11,ue.next=14,V0(P);case 14:fe=ue.sent,me.push(fe),ue.next=21;break;case 18:ue.prev=18,ue.t1=ue.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(me).then(function(qe){var Le=document.createElement("canvas");Le.setAttribute("width",it.toString()),Le.setAttribute("height",Rt.toString());var rt=Le.getContext("2d");if(!rt)throw Error("Canvas not rendered yet");qe.reverse().forEach(function(Oe){rt.drawImage(Oe,0,0)}),he(Le.toDataURL("image/"+B))}).catch(function(qe){throw qe}),ue.next=27;break;case 24:ue.prev=24,ue.t2=ue.catch(0),oe(ue.t2);case 27:case"end":return ue.stop()}},re,null,[[0,24],[11,18]])}));return function(re,he){return W.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(B,W){try{var re,he=(re=Ce.current)!=null?re:null;if(he!==null){var oe,Ue,Ae=$0(he),et=Ae.svgCanvas;if(C){B(et.outerHTML);return}(oe=et.querySelector("#"+p+"__background"))==null||oe.remove(),(Ue=et.querySelector("#"+p+"__canvas-background"))==null||Ue.setAttribute("fill",A),B(et.outerHTML)}W(new Error("Canvas not loaded"))}catch(it){W(it)}})}}}),R.useEffect(function(){return document.addEventListener("pointerup",ae),function(){document.removeEventListener("pointerup",ae)}},[ae]);var Y=n.filter(function(L){return!L.drawMode}),q=0,k=n.reduce(function(L,B){return B.drawMode?(L[q]===void 0&&(L[q]=[]),L[q].push(B),L):(q+=1,L)},[[]]);return R.createElement("div",{role:"presentation",ref:Ce,className:S,style:As({touchAction:"none",width:y,height:b},K),"touch-action":"none",onPointerDown:Ne,onPointerMove:Z,onPointerUp:ae},R.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:As({width:"100%",height:"100%"},$),id:p},R.createElement("g",{id:p+"__eraser-stroke-group",display:"none"},R.createElement("rect",{id:p+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),Y.map(function(L,B){return R.createElement(kT,{key:p+"__eraser-"+B,id:p+"__eraser-"+B,paths:L.paths,strokeColor:"#000000",strokeWidth:L.strokeWidth})})),R.createElement("defs",null,P&&R.createElement("pattern",{id:p+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},R.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:P,preserveAspectRatio:V})),Y.map(function(L,B){return R.createElement("mask",{id:p+"__eraser-mask-"+B,key:p+"__eraser-mask-"+B,maskUnits:"userSpaceOnUse"},R.createElement("use",{href:"#"+p+"__mask-background"}),Array.from({length:Y.length-B},function(W,re){return re+B}).map(function(W){return R.createElement("use",{key:W.toString(),href:"#"+p+"__eraser-"+W.toString()})}))})),R.createElement("g",{id:p+"__canvas-background-group"},R.createElement("rect",{id:p+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:P?"url(#"+p+"__background)":A})),k.map(function(L,B){return R.createElement("g",{id:p+"__stroke-group-"+B,key:p+"__stroke-group-"+B,mask:"url(#"+p+"__eraser-mask-"+B+")"},R.createElement(KL,{id:p,paths:L}))})))}),DT=R.forwardRef(function(t,e){var n=t.id,i=n===void 0?"react-sketch-canvas":n,o=t.width,a=o===void 0?"100%":o,c=t.height,h=c===void 0?"100%":c,p=t.className,m=p===void 0?"":p,y=t.canvasColor,T=y===void 0?"white":y,b=t.strokeColor,w=b===void 0?"red":b,S=t.backgroundImage,N=S===void 0?"":S,A=t.exportWithBackgroundImage,M=A===void 0?!1:A,P=t.preserveBackgroundImageAspectRatio,D=P===void 0?"none":P,C=t.strokeWidth,I=C===void 0?4:C,V=t.eraserWidth,H=V===void 0?8:V,ee=t.allowOnlyPointerType,z=ee===void 0?"all":ee,K=t.style,ne=K===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:K,$=t.svgStyle,Ce=$===void 0?{}:$,Ee=t.onChange,Ne=Ee===void 0?function(Oe){}:Ee,Z=t.onStroke,ae=Z===void 0?function(Oe,be){}:Z,Y=t.withTimestamp,q=Y===void 0?!1:Y,k=R.createRef(),L=R.useState(!0),B=L[0],W=L[1],re=R.useState(!1),he=re[0],oe=re[1],Ue=R.useState([]),Ae=Ue[0],et=Ue[1],it=R.useState([]),Rt=it[0],Dt=it[1],me=R.useState([]),fe=me[0],Re=me[1],ue=R.useCallback(function(){var Oe,be,Se=(Oe=(be=fe.slice(-1))==null?void 0:be[0])!=null?Oe:null;if(Se===null){console.warn("No stroke found!");return}ae(Se,!Se.drawMode)},[he]);R.useEffect(function(){ue()},[he]),R.useEffect(function(){Ne(fe)},[fe]),R.useImperativeHandle(e,function(){return{eraseMode:function(be){W(!be)},clearCanvas:function(){et([].concat(fe)),Re([])},undo:function(){if(Ae.length!==0){Re([].concat(Ae)),et([]);return}Dt(function(be){return[].concat(be,fe.slice(-1))}),Re(function(be){return be.slice(0,-1)})},redo:function(){Rt.length!==0&&(Re(function(be){return[].concat(be,Rt.slice(-1))}),Dt(function(be){return be.slice(0,-1)}))},exportImage:function(be){var Se,He=(Se=k.current)==null?void 0:Se.exportImage;if(He)return He(be);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(be,Se){var He,Je=(He=k.current)==null?void 0:He.exportSvg;Je?Je().then(function(ce){be(ce)}).catch(function(ce){Se(ce)}):Se(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(be,Se){try{be(fe)}catch(He){Se(He)}})},loadPaths:function(be){Re(function(Se){return[].concat(Se,be)})},getSketchingTime:function(){return new Promise(function(be,Se){q||Se(new Error("Set 'withTimestamp' prop to get sketching time"));try{var He=fe.reduce(function(Je,ce){var pe,xe,Ve=(pe=ce.startTimestamp)!=null?pe:0,pt=(xe=ce.endTimestamp)!=null?xe:0;return Je+(pt-Ve)},0);be(He)}catch(Je){Se(Je)}})},resetCanvas:function(){et([]),Dt([]),Re([])}}});var qe=function(be){oe(!0),Dt([]);var Se={drawMode:B,strokeColor:B?w:"#000000",strokeWidth:B?I:H,paths:[be]};q&&(Se=As({},Se,{startTimestamp:Date.now(),endTimestamp:0})),Re(function(He){return[].concat(He,[Se])})},Le=function(be){if(he){var Se=fe.slice(-1)[0],He=As({},Se,{paths:[].concat(Se.paths,[be])});Re(function(Je){return[].concat(Je.slice(0,-1),[He])})}},rt=function(){var be,Se;if(he&&(oe(!1),!!q)){var He=(be=(Se=fe.slice(-1))==null?void 0:Se[0])!=null?be:null;if(He!==null){var Je=As({},He,{endTimestamp:Date.now()});Re(function(ce){return[].concat(ce.slice(0,-1),[Je])})}}};return R.createElement(QL,{ref:k,id:i,width:a,height:h,className:m,canvasColor:T,backgroundImage:N,exportWithBackgroundImage:M,preserveBackgroundImageAspectRatio:D,allowOnlyPointerType:z,style:ne,svgStyle:Ce,paths:fe,isDrawing:he,onPointerDown:qe,onPointerMove:Le,onPointerUp:rt})});const UT=({questions:t,currentIdx:e,setCurrentIdx:n,bookmarked:i,answers:o,drawings:a={}})=>{const c=h=>{const p=o[h],m=a[h]&&a[h].length>0;return p||m};return v.jsx("div",{className:"p-3 space-y-2",children:t.map((h,p)=>v.jsxs("button",{onClick:()=>n(p),className:`w-full px-3 py-2 rounded text-left border text-sm ${p===e?"bg-orange-300 border-orange-600":"bg-white border-orange-200"} ${c(h.id)?"font-bold":""}`,children:["Q",p+1,i.includes(h.id)&&v.jsx("span",{className:"ml-2 text-yellow-700",children:""})]},h.id||p))})},ZL=({idx:t,question:e,answer:n,onChange:i,onBookmark:o,isBookmarked:a,event:c})=>{const h=e.type==="mcq"&&e.answer.includes(", "),p=e.type==="saq",m=T=>{if((e.question[0]||"").toLowerCase().includes("baconian")){const S=T.replace(/\s+/g,""),N=[];for(let A=0;A<S.length;A+=5)N.push(S.slice(A,A+5));return N.map((A,M)=>v.jsx("span",{className:"inline-block mr-4",children:A},M))}else return T.split(/\s+/).map((S,N)=>v.jsx("span",{className:"inline-block mr-4",children:S.split("").map((A,M)=>v.jsx("span",{className:"inline-block mr-2",children:A},M))},N))},y=T=>{const b=Array.isArray(n)?n:[],w=b.includes(T)?b.filter(S=>S!==T):[...b,T];i(e.id,w)};return v.jsxs("div",{className:"relative",children:[v.jsxs("div",{className:"sticky top-0 bg-white z-40 flex justify-between items-center mb-3 pb-2 border-b border-orange-200",children:[v.jsxs("h4",{className:"text-lg font-semibold text-orange-700",children:["Question ",t+1]}),v.jsx("button",{onClick:()=>o(e.id),className:"text-yellow-600 hover:text-yellow-700",children:a?" Bookmarked":" Bookmark"})]}),v.jsxs("div",{className:"pt-2",children:[v.jsx("div",{className:"mb-4 text-orange-900",children:e.question.map((T,b)=>v.jsx("p",{className:b>0?"mt-8":"",style:b>0&&(e.event==="Codebusters"||c==="Codebusters")?{lineHeight:"3",letterSpacing:"0.1em",backgroundColor:"#fef3c7",padding:"8px",borderRadius:"4px"}:{},children:b>0&&(e.event==="Codebusters"||c==="Codebusters")?m(T):T},b))}),e.imageUrl&&v.jsx("img",{src:e.imageUrl,alt:"Question Visual",className:"mb-4 border rounded max-w-md"}),e.type==="mcq"&&e.choices?e.choices.map((T,b)=>v.jsxs("label",{className:"block bg-orange-100 border border-orange-200 rounded px-4 py-2 mb-2 cursor-pointer",children:[v.jsx("input",{type:h?"checkbox":"radio",name:`q-${e.id}`,value:T,checked:h?(n||[]).includes(T):n===T,onChange:()=>h?y(T):i(e.id,T),className:"mr-2"}),String.fromCharCode(65+b),". ",T]},b)):p?v.jsx("input",{type:"text",className:"w-full border border-orange-300 rounded p-2",placeholder:"Short answer...",value:n||"",onChange:T=>i(e.id,T.target.value)}):v.jsx("textarea",{rows:4,className:"w-full border border-orange-300 rounded p-2",placeholder:"Type your answer...",value:n||"",onChange:T=>i(e.id,T.target.value)})]})]})},XL=(t,e,n)=>{if(n<1e3)return!0;if(t===e)return!1;const i=o=>o==null?!0:typeof o=="string"?o.trim()==="":typeof o=="number"||typeof o=="boolean"?!1:Array.isArray(o)?o.length===0:!1;return i(t)&&!i(e)?!0:i(e)&&!i(t)?!1:n<1500},WL=(t,e,n)=>{if(n<1e3)return!0;if(JSON.stringify(t)===JSON.stringify(e))return!1;const i=o=>o?Array.isArray(o)?o.length===0:typeof o=="object"?Object.keys(o).length===0:!1:!0;return i(t)&&!i(e)?!0:i(e)&&!i(t)?!1:n<1500},eO=({tests:t,user:e,users:n,teams:i,setNotif:o,setError:a,setTests:c})=>{var Je;const h=K0("/assigned/:id"),p=(Je=h==null?void 0:h.params)==null?void 0:Je.id,m=Un(),[y,T]=R.useState(null),[b,w]=R.useState(!1),[S,N]=R.useState(50*60),[A,M]=R.useState({}),[P,D]=R.useState([]),[C,I]=R.useState(0),[V,H]=R.useState(!1),[ee,z]=R.useState(!1),[K,ne]=R.useState({}),[$,Ce]=R.useState(null),[Ee,Ne]=R.useState(!1),[Z,ae]=R.useState(!0),[Y,q]=R.useState(null),[k,L]=R.useState(0),[B,W]=R.useState(!1),re=R.useRef(null),he=R.useRef(null),oe=R.useRef(null),Ue=R.useRef(null),[Ae,et]=R.useState({width:0,height:0});R.useEffect(()=>{if(t&&p){const ce=t.find(pe=>String(pe.id)===p);T(ce||null)}},[t,p]),R.useEffect(()=>{if(e&&y&&i&&Array.isArray(i)){const ce=i.find(pe=>pe&&pe.event===y.event&&pe.students&&Array.isArray(pe.students)&&pe.students.some(xe=>xe&&xe.id===e.id));ce&&Ce(ce.id)}},[e,y,i]),R.useEffect(()=>{(async()=>{if(p&&$){const pe=localStorage.getItem("loggedAppUser");if(pe){const xe=JSON.parse(pe);$t.setToken(xe.token),Nt.setToken(xe.token)}try{if((await Nt.checkSubmission(p,$)).submitted){a&&(a("This test has already been submitted."),setTimeout(()=>a(null),5e3)),m("/assigned");return}const Ve=await $t.getByTestAndTeam(p,$);Ve&&(M(Ve.answers||{}),ne(Ve.drawings||{}),N(Ve.timeLeft||3e3),w(!0))}catch{console.log("No existing answers found, starting fresh")}finally{ae(!1)}}else p&&ae(!1)})()},[p,$,m,a]),R.useEffect(()=>(b&&S>0&&!B?re.current=setTimeout(()=>{N(ce=>Math.max(0,ce-1))},1e3):b&&S===0&&!B&&qe(),()=>clearTimeout(re.current)),[b,S,B]),R.useLayoutEffect(()=>{function ce(){if(he.current){const pe=he.current.getBoundingClientRect();et({width:Math.floor(pe.width),height:Math.floor(pe.height)})}}return ce(),window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[V,C]),R.useEffect(()=>{Ue.current&&Ue.current.scrollIntoView({behavior:"smooth",block:"start"})},[b,C]),R.useEffect(()=>{const ce=async()=>{var pe;if(Y&&p&&$&&b&&!B){const xe=localStorage.getItem("loggedAppUser");if(xe){const Ve=JSON.parse(xe);$t.setToken(Ve.token)}try{const Ve=await $t.updateSpecific(p,$,Y);q(null),N(Ve.timeLeft)}catch(Ve){if(console.error("Failed to sync specific answer:",Ve),((pe=Ve.response)==null?void 0:pe.status)===404)try{await $t.create({testId:p,teamId:$,answers:A,drawings:K,timeLeft:3e3}),q(null)}catch(pt){console.error("Failed to create answer document:",pt)}}}};if(Y&&!B){const pe=setTimeout(ce,500);return()=>clearTimeout(pe)}},[Y,p,$,b,A,K,B]),R.useEffect(()=>{const ce=async()=>{if(p&&$&&b&&!B){if(Date.now()-k<1e3)return;const xe=localStorage.getItem("loggedAppUser");if(xe){const Ve=JSON.parse(xe);$t.setToken(Ve.token),Nt.setToken(Ve.token)}try{const Ve=await $t.getByTestAndTeam(p,$);if(Ve){try{if((await Nt.checkSubmission(p,$)).submitted&&!B){W(!0),w(!1),clearTimeout(re.current),o&&(o("Test has been submitted by another team member!"),setTimeout(()=>o(null),5e3));return}}catch(Zt){console.log("Could not check submission status:",Zt)}const pt=Ve.answers||{},no=Ve.drawings||{},Ls=Ve.answerTimestamps||{},Da=Ve.drawingTimestamps||{};M(Zt=>{const bn={...Zt};let Xt=!1;for(const[hn,tn]of Object.entries(pt)){const Ci=Zt[hn],is=Ls[hn]?new Date(Ls[hn]):new Date(0),nn=Date.now()-is.getTime();nn<2e3&&Ci!==tn?XL(Ci,tn,nn)&&(bn[hn]=tn,Xt=!0):Ci!==tn&&nn>=2e3&&(bn[hn]=tn,Xt=!0)}return Xt?bn:Zt}),ne(Zt=>{var hn,tn,Ci,is;const bn={...Zt};let Xt=!1;for(const[nn,Ft]of Object.entries(no)){const ni=Zt[nn],Bu=Da[nn]?new Date(Da[nn]):new Date(0),Os=Date.now()-Bu.getTime();if(Os<2e3&&JSON.stringify(ni)!==JSON.stringify(Ft)){if(WL(ni,Ft,Os)){bn[nn]=Ft,Xt=!0;const so=(tn=(hn=y==null?void 0:y.questions)==null?void 0:hn[C])==null?void 0:tn.id;V&&so===nn&&oe.current&&setTimeout(()=>{Ft&&Ft.length>0?oe.current.loadPaths(Ft):oe.current.clearCanvas()},100)}}else if(JSON.stringify(ni)!==JSON.stringify(Ft)&&Os>=2e3){bn[nn]=Ft,Xt=!0;const io=(is=(Ci=y==null?void 0:y.questions)==null?void 0:Ci[C])==null?void 0:is.id;V&&io===nn&&oe.current&&setTimeout(()=>{Ft&&Ft.length>0?oe.current.loadPaths(Ft):oe.current.clearCanvas()},100)}}return Xt?bn:Zt}),N(Ve.timeLeft)}}catch(Ve){console.error("Failed to sync from backend:",Ve)}}};if(b&&!B){const pe=setInterval(ce,2e3);return()=>clearInterval(pe)}},[p,$,b,V,C,y,k,B]);const it=ce=>{const pe=String(Math.floor(ce/60)).padStart(2,"0"),xe=String(ce%60).padStart(2,"0");return`${pe}:${xe}`},Rt=(ce,pe)=>{M(xe=>({...xe,[ce]:pe})),L(Date.now()),q({questionId:ce,answer:pe})},Dt=ce=>{D(pe=>pe.includes(ce)?pe.filter(xe=>xe!==ce):[...pe,ce])},me=async()=>{if(V&&oe.current){const ce=await oe.current.exportPaths(),pe=y.questions[C].id;ne(xe=>({...xe,[pe]:ce})),L(Date.now()),q({questionId:pe,drawing:ce})}},fe=async ce=>{await me(),H(!1),I(ce)},Re=async()=>{await me(),H(!1),I(ce=>ce+1)},ue=async()=>{await me(),H(!1),I(ce=>ce-1)},qe=async()=>{if(Ee)return;Ne(!0),await me();const ce=localStorage.getItem("loggedAppUser");if(ce){const pe=JSON.parse(ce);$t.setToken(pe.token),Nt.setToken(pe.token),cn.setToken(pe.token)}try{if(p&&$){await $t.update(p,$,{answers:A,drawings:K,timeLeft:S}),await Nt.create({testId:p,teamId:$,finalTimeLeft:S});const pe=t.find(xe=>String(xe.id)===p);if(pe){const xe=pe.assignees.filter(Ve=>Ve!==$);await cn.updateTest(p,{assignees:xe}),c&&c(Ve=>Ve.map(pt=>String(pt.id)===p?{...pt,assignees:xe}:pt))}w(!1),W(!0),clearTimeout(re.current),o&&(o("Test submitted successfully!"),setTimeout(()=>o(null),5e3)),console.log("Test submitted successfully!")}}catch(pe){console.error("Failed to submit test:",pe),a&&(a("Failed to submit test. Please try again."),setTimeout(()=>a(null),5e3))}finally{Ne(!1)}},Le=async()=>{var pe;w(!0),H(!1),z(!1);const ce=localStorage.getItem("loggedAppUser");if(ce){const xe=JSON.parse(ce);$t.setToken(xe.token),cn.setToken(xe.token)}if(p&&$)try{const xe=await $t.create({testId:p,teamId:$,answers:{},drawings:{},timeLeft:3e3});N(xe.timeLeft)}catch(xe){((pe=xe.response)==null?void 0:pe.status)!==409&&console.error("Failed to create initial answers:",xe)}},rt=async()=>{const ce=y.questions[C].id;if(V){if(oe.current){const pe=await oe.current.exportPaths();ne(xe=>({...xe,[ce]:pe})),L(Date.now()),q({questionId:ce,drawing:pe})}H(!1)}else H(!0),setTimeout(()=>{if(oe.current){const pe=K[ce];pe?oe.current.loadPaths(pe):oe.current.clearCanvas()}},100)},Oe=()=>{if(oe.current){oe.current.clearCanvas();const ce=y.questions[C].id;ne(pe=>{const xe={...pe};return delete xe[ce],xe}),L(Date.now()),q({questionId:ce,drawing:null})}},be=()=>{oe.current&&(oe.current.eraseMode(!ee),z(ce=>!ce))};if(!e||!y||Z)return v.jsx("div",{className:"flex justify-center items-center h-screen",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(B)return v.jsx("div",{className:"flex flex-col justify-center items-center p-20 bg-white space-y-10 rounded-lg",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),v.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-2",children:"Test Submitted Successfully!"}),v.jsx("p",{className:"text-gray-600",children:"Your answers have been saved and submitted for grading."}),v.jsx("div",{className:"pt-10",children:v.jsx(Ze,{to:"/review",className:"text-white bg-orange-500 font-semibold text-md py-3 px-4 rounded-lg hover:bg-orange-600",children:"Review Test"})})]})});if(!b)return v.jsxs("div",{className:"flex flex-col justify-center items-center p-20 bg-white space-y-10 rounded-lg",children:[v.jsxs("h1",{className:"text-3xl font-bold text-orange-800",children:[y.random?"Random Test":`${y.school} ${y.year}`,"  ",y.event," Practice Test"]}),$?v.jsx("button",{onClick:Le,className:"bg-orange-500 text-white px-6 py-2 rounded-lg shadow-lg text-lg hover:bg-orange-600 transition",children:"Start Test"}):v.jsx("p",{className:"text-red-600",children:"You are not assigned to a team for this event."})]});const Se=y.questions[C],He=Se.id;return v.jsx("div",{ref:Ue,className:"w-full min-h-screen bg-transparent py-5 px-4",children:v.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow-md py-6 px-8 space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("h2",{className:"text-2xl font-bold text-orange-800",children:[y.school," ",y.year,"  ",y.event]}),v.jsxs("div",{className:"text-orange-600 font-semibold text-lg",children:["Time Left: ",it(S)]})]}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsxs("div",{className:"w-64 h-[500px] overflow-y-auto pr-2 scrollbar-hide bg-gray-100 rounded-lg",children:[v.jsx("div",{className:"sticky top-0 bg-gray-100 z-10 pb-2 pt-3",children:v.jsx("h3",{className:"text-lg font-semibold text-orange-700 text-center",children:"Questions"})}),v.jsx(UT,{questions:y.questions,currentIdx:C,setCurrentIdx:fe,bookmarked:P,answers:A,drawings:K})]}),v.jsxs("div",{ref:he,className:"flex-1 relative max-h-[500px] overflow-auto pr-2 scrollbar-hide",children:[v.jsx(ZL,{idx:C,question:Se,answer:A[He],onChange:Rt,onBookmark:Dt,isBookmarked:P.includes(He),event:y.event}),V&&v.jsx("div",{className:"absolute top-0 left-0 bg-transparent z-30",style:{width:Ae.width,height:Ae.height},children:v.jsx(DT,{ref:oe,width:Ae.width,height:Ae.height,strokeWidth:"2",eraserWidth:"30",strokeColor:"#000",canvasColor:"transparent",className:"touch-none select-none",style:{border:"none",outline:"none"}})})]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex gap-2 items-center",children:[V&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:be,className:`px-3 py-1 rounded ${ee?"bg-gray-300":"bg-orange-600 text-white"}`,children:"Pencil"}),v.jsx("button",{onClick:be,className:`px-3 py-1 rounded ${ee?"bg-orange-600 text-white":"bg-gray-300"}`,children:"Eraser"}),v.jsx("button",{onClick:Oe,className:"px-3 py-1 rounded bg-red-500 text-white",children:"Clear"})]}),v.jsx("button",{onClick:rt,className:`rounded shadow text-white ${V?"px-3 py-1 bg-gray-500 hover:bg-gray-600":"px-4 py-2 bg-amber-600 hover:bg-amber-700"}`,children:V?"Hide Drawing":"Show Drawing"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{disabled:C===0,onClick:ue,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Previous"}),v.jsx("button",{disabled:C===y.questions.length-1,onClick:Re,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Next"}),v.jsx("button",{onClick:qe,disabled:Ee||B,className:`px-6 py-2 rounded shadow transition ${Ee||B?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"} text-white`,children:Ee?"Submitting...":B?"Submitted":"Submit Test"})]})]})]})})},tO=t=>{const[e,n]=R.useState("");if(!t.user)return;const i=async o=>{o.preventDefault(),await t.handleReset(e),n("")};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[v.jsx("div",{children:v.jsxs("p",{className:"text-xl font-semibold text-orange-800 mb-2",children:[t.user.firstName," ",t.user.lastName,"'s Settings"]})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-lg font-medium text-orange-700 mb-2",children:"Password Reset"}),v.jsxs("form",{onSubmit:i,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),v.jsx("input",{type:"password",value:e,onChange:({target:o})=>n(o.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})]}),v.jsx("button",{type:"button",onClick:t.handleLogout,className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700 transition",children:"Logout"})]})},Kf="/api/statistics";let IT=null;const nO=t=>{IT=`Bearer ${t}`},Th=()=>({headers:{Authorization:IT}}),iO=async(t=null)=>{const e=t?`${Kf}?schoolYear=${t}`:Kf;return(await we.get(e,Th())).data},sO=async t=>(await we.get(`${Kf}/${t}`,Th())).data,rO=async t=>(await we.get(`/api/submissions/user/${t}`,Th())).data,Mn={setToken:nO,getOverallStatistics:iO,getStudentStatistics:sO,getUserSubmissions:rO},oO=({user:t,users:e,teams:n})=>{const[i,o]=R.useState([]),[a,c]=R.useState([]),[h,p]=R.useState(!0);R.useEffect(()=>{(async()=>{if(t&&e&&n){const b=localStorage.getItem("loggedAppUser");if(b){const w=JSON.parse(b);Nt.setToken(w.token),Mn.setToken(w.token)}try{const w=e.find(C=>C.id===t.id),S=(w==null?void 0:w.teams)||[],N=S.map(C=>C.id),A=[];for(const C of S)try{const I=await Nt.getByTeam(C.id);A.push(...I)}catch{console.log(`No submissions found for team ${C.id}`)}console.log("Attempting to fetch user submissions for user:",t.id);const M=await Mn.getUserSubmissions(t.id);console.log("User submissions response:",M);const P=new Set(A.map(C=>C.id)),D=M.filter(C=>!P.has(C.id));o(A),c(D)}catch(w){console.error("Error fetching submissions:",w)}finally{p(!1)}}else p(!1)})()},[t,e,n]);const m=i.filter(T=>T.graded),y=i.filter(T=>!T.graded);return t?h?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsxs("div",{className:"max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md space-y-8",children:[v.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"Review Tests"}),i.length===0?v.jsx("p",{className:"text-center text-gray-500 italic",children:"You haven't submitted any tests yet."}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-green-700 mb-4 text-left border-b border-green-200 pb-2",children:["Graded Tests (",m.length,")"]}),m.length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No graded tests yet."}):v.jsx("ul",{className:"space-y-3",children:m.map(T=>{var b,w,S,N,A,M;return v.jsx("li",{className:"bg-green-50 border border-green-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-green-700 font-semibold",children:(b=T.test)!=null&&b.random?`Random Test - ${(w=T.test)==null?void 0:w.event}`:`${(S=T.test)==null?void 0:S.school} ${(N=T.test)==null?void 0:N.year} - ${(A=T.test)==null?void 0:A.event}`}),v.jsxs("p",{className:"text-xs text-green-600",children:["Team: ",(M=T.team)==null?void 0:M.name,"  Score: ",T.totalScore,"/",T.maxScore]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(T.submittedAt).toLocaleDateString()]})]}),v.jsx(Ze,{to:`/review/${T.id}`,className:"text-sm text-green-600 hover:underline font-medium",children:"View Results "})]})},T.id)})})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-orange-700 mb-4 text-left border-b border-orange-200 pb-2",children:["Pending Grading (",y.length,")"]}),y.length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No tests pending grading."}):v.jsx("ul",{className:"space-y-3",children:y.map(T=>{var b,w,S,N,A,M;return v.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:(b=T.test)!=null&&b.random?`Random Test - ${(w=T.test)==null?void 0:w.event}`:`${(S=T.test)==null?void 0:S.school} ${(N=T.test)==null?void 0:N.year} - ${(A=T.test)==null?void 0:A.event}`}),v.jsxs("p",{className:"text-xs text-orange-600",children:["Team: ",(M=T.team)==null?void 0:M.name]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(T.submittedAt).toLocaleDateString()]})]}),v.jsx(Ze,{to:`/review/${T.id}`,className:"text-sm text-orange-600 hover:underline font-medium",children:"View Submission "})]})},T.id)})})]}),a.length>0&&v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-blue-700 mb-4 text-left border-b border-blue-200 pb-2",children:["Historical Tests (",a.length,")"]}),v.jsx("p",{className:"text-sm text-gray-600 mb-4 italic",children:"Tests you took in previous teams or school years"}),v.jsx("ul",{className:"space-y-3",children:a.map(T=>{var b,w,S,N,A,M;return v.jsx("li",{className:"bg-blue-50 border border-blue-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-blue-700 font-semibold",children:(b=T.test)!=null&&b.random?`Random Test - ${(w=T.test)==null?void 0:w.event}`:`${(S=T.test)==null?void 0:S.school} ${(N=T.test)==null?void 0:N.year} - ${(A=T.test)==null?void 0:A.event}`}),v.jsxs("p",{className:"text-xs text-blue-600",children:["Team: ",(M=T.team)==null?void 0:M.name,"  School Year: ",T.schoolYear,T.graded&&v.jsxs("span",{children:["  Score: ",T.totalScore,"/",T.maxScore]})]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(T.submittedAt).toLocaleDateString()]})]}),v.jsx(Ze,{to:`/review/${T.id}`,className:"text-sm text-blue-600 hover:underline font-medium",children:"View Submission "})]})},T.id)})})]})]})]}):null},aO=({user:t})=>t?t.admin?v.jsx(lO,{user:t}):v.jsxs("div",{className:"max-w-4xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-2xl font-medium text-red-800 mb-4 text-center",children:"Access Denied"}),v.jsx("p",{className:"text-center text-gray-600",children:"You don't have permission to view this page."})]}):v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}),lO=({user:t})=>{const[e,n]=R.useState([]),[i,o]=R.useState([]),[a,c]=R.useState(!0),[h,p]=R.useState("all"),[m,y]=R.useState("all"),[T,b]=R.useState([]),[w,S]=R.useState("");R.useEffect(()=>{(async()=>{const I=localStorage.getItem("loggedAppUser");if(I){const V=JSON.parse(I);Nt.setToken(V.token),cn.setToken(V.token)}try{const[V,H]=await Promise.all([Nt.getAll(),cn.getAll()]);n(V),o(H);const ee=[...new Set(V.map(z=>z.schoolYear).filter(Boolean))].sort((z,K)=>{const ne=parseInt(z.split("-")[0]);return parseInt(K.split("-")[0])-ne});b(ee)}catch(V){console.error("Error fetching data:",V)}finally{c(!1)}})()},[]);const N=()=>e.filter(C=>{var I,V,H,ee,z,K;if(h==="graded"&&!C.graded||h==="ungraded"&&C.graded||m!=="all"&&C.schoolYear!==m)return!1;if(w.trim()){const ne=w.toLowerCase(),$=`${((I=C.test)==null?void 0:I.school)||""} ${((V=C.test)==null?void 0:V.year)||""} ${((H=C.test)==null?void 0:H.event)||""}`.toLowerCase(),Ce=((z=(ee=C.team)==null?void 0:ee.name)==null?void 0:z.toLowerCase())||"";let Ee="",Ne=(K=C.team)==null?void 0:K.students;if((!Ne||Array.isArray(Ne)&&Ne.length===0)&&(Ne=C.users),Ne&&Array.isArray(Ne)&&(Ee=Ne.filter(Z=>Z&&typeof Z=="object"&&Z.firstName&&Z.lastName).map(Z=>`${Z.firstName} ${Z.lastName}`.trim()).join(" ").toLowerCase()),!$.includes(ne)&&!Ce.includes(ne)&&!Ee.includes(ne))return!1}return!0}),A=C=>{if(!C)return"Date not available";const I=new Date(C);return isNaN(I.getTime())?"Invalid date":I.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},M=()=>i.filter(C=>C.assignees&&C.assignees.length>0),P=()=>{const C=N(),I=C.filter(H=>H.graded).length,V=C.filter(H=>!H.graded).length;return{total:C.length,graded:I,ungraded:V}};if(a)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});const D=N();return P(),v.jsxs("div",{className:"max-w-4xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md space-y-8",children:[v.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"All Test Submissions"}),v.jsx("div",{className:"bg-orange-50 p-4 rounded-lg space-y-4",children:v.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"Status:"}),v.jsxs("select",{value:h,onChange:C=>p(C.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"all",children:"All Tests"}),v.jsx("option",{value:"graded",children:"Graded Only"}),v.jsx("option",{value:"ungraded",children:"Ungraded Only"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"School Year:"}),v.jsxs("select",{value:m,onChange:C=>y(C.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:ring-orange-400 focus:ring-2",children:[v.jsx("option",{value:"all",children:"All Years"}),T.map(C=>v.jsx("option",{value:C,children:C},C))]})]}),v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[v.jsx("label",{className:"text-sm font-medium text-orange-700",children:"Search:"}),v.jsx("input",{type:"text",value:w,onChange:C=>S(C.target.value),placeholder:"Test, event, team, or student name...",className:"flex-1 px-3 py-1 border border-gray-300 rounded-md text-sm focus:ring-orange-400 focus:ring-2"})]})]})}),e.length===0?v.jsx("p",{className:"text-center text-gray-500 italic",children:"No test submissions found."}):D.length===0?v.jsx("p",{className:"text-center text-gray-500 italic",children:"No submissions match your filters. Try adjusting your search criteria."}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-green-700 mb-4 text-left border-b border-green-200 pb-2",children:["Graded Tests (",D.filter(C=>C.graded).length,")"]}),D.filter(C=>C.graded).length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No graded tests match your filters."}):v.jsx("ul",{className:"space-y-3",children:D.filter(C=>C.graded).map(C=>{var I,V,H,ee,z,K;return v.jsx("li",{className:"bg-green-50 border border-green-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-green-700 font-semibold",children:(I=C.test)!=null&&I.random?`Random Test - ${(V=C.test)==null?void 0:V.event}`:`${(H=C.test)==null?void 0:H.school} ${(ee=C.test)==null?void 0:ee.year} - ${(z=C.test)==null?void 0:z.event}`}),v.jsxs("p",{className:"text-xs text-green-600",children:["Team: ",(K=C.team)==null?void 0:K.name,"  Score: ",C.totalScore,"/",C.maxScore," (",(C.totalScore/C.maxScore*100).toFixed(1),"%)"]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Students: ",(()=>{var Ce;let ne=null;if((Ce=C.team)!=null&&Ce.students?ne=C.team.students:C.users&&(ne=C.users),!ne||!Array.isArray(ne)||ne.length===0)return"No students found";const $=ne.filter(Ee=>Ee&&typeof Ee=="object"&&Ee.firstName&&Ee.lastName).map(Ee=>`${Ee.firstName} ${Ee.lastName}`.trim());return $.length>0?$.join(", "):"No students with names found"})()]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",A(C.submittedAt||C.createdAt)]})]}),v.jsx(Ze,{to:`/review/${C.id}`,state:{from:"/review/all"},className:"text-sm text-green-600 hover:underline font-medium",children:"View Results "})]})},C.id)})})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-orange-700 mb-4 text-left border-b border-orange-200 pb-2",children:["Ungraded Tests (",D.filter(C=>!C.graded).length,")"]}),D.filter(C=>!C.graded).length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No ungraded tests match your filters."}):v.jsx("ul",{className:"space-y-3",children:D.filter(C=>!C.graded).map(C=>{var I,V,H,ee,z,K;return v.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:(I=C.test)!=null&&I.random?`Random Test - ${(V=C.test)==null?void 0:V.event}`:`${(H=C.test)==null?void 0:H.school} ${(ee=C.test)==null?void 0:ee.year} - ${(z=C.test)==null?void 0:z.event}`}),v.jsxs("p",{className:"text-xs text-orange-600",children:["Team: ",(K=C.team)==null?void 0:K.name]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Students: ",(()=>{var Ce;let ne=null;if((Ce=C.team)!=null&&Ce.students?ne=C.team.students:C.users&&(ne=C.users),!ne||!Array.isArray(ne)||ne.length===0)return"No students found";const $=ne.filter(Ee=>Ee&&typeof Ee=="object"&&Ee.firstName&&Ee.lastName).map(Ee=>`${Ee.firstName} ${Ee.lastName}`.trim());return $.length>0?$.join(", "):"No students with names found"})()]}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",A(C.submittedAt||C.createdAt)]})]}),v.jsx(Ze,{to:`/review/${C.id}`,state:{from:"/review/all"},className:"text-sm text-orange-600 hover:underline font-medium",children:"Grade Test "})]})},C.id)})})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-medium text-red-700 mb-4 text-left border-b border-red-200 pb-2",children:["Assigned Tests (",M().length,")"]}),M().length===0?v.jsx("p",{className:"text-gray-500 italic pl-4",children:"No tests have been assigned to teams."}):v.jsx("ul",{className:"space-y-3",children:M().map(C=>v.jsx("li",{className:"bg-red-50 border border-red-200 rounded-md px-4 py-3 shadow-sm",children:v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-red-700 font-semibold",children:C.random?`Random Test - ${C.event}`:`${C.school} ${C.year} - ${C.event}`}),v.jsxs("p",{className:"text-xs text-red-600",children:["Assigned to ",C.assignees.length," team(s): ",C.assignees&&C.assignees.length>0?C.assignees.map(I=>I.name||I).join(", "):"No teams"]})]})},C.id))})]})]})]})},uO=()=>{const t=Un(),[e,n]=R.useState(!0),[i,o]=R.useState(null),[a,c]=R.useState([]),[h,p]=R.useState(""),[m,y]=R.useState([]);R.useEffect(()=>{(async()=>{try{n(!0);const N=localStorage.getItem("loggedAppUser");if(N){const P=JSON.parse(N);Mn.setToken(P.token),Yt.setToken(P.token)}const[A,M]=await Promise.all([Mn.getOverallStatistics(),Yt.getAll()]);o(A),c(M),p(A.selectedSchoolYear||""),A.selectedSchoolYear&&T(M,A.selectedSchoolYear)}catch(N){console.error("Error loading statistics:",N)}finally{n(!1)}})()},[]);const T=(S,N)=>{const A=new Set,M=new Map;S.filter(P=>P.schoolYear===N).forEach(P=>{var D;(D=P.students)==null||D.forEach(C=>{A.has(C.id)||(A.add(C.id),M.set(C.id,{id:C.id,firstName:C.firstName,lastName:C.lastName,teams:[]})),M.get(C.id).teams.push(P.name)})}),y(Array.from(M.values()))},b=async S=>{try{n(!0);const N=localStorage.getItem("loggedAppUser");if(N){const M=JSON.parse(N);Mn.setToken(M.token)}const A=await Mn.getOverallStatistics(S);o(A),p(S),T(a,S)}catch(N){console.error(N.message)}finally{n(!1)}},w=S=>{t(`/statistics/${S}`,{state:{from:"/statistics"}})};return e?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):v.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[v.jsxs("div",{className:"flex items-center bg-white rounded-lg p-6 justify-between mb-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-orange-800",children:"Statistics Overview"}),i&&i.availableSchoolYears.length>0&&v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("label",{htmlFor:"schoolYear",className:"text-sm font-medium text-orange-800",children:"School Year:"}),v.jsx("select",{id:"schoolYear",value:h,onChange:S=>b(S.target.value),className:"rounded-md border border-gray-300 px-3 py-2 bg-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:i.availableSchoolYears.map(S=>v.jsx("option",{value:S,children:S},S))})]})]}),i&&i.eventStatistics.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 pb-6",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsxs("h2",{className:"text-xl font-semibold text-orange-700",children:["Performance by Event - ",h]})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-orange-200",children:[v.jsx("thead",{className:"bg-orange-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Event"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Average Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Highest Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Lowest Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-orange-500 uppercase tracking-wider",children:"Submissions"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-orange-200",children:i.eventStatistics.map((S,N)=>v.jsxs("tr",{children:[v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-orange-900",children:S.event})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[S.averagePercentage,"%"]})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[S.highestScore,"%"]})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[S.lowestScore,"%"]})}),v.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-900",children:S.totalSubmissions})})]},S.event))})]})})]}),m.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsxs("h2",{className:"text-xl font-semibold text-orange-700",children:["Students in ",h]})}),v.jsx("div",{className:"p-6",children:v.jsx("div",{className:"flex flex-wrap gap-4",children:m.map(S=>v.jsx("button",{onClick:()=>w(S.id),className:"text-left p-4 border border-orange-200 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-colors",children:v.jsxs("div",{className:"text-sm text-orange-700",children:[S.firstName," ",S.lastName]})},S.id))})})]}),i&&i.eventStatistics.length===0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[v.jsxs("p",{className:"text-orange-500",children:["No statistics available for ",h||"the selected school year","."]}),v.jsx("p",{className:"text-sm text-gray-900 mt-2",children:"Statistics are only shown for graded submissions."})]})]})},cO=({user:t})=>{const{id:e}=X0(),n=Un(),i=Fn(),[o,a]=R.useState(!0),[c,h]=R.useState(null),[p,m]=R.useState(!1);return R.useEffect(()=>{var b;const T=((b=i.state)==null?void 0:b.from)==="/statistics";m(T)},[i]),R.useEffect(()=>{(async()=>{try{a(!0);const T=localStorage.getItem("loggedAppUser");if(T){const w=JSON.parse(T);Mn.setToken(w.token)}let b=e;if(b){const w=await Mn.getStudentStatistics(b);h(w)}else setError("User not found")}catch(T){console.log(T.message)}finally{a(!1)}})()},[e]),o?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):c?v.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 w-full mb-6 flex flex-row items-center justify-between",children:[v.jsx("div",{children:v.jsx("h1",{className:"text-2xl font-semibold text-orange-800",children:`Statistics for ${c.student.firstName} ${c.student.lastName}`})}),t!=null&&t.admin&&p?v.jsx("div",{children:v.jsx("button",{onClick:()=>n("/statistics"),className:"px-4 py-2 text-md text-orange-500 font-bold rounded-lg hover:text-orange-600 hover:underline transition-colors",children:"All Statistics "})}):v.jsx("div",{children:v.jsx("button",{onClick:()=>n("/review"),className:"px-4 py-2 text-md text-orange-500 font-bold rounded-lg hover:text-orange-600 hover:underline transition-colors",children:"Review Tests "})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Total Tests"}),v.jsx("p",{className:"text-3xl font-bold text-orange-500",children:c.totalTests})]}),c.bestPerformingEvent?v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Best Event"}),v.jsx("p",{className:"text-xl font-bold text-orange-500",children:c.bestPerformingEvent.event}),v.jsxs("p",{className:"text-sm font-semibold text-orange-700",children:[c.bestPerformingEvent.averagePercentage,"% average"]})]}):v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Best Event"}),v.jsx("p",{className:"text-xl font-bold text-orange-500",children:"No data available"})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-2",children:"Events Participated"}),v.jsx("p",{className:"text-3xl font-bold text-orange-500",children:c.eventStatistics.length})]})]}),c.eventStatistics.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 pb-6",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsx("h2",{className:"text-xl font-semibold text-orange-700",children:"Performance by Event"})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-orange-200",children:[v.jsx("thead",{className:"bg-orange-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Event"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Average Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Most Recent"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Highest Score"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-500 uppercase tracking-wider",children:"Total Tests"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-orange-200",children:c.eventStatistics.map(y=>v.jsxs("tr",{children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-red-900",children:y.event})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[y.averagePercentage,"%"]})}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[v.jsxs("div",{className:"text-sm text-gray-900",children:[y.mostRecentScore,"%"]}),v.jsx("div",{className:"text-xs text-gray-500",children:y.mostRecentTest.teamName})]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"text-sm text-gray-900",children:[y.highestScore,"%"]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-900",children:y.totalTests})})]},y.event))})]})})]}),c.schoolYearStatistics.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[v.jsx("div",{className:"px-6 py-4 border-b border-orange-200",children:v.jsx("h2",{className:"text-xl font-semibold text-orange-700",children:"Performance by School Year"})}),v.jsx("div",{className:"p-6",children:c.schoolYearStatistics.map(y=>v.jsxs("div",{className:"mb-6 last:mb-0",children:[v.jsxs("h3",{className:"text-lg font-semibold text-orange-900 mb-3",children:[y.schoolYear," (",y.totalTests," tests)"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.events.map(T=>v.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[v.jsx("h4",{className:"font-medium text-orange-500",children:T.event}),v.jsxs("p",{className:"font-semibold text-sm text-orange-700",children:[T.averagePercentage,"% average"]}),v.jsxs("p",{className:"font-semibold text-xs text-orange-800",children:[T.tests," tests"]})]},T.event))})]},y.schoolYear))})]}),c.eventStatistics.length===0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[v.jsx("p",{className:"font-bold text-orange-500",children:"No test submissions found."}),v.jsx("p",{className:"font-semibold text-sm text-gray-400 mt-2",children:"Statistics will appear once you submit and get graded tests."})]}),(t==null?void 0:t.admin)&&v.jsx("div",{className:"fixed bottom-6 right-6",children:v.jsx("button",{onClick:()=>{n(p?"/statistics":"/review")},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg shadow-lg transition-colors",children:p?"Back to All Statistics":"Back to Reviews"})})]}):v.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:v.jsx("div",{className:"text-yellow-800",children:"No statistics found for this user."})})},dO=({idx:t,question:e,userAnswer:n,isCorrect:i,isGraded:o,onSelfGrade:a,selfGradedScore:c,selfGradedComment:h,showCanvas:p=!1,actualQuestionNumber:m,drawings:y={},event:T})=>{const b=e.type==="mcq"&&e.answer&&e.answer.includes(", "),w=e.type==="saq",S=e.type==="leq",N=D=>{if((e.question[0]||"").toLowerCase().includes("baconian")){const V=D.replace(/\s+/g,""),H=[];for(let ee=0;ee<V.length;ee+=5)H.push(V.slice(ee,ee+5));return H.map((ee,z)=>v.jsx("span",{className:"inline-block mr-4",children:ee},z))}else return D.split(/\s+/).map((V,H)=>v.jsx("span",{className:"inline-block mr-4",children:V.split("").map((ee,z)=>v.jsx("span",{className:"inline-block mr-2",children:ee},z))},H))},A=e.answer&&e.choices?b?e.answer.split(", ").map(D=>{var V;const C=D.trim(),I=C.charCodeAt(0)-65;return((V=e.choices[I])==null?void 0:V.trim())||C}):(()=>{var V;const D=e.answer.trim(),C=D.charCodeAt(0)-65,I=(V=e.choices[C])==null?void 0:V.trim();return I?[I]:[D]})():[],M=Array.isArray(n)?n.map(D=>D.toString().trim()):n?[n.toString().trim()]:[],P=D=>{const C=D.trim(),I=M.some(H=>H.trim()===C),V=A.some(H=>H.trim()===C);return V&&I?"bg-green-200 border-green-400":V?"bg-green-100 border-green-300":I?"bg-red-200 border-red-400":"bg-gray-100 border-gray-300"};return v.jsxs("div",{className:"relative padding-5",children:[v.jsxs("div",{className:"sticky top-0 bg-white z-40 flex justify-between items-center mb-2 pb-2 border-b border-orange-200",children:[v.jsxs("h4",{className:"text-lg font-semibold text-orange-700",children:["Question ",m||t+1," (",e.points," pts)"]}),e.type==="mcq"&&v.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${i?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i?" Correct":" Incorrect"})]}),v.jsxs("div",{className:"pt-2",children:[v.jsx("div",{className:"mb-3 text-orange-900",children:e.question.map((D,C)=>v.jsx("p",{className:C>0?"mt-8":"",style:C>0&&(e.event==="Codebusters"||T==="Codebusters")?{lineHeight:"3",letterSpacing:"0.1em",backgroundColor:"#fef3c7",padding:"8px",borderRadius:"4px"}:{},children:C>0&&(e.event==="Codebusters"||T==="Codebusters")?N(D):D},C))}),e.imageUrl&&v.jsx("img",{src:e.imageUrl,alt:"Question Visual",className:"mb-3 border rounded max-w-md"}),e.type==="mcq"&&e.choices?v.jsx("div",{className:"space-y-2 mb-3",children:e.choices.map((D,C)=>{const I=D.trim(),V=M.some(ee=>ee.trim()===I),H=A.some(ee=>ee.trim()===I);return v.jsx("div",{className:`border rounded px-4 py-2 ${P(D)}`,children:v.jsxs("div",{className:"flex justify-between items-start gap-3",children:[v.jsxs("span",{className:"font-medium flex-1",children:[String.fromCharCode(65+C),". ",D]}),v.jsxs("div",{className:"flex flex-col gap-1 items-end flex-shrink-0 min-w-0",children:[V&&v.jsx("span",{className:"text-xs font-medium text-blue-700 whitespace-nowrap",children:"Your answer"}),H&&v.jsx("span",{className:"text-xs font-medium text-green-700 whitespace-nowrap",children:"Correct answer"})]})]})},C)})}):w||S?v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Answer:"}),v.jsx("div",{className:"w-full border border-gray-300 rounded p-2 bg-gray-50 min-h-[2.5rem]",children:n||v.jsx("em",{className:"text-gray-500",children:"No answer provided"})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sample Answer:"}),v.jsx("div",{className:"w-full border border-green-300 rounded p-2 bg-green-50 min-h-[2.5rem]",children:e.answer})]}),!o&&v.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[v.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Self-Grade This Question"}),(!n||n.trim()==="")&&(!y[e.id]||y[e.id].length===0)&&c==="0"&&v.jsxs("div",{className:"mb-3 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"Auto-scored:"})," This question was automatically scored as 0 (no answer or drawing provided)."]}),(!n||n.trim()==="")&&(!y[e.id]||y[e.id].length===0)&&(!c||c==="")&&v.jsxs("div",{className:"mb-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-800",children:[v.jsx("span",{className:"font-medium",children:"Note:"})," This question has no answer or drawing and will be auto-scored as 0 when you finish grading."]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:["Your Score (out of ",e.points," points):"]}),v.jsx("input",{type:"number",min:"0",max:e.points,className:"w-20 border border-blue-300 rounded px-2 py-1",value:c||"",onChange:D=>a(e.id,"score",D.target.value),placeholder:!n||n.trim()===""?"0":""})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Comments (optional):"}),v.jsx("textarea",{rows:2,className:"w-full border border-blue-300 rounded px-2 py-1",placeholder:"Add comments about your answer...",value:h||"",onChange:D=>a(e.id,"comment",D.target.value)})]})]})]}),o&&(c!==void 0||h)&&v.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded p-3",children:[v.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Your Self-Assessment"}),v.jsxs("div",{className:"space-y-1",children:[c!==void 0&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Score:"})," ",c,"/",e.points," points"]}),h&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Comments:"})," ",h]})]})]})]}):null]})]})},fO=({user:t})=>{const{id:e}=X0(),n=Un(),i=Fn(),[o,a]=R.useState(null),[c,h]=R.useState(null),[p,m]=R.useState({}),[y,T]=R.useState({}),[b,w]=R.useState(0),[S,N]=R.useState(!0),[A,M]=R.useState(!1),[P,D]=R.useState("all"),[C,I]=R.useState({}),[V,H]=R.useState({}),[ee,z]=R.useState(!1),[K,ne]=R.useState(""),$=R.useRef(null),Ce=R.useRef(null),Ee=R.useRef(null),[Ne,Z]=R.useState({width:0,height:0}),[ae,Y]=R.useState(!1);R.useEffect(()=>{var Re;const fe=((Re=i.state)==null?void 0:Re.from)==="/review/all";Y(fe)},[i]),R.useEffect(()=>{(async()=>{var fe,Re,ue;if(e){const qe=localStorage.getItem("loggedAppUser");if(qe){const Le=JSON.parse(qe);Nt.setToken(Le.token)}try{const Le=await Nt.getById(e);a(Le),h(Le.test),m(((fe=Le.answer)==null?void 0:fe.answers)||{}),T(((Re=Le.answer)==null?void 0:Re.drawings)||{});const rt=Le.selfGradedScores||{},Oe={},be={};if(Object.entries(rt).forEach(([Se,He])=>{He.score!==void 0&&(Oe[Se]=He.score),He.comment&&(be[Se]=He.comment)}),I(Oe),H(be),(ue=Le.test)!=null&&ue.questions){const Se={...Oe};let He=!1;Le.test.questions.forEach(Je=>{var ce,pe,xe,Ve;if(Je.type==="saq"||Je.type==="leq"){const pt=((pe=(ce=Le.answer)==null?void 0:ce.answers)==null?void 0:pe[Je.id])&&Le.answer.answers[Je.id].trim()!=="",no=((Ve=(xe=Le.answer)==null?void 0:xe.drawings)==null?void 0:Ve[Je.id])&&Le.answer.drawings[Je.id].length>0,Ls=Se[Je.id]!==void 0&&Se[Je.id]!=="";!pt&&!no&&!Ls&&(Se[Je.id]="0",He=!0)}}),He&&I(Se)}}catch(Le){console.error("Error fetching submission:",Le),n("/review")}finally{N(!1)}}})()},[e,n]),R.useLayoutEffect(()=>{function me(){if($.current){const fe=$.current.getBoundingClientRect();Z({width:Math.floor(fe.width),height:Math.floor(fe.height)})}}return me(),window.addEventListener("resize",me),()=>window.removeEventListener("resize",me)},[A,b]);const q=()=>{if(o!=null&&o.graded&&(o==null?void 0:o.totalScore)!==void 0&&(o==null?void 0:o.maxScore)!==void 0){let ue=0,qe=0;c!=null&&c.questions&&c.questions.forEach(Oe=>{if(Oe.type==="saq"||Oe.type==="leq"){qe+=Oe.points||1;const be=C[Oe.id];be!==void 0&&be!==""&&(ue+=parseFloat(be)||0)}});const Le=Math.max(0,o.totalScore-ue),rt=Math.max(0,o.maxScore-qe);return{score:Le,total:rt}}if(!(c!=null&&c.questions))return{score:0,total:0};const me=c.questions.filter(ue=>ue.type==="mcq");let fe=0,Re=0;return me.forEach(ue=>{Re+=ue.points||1;const qe=p[ue.id],Le=ue.answer;if(!Le||!ue.choices)return;const rt=Le.includes(", "),Oe=rt?Le.split(", ").map(Se=>{var ce;const He=Se.trim(),Je=He.charCodeAt(0)-65;return((ce=ue.choices[Je])==null?void 0:ce.trim())||He}):(()=>{var ce;const Se=Le.trim(),He=Se.charCodeAt(0)-65,Je=(ce=ue.choices[He])==null?void 0:ce.trim();return Je?[Je]:[Se]})(),be=Array.isArray(qe)?qe.map(Se=>Se.toString().trim()).sort():qe?[qe.toString().trim()]:[];rt?JSON.stringify(Oe.sort())===JSON.stringify(be)&&(fe+=ue.points||1):be.length===1&&be[0]===Oe[0]&&(fe+=ue.points||1)}),{score:fe,total:Re}},k=()=>{if(!(c!=null&&c.questions))return{score:0,total:0};const me=q();let fe=0,Re=0;return c.questions.forEach(ue=>{if(ue.type==="saq"||ue.type==="leq"){Re+=ue.points||1;const qe=C[ue.id];qe!==void 0&&(fe+=parseFloat(qe)||0)}}),{score:me.score+fe,total:me.total+Re,mcqScore:me.score,mcqTotal:me.total,saqLeqScore:fe,saqLeqTotal:Re}},L=(me=P)=>c!=null&&c.questions?c.questions.filter(fe=>{if(me==="all")return!0;if(me==="saq")return fe.type==="saq";if(me==="leq")return fe.type==="leq";if(me==="unanswered"){if(fe.type==="mcq"){const Re=p[fe.id];return!Re||Array.isArray(Re)&&Re.length===0}else if(fe.type==="saq"||fe.type==="leq"){const Re=p[fe.id]&&p[fe.id].trim()!=="",ue=y[fe.id]&&y[fe.id].length>0;return!Re&&!ue}return!1}if(me==="correct"||me==="incorrect"){if(fe.type!=="mcq")return!1;const Re=W(fe);return me==="correct"?Re:!Re}return!0}):[],B=()=>["all","correct","incorrect","unanswered","saq","leq"].filter(fe=>L(fe).length>0),W=me=>{const fe=p[me.id],Re=me.answer;if(!Re||!me.choices)return!1;const ue=Re.includes(", "),qe=ue?Re.split(", ").map(rt=>{var Se;const Oe=rt.trim(),be=Oe.charCodeAt(0)-65;return((Se=me.choices[be])==null?void 0:Se.trim())||Oe}):(()=>{var Se;const rt=Re.trim(),Oe=rt.charCodeAt(0)-65,be=(Se=me.choices[Oe])==null?void 0:Se.trim();return be?[be]:[rt]})(),Le=Array.isArray(fe)?fe.map(rt=>rt.toString().trim()).sort():fe?[fe.toString().trim()]:[];return ue?JSON.stringify(qe.sort())===JSON.stringify(Le):Le.length===1&&Le[0]===qe[0]},re=(me,fe,Re)=>{K&&ne(""),fe==="score"?I(ue=>({...ue,[me]:Re})):fe==="comment"&&H(ue=>({...ue,[me]:Re}))},he=async()=>{ne("");const me=c.questions.filter(ue=>ue.type==="saq"||ue.type==="leq"),fe={...C};me.forEach(ue=>{const qe=p[ue.id]&&p[ue.id].trim()!=="",Le=y[ue.id]&&y[ue.id].length>0,rt=fe[ue.id]!==void 0&&fe[ue.id]!=="";!qe&&!Le&&!rt&&(fe[ue.id]="0")}),I(fe);const Re=me.filter(ue=>{const qe=p[ue.id]&&p[ue.id].trim()!=="",Le=y[ue.id]&&y[ue.id].length>0,rt=fe[ue.id]!==void 0&&fe[ue.id]!=="";return(qe||Le)&&!rt});if(Re.length>0){ne(`Please provide scores for all answered SAQ/LEQ questions. Missing scores for ${Re.length} question(s).`);return}z(!0);try{const ue={},qe=fe;let Le=0,rt=0;c.questions.forEach(Je=>{if(Je.type==="saq"||Je.type==="leq"){rt+=Je.points||1;const ce=qe[Je.id];ce!==void 0&&ce!==""&&(Le+=parseFloat(ce)||0,ue[Je.id]={score:parseFloat(ce)||0,comment:V[Je.id]||""})}});const Oe=q(),be=Oe.score+Le,Se=Oe.total+rt;await Nt.update(e,{selfGradedScores:ue,totalScore:be,maxScore:Se,graded:!0});const He=await Nt.getById(e);a(He)}catch(ue){console.error("Error submitting grades:",ue),ne("Failed to submit grades. Please try again.")}finally{z(!1)}},oe=me=>{M(!1),w(me),$.current&&$.current.scrollTo({top:0,behavior:"smooth"}),Ce.current&&Ce.current.scrollIntoView({behavior:"smooth",block:"center"})};R.useEffect(()=>{M(!1)},[P]),R.useEffect(()=>{!S&&o&&c&&Ce.current&&setTimeout(()=>{Ce.current.scrollIntoView({behavior:"smooth",block:"center"})},300)},[S,o,c]);const Ue=()=>{var fe;const me=(fe=Ae[b])==null?void 0:fe.id;A?M(!1):(M(!0),setTimeout(()=>{if(Ee.current&&me){const Re=y[me];Re&&Re.length>0?Ee.current.loadPaths(Re):Ee.current.clearCanvas()}},100))};if(S)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(!o||!c)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Submission not found"}),v.jsx("button",{onClick:()=>n("/review"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Back to Reviews"})]})});if(!c.questions||c.questions.length===0)return v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"No questions found for this test"}),v.jsx("p",{className:"text-gray-600 mt-2",children:"The test data may be incomplete."}),v.jsx("button",{onClick:()=>n("/review"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Back to Reviews"})]})});const Ae=L(),et=B(),it=Ae[b],Rt=k(),Dt=q();return it?v.jsx("div",{ref:Ce,className:"w-full min-h-screen bg-transparent py-4 px-4",children:v.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow-md py-4 px-6 space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("h2",{className:"text-2xl font-bold text-orange-800",children:[c.random?"Random Test":`${c.school} ${c.year}`,"  ",c.event," Review"]}),v.jsx("div",{className:"text-right",children:o.graded?v.jsxs("div",{className:"text-orange-600 font-semibold",children:[v.jsxs("div",{children:["Total Score: ",Rt.score,"/",Rt.total," (",(Rt.score/Rt.total*100).toFixed(1),"%)"]}),v.jsxs("div",{className:"text-sm",children:["MCQ: ",Dt.score,"/",Dt.total,"  FRQ: ",Rt.saqLeqScore,"/",Rt.saqLeqTotal]})]}):v.jsxs("div",{className:"text-orange-600 font-semibold",children:[v.jsxs("div",{children:["MCQ Score: ",Dt.score,"/",Dt.total]}),v.jsx("div",{className:"text-sm text-orange-500",children:"Complete self-grading to see total score"})]})})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),et.map(me=>v.jsx("button",{onClick:()=>{D(me),w(0),M(!1)},className:`px-3 py-1 rounded text-sm ${P===me?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:me==="saq"?"Short Answer":me==="leq"?"Long Answer":me==="mcq"?"Multiple Choice":me.charAt(0).toUpperCase()+me.slice(1)},me))]}),K&&v.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:v.jsx("div",{className:"flex items-center",children:v.jsxs("div",{className:"text-red-800",children:[v.jsx("p",{className:"font-medium",children:"Error"}),v.jsx("p",{className:"text-sm",children:K})]})})}),!o.graded&&v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-blue-800",children:"Self-Grading Required"}),v.jsx("p",{className:"text-sm text-blue-600",children:"Grade your free response questions to complete your review."})]}),v.jsx("button",{onClick:he,disabled:ee,className:`px-4 py-2 rounded font-medium ${ee?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:ee?"Submitting...":"Finish Grading"})]})}),v.jsxs("div",{className:`flex space-x-4 ${o.graded?"h-[500px]":"h-[400px]"}`,children:[v.jsxs("div",{className:"w-64 h-full overflow-y-auto pr-2 scrollbar-hide bg-gray-100 rounded-lg",children:[v.jsx("div",{className:"sticky top-0 bg-gray-100 z-10 pb-2 pt-3",children:v.jsx("h3",{className:"text-lg font-semibold text-orange-700 text-center",children:"Questions"})}),v.jsx(UT,{questions:Ae,currentIdx:b,setCurrentIdx:oe,bookmarked:[],answers:p,drawings:y})]}),v.jsxs("div",{ref:$,className:"flex-1 relative h-full overflow-auto pr-2 scrollbar-hide",children:[v.jsx(dO,{idx:c.questions.findIndex(me=>me.id===it.id),question:it,userAnswer:p[it.id],isCorrect:it.type==="mcq"?W(it):null,isGraded:o.graded,onSelfGrade:re,selfGradedScore:C[it.id],selfGradedComment:V[it.id],showCanvas:A,actualQuestionNumber:c.questions.findIndex(me=>me.id===it.id)+1,drawings:y,event:c.event}),A&&v.jsx("div",{className:"absolute top-0 left-0 bg-transparent z-20 pointer-events-none",style:{width:Ne.width,height:Ne.height},children:v.jsx(DT,{ref:Ee,width:Ne.width,height:Ne.height,strokeWidth:"2",strokeColor:"#000",canvasColor:"transparent",className:"touch-none select-none",style:{border:"none",outline:"none"},readOnly:!0})})]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("div",{className:"flex gap-2 items-center min-w-[120px]",children:Ae[b]&&y[Ae[b].id]&&y[Ae[b].id].length>0&&v.jsx("button",{onClick:Ue,className:`rounded shadow text-white ${A?"px-3 py-1 bg-gray-500 hover:bg-gray-600":"px-4 py-2 bg-amber-600 hover:bg-amber-700"}`,children:A?"Hide Drawing":"Show Drawing"})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{disabled:b===0,onClick:()=>oe(b-1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Previous"}),v.jsx("button",{disabled:b===Ae.length-1,onClick:()=>oe(b+1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 disabled:opacity-50",children:"Next"}),v.jsx("button",{onClick:()=>{t&&t.admin&&ae?n("/review/all"):n("/review")},className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded shadow transition",children:t&&t.admin&&ae?"Back to All Reviews":"Back to Reviews"})]})]})]})}):v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"No questions match the current filter"}),v.jsx("button",{onClick:()=>D("all"),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Show All Questions"})]})})},hO=t=>{const[e,n]=R.useState(""),i=Un(),a=new URLSearchParams(window.location.search).get("token");if(!a)return;const c=h=>{h.preventDefault(),t.handleEmailReset(a,e)&&(n(""),i("/signin"))};return v.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[v.jsx("div",{children:v.jsx("p",{className:"text-xl font-semibold text-orange-800 text-center",children:"Reset Your Password"})}),v.jsx("div",{children:v.jsxs("form",{onSubmit:c,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),v.jsx("input",{type:"password",value:e,onChange:({target:h})=>n(h.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})})]})},to="/api/users";let PT=null;const mO=t=>{PT=`Bearer ${t}`},pO=async()=>(await we.get(to)).data,gO=async t=>(await we.post(to,t)).data,yO=async t=>{const e=`${to}/reset/${t.id}`;return(await we.put(e,{password:t.password},{headers:{Authorization:PT}})).data},vO=async t=>{const e=`${to}/forgot`;return(await we.post(e,{email:t})).data},xO=async(t,e)=>{const n=`${to}/reset`;return(await we.post(n,{token:t,password:e})).data},TO=async t=>{const e=`${to}/verify?token=${t}`;return(await we.get(e)).data},Zn={setToken:mO,getAll:pO,createUser:gO,resetPass:yO,forgot:vO,resetEmailPass:xO,verify:TO},bO=t=>{const e=Un();R.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("token");i?(async()=>{try{await Zn.verify(i),t.setNotif("Email verified successfully!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch(a){a.response.data.error&&a.response.data.error==="Invalid or expired token"&&(t.setError("Invalid or expired verification token"),setTimeout(()=>{t.setError(null)},5e3))}})():(t.setError("No token provided"),setTimeout(()=>{t.setError(null)},5e3)),e("/")},[])},_O=()=>v.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-[60vh] bg-white max-w-md mx-auto p-8 shadow-lg rounded-lg",children:[v.jsx("h1",{className:"text-6xl font-bold text-orange-600 mb-4",children:"404"}),v.jsx("h2",{className:"text-2xl font-semibold mb-2 text-orange-800",children:"Page Not Found"}),v.jsx("p",{className:"text-orange-700 mb-6",children:"Sorry, the page you are looking for does not exist."}),v.jsx(Ze,{to:"/",className:"px-6 py-2 bg-orange-200 text-orange-800 rounded hover:bg-orange-300 transition",children:"Go Home"})]}),SO="/api/login",wO=async t=>(await we.post(SO,t)).data,CO={login:wO};function EO(){var H,ee,z,K;const[t,e]=R.useState(null),[n,i]=R.useState(null),[o,a]=R.useState(null),[c,h]=R.useState([]),[p,m]=R.useState([]),[y,T]=R.useState([]),[b,w]=R.useState([]),[S,N]=R.useState([]),A=Un();R.useEffect(()=>{const ne=localStorage.getItem("loggedAppUser");if(ne){const $=JSON.parse(ne);e($),Zn.setToken($.token),Xi.setToken($.token),cn.setToken($.token),Ur.setToken($.token),Yt.setToken($.token),$t.setToken($.token),Nt.setToken($.token),Mn.setToken($.token)}},[]),R.useEffect(()=>{(async()=>{try{const $=await Xi.getAll();$&&h($)}catch($){console.error("Failed to fetch events:",$)}})()},[]),R.useEffect(()=>{const ne=async()=>{try{const $=await cn.getAll();$&&m($)}catch($){console.error("Failed to fetch tests:",$)}};t&&p.length===0&&ne()},[t]),R.useEffect(()=>{t&&(async()=>{try{const $=await Zn.getAll();$&&T($)}catch($){console.error("Failed to fetch users:",$)}})()},[t,S]),R.useEffect(()=>{const ne=async()=>{try{const $=await Ur.getAll();$&&w($)}catch($){console.error("Failed to fetch questions:",$)}};t&&b.length===0&&ne()},[t]),R.useEffect(()=>{const ne=async()=>{try{const $=await Yt.getAll();$&&N($)}catch($){console.error("Failed to fetch teams:",$)}};t&&S.length===0&&ne()},[t]);const M=async ne=>{try{const $=await Zn.createUser(ne);return window.localStorage.setItem("loggedAppUser",JSON.stringify($)),e($),Zn.setToken($.token),Xi.setToken($.token),cn.setToken($.token),Ur.setToken($.token),Yt.setToken($.token),$t.setToken($.token),Nt.setToken($.token),Mn.setToken($.token),A("/"),console.log("Sign Up"),a("signed up successfully, please check your email to verify your email"),setTimeout(()=>{a(null)},5e3),!0}catch($){$.response.data.error?$.response.data.error==="Invalid admin key"?i("Invalid admin key!"):$.response.data.error==="Path `password` is required"?i("Password is required!"):$.response.data.error.includes("Path `email` is required")?i("Email is required!"):$.response.data.error.includes("Path `firstName` is required")?i("First name is required!"):$.response.data.error.includes("Path `lastName` is required")?i("Last name is required!"):$.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):$.response.data.error==="expected `email` to be unique"?i("Email already taken"):$.response.data.error==="expected `name` to be unique"?i("Name already taken. Please add your middle name/initial to your first name"):console.log($.response.data.error):console.log($.message),setTimeout(()=>{i(null)},5e3)}},P=()=>{window.localStorage.removeItem("loggedAppUser"),e(null),Zn.setToken(""),Xi.setToken(""),cn.setToken(""),Ur.setToken(""),Yt.setToken(""),$t.setToken(""),Nt.setToken(""),Mn.setToken(""),A("/signin"),a("Logged out successfully"),setTimeout(()=>{a(null)},5e3)},D=async ne=>{try{const $=await CO.login(ne);return window.localStorage.setItem("loggedAppUser",JSON.stringify($)),e($),Zn.setToken($.token),Xi.setToken($.token),cn.setToken($.token),Ur.setToken($.token),Yt.setToken($.token),$t.setToken($.token),Nt.setToken($.token),Mn.setToken($.token),console.log("Sign In"),A("/"),a("Logged in successfully"),setTimeout(()=>{a(null)},5e3),!0}catch($){$.status===401?(i("Invalid username or password"),setTimeout(()=>{i(null)},5e3)):$.status===403&&(i("Cannot sign in. Please verify your account first!"),setTimeout(()=>{i(null)},5e3))}},C=async ne=>{try{await Zn.resetPass({id:t.id,password:ne}),a("Reset password successfully"),setTimeout(()=>{a(null)},5e3)}catch($){$.response.data.error?$.response.data.error==="Path `password` is required"?i("Password is required!"):$.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):$.status===403?i("Unauthorized!"):console.log($.response.data.error):console.log($),setTimeout(()=>{i(null)},5e3)}},I=async ne=>{try{return await Zn.forgot(ne),a("Check your email for the reset link!"),setTimeout(()=>{a(null)},5e3),!0}catch($){$.status===404?(i("Email not found"),setTimeout(()=>{i(null)},5e3)):console.log($)}},V=async(ne,$)=>{try{await Zn.resetEmailPass(ne,$),a("Password reset successfully"),setTimeout(()=>{a(null)},5e3)}catch(Ce){Ce.response.data.error?Ce.response.data.error==="Path `password` is required"?i("Password is required!"):Ce.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):Ce.response.data.error==="Invalid or expired token"?i("Invalid or expired token!"):console.log(Ce.response.data.error):console.log(Ce.message),setTimeout(()=>{i(null)},5e3)}};return v.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-repeat-y bg-[url('/radiant-combined.svg')] bg-[length:100%]",children:[v.jsx("nav",{className:"bg-white shadow-md",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between h-16 items-center",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx(Ze,{to:"/",className:"flex items-center space-x-2 flex-shrink-0",children:v.jsx("img",{src:"/lville.png",alt:"Logo",className:"h-8 transition-transform duration-200 hover:scale-110"})}),v.jsx(Ze,{to:"/",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Home"}),v.jsx(Ze,{to:"/events",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Events"}),t&&t.admin&&v.jsxs("div",{className:"relative inline-block text-left group",children:[v.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Tests"}),v.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:v.jsxs("ul",{className:"py-1",children:[v.jsx("li",{children:v.jsx(Ze,{to:"/tests",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Test Bank"})}),v.jsx("li",{children:v.jsx(Ze,{to:"/tests/create",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Test"})}),v.jsx("li",{children:v.jsx(Ze,{to:"/tests/random",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Random Test"})})]})})]}),t&&v.jsxs("div",{className:"relative inline-block text-left group z-2",children:[v.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Meetings"}),v.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:v.jsxs("ul",{className:"py-1",children:[v.jsx("li",{children:v.jsx(Ze,{to:"/lineup",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Lineup"})}),((ee=(H=y.find(ne=>ne.id===t.id))==null?void 0:H.teams)==null?void 0:ee.length)>0&&v.jsx("li",{children:v.jsx(Ze,{to:"/assigned",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Assigned Tests"})}),((K=(z=y.find(ne=>ne.id===t.id))==null?void 0:z.teams)==null?void 0:K.length)>0&&v.jsx("li",{children:v.jsx(Ze,{to:"/review",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Review Tests"})}),v.jsx("li",{children:v.jsx(Ze,{to:`/statistics/${t.id}`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"My Statistics"})})]})})]}),t&&t.admin&&v.jsxs("div",{className:"relative inline-block text-left group",children:[v.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Results"}),v.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:v.jsxs("ul",{className:"py-1",children:[v.jsx("li",{children:v.jsx(Ze,{to:"/statistics",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Statistics"})}),v.jsx("li",{children:v.jsx(Ze,{to:"/review/all",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"All Submissions"})})]})})]})]}),v.jsx("div",{className:"flex space-x-4",children:t?v.jsxs(v.Fragment,{children:[v.jsx(Ze,{to:"/settings",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Settings"}),v.jsx("button",{onClick:P,className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-red-600 hover:text-white transition",children:"Logout"})]}):v.jsxs(v.Fragment,{children:[v.jsx(Ze,{to:"/signin",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign In"}),v.jsx(Ze,{to:"/signup",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign Up"})]})})]})})}),v.jsx("div",{className:"flex-grow pt-6 pb-24",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n&&v.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[v.jsx("strong",{className:"font-bold",children:"Error: "}),v.jsx("span",{className:"block sm:inline",children:n})]}),o&&v.jsxs("div",{className:"mb-4 rounded-md bg-green-100 border border-green-500 text-green-800 px-4 py-3 shadow-md",role:"alert",children:[v.jsx("strong",{className:"font-bold",children:"Notice: "}),v.jsx("span",{className:"block sm:inline",children:o})]}),v.jsxs(KS,{children:[v.jsx(_t,{path:"/",element:v.jsx(Rw,{user:t})}),v.jsx(_t,{path:"/signin",element:v.jsx(kw,{handleSignIn:D,setError:i})}),v.jsx(_t,{path:"/signup",element:v.jsx(Mw,{handleSignUp:M,setError:i})}),v.jsx(_t,{path:"/events",element:v.jsx(mE,{user:t,events:c,setEvents:h})}),v.jsx(_t,{path:"/settings",element:v.jsx(tO,{handleReset:C,user:t,handleLogout:P})}),v.jsx(_t,{path:"/forgot",element:v.jsx(pE,{handleForgot:I})}),v.jsx(_t,{path:"/reset",element:v.jsx(hO,{handleEmailReset:V})}),v.jsx(_t,{path:"/verify",element:v.jsx(bO,{setError:i,setNotif:a})}),v.jsx(_t,{path:"/tests",element:v.jsx(SL,{tests:p,events:c,user:t,teams:S,setTests:m})}),v.jsx(_t,{path:"/tests/create",element:v.jsx(_L,{setNotif:a,events:c,tests:p,setTests:m,setError:i,user:t})}),v.jsx(_t,{path:"/tests/random",element:v.jsx(CL,{tests:p,questions:b,user:t,events:c,setError:i,setNotif:a,teams:S,setTests:m})}),v.jsx(_t,{path:"/tests/:id",element:v.jsx(wL,{tests:p,user:t,teams:S,setError:i,setNotif:a,setTests:m})}),v.jsx(_t,{path:"/lineup",element:v.jsx(DL,{setTeams:N,events:c,users:y,teams:S,user:t})}),v.jsx(_t,{path:"/assigned",element:v.jsx(HL,{tests:p,user:t,users:y,teams:S})}),v.jsx(_t,{path:"/assigned/:id",element:v.jsx(eO,{tests:p,user:t,users:y,teams:S,setNotif:a,setError:i,setTests:m})}),v.jsx(_t,{path:"/review",element:v.jsx(oO,{user:t,users:y,teams:S})}),v.jsx(_t,{path:"/review/all",element:v.jsx(aO,{user:t})}),v.jsx(_t,{path:"/review/:id",element:v.jsx(fO,{user:t})}),v.jsx(_t,{path:"/statistics",element:t&&t.admin?v.jsx(uO,{}):v.jsx(JS,{to:"/",replace:!0})}),v.jsx(_t,{path:"/statistics/:id",element:v.jsx(cO,{user:t})}),v.jsx(_t,{path:"*",element:v.jsx(_O,{})})]})]})}),v.jsxs("footer",{className:"bg-orange-100 text-orange-700 py-6 text-center text-sm",children:[" ",new Date().getFullYear()," Libertyville High School Science Olympiad"]})]})}sS.createRoot(document.getElementById("root")).render(v.jsx(xw,{children:v.jsx(EO,{})}));
