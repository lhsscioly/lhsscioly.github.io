(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function DS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function US(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var If={exports:{}},Os={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function IS(){if(Gg)return Os;Gg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var h in s)h!=="key"&&(a[h]=s[h])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:a}}return Os.Fragment=e,Os.jsx=n,Os.jsxs=n,Os}var Hg;function PS(){return Hg||(Hg=1,If.exports=IS()),If.exports}var T=PS(),Pf={exports:{}},qs={},Lf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function LS(){return Jg||(Jg=1,function(t){function e(Y,oe){var j=Y.length;Y.push(oe);e:for(;0<j;){var B=j-1>>>1,E=Y[B];if(0<s(E,oe))Y[B]=oe,Y[j]=E,j=B;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var oe=Y[0],j=Y.pop();if(j!==oe){Y[0]=j;e:for(var B=0,E=Y.length,O=E>>>1;B<O;){var $=2*(B+1)-1,X=Y[$],ne=$+1,se=Y[ne];if(0>s(X,j))ne<E&&0>s(se,X)?(Y[B]=se,Y[ne]=j,B=ne):(Y[B]=X,Y[$]=j,B=$);else if(ne<E&&0>s(se,j))Y[B]=se,Y[ne]=j,B=ne;else break e}}return oe}function s(Y,oe){var j=Y.sortIndex-oe.sortIndex;return j!==0?j:Y.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,_=null,x=3,b=!1,w=!1,R=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function U(Y){for(var oe=n(m);oe!==null;){if(oe.callback===null)i(m);else if(oe.startTime<=Y)i(m),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(m)}}function q(Y){if(R=!1,U(Y),!w)if(n(p)!==null)w=!0,Q||(Q=!0,ye());else{var oe=n(m);oe!==null&&Ne(q,oe.startTime-Y)}}var Q=!1,Z=-1,ie=5,z=-1;function L(){return A?!0:!(t.unstable_now()-z<ie)}function le(){if(A=!1,Q){var Y=t.unstable_now();z=Y;var oe=!0;try{e:{w=!1,R&&(R=!1,P(Z),Z=-1),b=!0;var j=x;try{t:{for(U(Y),_=n(p);_!==null&&!(_.expirationTime>Y&&L());){var B=_.callback;if(typeof B=="function"){_.callback=null,x=_.priorityLevel;var E=B(_.expirationTime<=Y);if(Y=t.unstable_now(),typeof E=="function"){_.callback=E,U(Y),oe=!0;break t}_===n(p)&&i(p),U(Y)}else i(p);_=n(p)}if(_!==null)oe=!0;else{var O=n(m);O!==null&&Ne(q,O.startTime-Y),oe=!1}}break e}finally{_=null,x=j,b=!1}oe=void 0}}finally{oe?ye():Q=!1}}}var ye;if(typeof D=="function")ye=function(){D(le)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Ze=Oe.port2;Oe.port1.onmessage=le,ye=function(){Ze.postMessage(null)}}else ye=function(){k(le,0)};function Ne(Y,oe){Z=k(function(){Y(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var j=x;x=oe;try{return Y()}finally{x=j}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=x;x=Y;try{return oe()}finally{x=j}},t.unstable_scheduleCallback=function(Y,oe,j){var B=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?B+j:B):j=B,Y){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=j+E,Y={id:y++,callback:oe,priorityLevel:Y,startTime:j,expirationTime:E,sortIndex:-1},j>B?(Y.sortIndex=j,e(m,Y),n(p)===null&&Y===n(m)&&(R?(P(Z),Z=-1):R=!0,Ne(q,j-B))):(Y.sortIndex=E,e(p,Y),w||b||(w=!0,Q||(Q=!0,ye()))),Y},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Y){var oe=x;return function(){var j=x;x=oe;try{return Y.apply(this,arguments)}finally{x=j}}}}(Of)),Of}var jg;function OS(){return jg||(jg=1,Lf.exports=LS()),Lf.exports}var qf={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function qS(){if(Yg)return we;Yg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function A(E,O,$){this.props=E,this.context=O,this.refs=R,this.updater=$||b}A.prototype.isReactComponent={},A.prototype.setState=function(E,O){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,O,"setState")},A.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function k(){}k.prototype=A.prototype;function P(E,O,$){this.props=E,this.context=O,this.refs=R,this.updater=$||b}var D=P.prototype=new k;D.constructor=P,w(D,A.prototype),D.isPureReactComponent=!0;var U=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function Z(E,O,$,X,ne,se){return $=se.ref,{$$typeof:t,type:E,key:O,ref:$!==void 0?$:null,props:se}}function ie(E,O){return Z(E.type,O,void 0,void 0,void 0,E.props)}function z(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function L(E){var O={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function($){return O[$]})}var le=/\/+/g;function ye(E,O){return typeof E=="object"&&E!==null&&E.key!=null?L(""+E.key):O.toString(36)}function Oe(){}function Ze(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Oe,Oe):(E.status="pending",E.then(function(O){E.status==="pending"&&(E.status="fulfilled",E.value=O)},function(O){E.status==="pending"&&(E.status="rejected",E.reason=O)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function Ne(E,O,$,X,ne){var se=typeof E;(se==="undefined"||se==="boolean")&&(E=null);var ae=!1;if(E===null)ae=!0;else switch(se){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(E.$$typeof){case t:case e:ae=!0;break;case y:return ae=E._init,Ne(ae(E._payload),O,$,X,ne)}}if(ae)return ne=ne(E),ae=X===""?"."+ye(E,0):X,U(ne)?($="",ae!=null&&($=ae.replace(le,"$&/")+"/"),Ne(ne,O,$,"",function(Ge){return Ge})):ne!=null&&(z(ne)&&(ne=ie(ne,$+(ne.key==null||E&&E.key===ne.key?"":(""+ne.key).replace(le,"$&/")+"/")+ae)),O.push(ne)),1;ae=0;var be=X===""?".":X+":";if(U(E))for(var Ce=0;Ce<E.length;Ce++)X=E[Ce],se=be+ye(X,Ce),ae+=Ne(X,O,$,se,ne);else if(Ce=x(E),typeof Ce=="function")for(E=Ce.call(E),Ce=0;!(X=E.next()).done;)X=X.value,se=be+ye(X,Ce++),ae+=Ne(X,O,$,se,ne);else if(se==="object"){if(typeof E.then=="function")return Ne(Ze(E),O,$,X,ne);throw O=String(E),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ae}function Y(E,O,$){if(E==null)return E;var X=[],ne=0;return Ne(E,X,"","",function(se){return O.call($,se,ne++)}),X}function oe(E){if(E._status===-1){var O=E._result;O=O(),O.then(function($){(E._status===0||E._status===-1)&&(E._status=1,E._result=$)},function($){(E._status===0||E._status===-1)&&(E._status=2,E._result=$)}),E._status===-1&&(E._status=0,E._result=O)}if(E._status===1)return E._result.default;throw E._result}var j=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function B(){}return we.Children={map:Y,forEach:function(E,O,$){Y(E,function(){O.apply(this,arguments)},$)},count:function(E){var O=0;return Y(E,function(){O++}),O},toArray:function(E){return Y(E,function(O){return O})||[]},only:function(E){if(!z(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},we.Component=A,we.Fragment=n,we.Profiler=s,we.PureComponent=P,we.StrictMode=i,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,we.__COMPILER_RUNTIME={__proto__:null,c:function(E){return q.H.useMemoCache(E)}},we.cache=function(E){return function(){return E.apply(null,arguments)}},we.cloneElement=function(E,O,$){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var X=w({},E.props),ne=E.key,se=void 0;if(O!=null)for(ae in O.ref!==void 0&&(se=void 0),O.key!==void 0&&(ne=""+O.key),O)!Q.call(O,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&O.ref===void 0||(X[ae]=O[ae]);var ae=arguments.length-2;if(ae===1)X.children=$;else if(1<ae){for(var be=Array(ae),Ce=0;Ce<ae;Ce++)be[Ce]=arguments[Ce+2];X.children=be}return Z(E.type,ne,void 0,void 0,se,X)},we.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:a,_context:E},E},we.createElement=function(E,O,$){var X,ne={},se=null;if(O!=null)for(X in O.key!==void 0&&(se=""+O.key),O)Q.call(O,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ne[X]=O[X]);var ae=arguments.length-2;if(ae===1)ne.children=$;else if(1<ae){for(var be=Array(ae),Ce=0;Ce<ae;Ce++)be[Ce]=arguments[Ce+2];ne.children=be}if(E&&E.defaultProps)for(X in ae=E.defaultProps,ae)ne[X]===void 0&&(ne[X]=ae[X]);return Z(E,se,void 0,void 0,null,ne)},we.createRef=function(){return{current:null}},we.forwardRef=function(E){return{$$typeof:h,render:E}},we.isValidElement=z,we.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:oe}},we.memo=function(E,O){return{$$typeof:m,type:E,compare:O===void 0?null:O}},we.startTransition=function(E){var O=q.T,$={};q.T=$;try{var X=E(),ne=q.S;ne!==null&&ne($,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(B,j)}catch(se){j(se)}finally{q.T=O}},we.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},we.use=function(E){return q.H.use(E)},we.useActionState=function(E,O,$){return q.H.useActionState(E,O,$)},we.useCallback=function(E,O){return q.H.useCallback(E,O)},we.useContext=function(E){return q.H.useContext(E)},we.useDebugValue=function(){},we.useDeferredValue=function(E,O){return q.H.useDeferredValue(E,O)},we.useEffect=function(E,O,$){var X=q.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(E,O)},we.useId=function(){return q.H.useId()},we.useImperativeHandle=function(E,O,$){return q.H.useImperativeHandle(E,O,$)},we.useInsertionEffect=function(E,O){return q.H.useInsertionEffect(E,O)},we.useLayoutEffect=function(E,O){return q.H.useLayoutEffect(E,O)},we.useMemo=function(E,O){return q.H.useMemo(E,O)},we.useOptimistic=function(E,O){return q.H.useOptimistic(E,O)},we.useReducer=function(E,O,$){return q.H.useReducer(E,O,$)},we.useRef=function(E){return q.H.useRef(E)},we.useState=function(E){return q.H.useState(E)},we.useSyncExternalStore=function(E,O,$){return q.H.useSyncExternalStore(E,O,$)},we.useTransition=function(){return q.H.useTransition()},we.version="19.1.0",we}var Kg;function Ud(){return Kg||(Kg=1,qf.exports=qS()),qf.exports}var Bf={exports:{}},Dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function BS(){if(Zg)return Dt;Zg=1;var t=Ud();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(p,m,null,y)},Dt.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},Dt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Dt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Dt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:b}):y==="script"&&i.d.X(p,{crossOrigin:_,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Dt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Dt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Dt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Dt.requestFormReset=function(p){i.d.r(p)},Dt.unstable_batchedUpdates=function(p,m){return p(m)},Dt.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},Dt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Dt.version="19.1.0",Dt}var Qg;function VS(){if(Qg)return Bf.exports;Qg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bf.exports=BS(),Bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function $S(){if(Xg)return qs;Xg=1;var t=OS(),e=Ud(),n=VS();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,l=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(l=o.return),r=o.return;while(r)}return o.tag===3?l:null}function c(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function h(r){if(a(r)!==r)throw Error(i(188))}function p(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var l=r,d=o;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return h(g),r;if(v===d)return h(g),o;v=v.sibling}throw Error(i(188))}if(l.return!==d.return)l=g,d=v;else{for(var S=!1,C=g.child;C;){if(C===l){S=!0,l=g,d=v;break}if(C===d){S=!0,d=g,l=v;break}C=C.sibling}if(!S){for(C=v.child;C;){if(C===l){S=!0,l=v,d=g;break}if(C===d){S=!0,d=v,l=g;break}C=C.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var Oe=Symbol.for("react.client.reference");function Ze(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Oe?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case A:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case Q:return"SuspenseList";case z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case D:return(r.displayName||"Context")+".Provider";case P:return(r._context.displayName||"Context")+".Consumer";case U:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Z:return o=r.displayName||null,o!==null?o:Ze(r.type)||"Memo";case ie:o=r._payload,r=r._init;try{return Ze(r(o))}catch{}}return null}var Ne=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},B=[],E=-1;function O(r){return{current:r}}function $(r){0>E||(r.current=B[E],B[E]=null,E--)}function X(r,o){E++,B[E]=r.current,r.current=o}var ne=O(null),se=O(null),ae=O(null),be=O(null);function Ce(r,o){switch(X(ae,o),X(se,r),X(ne,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?vg(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=vg(o),r=_g(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$(ne),X(ne,r)}function Ge(){$(ne),$(se),$(ae)}function ht(r){r.memoizedState!==null&&X(be,r);var o=ne.current,l=_g(o,r.type);o!==l&&(X(se,r),X(ne,l))}function Sn(r){se.current===r&&($(ne),$(se)),be.current===r&&($(be),Ds._currentValue=j)}var pn=Object.prototype.hasOwnProperty,wn=t.unstable_scheduleCallback,wt=t.unstable_cancelCallback,tn=t.unstable_shouldYield,Qe=t.unstable_requestPaint,Rt=t.unstable_now,ui=t.unstable_getCurrentPriorityLevel,zi=t.unstable_ImmediatePriority,ot=t.unstable_UserBlockingPriority,Ie=t.unstable_NormalPriority,He=t.unstable_LowPriority,mt=t.unstable_IdlePriority,nn=t.log,bn=t.unstable_setDisableYieldValue,ci=null,Nt=null;function Cn(r){if(typeof nn=="function"&&bn(r),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(ci,r)}catch{}}var Lt=Math.clz32?Math.clz32:vT,gT=Math.log,yT=Math.LN2;function vT(r){return r>>>=0,r===0?32:31-(gT(r)/yT|0)|0}var ha=256,ma=4194304;function Gi(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function pa(r,o,l){var d=r.pendingLanes;if(d===0)return 0;var g=0,v=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var C=d&134217727;return C!==0?(d=C&~v,d!==0?g=Gi(d):(S&=C,S!==0?g=Gi(S):l||(l=C&~r,l!==0&&(g=Gi(l))))):(C=d&~v,C!==0?g=Gi(C):S!==0?g=Gi(S):l||(l=d&~r,l!==0&&(g=Gi(l)))),g===0?0:o!==0&&o!==g&&(o&v)===0&&(v=g&-g,l=o&-o,v>=l||v===32&&(l&4194048)!==0)?o:g}function $o(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function _T(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function th(){var r=ha;return ha<<=1,(ha&4194048)===0&&(ha=256),r}function nh(){var r=ma;return ma<<=1,(ma&62914560)===0&&(ma=4194304),r}function Su(r){for(var o=[],l=0;31>l;l++)o.push(r);return o}function Fo(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function TT(r,o,l,d,g,v){var S=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var C=r.entanglements,M=r.expirationTimes,G=r.hiddenUpdates;for(l=S&~l;0<l;){var W=31-Lt(l),te=1<<W;C[W]=0,M[W]=-1;var H=G[W];if(H!==null)for(G[W]=null,W=0;W<H.length;W++){var J=H[W];J!==null&&(J.lane&=-536870913)}l&=~te}d!==0&&ih(r,d,0),v!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=v&~(S&~o))}function ih(r,o,l){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Lt(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|l&4194090}function rh(r,o){var l=r.entangledLanes|=o;for(r=r.entanglements;l;){var d=31-Lt(l),g=1<<d;g&o|r[d]&o&&(r[d]|=o),l&=~g}}function wu(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function bu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function oh(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:qg(r.type))}function xT(r,o){var l=oe.p;try{return oe.p=r,o()}finally{oe.p=l}}var fi=Math.random().toString(36).slice(2),Mt="__reactFiber$"+fi,Bt="__reactProps$"+fi,wr="__reactContainer$"+fi,Cu="__reactEvents$"+fi,ST="__reactListeners$"+fi,wT="__reactHandles$"+fi,sh="__reactResources$"+fi,zo="__reactMarker$"+fi;function Eu(r){delete r[Mt],delete r[Bt],delete r[Cu],delete r[ST],delete r[wT]}function br(r){var o=r[Mt];if(o)return o;for(var l=r.parentNode;l;){if(o=l[wr]||l[Mt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(r=wg(r);r!==null;){if(l=r[Mt])return l;r=wg(r)}return o}r=l,l=r.parentNode}return null}function Cr(r){if(r=r[Mt]||r[wr]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Go(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function Er(r){var o=r[sh];return o||(o=r[sh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yt(r){r[zo]=!0}var ah=new Set,lh={};function Hi(r,o){Ar(r,o),Ar(r+"Capture",o)}function Ar(r,o){for(lh[r]=o,r=0;r<o.length;r++)ah.add(o[r])}var bT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uh={},ch={};function CT(r){return pn.call(ch,r)?!0:pn.call(uh,r)?!1:bT.test(r)?ch[r]=!0:(uh[r]=!0,!1)}function ga(r,o,l){if(CT(o))if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+l)}}function ya(r,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+l)}}function Bn(r,o,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(o,l,""+d)}}var Au,fh;function Rr(r){if(Au===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Au=o&&o[1]||"",fh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Au+r+fh}var Ru=!1;function Nu(r,o){if(!r||Ru)return"";Ru=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(J){var H=J}Reflect.construct(r,[],te)}else{try{te.call()}catch(J){H=J}r.call(te.prototype)}}else{try{throw Error()}catch(J){H=J}(te=r())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(J){if(J&&H&&typeof J.stack=="string")return[J.stack,H.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),S=v[0],C=v[1];if(S&&C){var M=S.split(`
`),G=C.split(`
`);for(g=d=0;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(d===M.length||g===G.length)for(d=M.length-1,g=G.length-1;1<=d&&0<=g&&M[d]!==G[g];)g--;for(;1<=d&&0<=g;d--,g--)if(M[d]!==G[g]){if(d!==1||g!==1)do if(d--,g--,0>g||M[d]!==G[g]){var W=`
`+M[d].replace(" at new "," at ");return r.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",r.displayName)),W}while(1<=d&&0<=g);break}}}finally{Ru=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Rr(l):""}function ET(r){switch(r.tag){case 26:case 27:case 5:return Rr(r.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 15:return Nu(r.type,!1);case 11:return Nu(r.type.render,!1);case 1:return Nu(r.type,!0);case 31:return Rr("Activity");default:return""}}function dh(r){try{var o="";do o+=ET(r),r=r.return;while(r);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function rn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function hh(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function AT(r){var o=hh(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return g.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(r,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function va(r){r._valueTracker||(r._valueTracker=AT(r))}function mh(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return r&&(d=hh(r)?r.checked?"true":"false":r.value),r=d,r!==l?(o.setValue(r),!0):!1}function _a(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var RT=/[\n"\\]/g;function on(r){return r.replace(RT,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mu(r,o,l,d,g,v,S,C){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),o!=null?S==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+rn(o)):r.value!==""+rn(o)&&(r.value=""+rn(o)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),o!=null?ku(r,S,rn(o)):l!=null?ku(r,S,rn(l)):d!=null&&r.removeAttribute("value"),g==null&&v!=null&&(r.defaultChecked=!!v),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+rn(C):r.removeAttribute("name")}function ph(r,o,l,d,g,v,S,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;l=l!=null?""+rn(l):"",o=o!=null?""+rn(o):l,C||o===r.value||(r.value=o),r.defaultValue=o}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=C?r.checked:!!d,r.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function ku(r,o,l){o==="number"&&_a(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Nr(r,o,l,d){if(r=r.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=o.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&d&&(r[l].defaultSelected=!0)}else{for(l=""+rn(l),o=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function gh(r,o,l){if(o!=null&&(o=""+rn(o),o!==r.value&&(r.value=o),l==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=l!=null?""+rn(l):""}function yh(r,o,l,d){if(o==null){if(d!=null){if(l!=null)throw Error(i(92));if(Ne(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),o=l}l=rn(o),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d)}function Mr(r,o){if(o){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=o;return}}r.textContent=o}var NT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vh(r,o,l){var d=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,l):typeof l!="number"||l===0||NT.has(o)?o==="float"?r.cssFloat=l:r[o]=(""+l).trim():r[o]=l+"px"}function _h(r,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in o)d=o[g],o.hasOwnProperty(g)&&l[g]!==d&&vh(r,g,d)}else for(var v in o)o.hasOwnProperty(v)&&vh(r,v,o[v])}function Du(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(r){return kT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Uu=null;function Iu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var kr=null,Dr=null;function Th(r){var o=Cr(r);if(o&&(r=o.stateNode)){var l=r[Bt]||null;e:switch(r=o.stateNode,o.type){case"input":if(Mu(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+on(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==r&&d.form===r.form){var g=d[Bt]||null;if(!g)throw Error(i(90));Mu(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<l.length;o++)d=l[o],d.form===r.form&&mh(d)}break e;case"textarea":gh(r,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Nr(r,!!l.multiple,o,!1)}}}var Pu=!1;function xh(r,o,l){if(Pu)return r(o,l);Pu=!0;try{var d=r(o);return d}finally{if(Pu=!1,(kr!==null||Dr!==null)&&(ol(),kr&&(o=kr,r=Dr,Dr=kr=null,Th(o),r)))for(o=0;o<r.length;o++)Th(r[o])}}function Ho(r,o){var l=r.stateNode;if(l===null)return null;var d=l[Bt]||null;if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lu=!1;if(Vn)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Lu=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Lu=!1}var di=null,Ou=null,xa=null;function Sh(){if(xa)return xa;var r,o=Ou,l=o.length,d,g="value"in di?di.value:di.textContent,v=g.length;for(r=0;r<l&&o[r]===g[r];r++);var S=l-r;for(d=1;d<=S&&o[l-d]===g[v-d];d++);return xa=g.slice(r,1<d?1-d:void 0)}function Sa(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function wa(){return!0}function wh(){return!1}function Vt(r){function o(l,d,g,v,S){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(l=r[C],this[C]=l?l(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wa:wh,this.isPropagationStopped=wh,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),o}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Vt(Ji),jo=y({},Ji,{view:0,detail:0}),DT=Vt(jo),qu,Bu,Yo,Ca=y({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$u,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yo&&(Yo&&r.type==="mousemove"?(qu=r.screenX-Yo.screenX,Bu=r.screenY-Yo.screenY):Bu=qu=0,Yo=r),qu)},movementY:function(r){return"movementY"in r?r.movementY:Bu}}),bh=Vt(Ca),UT=y({},Ca,{dataTransfer:0}),IT=Vt(UT),PT=y({},jo,{relatedTarget:0}),Vu=Vt(PT),LT=y({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),OT=Vt(LT),qT=y({},Ji,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),BT=Vt(qT),VT=y({},Ji,{data:0}),Ch=Vt(VT),$T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GT(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=zT[r])?!!o[r]:!1}function $u(){return GT}var HT=y({},jo,{key:function(r){if(r.key){var o=$T[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Sa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?FT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$u,charCode:function(r){return r.type==="keypress"?Sa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Sa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),JT=Vt(HT),jT=y({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=Vt(jT),YT=y({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$u}),KT=Vt(YT),ZT=y({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),QT=Vt(ZT),XT=y({},Ca,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),WT=Vt(XT),ex=y({},Ji,{newState:0,oldState:0}),tx=Vt(ex),nx=[9,13,27,32],Fu=Vn&&"CompositionEvent"in window,Ko=null;Vn&&"documentMode"in document&&(Ko=document.documentMode);var ix=Vn&&"TextEvent"in window&&!Ko,Ah=Vn&&(!Fu||Ko&&8<Ko&&11>=Ko),Rh=" ",Nh=!1;function Mh(r,o){switch(r){case"keyup":return nx.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ur=!1;function rx(r,o){switch(r){case"compositionend":return kh(o);case"keypress":return o.which!==32?null:(Nh=!0,Rh);case"textInput":return r=o.data,r===Rh&&Nh?null:r;default:return null}}function ox(r,o){if(Ur)return r==="compositionend"||!Fu&&Mh(r,o)?(r=Sh(),xa=Ou=di=null,Ur=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ah&&o.locale!=="ko"?null:o.data;default:return null}}var sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dh(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!sx[r.type]:o==="textarea"}function Uh(r,o,l,d){kr?Dr?Dr.push(d):Dr=[d]:kr=d,o=fl(o,"onChange"),0<o.length&&(l=new ba("onChange","change",null,l,d),r.push({event:l,listeners:o}))}var Zo=null,Qo=null;function ax(r){hg(r,0)}function Ea(r){var o=Go(r);if(mh(o))return r}function Ih(r,o){if(r==="change")return o}var Ph=!1;if(Vn){var zu;if(Vn){var Gu="oninput"in document;if(!Gu){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),Gu=typeof Lh.oninput=="function"}zu=Gu}else zu=!1;Ph=zu&&(!document.documentMode||9<document.documentMode)}function Oh(){Zo&&(Zo.detachEvent("onpropertychange",qh),Qo=Zo=null)}function qh(r){if(r.propertyName==="value"&&Ea(Qo)){var o=[];Uh(o,Qo,r,Iu(r)),xh(ax,o)}}function lx(r,o,l){r==="focusin"?(Oh(),Zo=o,Qo=l,Zo.attachEvent("onpropertychange",qh)):r==="focusout"&&Oh()}function ux(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ea(Qo)}function cx(r,o){if(r==="click")return Ea(o)}function fx(r,o){if(r==="input"||r==="change")return Ea(o)}function dx(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Yt=typeof Object.is=="function"?Object.is:dx;function Xo(r,o){if(Yt(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var l=Object.keys(r),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!pn.call(o,g)||!Yt(r[g],o[g]))return!1}return!0}function Bh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vh(r,o){var l=Bh(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=o&&d>=o)return{node:l,offset:o-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Bh(l)}}function $h(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?$h(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Fh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=_a(r.document);o instanceof r.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)r=o.contentWindow;else break;o=_a(r.document)}return o}function Hu(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var hx=Vn&&"documentMode"in document&&11>=document.documentMode,Ir=null,Ju=null,Wo=null,ju=!1;function zh(r,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ju||Ir==null||Ir!==_a(d)||(d=Ir,"selectionStart"in d&&Hu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Wo&&Xo(Wo,d)||(Wo=d,d=fl(Ju,"onSelect"),0<d.length&&(o=new ba("onSelect","select",null,o,l),r.push({event:o,listeners:d}),o.target=Ir)))}function ji(r,o){var l={};return l[r.toLowerCase()]=o.toLowerCase(),l["Webkit"+r]="webkit"+o,l["Moz"+r]="moz"+o,l}var Pr={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionrun:ji("Transition","TransitionRun"),transitionstart:ji("Transition","TransitionStart"),transitioncancel:ji("Transition","TransitionCancel"),transitionend:ji("Transition","TransitionEnd")},Yu={},Gh={};Vn&&(Gh=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Yi(r){if(Yu[r])return Yu[r];if(!Pr[r])return r;var o=Pr[r],l;for(l in o)if(o.hasOwnProperty(l)&&l in Gh)return Yu[r]=o[l];return r}var Hh=Yi("animationend"),Jh=Yi("animationiteration"),jh=Yi("animationstart"),mx=Yi("transitionrun"),px=Yi("transitionstart"),gx=Yi("transitioncancel"),Yh=Yi("transitionend"),Kh=new Map,Ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ku.push("scrollEnd");function gn(r,o){Kh.set(r,o),Hi(o,[r])}var Zh=new WeakMap;function sn(r,o){if(typeof r=="object"&&r!==null){var l=Zh.get(r);return l!==void 0?l:(o={value:r,source:o,stack:dh(o)},Zh.set(r,o),o)}return{value:r,source:o,stack:dh(o)}}var an=[],Lr=0,Zu=0;function Aa(){for(var r=Lr,o=Zu=Lr=0;o<r;){var l=an[o];an[o++]=null;var d=an[o];an[o++]=null;var g=an[o];an[o++]=null;var v=an[o];if(an[o++]=null,d!==null&&g!==null){var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}v!==0&&Qh(l,g,v)}}function Ra(r,o,l,d){an[Lr++]=r,an[Lr++]=o,an[Lr++]=l,an[Lr++]=d,Zu|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Qu(r,o,l,d){return Ra(r,o,l,d),Na(r)}function Or(r,o){return Ra(r,null,null,o),Na(r)}function Qh(r,o,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var g=!1,v=r.return;v!==null;)v.childLanes|=l,d=v.alternate,d!==null&&(d.childLanes|=l),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(g=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,g&&o!==null&&(g=31-Lt(l),r=v.hiddenUpdates,d=r[g],d===null?r[g]=[o]:d.push(o),o.lane=l|536870912),v):null}function Na(r){if(50<bs)throw bs=0,rf=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var qr={};function yx(r,o,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(r,o,l,d){return new yx(r,o,l,d)}function Xu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $n(r,o){var l=r.alternate;return l===null?(l=Kt(r.tag,o,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=o,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,o=r.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Xh(r,o){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,o=l.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Ma(r,o,l,d,g,v){var S=0;if(d=r,typeof r=="function")Xu(r)&&(S=1);else if(typeof r=="string")S=_S(r,l,ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case z:return r=Kt(31,l,o,g),r.elementType=z,r.lanes=v,r;case w:return Ki(l.children,g,v,o);case R:S=8,g|=24;break;case A:return r=Kt(12,l,o,g|2),r.elementType=A,r.lanes=v,r;case q:return r=Kt(13,l,o,g),r.elementType=q,r.lanes=v,r;case Q:return r=Kt(19,l,o,g),r.elementType=Q,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:case D:S=10;break e;case P:S=9;break e;case U:S=11;break e;case Z:S=14;break e;case ie:S=16,d=null;break e}S=29,l=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Kt(S,l,o,g),o.elementType=r,o.type=d,o.lanes=v,o}function Ki(r,o,l,d){return r=Kt(7,r,d,o),r.lanes=l,r}function Wu(r,o,l){return r=Kt(6,r,null,o),r.lanes=l,r}function ec(r,o,l){return o=Kt(4,r.children!==null?r.children:[],r.key,o),o.lanes=l,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Br=[],Vr=0,ka=null,Da=0,ln=[],un=0,Zi=null,Fn=1,zn="";function Qi(r,o){Br[Vr++]=Da,Br[Vr++]=ka,ka=r,Da=o}function Wh(r,o,l){ln[un++]=Fn,ln[un++]=zn,ln[un++]=Zi,Zi=r;var d=Fn;r=zn;var g=32-Lt(d)-1;d&=~(1<<g),l+=1;var v=32-Lt(o)+g;if(30<v){var S=g-g%5;v=(d&(1<<S)-1).toString(32),d>>=S,g-=S,Fn=1<<32-Lt(o)+g|l<<g|d,zn=v+r}else Fn=1<<v|l<<g|d,zn=r}function tc(r){r.return!==null&&(Qi(r,1),Wh(r,1,0))}function nc(r){for(;r===ka;)ka=Br[--Vr],Br[Vr]=null,Da=Br[--Vr],Br[Vr]=null;for(;r===Zi;)Zi=ln[--un],ln[un]=null,zn=ln[--un],ln[un]=null,Fn=ln[--un],ln[un]=null}var Ot=null,st=null,Ve=!1,Xi=null,En=!1,ic=Error(i(519));function Wi(r){var o=Error(i(418,""));throw ns(sn(o,r)),ic}function em(r){var o=r.stateNode,l=r.type,d=r.memoizedProps;switch(o[Mt]=r,o[Bt]=d,l){case"dialog":De("cancel",o),De("close",o);break;case"iframe":case"object":case"embed":De("load",o);break;case"video":case"audio":for(l=0;l<Es.length;l++)De(Es[l],o);break;case"source":De("error",o);break;case"img":case"image":case"link":De("error",o),De("load",o);break;case"details":De("toggle",o);break;case"input":De("invalid",o),ph(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),va(o);break;case"select":De("invalid",o);break;case"textarea":De("invalid",o),yh(o,d.value,d.defaultValue,d.children),va(o)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||d.suppressHydrationWarning===!0||yg(o.textContent,l)?(d.popover!=null&&(De("beforetoggle",o),De("toggle",o)),d.onScroll!=null&&De("scroll",o),d.onScrollEnd!=null&&De("scrollend",o),d.onClick!=null&&(o.onclick=dl),o=!0):o=!1,o||Wi(r)}function tm(r){for(Ot=r.return;Ot;)switch(Ot.tag){case 5:case 13:En=!1;return;case 27:case 3:En=!0;return;default:Ot=Ot.return}}function es(r){if(r!==Ot)return!1;if(!Ve)return tm(r),Ve=!0,!1;var o=r.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Tf(r.type,r.memoizedProps)),l=!l),l&&st&&Wi(r),tm(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(o===0){st=vn(r.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;r=r.nextSibling}st=null}}else o===27?(o=st,Ri(r.type)?(r=bf,bf=null,st=r):st=o):st=Ot?vn(r.stateNode.nextSibling):null;return!0}function ts(){st=Ot=null,Ve=!1}function nm(){var r=Xi;return r!==null&&(zt===null?zt=r:zt.push.apply(zt,r),Xi=null),r}function ns(r){Xi===null?Xi=[r]:Xi.push(r)}var rc=O(null),er=null,Gn=null;function hi(r,o,l){X(rc,o._currentValue),o._currentValue=l}function Hn(r){r._currentValue=rc.current,$(rc)}function oc(r,o,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===l)break;r=r.return}}function sc(r,o,l,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var v=g.dependencies;if(v!==null){var S=g.child;v=v.firstContext;e:for(;v!==null;){var C=v;v=g;for(var M=0;M<o.length;M++)if(C.context===o[M]){v.lanes|=l,C=v.alternate,C!==null&&(C.lanes|=l),oc(v.return,l,r),d||(S=null);break e}v=C.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(i(341));S.lanes|=l,v=S.alternate,v!==null&&(v.lanes|=l),oc(S,l,r),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===r){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function is(r,o,l,d){r=null;for(var g=o,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=g.type;Yt(g.pendingProps.value,S.value)||(r!==null?r.push(C):r=[C])}}else if(g===be.current){if(S=g.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Ds):r=[Ds])}g=g.return}r!==null&&sc(o,r,l,d),o.flags|=262144}function Ua(r){for(r=r.firstContext;r!==null;){if(!Yt(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function tr(r){er=r,Gn=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function kt(r){return im(er,r)}function Ia(r,o){return er===null&&tr(r),im(r,o)}function im(r,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Gn===null){if(r===null)throw Error(i(308));Gn=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Gn=Gn.next=o;return l}var vx=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(l){return l()})}},_x=t.unstable_scheduleCallback,Tx=t.unstable_NormalPriority,pt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ac(){return{controller:new vx,data:new Map,refCount:0}}function rs(r){r.refCount--,r.refCount===0&&_x(Tx,function(){r.controller.abort()})}var os=null,lc=0,$r=0,Fr=null;function xx(r,o){if(os===null){var l=os=[];lc=0,$r=ff(),Fr={status:"pending",value:void 0,then:function(d){l.push(d)}}}return lc++,o.then(rm,rm),o}function rm(){if(--lc===0&&os!==null){Fr!==null&&(Fr.status="fulfilled");var r=os;os=null,$r=0,Fr=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function Sx(r,o){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var g=0;g<l.length;g++)(0,l[g])(o)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var om=Y.S;Y.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&xx(r,o),om!==null&&om(r,o)};var nr=O(null);function uc(){var r=nr.current;return r!==null?r:Xe.pooledCache}function Pa(r,o){o===null?X(nr,nr.current):X(nr,o.pool)}function sm(){var r=uc();return r===null?null:{parent:pt._currentValue,pool:r}}var ss=Error(i(460)),am=Error(i(474)),La=Error(i(542)),cc={then:function(){}};function lm(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Oa(){}function um(r,o,l){switch(l=r[l],l===void 0?r.push(o):l!==o&&(o.then(Oa,Oa),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,fm(r),r;default:if(typeof o.status=="string")o.then(Oa,Oa);else{if(r=Xe,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=d}},function(d){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,fm(r),r}throw as=o,ss}}var as=null;function cm(){if(as===null)throw Error(i(459));var r=as;return as=null,r}function fm(r){if(r===ss||r===La)throw Error(i(483))}var mi=!1;function fc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dc(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function pi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function gi(r,o,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,($e&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,o=Na(r),Qh(r,null,l),o}return Ra(r,d,o,l),Na(r)}function ls(r,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,rh(r,l)}}function hc(r,o){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?g=v=o:v=v.next=o}else g=v=o;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=o:r.next=o,l.lastBaseUpdate=o}var mc=!1;function us(){if(mc){var r=Fr;if(r!==null)throw r}}function cs(r,o,l,d){mc=!1;var g=r.updateQueue;mi=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var M=C,G=M.next;M.next=null,S===null?v=G:S.next=G,S=M;var W=r.alternate;W!==null&&(W=W.updateQueue,C=W.lastBaseUpdate,C!==S&&(C===null?W.firstBaseUpdate=G:C.next=G,W.lastBaseUpdate=M))}if(v!==null){var te=g.baseState;S=0,W=G=M=null,C=v;do{var H=C.lane&-536870913,J=H!==C.lane;if(J?(Le&H)===H:(d&H)===H){H!==0&&H===$r&&(mc=!0),W!==null&&(W=W.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ve=r,pe=C;H=o;var Ye=l;switch(pe.tag){case 1:if(ve=pe.payload,typeof ve=="function"){te=ve.call(Ye,te,H);break e}te=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=pe.payload,H=typeof ve=="function"?ve.call(Ye,te,H):ve,H==null)break e;te=y({},te,H);break e;case 2:mi=!0}}H=C.callback,H!==null&&(r.flags|=64,J&&(r.flags|=8192),J=g.callbacks,J===null?g.callbacks=[H]:J.push(H))}else J={lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},W===null?(G=W=J,M=te):W=W.next=J,S|=H;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;J=C,C=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);W===null&&(M=te),g.baseState=M,g.firstBaseUpdate=G,g.lastBaseUpdate=W,v===null&&(g.shared.lanes=0),bi|=S,r.lanes=S,r.memoizedState=te}}function dm(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function hm(r,o){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)dm(l[r],o)}var zr=O(null),qa=O(0);function mm(r,o){r=Xn,X(qa,r),X(zr,o),Xn=r|o.baseLanes}function pc(){X(qa,Xn),X(zr,zr.current)}function gc(){Xn=qa.current,$(zr),$(qa)}var yi=0,Re=null,Je=null,ct=null,Ba=!1,Gr=!1,ir=!1,Va=0,fs=0,Hr=null,wx=0;function lt(){throw Error(i(321))}function yc(r,o){if(o===null)return!1;for(var l=0;l<o.length&&l<r.length;l++)if(!Yt(r[l],o[l]))return!1;return!0}function vc(r,o,l,d,g,v){return yi=v,Re=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=r===null||r.memoizedState===null?Qm:Xm,ir=!1,v=l(d,g),ir=!1,Gr&&(v=gm(o,l,d,g)),pm(r),v}function pm(r){Y.H=Ja;var o=Je!==null&&Je.next!==null;if(yi=0,ct=Je=Re=null,Ba=!1,fs=0,Hr=null,o)throw Error(i(300));r===null||vt||(r=r.dependencies,r!==null&&Ua(r)&&(vt=!0))}function gm(r,o,l,d){Re=r;var g=0;do{if(Gr&&(Hr=null),fs=0,Gr=!1,25<=g)throw Error(i(301));if(g+=1,ct=Je=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Y.H=Mx,v=o(l,d)}while(Gr);return v}function bx(){var r=Y.H,o=r.useState()[0];return o=typeof o.then=="function"?ds(o):o,r=r.useState()[0],(Je!==null?Je.memoizedState:null)!==r&&(Re.flags|=1024),o}function _c(){var r=Va!==0;return Va=0,r}function Tc(r,o,l){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~l}function xc(r){if(Ba){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ba=!1}yi=0,ct=Je=Re=null,Gr=!1,fs=Va=0,Hr=null}function $t(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Re.memoizedState=ct=r:ct=ct.next=r,ct}function ft(){if(Je===null){var r=Re.alternate;r=r!==null?r.memoizedState:null}else r=Je.next;var o=ct===null?Re.memoizedState:ct.next;if(o!==null)ct=o,Je=r;else{if(r===null)throw Re.alternate===null?Error(i(467)):Error(i(310));Je=r,r={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},ct===null?Re.memoizedState=ct=r:ct=ct.next=r}return ct}function Sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ds(r){var o=fs;return fs+=1,Hr===null&&(Hr=[]),r=um(Hr,r,o),o=Re,(ct===null?o.memoizedState:ct.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?Qm:Xm),r}function $a(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ds(r);if(r.$$typeof===D)return kt(r)}throw Error(i(438,String(r)))}function wc(r){var o=null,l=Re.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var d=Re.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Sc(),Re.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(r),d=0;d<r;d++)l[d]=L;return o.index++,l}function Jn(r,o){return typeof o=="function"?o(r):o}function Fa(r){var o=ft();return bc(o,Je,r)}function bc(r,o,l){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var g=r.baseQueue,v=d.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}o.baseQueue=g=v,d.pending=null}if(v=r.baseState,g===null)r.memoizedState=v;else{o=g.next;var C=S=null,M=null,G=o,W=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Le&te)===te:(yi&te)===te){var H=G.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===$r&&(W=!0);else if((yi&H)===H){G=G.next,H===$r&&(W=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(C=M=te,S=v):M=M.next=te,Re.lanes|=H,bi|=H;te=G.action,ir&&l(v,te),v=G.hasEagerState?G.eagerState:l(v,te)}else H={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(C=M=H,S=v):M=M.next=H,Re.lanes|=te,bi|=te;G=G.next}while(G!==null&&G!==o);if(M===null?S=v:M.next=C,!Yt(v,r.memoizedState)&&(vt=!0,W&&(l=Fr,l!==null)))throw l;r.memoizedState=v,r.baseState=S,r.baseQueue=M,d.lastRenderedState=v}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Cc(r){var o=ft(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var d=l.dispatch,g=l.pending,v=o.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do v=r(v,S.action),S=S.next;while(S!==g);Yt(v,o.memoizedState)||(vt=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,d]}function ym(r,o,l){var d=Re,g=ft(),v=Ve;if(v){if(l===void 0)throw Error(i(407));l=l()}else l=o();var S=!Yt((Je||g).memoizedState,l);S&&(g.memoizedState=l,vt=!0),g=g.queue;var C=Tm.bind(null,d,g,r);if(hs(2048,8,C,[r]),g.getSnapshot!==o||S||ct!==null&&ct.memoizedState.tag&1){if(d.flags|=2048,Jr(9,za(),_m.bind(null,d,g,l,o),null),Xe===null)throw Error(i(349));v||(yi&124)!==0||vm(d,o,l)}return l}function vm(r,o,l){r.flags|=16384,r={getSnapshot:o,value:l},o=Re.updateQueue,o===null?(o=Sc(),Re.updateQueue=o,o.stores=[r]):(l=o.stores,l===null?o.stores=[r]:l.push(r))}function _m(r,o,l,d){o.value=l,o.getSnapshot=d,xm(o)&&Sm(r)}function Tm(r,o,l){return l(function(){xm(o)&&Sm(r)})}function xm(r){var o=r.getSnapshot;r=r.value;try{var l=o();return!Yt(r,l)}catch{return!0}}function Sm(r){var o=Or(r,2);o!==null&&en(o,r,2)}function Ec(r){var o=$t();if(typeof r=="function"){var l=r;if(r=l(),ir){Cn(!0);try{l()}finally{Cn(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:r},o}function wm(r,o,l,d){return r.baseState=l,bc(r,Je,typeof d=="function"?d:Jn)}function Cx(r,o,l,d,g){if(Ha(r))throw Error(i(485));if(r=o.action,r!==null){var v={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};Y.T!==null?l(!0):v.isTransition=!1,d(v),l=o.pending,l===null?(v.next=o.pending=v,bm(o,v)):(v.next=l.next,o.pending=l.next=v)}}function bm(r,o){var l=o.action,d=o.payload,g=r.state;if(o.isTransition){var v=Y.T,S={};Y.T=S;try{var C=l(g,d),M=Y.S;M!==null&&M(S,C),Cm(r,o,C)}catch(G){Ac(r,o,G)}finally{Y.T=v}}else try{v=l(g,d),Cm(r,o,v)}catch(G){Ac(r,o,G)}}function Cm(r,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Em(r,o,d)},function(d){return Ac(r,o,d)}):Em(r,o,l)}function Em(r,o,l){o.status="fulfilled",o.value=l,Am(o),r.state=l,o=r.pending,o!==null&&(l=o.next,l===o?r.pending=null:(l=l.next,o.next=l,bm(r,l)))}function Ac(r,o,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=l,Am(o),o=o.next;while(o!==d)}r.action=null}function Am(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Rm(r,o){return o}function Nm(r,o){if(Ve){var l=Xe.formState;if(l!==null){e:{var d=Re;if(Ve){if(st){t:{for(var g=st,v=En;g.nodeType!==8;){if(!v){g=null;break t}if(g=vn(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){st=vn(g.nextSibling),d=g.data==="F!";break e}}Wi(d)}d=!1}d&&(o=l[0])}}return l=$t(),l.memoizedState=l.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:o},l.queue=d,l=Ym.bind(null,Re,d),d.dispatch=l,d=Ec(!1),v=Dc.bind(null,Re,!1,d.queue),d=$t(),g={state:o,dispatch:null,action:r,pending:null},d.queue=g,l=Cx.bind(null,Re,g,v,l),g.dispatch=l,d.memoizedState=r,[o,l,!1]}function Mm(r){var o=ft();return km(o,Je,r)}function km(r,o,l){if(o=bc(r,o,Rm)[0],r=Fa(Jn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=ds(o)}catch(S){throw S===ss?La:S}else d=o;o=ft();var g=o.queue,v=g.dispatch;return l!==o.memoizedState&&(Re.flags|=2048,Jr(9,za(),Ex.bind(null,g,l),null)),[d,v,r]}function Ex(r,o){r.action=o}function Dm(r){var o=ft(),l=Je;if(l!==null)return km(o,l,r);ft(),o=o.memoizedState,l=ft();var d=l.queue.dispatch;return l.memoizedState=r,[o,d,!1]}function Jr(r,o,l,d){return r={tag:r,create:l,deps:d,inst:o,next:null},o=Re.updateQueue,o===null&&(o=Sc(),Re.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,o.lastEffect=r),r}function za(){return{destroy:void 0,resource:void 0}}function Um(){return ft().memoizedState}function Ga(r,o,l,d){var g=$t();d=d===void 0?null:d,Re.flags|=r,g.memoizedState=Jr(1|o,za(),l,d)}function hs(r,o,l,d){var g=ft();d=d===void 0?null:d;var v=g.memoizedState.inst;Je!==null&&d!==null&&yc(d,Je.memoizedState.deps)?g.memoizedState=Jr(o,v,l,d):(Re.flags|=r,g.memoizedState=Jr(1|o,v,l,d))}function Im(r,o){Ga(8390656,8,r,o)}function Pm(r,o){hs(2048,8,r,o)}function Lm(r,o){return hs(4,2,r,o)}function Om(r,o){return hs(4,4,r,o)}function qm(r,o){if(typeof o=="function"){r=r();var l=o(r);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Bm(r,o,l){l=l!=null?l.concat([r]):null,hs(4,4,qm.bind(null,o,r),l)}function Rc(){}function Vm(r,o){var l=ft();o=o===void 0?null:o;var d=l.memoizedState;return o!==null&&yc(o,d[1])?d[0]:(l.memoizedState=[r,o],r)}function $m(r,o){var l=ft();o=o===void 0?null:o;var d=l.memoizedState;if(o!==null&&yc(o,d[1]))return d[0];if(d=r(),ir){Cn(!0);try{r()}finally{Cn(!1)}}return l.memoizedState=[d,o],d}function Nc(r,o,l){return l===void 0||(yi&1073741824)!==0?r.memoizedState=o:(r.memoizedState=l,r=Gp(),Re.lanes|=r,bi|=r,l)}function Fm(r,o,l,d){return Yt(l,o)?l:zr.current!==null?(r=Nc(r,l,d),Yt(r,o)||(vt=!0),r):(yi&42)===0?(vt=!0,r.memoizedState=l):(r=Gp(),Re.lanes|=r,bi|=r,o)}function zm(r,o,l,d,g){var v=oe.p;oe.p=v!==0&&8>v?v:8;var S=Y.T,C={};Y.T=C,Dc(r,!1,o,l);try{var M=g(),G=Y.S;if(G!==null&&G(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=Sx(M,d);ms(r,o,W,Wt(r))}else ms(r,o,d,Wt(r))}catch(te){ms(r,o,{then:function(){},status:"rejected",reason:te},Wt())}finally{oe.p=v,Y.T=S}}function Ax(){}function Mc(r,o,l,d){if(r.tag!==5)throw Error(i(476));var g=Gm(r).queue;zm(r,g,o,j,l===null?Ax:function(){return Hm(r),l(d)})}function Gm(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:j},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:l},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Hm(r){var o=Gm(r).next.queue;ms(r,o,{},Wt())}function kc(){return kt(Ds)}function Jm(){return ft().memoizedState}function jm(){return ft().memoizedState}function Rx(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var l=Wt();r=pi(l);var d=gi(o,r,l);d!==null&&(en(d,o,l),ls(d,o,l)),o={cache:ac()},r.payload=o;return}o=o.return}}function Nx(r,o,l){var d=Wt();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ha(r)?Km(o,l):(l=Qu(r,o,l,d),l!==null&&(en(l,r,d),Zm(l,o,d)))}function Ym(r,o,l){var d=Wt();ms(r,o,l,d)}function ms(r,o,l,d){var g={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ha(r))Km(o,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,C=v(S,l);if(g.hasEagerState=!0,g.eagerState=C,Yt(C,S))return Ra(r,o,g,0),Xe===null&&Aa(),!1}catch{}finally{}if(l=Qu(r,o,g,d),l!==null)return en(l,r,d),Zm(l,o,d),!0}return!1}function Dc(r,o,l,d){if(d={lane:2,revertLane:ff(),action:d,hasEagerState:!1,eagerState:null,next:null},Ha(r)){if(o)throw Error(i(479))}else o=Qu(r,l,d,2),o!==null&&en(o,r,2)}function Ha(r){var o=r.alternate;return r===Re||o!==null&&o===Re}function Km(r,o){Gr=Ba=!0;var l=r.pending;l===null?o.next=o:(o.next=l.next,l.next=o),r.pending=o}function Zm(r,o,l){if((l&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,rh(r,l)}}var Ja={readContext:kt,use:$a,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},Qm={readContext:kt,use:$a,useCallback:function(r,o){return $t().memoizedState=[r,o===void 0?null:o],r},useContext:kt,useEffect:Im,useImperativeHandle:function(r,o,l){l=l!=null?l.concat([r]):null,Ga(4194308,4,qm.bind(null,o,r),l)},useLayoutEffect:function(r,o){return Ga(4194308,4,r,o)},useInsertionEffect:function(r,o){Ga(4,2,r,o)},useMemo:function(r,o){var l=$t();o=o===void 0?null:o;var d=r();if(ir){Cn(!0);try{r()}finally{Cn(!1)}}return l.memoizedState=[d,o],d},useReducer:function(r,o,l){var d=$t();if(l!==void 0){var g=l(o);if(ir){Cn(!0);try{l(o)}finally{Cn(!1)}}}else g=o;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=Nx.bind(null,Re,r),[d.memoizedState,r]},useRef:function(r){var o=$t();return r={current:r},o.memoizedState=r},useState:function(r){r=Ec(r);var o=r.queue,l=Ym.bind(null,Re,o);return o.dispatch=l,[r.memoizedState,l]},useDebugValue:Rc,useDeferredValue:function(r,o){var l=$t();return Nc(l,r,o)},useTransition:function(){var r=Ec(!1);return r=zm.bind(null,Re,r.queue,!0,!1),$t().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,l){var d=Re,g=$t();if(Ve){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),Xe===null)throw Error(i(349));(Le&124)!==0||vm(d,o,l)}g.memoizedState=l;var v={value:l,getSnapshot:o};return g.queue=v,Im(Tm.bind(null,d,v,r),[r]),d.flags|=2048,Jr(9,za(),_m.bind(null,d,v,l,o),null),l},useId:function(){var r=$t(),o=Xe.identifierPrefix;if(Ve){var l=zn,d=Fn;l=(d&~(1<<32-Lt(d)-1)).toString(32)+l,o=""+o+"R"+l,l=Va++,0<l&&(o+="H"+l.toString(32)),o+=""}else l=wx++,o=""+o+"r"+l.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:kc,useFormState:Nm,useActionState:Nm,useOptimistic:function(r){var o=$t();o.memoizedState=o.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Dc.bind(null,Re,!0,l),l.dispatch=o,[r,o]},useMemoCache:wc,useCacheRefresh:function(){return $t().memoizedState=Rx.bind(null,Re)}},Xm={readContext:kt,use:$a,useCallback:Vm,useContext:kt,useEffect:Pm,useImperativeHandle:Bm,useInsertionEffect:Lm,useLayoutEffect:Om,useMemo:$m,useReducer:Fa,useRef:Um,useState:function(){return Fa(Jn)},useDebugValue:Rc,useDeferredValue:function(r,o){var l=ft();return Fm(l,Je.memoizedState,r,o)},useTransition:function(){var r=Fa(Jn)[0],o=ft().memoizedState;return[typeof r=="boolean"?r:ds(r),o]},useSyncExternalStore:ym,useId:Jm,useHostTransitionStatus:kc,useFormState:Mm,useActionState:Mm,useOptimistic:function(r,o){var l=ft();return wm(l,Je,r,o)},useMemoCache:wc,useCacheRefresh:jm},Mx={readContext:kt,use:$a,useCallback:Vm,useContext:kt,useEffect:Pm,useImperativeHandle:Bm,useInsertionEffect:Lm,useLayoutEffect:Om,useMemo:$m,useReducer:Cc,useRef:Um,useState:function(){return Cc(Jn)},useDebugValue:Rc,useDeferredValue:function(r,o){var l=ft();return Je===null?Nc(l,r,o):Fm(l,Je.memoizedState,r,o)},useTransition:function(){var r=Cc(Jn)[0],o=ft().memoizedState;return[typeof r=="boolean"?r:ds(r),o]},useSyncExternalStore:ym,useId:Jm,useHostTransitionStatus:kc,useFormState:Dm,useActionState:Dm,useOptimistic:function(r,o){var l=ft();return Je!==null?wm(l,Je,r,o):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:wc,useCacheRefresh:jm},jr=null,ps=0;function ja(r){var o=ps;return ps+=1,jr===null&&(jr=[]),um(jr,r,o)}function gs(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Ya(r,o){throw o.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Wm(r){var o=r._init;return o(r._payload)}function ep(r){function o(V,I){if(r){var F=V.deletions;F===null?(V.deletions=[I],V.flags|=16):F.push(I)}}function l(V,I){if(!r)return null;for(;I!==null;)o(V,I),I=I.sibling;return null}function d(V){for(var I=new Map;V!==null;)V.key!==null?I.set(V.key,V):I.set(V.index,V),V=V.sibling;return I}function g(V,I){return V=$n(V,I),V.index=0,V.sibling=null,V}function v(V,I,F){return V.index=F,r?(F=V.alternate,F!==null?(F=F.index,F<I?(V.flags|=67108866,I):F):(V.flags|=67108866,I)):(V.flags|=1048576,I)}function S(V){return r&&V.alternate===null&&(V.flags|=67108866),V}function C(V,I,F,ee){return I===null||I.tag!==6?(I=Wu(F,V.mode,ee),I.return=V,I):(I=g(I,F),I.return=V,I)}function M(V,I,F,ee){var ce=F.type;return ce===w?W(V,I,F.props.children,ee,F.key):I!==null&&(I.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ie&&Wm(ce)===I.type)?(I=g(I,F.props),gs(I,F),I.return=V,I):(I=Ma(F.type,F.key,F.props,null,V.mode,ee),gs(I,F),I.return=V,I)}function G(V,I,F,ee){return I===null||I.tag!==4||I.stateNode.containerInfo!==F.containerInfo||I.stateNode.implementation!==F.implementation?(I=ec(F,V.mode,ee),I.return=V,I):(I=g(I,F.children||[]),I.return=V,I)}function W(V,I,F,ee,ce){return I===null||I.tag!==7?(I=Ki(F,V.mode,ee,ce),I.return=V,I):(I=g(I,F),I.return=V,I)}function te(V,I,F){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Wu(""+I,V.mode,F),I.return=V,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return F=Ma(I.type,I.key,I.props,null,V.mode,F),gs(F,I),F.return=V,F;case b:return I=ec(I,V.mode,F),I.return=V,I;case ie:var ee=I._init;return I=ee(I._payload),te(V,I,F)}if(Ne(I)||ye(I))return I=Ki(I,V.mode,F,null),I.return=V,I;if(typeof I.then=="function")return te(V,ja(I),F);if(I.$$typeof===D)return te(V,Ia(V,I),F);Ya(V,I)}return null}function H(V,I,F,ee){var ce=I!==null?I.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ce!==null?null:C(V,I,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return F.key===ce?M(V,I,F,ee):null;case b:return F.key===ce?G(V,I,F,ee):null;case ie:return ce=F._init,F=ce(F._payload),H(V,I,F,ee)}if(Ne(F)||ye(F))return ce!==null?null:W(V,I,F,ee,null);if(typeof F.then=="function")return H(V,I,ja(F),ee);if(F.$$typeof===D)return H(V,I,Ia(V,F),ee);Ya(V,F)}return null}function J(V,I,F,ee,ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return V=V.get(F)||null,C(I,V,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return V=V.get(ee.key===null?F:ee.key)||null,M(I,V,ee,ce);case b:return V=V.get(ee.key===null?F:ee.key)||null,G(I,V,ee,ce);case ie:var Me=ee._init;return ee=Me(ee._payload),J(V,I,F,ee,ce)}if(Ne(ee)||ye(ee))return V=V.get(F)||null,W(I,V,ee,ce,null);if(typeof ee.then=="function")return J(V,I,F,ja(ee),ce);if(ee.$$typeof===D)return J(V,I,F,Ia(I,ee),ce);Ya(I,ee)}return null}function ve(V,I,F,ee){for(var ce=null,Me=null,he=I,ge=I=0,Tt=null;he!==null&&ge<F.length;ge++){he.index>ge?(Tt=he,he=null):Tt=he.sibling;var qe=H(V,he,F[ge],ee);if(qe===null){he===null&&(he=Tt);break}r&&he&&qe.alternate===null&&o(V,he),I=v(qe,I,ge),Me===null?ce=qe:Me.sibling=qe,Me=qe,he=Tt}if(ge===F.length)return l(V,he),Ve&&Qi(V,ge),ce;if(he===null){for(;ge<F.length;ge++)he=te(V,F[ge],ee),he!==null&&(I=v(he,I,ge),Me===null?ce=he:Me.sibling=he,Me=he);return Ve&&Qi(V,ge),ce}for(he=d(he);ge<F.length;ge++)Tt=J(he,V,ge,F[ge],ee),Tt!==null&&(r&&Tt.alternate!==null&&he.delete(Tt.key===null?ge:Tt.key),I=v(Tt,I,ge),Me===null?ce=Tt:Me.sibling=Tt,Me=Tt);return r&&he.forEach(function(Ui){return o(V,Ui)}),Ve&&Qi(V,ge),ce}function pe(V,I,F,ee){if(F==null)throw Error(i(151));for(var ce=null,Me=null,he=I,ge=I=0,Tt=null,qe=F.next();he!==null&&!qe.done;ge++,qe=F.next()){he.index>ge?(Tt=he,he=null):Tt=he.sibling;var Ui=H(V,he,qe.value,ee);if(Ui===null){he===null&&(he=Tt);break}r&&he&&Ui.alternate===null&&o(V,he),I=v(Ui,I,ge),Me===null?ce=Ui:Me.sibling=Ui,Me=Ui,he=Tt}if(qe.done)return l(V,he),Ve&&Qi(V,ge),ce;if(he===null){for(;!qe.done;ge++,qe=F.next())qe=te(V,qe.value,ee),qe!==null&&(I=v(qe,I,ge),Me===null?ce=qe:Me.sibling=qe,Me=qe);return Ve&&Qi(V,ge),ce}for(he=d(he);!qe.done;ge++,qe=F.next())qe=J(he,V,ge,qe.value,ee),qe!==null&&(r&&qe.alternate!==null&&he.delete(qe.key===null?ge:qe.key),I=v(qe,I,ge),Me===null?ce=qe:Me.sibling=qe,Me=qe);return r&&he.forEach(function(kS){return o(V,kS)}),Ve&&Qi(V,ge),ce}function Ye(V,I,F,ee){if(typeof F=="object"&&F!==null&&F.type===w&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case x:e:{for(var ce=F.key;I!==null;){if(I.key===ce){if(ce=F.type,ce===w){if(I.tag===7){l(V,I.sibling),ee=g(I,F.props.children),ee.return=V,V=ee;break e}}else if(I.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ie&&Wm(ce)===I.type){l(V,I.sibling),ee=g(I,F.props),gs(ee,F),ee.return=V,V=ee;break e}l(V,I);break}else o(V,I);I=I.sibling}F.type===w?(ee=Ki(F.props.children,V.mode,ee,F.key),ee.return=V,V=ee):(ee=Ma(F.type,F.key,F.props,null,V.mode,ee),gs(ee,F),ee.return=V,V=ee)}return S(V);case b:e:{for(ce=F.key;I!==null;){if(I.key===ce)if(I.tag===4&&I.stateNode.containerInfo===F.containerInfo&&I.stateNode.implementation===F.implementation){l(V,I.sibling),ee=g(I,F.children||[]),ee.return=V,V=ee;break e}else{l(V,I);break}else o(V,I);I=I.sibling}ee=ec(F,V.mode,ee),ee.return=V,V=ee}return S(V);case ie:return ce=F._init,F=ce(F._payload),Ye(V,I,F,ee)}if(Ne(F))return ve(V,I,F,ee);if(ye(F)){if(ce=ye(F),typeof ce!="function")throw Error(i(150));return F=ce.call(F),pe(V,I,F,ee)}if(typeof F.then=="function")return Ye(V,I,ja(F),ee);if(F.$$typeof===D)return Ye(V,I,Ia(V,F),ee);Ya(V,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,I!==null&&I.tag===6?(l(V,I.sibling),ee=g(I,F),ee.return=V,V=ee):(l(V,I),ee=Wu(F,V.mode,ee),ee.return=V,V=ee),S(V)):l(V,I)}return function(V,I,F,ee){try{ps=0;var ce=Ye(V,I,F,ee);return jr=null,ce}catch(he){if(he===ss||he===La)throw he;var Me=Kt(29,he,null,V.mode);return Me.lanes=ee,Me.return=V,Me}finally{}}}var Yr=ep(!0),tp=ep(!1),cn=O(null),An=null;function vi(r){var o=r.alternate;X(gt,gt.current&1),X(cn,r),An===null&&(o===null||zr.current!==null||o.memoizedState!==null)&&(An=r)}function np(r){if(r.tag===22){if(X(gt,gt.current),X(cn,r),An===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(An=r)}}else _i()}function _i(){X(gt,gt.current),X(cn,cn.current)}function jn(r){$(cn),An===r&&(An=null),$(gt)}var gt=O(0);function Ka(r){for(var o=r;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||wf(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Uc(r,o,l,d){o=r.memoizedState,l=l(d,o),l=l==null?o:y({},o,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Ic={enqueueSetState:function(r,o,l){r=r._reactInternals;var d=Wt(),g=pi(d);g.payload=o,l!=null&&(g.callback=l),o=gi(r,g,d),o!==null&&(en(o,r,d),ls(o,r,d))},enqueueReplaceState:function(r,o,l){r=r._reactInternals;var d=Wt(),g=pi(d);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=gi(r,g,d),o!==null&&(en(o,r,d),ls(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var l=Wt(),d=pi(l);d.tag=2,o!=null&&(d.callback=o),o=gi(r,d,l),o!==null&&(en(o,r,l),ls(o,r,l))}};function ip(r,o,l,d,g,v,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,S):o.prototype&&o.prototype.isPureReactComponent?!Xo(l,d)||!Xo(g,v):!0}function rp(r,o,l,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==r&&Ic.enqueueReplaceState(o,o.state,null)}function rr(r,o){var l=o;if("ref"in o){l={};for(var d in o)d!=="ref"&&(l[d]=o[d])}if(r=r.defaultProps){l===o&&(l=y({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}var Za=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function op(r){Za(r)}function sp(r){console.error(r)}function ap(r){Za(r)}function Qa(r,o){try{var l=r.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function lp(r,o,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Pc(r,o,l){return l=pi(l),l.tag=3,l.payload={element:null},l.callback=function(){Qa(r,o)},l}function up(r){return r=pi(r),r.tag=3,r}function cp(r,o,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;r.payload=function(){return g(v)},r.callback=function(){lp(o,l,d)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){lp(o,l,d),typeof g!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function kx(r,o,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=l.alternate,o!==null&&is(o,l,g,!0),l=cn.current,l!==null){switch(l.tag){case 13:return An===null?sf():l.alternate===null&&at===0&&(at=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===cc?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([d]):o.add(d),lf(r,d,g)),!1;case 22:return l.flags|=65536,d===cc?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([d]):l.add(d)),lf(r,d,g)),!1}throw Error(i(435,l.tag))}return lf(r,d,g),sf(),!1}if(Ve)return o=cn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,d!==ic&&(r=Error(i(422),{cause:d}),ns(sn(r,l)))):(d!==ic&&(o=Error(i(423),{cause:d}),ns(sn(o,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=sn(d,l),g=Pc(r.stateNode,d,g),hc(r,g),at!==4&&(at=2)),!1;var v=Error(i(520),{cause:d});if(v=sn(v,l),ws===null?ws=[v]:ws.push(v),at!==4&&(at=2),o===null)return!0;d=sn(d,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=Pc(l.stateNode,d,r),hc(l,r),!1;case 1:if(o=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ci===null||!Ci.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=up(g),cp(g,r,l,d),hc(l,g),!1}l=l.return}while(l!==null);return!1}var fp=Error(i(461)),vt=!1;function bt(r,o,l,d){o.child=r===null?tp(o,null,l,d):Yr(o,r.child,l,d)}function dp(r,o,l,d,g){l=l.render;var v=o.ref;if("ref"in d){var S={};for(var C in d)C!=="ref"&&(S[C]=d[C])}else S=d;return tr(o),d=vc(r,o,l,S,v,g),C=_c(),r!==null&&!vt?(Tc(r,o,g),Yn(r,o,g)):(Ve&&C&&tc(o),o.flags|=1,bt(r,o,d,g),o.child)}function hp(r,o,l,d,g){if(r===null){var v=l.type;return typeof v=="function"&&!Xu(v)&&v.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=v,mp(r,o,v,d,g)):(r=Ma(l.type,null,d,o,o.mode,g),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!zc(r,g)){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:Xo,l(S,d)&&r.ref===o.ref)return Yn(r,o,g)}return o.flags|=1,r=$n(v,d),r.ref=o.ref,r.return=o,o.child=r}function mp(r,o,l,d,g){if(r!==null){var v=r.memoizedProps;if(Xo(v,d)&&r.ref===o.ref)if(vt=!1,o.pendingProps=d=v,zc(r,g))(r.flags&131072)!==0&&(vt=!0);else return o.lanes=r.lanes,Yn(r,o,g)}return Lc(r,o,l,d,g)}function pp(r,o,l){var d=o.pendingProps,g=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|l:l,r!==null){for(g=o.child=r.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return gp(r,o,d,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Pa(o,v!==null?v.cachePool:null),v!==null?mm(o,v):pc(),np(o);else return o.lanes=o.childLanes=536870912,gp(r,o,v!==null?v.baseLanes|l:l,l)}else v!==null?(Pa(o,v.cachePool),mm(o,v),_i(),o.memoizedState=null):(r!==null&&Pa(o,null),pc(),_i());return bt(r,o,g,l),o.child}function gp(r,o,l,d){var g=uc();return g=g===null?null:{parent:pt._currentValue,pool:g},o.memoizedState={baseLanes:l,cachePool:g},r!==null&&Pa(o,null),pc(),np(o),r!==null&&is(r,o,d,!0),null}function Xa(r,o){var l=o.ref;if(l===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(o.flags|=4194816)}}function Lc(r,o,l,d,g){return tr(o),l=vc(r,o,l,d,void 0,g),d=_c(),r!==null&&!vt?(Tc(r,o,g),Yn(r,o,g)):(Ve&&d&&tc(o),o.flags|=1,bt(r,o,l,g),o.child)}function yp(r,o,l,d,g,v){return tr(o),o.updateQueue=null,l=gm(o,d,l,g),pm(r),d=_c(),r!==null&&!vt?(Tc(r,o,v),Yn(r,o,v)):(Ve&&d&&tc(o),o.flags|=1,bt(r,o,l,v),o.child)}function vp(r,o,l,d,g){if(tr(o),o.stateNode===null){var v=qr,S=l.contextType;typeof S=="object"&&S!==null&&(v=kt(S)),v=new l(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ic,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},fc(o),S=l.contextType,v.context=typeof S=="object"&&S!==null?kt(S):qr,v.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Uc(o,l,S,d),v.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Ic.enqueueReplaceState(v,v.state,null),cs(o,d,v,g),us(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){v=o.stateNode;var C=o.memoizedProps,M=rr(l,C);v.props=M;var G=v.context,W=l.contextType;S=qr,typeof W=="object"&&W!==null&&(S=kt(W));var te=l.getDerivedStateFromProps;W=typeof te=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,W||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||G!==S)&&rp(o,v,d,S),mi=!1;var H=o.memoizedState;v.state=H,cs(o,d,v,g),us(),G=o.memoizedState,C||H!==G||mi?(typeof te=="function"&&(Uc(o,l,te,d),G=o.memoizedState),(M=mi||ip(o,l,M,d,H,G,S))?(W||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=G),v.props=d,v.state=G,v.context=S,d=M):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,dc(r,o),S=o.memoizedProps,W=rr(l,S),v.props=W,te=o.pendingProps,H=v.context,G=l.contextType,M=qr,typeof G=="object"&&G!==null&&(M=kt(G)),C=l.getDerivedStateFromProps,(G=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==te||H!==M)&&rp(o,v,d,M),mi=!1,H=o.memoizedState,v.state=H,cs(o,d,v,g),us();var J=o.memoizedState;S!==te||H!==J||mi||r!==null&&r.dependencies!==null&&Ua(r.dependencies)?(typeof C=="function"&&(Uc(o,l,C,d),J=o.memoizedState),(W=mi||ip(o,l,W,d,H,J,M)||r!==null&&r.dependencies!==null&&Ua(r.dependencies))?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,J,M),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,J,M)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=J),v.props=d,v.state=J,v.context=M,d=W):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(o.flags|=1024),d=!1)}return v=d,Xa(r,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&d?(o.child=Yr(o,r.child,null,g),o.child=Yr(o,null,l,g)):bt(r,o,l,g),o.memoizedState=v.state,r=o.child):r=Yn(r,o,g),r}function _p(r,o,l,d){return ts(),o.flags|=256,bt(r,o,l,d),o.child}var Oc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qc(r){return{baseLanes:r,cachePool:sm()}}function Bc(r,o,l){return r=r!==null?r.childLanes&~l:0,o&&(r|=fn),r}function Tp(r,o,l){var d=o.pendingProps,g=!1,v=(o.flags&128)!==0,S;if((S=v)||(S=r!==null&&r.memoizedState===null?!1:(gt.current&2)!==0),S&&(g=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,r===null){if(Ve){if(g?vi(o):_i(),Ve){var C=st,M;if(M=C){e:{for(M=C,C=En;M.nodeType!==8;){if(!C){C=null;break e}if(M=vn(M.nextSibling),M===null){C=null;break e}}C=M}C!==null?(o.memoizedState={dehydrated:C,treeContext:Zi!==null?{id:Fn,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},M=Kt(18,null,null,0),M.stateNode=C,M.return=o,o.child=M,Ot=o,st=null,M=!0):M=!1}M||Wi(o)}if(C=o.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return wf(C)?o.lanes=32:o.lanes=536870912,null;jn(o)}return C=d.children,d=d.fallback,g?(_i(),g=o.mode,C=Wa({mode:"hidden",children:C},g),d=Ki(d,g,l,null),C.return=o,d.return=o,C.sibling=d,o.child=C,g=o.child,g.memoizedState=qc(l),g.childLanes=Bc(r,S,l),o.memoizedState=Oc,d):(vi(o),Vc(o,C))}if(M=r.memoizedState,M!==null&&(C=M.dehydrated,C!==null)){if(v)o.flags&256?(vi(o),o.flags&=-257,o=$c(r,o,l)):o.memoizedState!==null?(_i(),o.child=r.child,o.flags|=128,o=null):(_i(),g=d.fallback,C=o.mode,d=Wa({mode:"visible",children:d.children},C),g=Ki(g,C,l,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,Yr(o,r.child,null,l),d=o.child,d.memoizedState=qc(l),d.childLanes=Bc(r,S,l),o.memoizedState=Oc,o=g);else if(vi(o),wf(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var G=S.dgst;S=G,d=Error(i(419)),d.stack="",d.digest=S,ns({value:d,source:null,stack:null}),o=$c(r,o,l)}else if(vt||is(r,o,l,!1),S=(l&r.childLanes)!==0,vt||S){if(S=Xe,S!==null&&(d=l&-l,d=(d&42)!==0?1:wu(d),d=(d&(S.suspendedLanes|l))!==0?0:d,d!==0&&d!==M.retryLane))throw M.retryLane=d,Or(r,d),en(S,r,d),fp;C.data==="$?"||sf(),o=$c(r,o,l)}else C.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=M.treeContext,st=vn(C.nextSibling),Ot=o,Ve=!0,Xi=null,En=!1,r!==null&&(ln[un++]=Fn,ln[un++]=zn,ln[un++]=Zi,Fn=r.id,zn=r.overflow,Zi=o),o=Vc(o,d.children),o.flags|=4096);return o}return g?(_i(),g=d.fallback,C=o.mode,M=r.child,G=M.sibling,d=$n(M,{mode:"hidden",children:d.children}),d.subtreeFlags=M.subtreeFlags&65011712,G!==null?g=$n(G,g):(g=Ki(g,C,l,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,C=r.child.memoizedState,C===null?C=qc(l):(M=C.cachePool,M!==null?(G=pt._currentValue,M=M.parent!==G?{parent:G,pool:G}:M):M=sm(),C={baseLanes:C.baseLanes|l,cachePool:M}),g.memoizedState=C,g.childLanes=Bc(r,S,l),o.memoizedState=Oc,d):(vi(o),l=r.child,r=l.sibling,l=$n(l,{mode:"visible",children:d.children}),l.return=o,l.sibling=null,r!==null&&(S=o.deletions,S===null?(o.deletions=[r],o.flags|=16):S.push(r)),o.child=l,o.memoizedState=null,l)}function Vc(r,o){return o=Wa({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Wa(r,o){return r=Kt(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function $c(r,o,l){return Yr(o,r.child,null,l),r=Vc(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function xp(r,o,l){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),oc(r.return,o,l)}function Fc(r,o,l,d,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=g)}function Sp(r,o,l){var d=o.pendingProps,g=d.revealOrder,v=d.tail;if(bt(r,o,d.children,l),d=gt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&xp(r,l,o);else if(r.tag===19)xp(r,l,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(X(gt,d),g){case"forwards":for(l=o.child,g=null;l!==null;)r=l.alternate,r!==null&&Ka(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),Fc(o,!1,g,l,v);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(r=g.alternate,r!==null&&Ka(r)===null){o.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Fc(o,!0,l,null,v);break;case"together":Fc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Yn(r,o,l){if(r!==null&&(o.dependencies=r.dependencies),bi|=o.lanes,(l&o.childLanes)===0)if(r!==null){if(is(r,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,l=$n(r,r.pendingProps),o.child=l,l.return=o;r.sibling!==null;)r=r.sibling,l=l.sibling=$n(r,r.pendingProps),l.return=o;l.sibling=null}return o.child}function zc(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Ua(r)))}function Dx(r,o,l){switch(o.tag){case 3:Ce(o,o.stateNode.containerInfo),hi(o,pt,r.memoizedState.cache),ts();break;case 27:case 5:ht(o);break;case 4:Ce(o,o.stateNode.containerInfo);break;case 10:hi(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(vi(o),o.flags|=128,null):(l&o.child.childLanes)!==0?Tp(r,o,l):(vi(o),r=Yn(r,o,l),r!==null?r.sibling:null);vi(o);break;case 19:var g=(r.flags&128)!==0;if(d=(l&o.childLanes)!==0,d||(is(r,o,l,!1),d=(l&o.childLanes)!==0),g){if(d)return Sp(r,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),X(gt,gt.current),d)break;return null;case 22:case 23:return o.lanes=0,pp(r,o,l);case 24:hi(o,pt,r.memoizedState.cache)}return Yn(r,o,l)}function wp(r,o,l){if(r!==null)if(r.memoizedProps!==o.pendingProps)vt=!0;else{if(!zc(r,l)&&(o.flags&128)===0)return vt=!1,Dx(r,o,l);vt=(r.flags&131072)!==0}else vt=!1,Ve&&(o.flags&1048576)!==0&&Wh(o,Da,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var d=o.elementType,g=d._init;if(d=g(d._payload),o.type=d,typeof d=="function")Xu(d)?(r=rr(d,r),o.tag=1,o=vp(null,o,d,r,l)):(o.tag=0,o=Lc(null,o,d,r,l));else{if(d!=null){if(g=d.$$typeof,g===U){o.tag=11,o=dp(null,o,d,r,l);break e}else if(g===Z){o.tag=14,o=hp(null,o,d,r,l);break e}}throw o=Ze(d)||d,Error(i(306,o,""))}}return o;case 0:return Lc(r,o,o.type,o.pendingProps,l);case 1:return d=o.type,g=rr(d,o.pendingProps),vp(r,o,d,g,l);case 3:e:{if(Ce(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var v=o.memoizedState;g=v.element,dc(r,o),cs(o,d,null,l);var S=o.memoizedState;if(d=S.cache,hi(o,pt,d),d!==v.cache&&sc(o,[pt],l,!0),us(),d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=_p(r,o,d,l);break e}else if(d!==g){g=sn(Error(i(424)),o),ns(g),o=_p(r,o,d,l);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(st=vn(r.firstChild),Ot=o,Ve=!0,Xi=null,En=!0,l=tp(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ts(),d===g){o=Yn(r,o,l);break e}bt(r,o,d,l)}o=o.child}return o;case 26:return Xa(r,o),r===null?(l=Ag(o.type,null,o.pendingProps,null))?o.memoizedState=l:Ve||(l=o.type,r=o.pendingProps,d=hl(ae.current).createElement(l),d[Mt]=o,d[Bt]=r,Et(d,l,r),yt(d),o.stateNode=d):o.memoizedState=Ag(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return ht(o),r===null&&Ve&&(d=o.stateNode=bg(o.type,o.pendingProps,ae.current),Ot=o,En=!0,g=st,Ri(o.type)?(bf=g,st=vn(d.firstChild)):st=g),bt(r,o,o.pendingProps.children,l),Xa(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Ve&&((g=d=st)&&(d=sS(d,o.type,o.pendingProps,En),d!==null?(o.stateNode=d,Ot=o,st=vn(d.firstChild),En=!1,g=!0):g=!1),g||Wi(o)),ht(o),g=o.type,v=o.pendingProps,S=r!==null?r.memoizedProps:null,d=v.children,Tf(g,v)?d=null:S!==null&&Tf(g,S)&&(o.flags|=32),o.memoizedState!==null&&(g=vc(r,o,bx,null,null,l),Ds._currentValue=g),Xa(r,o),bt(r,o,d,l),o.child;case 6:return r===null&&Ve&&((r=l=st)&&(l=aS(l,o.pendingProps,En),l!==null?(o.stateNode=l,Ot=o,st=null,r=!0):r=!1),r||Wi(o)),null;case 13:return Tp(r,o,l);case 4:return Ce(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=Yr(o,null,d,l):bt(r,o,d,l),o.child;case 11:return dp(r,o,o.type,o.pendingProps,l);case 7:return bt(r,o,o.pendingProps,l),o.child;case 8:return bt(r,o,o.pendingProps.children,l),o.child;case 12:return bt(r,o,o.pendingProps.children,l),o.child;case 10:return d=o.pendingProps,hi(o,o.type,d.value),bt(r,o,d.children,l),o.child;case 9:return g=o.type._context,d=o.pendingProps.children,tr(o),g=kt(g),d=d(g),o.flags|=1,bt(r,o,d,l),o.child;case 14:return hp(r,o,o.type,o.pendingProps,l);case 15:return mp(r,o,o.type,o.pendingProps,l);case 19:return Sp(r,o,l);case 31:return d=o.pendingProps,l=o.mode,d={mode:d.mode,children:d.children},r===null?(l=Wa(d,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=$n(r.child,d),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return pp(r,o,l);case 24:return tr(o),d=kt(pt),r===null?(g=uc(),g===null&&(g=Xe,v=ac(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),o.memoizedState={parent:d,cache:g},fc(o),hi(o,pt,g)):((r.lanes&l)!==0&&(dc(r,o),cs(o,null,null,l),us()),g=r.memoizedState,v=o.memoizedState,g.parent!==d?(g={parent:d,cache:d},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),hi(o,pt,d)):(d=v.cache,hi(o,pt,d),d!==g.cache&&sc(o,[pt],l,!0))),bt(r,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Kn(r){r.flags|=4}function bp(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Dg(o)){if(o=cn.current,o!==null&&((Le&4194048)===Le?An!==null:(Le&62914560)!==Le&&(Le&536870912)===0||o!==An))throw as=cc,am;r.flags|=8192}}function el(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?nh():536870912,r.lanes|=o,Xr|=o)}function ys(r,o){if(!Ve)switch(r.tailMode){case"hidden":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function rt(r){var o=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(o)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=l,o}function Ux(r,o,l){var d=o.pendingProps;switch(nc(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(o),null;case 1:return rt(o),null;case 3:return l=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Hn(pt),Ge(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(es(o)?Kn(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,nm())),rt(o),null;case 26:return l=o.memoizedState,r===null?(Kn(o),l!==null?(rt(o),bp(o,l)):(rt(o),o.flags&=-16777217)):l?l!==r.memoizedState?(Kn(o),rt(o),bp(o,l)):(rt(o),o.flags&=-16777217):(r.memoizedProps!==d&&Kn(o),rt(o),o.flags&=-16777217),null;case 27:Sn(o),l=ae.current;var g=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Kn(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return rt(o),null}r=ne.current,es(o)?em(o):(r=bg(g,d,l),o.stateNode=r,Kn(o))}return rt(o),null;case 5:if(Sn(o),l=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Kn(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return rt(o),null}if(r=ne.current,es(o))em(o);else{switch(g=hl(ae.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(l,{is:d.is}):g.createElement(l)}}r[Mt]=o,r[Bt]=d;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=r;e:switch(Et(r,l,d),l){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Kn(o)}}return rt(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Kn(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=ae.current,es(o)){if(r=o.stateNode,l=o.memoizedProps,d=null,g=Ot,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[Mt]=o,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||yg(r.nodeValue,l)),r||Wi(o)}else r=hl(r).createTextNode(d),r[Mt]=o,o.stateNode=r}return rt(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=es(o),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Mt]=o}else ts(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;rt(o),g=!1}else g=nm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(jn(o),o):(jn(o),null)}if(jn(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=d!==null,r=r!==null&&r.memoizedState!==null,l){d=o.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)}return l!==r&&l&&(o.child.flags|=8192),el(o,o.updateQueue),rt(o),null;case 4:return Ge(),r===null&&pf(o.stateNode.containerInfo),rt(o),null;case 10:return Hn(o.type),rt(o),null;case 19:if($(gt),g=o.memoizedState,g===null)return rt(o),null;if(d=(o.flags&128)!==0,v=g.rendering,v===null)if(d)ys(g,!1);else{if(at!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=Ka(r),v!==null){for(o.flags|=128,ys(g,!1),r=v.updateQueue,o.updateQueue=r,el(o,r),o.subtreeFlags=0,r=l,l=o.child;l!==null;)Xh(l,r),l=l.sibling;return X(gt,gt.current&1|2),o.child}r=r.sibling}g.tail!==null&&Rt()>il&&(o.flags|=128,d=!0,ys(g,!1),o.lanes=4194304)}else{if(!d)if(r=Ka(v),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,el(o,r),ys(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Ve)return rt(o),null}else 2*Rt()-g.renderingStartTime>il&&l!==536870912&&(o.flags|=128,d=!0,ys(g,!1),o.lanes=4194304);g.isBackwards?(v.sibling=o.child,o.child=v):(r=g.last,r!==null?r.sibling=v:o.child=v,g.last=v)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Rt(),o.sibling=null,r=gt.current,X(gt,d?r&1|2:r&1),o):(rt(o),null);case 22:case 23:return jn(o),gc(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(l&536870912)!==0&&(o.flags&128)===0&&(rt(o),o.subtreeFlags&6&&(o.flags|=8192)):rt(o),l=o.updateQueue,l!==null&&el(o,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==l&&(o.flags|=2048),r!==null&&$(nr),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Hn(pt),rt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function Ix(r,o){switch(nc(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Hn(pt),Ge(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Sn(o),null;case 13:if(jn(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));ts()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return $(gt),null;case 4:return Ge(),null;case 10:return Hn(o.type),null;case 22:case 23:return jn(o),gc(),r!==null&&$(nr),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Hn(pt),null;case 25:return null;default:return null}}function Cp(r,o){switch(nc(o),o.tag){case 3:Hn(pt),Ge();break;case 26:case 27:case 5:Sn(o);break;case 4:Ge();break;case 13:jn(o);break;case 19:$(gt);break;case 10:Hn(o.type);break;case 22:case 23:jn(o),gc(),r!==null&&$(nr);break;case 24:Hn(pt)}}function vs(r,o){try{var l=o.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&r)===r){d=void 0;var v=l.create,S=l.inst;d=v(),S.destroy=d}l=l.next}while(l!==g)}}catch(C){Ke(o,o.return,C)}}function Ti(r,o,l){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&r)===r){var S=d.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,g=o;var M=l,G=C;try{G()}catch(W){Ke(g,M,W)}}}d=d.next}while(d!==v)}}catch(W){Ke(o,o.return,W)}}function Ep(r){var o=r.updateQueue;if(o!==null){var l=r.stateNode;try{hm(o,l)}catch(d){Ke(r,r.return,d)}}}function Ap(r,o,l){l.props=rr(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){Ke(r,o,d)}}function _s(r,o){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(g){Ke(r,o,g)}}function Rn(r,o){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){Ke(r,o,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ke(r,o,g)}else l.current=null}function Rp(r){var o=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){Ke(r,r.return,g)}}function Gc(r,o,l){try{var d=r.stateNode;tS(d,r.type,l,o),d[Bt]=o}catch(g){Ke(r,r.return,g)}}function Np(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ri(r.type)||r.tag===4}function Hc(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Np(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ri(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Jc(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(r),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=dl));else if(d!==4&&(d===27&&Ri(r.type)&&(l=r.stateNode,o=null),r=r.child,r!==null))for(Jc(r,o,l),r=r.sibling;r!==null;)Jc(r,o,l),r=r.sibling}function tl(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?l.insertBefore(r,o):l.appendChild(r);else if(d!==4&&(d===27&&Ri(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(tl(r,o,l),r=r.sibling;r!==null;)tl(r,o,l),r=r.sibling}function Mp(r){var o=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Et(o,d,l),o[Mt]=r,o[Bt]=l}catch(v){Ke(r,r.return,v)}}var Zn=!1,ut=!1,jc=!1,kp=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Px(r,o){if(r=r.containerInfo,vf=_l,r=Fh(r),Hu(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,C=-1,M=-1,G=0,W=0,te=r,H=null;t:for(;;){for(var J;te!==l||g!==0&&te.nodeType!==3||(C=S+g),te!==v||d!==0&&te.nodeType!==3||(M=S+d),te.nodeType===3&&(S+=te.nodeValue.length),(J=te.firstChild)!==null;)H=te,te=J;for(;;){if(te===r)break t;if(H===l&&++G===g&&(C=S),H===v&&++W===d&&(M=S),(J=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=J}l=C===-1||M===-1?null:{start:C,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(_f={focusedElem:r,selectionRange:l},_l=!1,_t=o;_t!==null;)if(o=_t,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,_t=r;else for(;_t!==null;){switch(o=_t,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,l=o,g=v.memoizedProps,v=v.memoizedState,d=l.stateNode;try{var ve=rr(l.type,g,l.elementType===l.type);r=d.getSnapshotBeforeUpdate(ve,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(pe){Ke(l,l.return,pe)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,l=r.nodeType,l===9)Sf(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Sf(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,_t=r;break}_t=o.return}}function Dp(r,o,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:xi(r,l),d&4&&vs(5,l);break;case 1:if(xi(r,l),d&4)if(r=l.stateNode,o===null)try{r.componentDidMount()}catch(S){Ke(l,l.return,S)}else{var g=rr(l.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(g,o,r.__reactInternalSnapshotBeforeUpdate)}catch(S){Ke(l,l.return,S)}}d&64&&Ep(l),d&512&&_s(l,l.return);break;case 3:if(xi(r,l),d&64&&(r=l.updateQueue,r!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{hm(r,o)}catch(S){Ke(l,l.return,S)}}break;case 27:o===null&&d&4&&Mp(l);case 26:case 5:xi(r,l),o===null&&d&4&&Rp(l),d&512&&_s(l,l.return);break;case 12:xi(r,l);break;case 13:xi(r,l),d&4&&Pp(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=Gx.bind(null,l),lS(r,l))));break;case 22:if(d=l.memoizedState!==null||Zn,!d){o=o!==null&&o.memoizedState!==null||ut,g=Zn;var v=ut;Zn=d,(ut=o)&&!v?Si(r,l,(l.subtreeFlags&8772)!==0):xi(r,l),Zn=g,ut=v}break;case 30:break;default:xi(r,l)}}function Up(r){var o=r.alternate;o!==null&&(r.alternate=null,Up(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Eu(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var nt=null,Ft=!1;function Qn(r,o,l){for(l=l.child;l!==null;)Ip(r,o,l),l=l.sibling}function Ip(r,o,l){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(ci,l)}catch{}switch(l.tag){case 26:ut||Rn(l,o),Qn(r,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ut||Rn(l,o);var d=nt,g=Ft;Ri(l.type)&&(nt=l.stateNode,Ft=!1),Qn(r,o,l),Rs(l.stateNode),nt=d,Ft=g;break;case 5:ut||Rn(l,o);case 6:if(d=nt,g=Ft,nt=null,Qn(r,o,l),nt=d,Ft=g,nt!==null)if(Ft)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(l.stateNode)}catch(v){Ke(l,o,v)}else try{nt.removeChild(l.stateNode)}catch(v){Ke(l,o,v)}break;case 18:nt!==null&&(Ft?(r=nt,Sg(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Ls(r)):Sg(nt,l.stateNode));break;case 4:d=nt,g=Ft,nt=l.stateNode.containerInfo,Ft=!0,Qn(r,o,l),nt=d,Ft=g;break;case 0:case 11:case 14:case 15:ut||Ti(2,l,o),ut||Ti(4,l,o),Qn(r,o,l);break;case 1:ut||(Rn(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Ap(l,o,d)),Qn(r,o,l);break;case 21:Qn(r,o,l);break;case 22:ut=(d=ut)||l.memoizedState!==null,Qn(r,o,l),ut=d;break;default:Qn(r,o,l)}}function Pp(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ls(r)}catch(l){Ke(o,o.return,l)}}function Lx(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new kp),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new kp),o;default:throw Error(i(435,r.tag))}}function Yc(r,o){var l=Lx(r);o.forEach(function(d){var g=Hx.bind(null,r,d);l.has(d)||(l.add(d),d.then(g,g))})}function Zt(r,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],v=r,S=o,C=S;e:for(;C!==null;){switch(C.tag){case 27:if(Ri(C.type)){nt=C.stateNode,Ft=!1;break e}break;case 5:nt=C.stateNode,Ft=!1;break e;case 3:case 4:nt=C.stateNode.containerInfo,Ft=!0;break e}C=C.return}if(nt===null)throw Error(i(160));Ip(v,S,g),nt=null,Ft=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Lp(o,r),o=o.sibling}var yn=null;function Lp(r,o){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Zt(o,r),Qt(r),d&4&&(Ti(3,r,r.return),vs(3,r),Ti(5,r,r.return));break;case 1:Zt(o,r),Qt(r),d&512&&(ut||l===null||Rn(l,l.return)),d&64&&Zn&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=yn;if(Zt(o,r),Qt(r),d&512&&(ut||l===null||Rn(l,l.return)),d&4){var v=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[zo]||v[Mt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),Et(v,d,l),v[Mt]=r,yt(v),d=v;break e;case"link":var S=Mg("link","href",g).get(d+(l.href||""));if(S){for(var C=0;C<S.length;C++)if(v=S[C],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(C,1);break t}}v=g.createElement(d),Et(v,d,l),g.head.appendChild(v);break;case"meta":if(S=Mg("meta","content",g).get(d+(l.content||""))){for(C=0;C<S.length;C++)if(v=S[C],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(C,1);break t}}v=g.createElement(d),Et(v,d,l),g.head.appendChild(v);break;default:throw Error(i(468,d))}v[Mt]=r,yt(v),d=v}r.stateNode=d}else kg(g,r.type,r.stateNode);else r.stateNode=Ng(g,d,r.memoizedProps);else v!==d?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,d===null?kg(g,r.type,r.stateNode):Ng(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Gc(r,r.memoizedProps,l.memoizedProps)}break;case 27:Zt(o,r),Qt(r),d&512&&(ut||l===null||Rn(l,l.return)),l!==null&&d&4&&Gc(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Zt(o,r),Qt(r),d&512&&(ut||l===null||Rn(l,l.return)),r.flags&32){g=r.stateNode;try{Mr(g,"")}catch(J){Ke(r,r.return,J)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,Gc(r,g,l!==null?l.memoizedProps:g)),d&1024&&(jc=!0);break;case 6:if(Zt(o,r),Qt(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(J){Ke(r,r.return,J)}}break;case 3:if(gl=null,g=yn,yn=ml(o.containerInfo),Zt(o,r),yn=g,Qt(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ls(o.containerInfo)}catch(J){Ke(r,r.return,J)}jc&&(jc=!1,Op(r));break;case 4:d=yn,yn=ml(r.stateNode.containerInfo),Zt(o,r),Qt(r),yn=d;break;case 12:Zt(o,r),Qt(r);break;case 13:Zt(o,r),Qt(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ef=Rt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Yc(r,d)));break;case 22:g=r.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,G=Zn,W=ut;if(Zn=G||g,ut=W||M,Zt(o,r),ut=W,Zn=G,Qt(r),d&8192)e:for(o=r.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(l===null||M||Zn||ut||or(r)),l=null,o=r;;){if(o.tag===5||o.tag===26){if(l===null){M=l=o;try{if(v=M.stateNode,g)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=M.stateNode;var te=M.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;C.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(J){Ke(M,M.return,J)}}}else if(o.tag===6){if(l===null){M=o;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(J){Ke(M,M.return,J)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Yc(r,l))));break;case 19:Zt(o,r),Qt(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Yc(r,d)));break;case 30:break;case 21:break;default:Zt(o,r),Qt(r)}}function Qt(r){var o=r.flags;if(o&2){try{for(var l,d=r.return;d!==null;){if(Np(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,v=Hc(r);tl(r,v,g);break;case 5:var S=l.stateNode;l.flags&32&&(Mr(S,""),l.flags&=-33);var C=Hc(r);tl(r,C,S);break;case 3:case 4:var M=l.stateNode.containerInfo,G=Hc(r);Jc(r,G,M);break;default:throw Error(i(161))}}catch(W){Ke(r,r.return,W)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Op(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Op(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function xi(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Dp(r,o.alternate,o),o=o.sibling}function or(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Ti(4,o,o.return),or(o);break;case 1:Rn(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&Ap(o,o.return,l),or(o);break;case 27:Rs(o.stateNode);case 26:case 5:Rn(o,o.return),or(o);break;case 22:o.memoizedState===null&&or(o);break;case 30:or(o);break;default:or(o)}r=r.sibling}}function Si(r,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,g=r,v=o,S=v.flags;switch(v.tag){case 0:case 11:case 15:Si(g,v,l),vs(4,v);break;case 1:if(Si(g,v,l),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){Ke(d,d.return,G)}if(d=v,g=d.updateQueue,g!==null){var C=d.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)dm(M[g],C)}catch(G){Ke(d,d.return,G)}}l&&S&64&&Ep(v),_s(v,v.return);break;case 27:Mp(v);case 26:case 5:Si(g,v,l),l&&d===null&&S&4&&Rp(v),_s(v,v.return);break;case 12:Si(g,v,l);break;case 13:Si(g,v,l),l&&S&4&&Pp(g,v);break;case 22:v.memoizedState===null&&Si(g,v,l),_s(v,v.return);break;case 30:break;default:Si(g,v,l)}o=o.sibling}}function Kc(r,o){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&rs(l))}function Zc(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&rs(r))}function Nn(r,o,l,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)qp(r,o,l,d),o=o.sibling}function qp(r,o,l,d){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Nn(r,o,l,d),g&2048&&vs(9,o);break;case 1:Nn(r,o,l,d);break;case 3:Nn(r,o,l,d),g&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&rs(r)));break;case 12:if(g&2048){Nn(r,o,l,d),r=o.stateNode;try{var v=o.memoizedProps,S=v.id,C=v.onPostCommit;typeof C=="function"&&C(S,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){Ke(o,o.return,M)}}else Nn(r,o,l,d);break;case 13:Nn(r,o,l,d);break;case 23:break;case 22:v=o.stateNode,S=o.alternate,o.memoizedState!==null?v._visibility&2?Nn(r,o,l,d):Ts(r,o):v._visibility&2?Nn(r,o,l,d):(v._visibility|=2,Kr(r,o,l,d,(o.subtreeFlags&10256)!==0)),g&2048&&Kc(S,o);break;case 24:Nn(r,o,l,d),g&2048&&Zc(o.alternate,o);break;default:Nn(r,o,l,d)}}function Kr(r,o,l,d,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,S=o,C=l,M=d,G=S.flags;switch(S.tag){case 0:case 11:case 15:Kr(v,S,C,M,g),vs(8,S);break;case 23:break;case 22:var W=S.stateNode;S.memoizedState!==null?W._visibility&2?Kr(v,S,C,M,g):Ts(v,S):(W._visibility|=2,Kr(v,S,C,M,g)),g&&G&2048&&Kc(S.alternate,S);break;case 24:Kr(v,S,C,M,g),g&&G&2048&&Zc(S.alternate,S);break;default:Kr(v,S,C,M,g)}o=o.sibling}}function Ts(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=r,d=o,g=d.flags;switch(d.tag){case 22:Ts(l,d),g&2048&&Kc(d.alternate,d);break;case 24:Ts(l,d),g&2048&&Zc(d.alternate,d);break;default:Ts(l,d)}o=o.sibling}}var xs=8192;function Zr(r){if(r.subtreeFlags&xs)for(r=r.child;r!==null;)Bp(r),r=r.sibling}function Bp(r){switch(r.tag){case 26:Zr(r),r.flags&xs&&r.memoizedState!==null&&xS(yn,r.memoizedState,r.memoizedProps);break;case 5:Zr(r);break;case 3:case 4:var o=yn;yn=ml(r.stateNode.containerInfo),Zr(r),yn=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=xs,xs=16777216,Zr(r),xs=o):Zr(r));break;default:Zr(r)}}function Vp(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Ss(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];_t=d,Fp(d,r)}Vp(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$p(r),r=r.sibling}function $p(r){switch(r.tag){case 0:case 11:case 15:Ss(r),r.flags&2048&&Ti(9,r,r.return);break;case 3:Ss(r);break;case 12:Ss(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,nl(r)):Ss(r);break;default:Ss(r)}}function nl(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];_t=d,Fp(d,r)}Vp(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Ti(8,o,o.return),nl(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,nl(o));break;default:nl(o)}r=r.sibling}}function Fp(r,o){for(;_t!==null;){var l=_t;switch(l.tag){case 0:case 11:case 15:Ti(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:rs(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,_t=d;else e:for(l=r;_t!==null;){d=_t;var g=d.sibling,v=d.return;if(Up(d),d===l){_t=null;break e}if(g!==null){g.return=v,_t=g;break e}_t=v}}}var Ox={getCacheForType:function(r){var o=kt(pt),l=o.data.get(r);return l===void 0&&(l=r(),o.data.set(r,l)),l}},qx=typeof WeakMap=="function"?WeakMap:Map,$e=0,Xe=null,ke=null,Le=0,Fe=0,Xt=null,wi=!1,Qr=!1,Qc=!1,Xn=0,at=0,bi=0,sr=0,Xc=0,fn=0,Xr=0,ws=null,zt=null,Wc=!1,ef=0,il=1/0,rl=null,Ci=null,Ct=0,Ei=null,Wr=null,eo=0,tf=0,nf=null,zp=null,bs=0,rf=null;function Wt(){if(($e&2)!==0&&Le!==0)return Le&-Le;if(Y.T!==null){var r=$r;return r!==0?r:ff()}return oh()}function Gp(){fn===0&&(fn=(Le&536870912)===0||Ve?th():536870912);var r=cn.current;return r!==null&&(r.flags|=32),fn}function en(r,o,l){(r===Xe&&(Fe===2||Fe===9)||r.cancelPendingCommit!==null)&&(to(r,0),Ai(r,Le,fn,!1)),Fo(r,l),(($e&2)===0||r!==Xe)&&(r===Xe&&(($e&2)===0&&(sr|=l),at===4&&Ai(r,Le,fn,!1)),Mn(r))}function Hp(r,o,l){if(($e&6)!==0)throw Error(i(327));var d=!l&&(o&124)===0&&(o&r.expiredLanes)===0||$o(r,o),g=d?$x(r,o):af(r,o,!0),v=d;do{if(g===0){Qr&&!d&&Ai(r,o,0,!1);break}else{if(l=r.current.alternate,v&&!Bx(l)){g=af(r,o,!1),v=!1;continue}if(g===2){if(v=o,r.errorRecoveryDisabledLanes&v)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var C=r;g=ws;var M=C.current.memoizedState.isDehydrated;if(M&&(to(C,S).flags|=256),S=af(C,S,!1),S!==2){if(Qc&&!M){C.errorRecoveryDisabledLanes|=v,sr|=v,g=4;break e}v=zt,zt=g,v!==null&&(zt===null?zt=v:zt.push.apply(zt,v))}g=S}if(v=!1,g!==2)continue}}if(g===1){to(r,0),Ai(r,o,0,!0);break}e:{switch(d=r,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ai(d,o,fn,!wi);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=ef+300-Rt(),10<g)){if(Ai(d,o,fn,!wi),pa(d,0,!0)!==0)break e;d.timeoutHandle=Tg(Jp.bind(null,d,l,zt,rl,Wc,o,fn,sr,Xr,wi,v,2,-0,0),g);break e}Jp(d,l,zt,rl,Wc,o,fn,sr,Xr,wi,v,0,-0,0)}}break}while(!0);Mn(r)}function Jp(r,o,l,d,g,v,S,C,M,G,W,te,H,J){if(r.timeoutHandle=-1,te=o.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(ks={stylesheets:null,count:0,unsuspend:TS},Bp(o),te=SS(),te!==null)){r.cancelPendingCommit=te(Wp.bind(null,r,o,v,l,d,g,S,C,M,W,1,H,J)),Ai(r,v,S,!G);return}Wp(r,o,v,l,d,g,S,C,M)}function Bx(r){for(var o=r;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],v=g.getSnapshot;g=g.value;try{if(!Yt(v(),g))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ai(r,o,l,d){o&=~Xc,o&=~sr,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var g=o;0<g;){var v=31-Lt(g),S=1<<v;d[v]=-1,g&=~S}l!==0&&ih(r,l,o)}function ol(){return($e&6)===0?(Cs(0),!1):!0}function of(){if(ke!==null){if(Fe===0)var r=ke.return;else r=ke,Gn=er=null,xc(r),jr=null,ps=0,r=ke;for(;r!==null;)Cp(r.alternate,r),r=r.return;ke=null}}function to(r,o){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,iS(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),of(),Xe=r,ke=l=$n(r.current,null),Le=o,Fe=0,Xt=null,wi=!1,Qr=$o(r,o),Qc=!1,Xr=fn=Xc=sr=bi=at=0,zt=ws=null,Wc=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var g=31-Lt(d),v=1<<g;o|=r[g],d&=~v}return Xn=o,Aa(),l}function jp(r,o){Re=null,Y.H=Ja,o===ss||o===La?(o=cm(),Fe=3):o===am?(o=cm(),Fe=4):Fe=o===fp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Xt=o,ke===null&&(at=1,Qa(r,sn(o,r.current)))}function Yp(){var r=Y.H;return Y.H=Ja,r===null?Ja:r}function Kp(){var r=Y.A;return Y.A=Ox,r}function sf(){at=4,wi||(Le&4194048)!==Le&&cn.current!==null||(Qr=!0),(bi&134217727)===0&&(sr&134217727)===0||Xe===null||Ai(Xe,Le,fn,!1)}function af(r,o,l){var d=$e;$e|=2;var g=Yp(),v=Kp();(Xe!==r||Le!==o)&&(rl=null,to(r,o)),o=!1;var S=at;e:do try{if(Fe!==0&&ke!==null){var C=ke,M=Xt;switch(Fe){case 8:of(),S=6;break e;case 3:case 2:case 9:case 6:cn.current===null&&(o=!0);var G=Fe;if(Fe=0,Xt=null,no(r,C,M,G),l&&Qr){S=0;break e}break;default:G=Fe,Fe=0,Xt=null,no(r,C,M,G)}}Vx(),S=at;break}catch(W){jp(r,W)}while(!0);return o&&r.shellSuspendCounter++,Gn=er=null,$e=d,Y.H=g,Y.A=v,ke===null&&(Xe=null,Le=0,Aa()),S}function Vx(){for(;ke!==null;)Zp(ke)}function $x(r,o){var l=$e;$e|=2;var d=Yp(),g=Kp();Xe!==r||Le!==o?(rl=null,il=Rt()+500,to(r,o)):Qr=$o(r,o);e:do try{if(Fe!==0&&ke!==null){o=ke;var v=Xt;t:switch(Fe){case 1:Fe=0,Xt=null,no(r,o,v,1);break;case 2:case 9:if(lm(v)){Fe=0,Xt=null,Qp(o);break}o=function(){Fe!==2&&Fe!==9||Xe!==r||(Fe=7),Mn(r)},v.then(o,o);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:lm(v)?(Fe=0,Xt=null,Qp(o)):(Fe=0,Xt=null,no(r,o,v,7));break;case 5:var S=null;switch(ke.tag){case 26:S=ke.memoizedState;case 5:case 27:var C=ke;if(!S||Dg(S)){Fe=0,Xt=null;var M=C.sibling;if(M!==null)ke=M;else{var G=C.return;G!==null?(ke=G,sl(G)):ke=null}break t}}Fe=0,Xt=null,no(r,o,v,5);break;case 6:Fe=0,Xt=null,no(r,o,v,6);break;case 8:of(),at=6;break e;default:throw Error(i(462))}}Fx();break}catch(W){jp(r,W)}while(!0);return Gn=er=null,Y.H=d,Y.A=g,$e=l,ke!==null?0:(Xe=null,Le=0,Aa(),at)}function Fx(){for(;ke!==null&&!tn();)Zp(ke)}function Zp(r){var o=wp(r.alternate,r,Xn);r.memoizedProps=r.pendingProps,o===null?sl(r):ke=o}function Qp(r){var o=r,l=o.alternate;switch(o.tag){case 15:case 0:o=yp(l,o,o.pendingProps,o.type,void 0,Le);break;case 11:o=yp(l,o,o.pendingProps,o.type.render,o.ref,Le);break;case 5:xc(o);default:Cp(l,o),o=ke=Xh(o,Xn),o=wp(l,o,Xn)}r.memoizedProps=r.pendingProps,o===null?sl(r):ke=o}function no(r,o,l,d){Gn=er=null,xc(o),jr=null,ps=0;var g=o.return;try{if(kx(r,g,o,l,Le)){at=1,Qa(r,sn(l,r.current)),ke=null;return}}catch(v){if(g!==null)throw ke=g,v;at=1,Qa(r,sn(l,r.current)),ke=null;return}o.flags&32768?(Ve||d===1?r=!0:Qr||(Le&536870912)!==0?r=!1:(wi=r=!0,(d===2||d===9||d===3||d===6)&&(d=cn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Xp(o,r)):sl(o)}function sl(r){var o=r;do{if((o.flags&32768)!==0){Xp(o,wi);return}r=o.return;var l=Ux(o.alternate,o,Xn);if(l!==null){ke=l;return}if(o=o.sibling,o!==null){ke=o;return}ke=o=r}while(o!==null);at===0&&(at=5)}function Xp(r,o){do{var l=Ix(r.alternate,r);if(l!==null){l.flags&=32767,ke=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(r=r.sibling,r!==null)){ke=r;return}ke=r=l}while(r!==null);at=6,ke=null}function Wp(r,o,l,d,g,v,S,C,M){r.cancelPendingCommit=null;do al();while(Ct!==0);if(($e&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=Zu,TT(r,l,v,S,C,M),r===Xe&&(ke=Xe=null,Le=0),Wr=o,Ei=r,eo=l,tf=v,nf=g,zp=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Jx(Ie,function(){return rg(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null,g=oe.p,oe.p=2,S=$e,$e|=4;try{Px(r,o,l)}finally{$e=S,oe.p=g,Y.T=d}}Ct=1,eg(),tg(),ng()}}function eg(){if(Ct===1){Ct=0;var r=Ei,o=Wr,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var d=oe.p;oe.p=2;var g=$e;$e|=4;try{Lp(o,r);var v=_f,S=Fh(r.containerInfo),C=v.focusedElem,M=v.selectionRange;if(S!==C&&C&&C.ownerDocument&&$h(C.ownerDocument.documentElement,C)){if(M!==null&&Hu(C)){var G=M.start,W=M.end;if(W===void 0&&(W=G),"selectionStart"in C)C.selectionStart=G,C.selectionEnd=Math.min(W,C.value.length);else{var te=C.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var J=H.getSelection(),ve=C.textContent.length,pe=Math.min(M.start,ve),Ye=M.end===void 0?pe:Math.min(M.end,ve);!J.extend&&pe>Ye&&(S=Ye,Ye=pe,pe=S);var V=Vh(C,pe),I=Vh(C,Ye);if(V&&I&&(J.rangeCount!==1||J.anchorNode!==V.node||J.anchorOffset!==V.offset||J.focusNode!==I.node||J.focusOffset!==I.offset)){var F=te.createRange();F.setStart(V.node,V.offset),J.removeAllRanges(),pe>Ye?(J.addRange(F),J.extend(I.node,I.offset)):(F.setEnd(I.node,I.offset),J.addRange(F))}}}}for(te=[],J=C;J=J.parentNode;)J.nodeType===1&&te.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<te.length;C++){var ee=te[C];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}_l=!!vf,_f=vf=null}finally{$e=g,oe.p=d,Y.T=l}}r.current=o,Ct=2}}function tg(){if(Ct===2){Ct=0;var r=Ei,o=Wr,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var d=oe.p;oe.p=2;var g=$e;$e|=4;try{Dp(r,o.alternate,o)}finally{$e=g,oe.p=d,Y.T=l}}Ct=3}}function ng(){if(Ct===4||Ct===3){Ct=0,Qe();var r=Ei,o=Wr,l=eo,d=zp;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ct=5:(Ct=0,Wr=Ei=null,ig(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(Ci=null),bu(l),o=o.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(ci,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=Y.T,g=oe.p,oe.p=2,Y.T=null;try{for(var v=r.onRecoverableError,S=0;S<d.length;S++){var C=d[S];v(C.value,{componentStack:C.stack})}}finally{Y.T=o,oe.p=g}}(eo&3)!==0&&al(),Mn(r),g=r.pendingLanes,(l&4194090)!==0&&(g&42)!==0?r===rf?bs++:(bs=0,rf=r):bs=0,Cs(0)}}function ig(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,rs(o)))}function al(r){return eg(),tg(),ng(),rg()}function rg(){if(Ct!==5)return!1;var r=Ei,o=tf;tf=0;var l=bu(eo),d=Y.T,g=oe.p;try{oe.p=32>l?32:l,Y.T=null,l=nf,nf=null;var v=Ei,S=eo;if(Ct=0,Wr=Ei=null,eo=0,($e&6)!==0)throw Error(i(331));var C=$e;if($e|=4,$p(v.current),qp(v,v.current,S,l),$e=C,Cs(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(ci,v)}catch{}return!0}finally{oe.p=g,Y.T=d,ig(r,o)}}function og(r,o,l){o=sn(l,o),o=Pc(r.stateNode,o,2),r=gi(r,o,2),r!==null&&(Fo(r,2),Mn(r))}function Ke(r,o,l){if(r.tag===3)og(r,r,l);else for(;o!==null;){if(o.tag===3){og(o,r,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))){r=sn(l,r),l=up(2),d=gi(o,l,2),d!==null&&(cp(l,d,o,r),Fo(d,2),Mn(d));break}}o=o.return}}function lf(r,o,l){var d=r.pingCache;if(d===null){d=r.pingCache=new qx;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(l)||(Qc=!0,g.add(l),r=zx.bind(null,r,o,l),o.then(r,r))}function zx(r,o,l){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Xe===r&&(Le&l)===l&&(at===4||at===3&&(Le&62914560)===Le&&300>Rt()-ef?($e&2)===0&&to(r,0):Xc|=l,Xr===Le&&(Xr=0)),Mn(r)}function sg(r,o){o===0&&(o=nh()),r=Or(r,o),r!==null&&(Fo(r,o),Mn(r))}function Gx(r){var o=r.memoizedState,l=0;o!==null&&(l=o.retryLane),sg(r,l)}function Hx(r,o){var l=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),sg(r,l)}function Jx(r,o){return wn(r,o)}var ll=null,io=null,uf=!1,ul=!1,cf=!1,ar=0;function Mn(r){r!==io&&r.next===null&&(io===null?ll=io=r:io=io.next=r),ul=!0,uf||(uf=!0,Yx())}function Cs(r,o){if(!cf&&ul){cf=!0;do for(var l=!1,d=ll;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var S=d.suspendedLanes,C=d.pingedLanes;v=(1<<31-Lt(42|r)+1)-1,v&=g&~(S&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,cg(d,v))}else v=Le,v=pa(d,d===Xe?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||$o(d,v)||(l=!0,cg(d,v));d=d.next}while(l);cf=!1}}function jx(){ag()}function ag(){ul=uf=!1;var r=0;ar!==0&&(nS()&&(r=ar),ar=0);for(var o=Rt(),l=null,d=ll;d!==null;){var g=d.next,v=lg(d,o);v===0?(d.next=null,l===null?ll=g:l.next=g,g===null&&(io=l)):(l=d,(r!==0||(v&3)!==0)&&(ul=!0)),d=g}Cs(r)}function lg(r,o){for(var l=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var S=31-Lt(v),C=1<<S,M=g[S];M===-1?((C&l)===0||(C&d)!==0)&&(g[S]=_T(C,o)):M<=o&&(r.expiredLanes|=C),v&=~C}if(o=Xe,l=Le,l=pa(r,r===o?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===o&&(Fe===2||Fe===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&wt(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||$o(r,l)){if(o=l&-l,o===r.callbackPriority)return o;switch(d!==null&&wt(d),bu(l)){case 2:case 8:l=ot;break;case 32:l=Ie;break;case 268435456:l=mt;break;default:l=Ie}return d=ug.bind(null,r),l=wn(l,d),r.callbackPriority=o,r.callbackNode=l,o}return d!==null&&d!==null&&wt(d),r.callbackPriority=2,r.callbackNode=null,2}function ug(r,o){if(Ct!==0&&Ct!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(al()&&r.callbackNode!==l)return null;var d=Le;return d=pa(r,r===Xe?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Hp(r,d,o),lg(r,Rt()),r.callbackNode!=null&&r.callbackNode===l?ug.bind(null,r):null)}function cg(r,o){if(al())return null;Hp(r,o,!0)}function Yx(){rS(function(){($e&6)!==0?wn(zi,jx):ag()})}function ff(){return ar===0&&(ar=th()),ar}function fg(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ta(""+r)}function dg(r,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,r.id&&l.setAttribute("form",r.id),o.parentNode.insertBefore(l,o),r=new FormData(r),l.parentNode.removeChild(l),r}function Kx(r,o,l,d,g){if(o==="submit"&&l&&l.stateNode===g){var v=fg((g[Bt]||null).action),S=d.submitter;S&&(o=(o=S[Bt]||null)?fg(o.formAction):S.getAttribute("formAction"),o!==null&&(v=o,S=null));var C=new ba("action","action",null,d,g);r.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ar!==0){var M=S?dg(g,S):new FormData(g);Mc(l,{pending:!0,data:M,method:g.method,action:v},null,M)}}else typeof v=="function"&&(C.preventDefault(),M=S?dg(g,S):new FormData(g),Mc(l,{pending:!0,data:M,method:g.method,action:v},v,M))},currentTarget:g}]})}}for(var df=0;df<Ku.length;df++){var hf=Ku[df],Zx=hf.toLowerCase(),Qx=hf[0].toUpperCase()+hf.slice(1);gn(Zx,"on"+Qx)}gn(Hh,"onAnimationEnd"),gn(Jh,"onAnimationIteration"),gn(jh,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(mx,"onTransitionRun"),gn(px,"onTransitionStart"),gn(gx,"onTransitionCancel"),gn(Yh,"onTransitionEnd"),Ar("onMouseEnter",["mouseout","mouseover"]),Ar("onMouseLeave",["mouseout","mouseover"]),Ar("onPointerEnter",["pointerout","pointerover"]),Ar("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Es));function hg(r,o){o=(o&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],g=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var S=d.length-1;0<=S;S--){var C=d[S],M=C.instance,G=C.currentTarget;if(C=C.listener,M!==v&&g.isPropagationStopped())break e;v=C,g.currentTarget=G;try{v(g)}catch(W){Za(W)}g.currentTarget=null,v=M}else for(S=0;S<d.length;S++){if(C=d[S],M=C.instance,G=C.currentTarget,C=C.listener,M!==v&&g.isPropagationStopped())break e;v=C,g.currentTarget=G;try{v(g)}catch(W){Za(W)}g.currentTarget=null,v=M}}}}function De(r,o){var l=o[Cu];l===void 0&&(l=o[Cu]=new Set);var d=r+"__bubble";l.has(d)||(mg(o,r,2,!1),l.add(d))}function mf(r,o,l){var d=0;o&&(d|=4),mg(l,r,d,o)}var cl="_reactListening"+Math.random().toString(36).slice(2);function pf(r){if(!r[cl]){r[cl]=!0,ah.forEach(function(l){l!=="selectionchange"&&(Xx.has(l)||mf(l,!1,r),mf(l,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[cl]||(o[cl]=!0,mf("selectionchange",!1,o))}}function mg(r,o,l,d){switch(qg(o)){case 2:var g=CS;break;case 8:g=ES;break;default:g=Nf}l=g.bind(null,o,l,r),g=void 0,!Lu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(o,l,{capture:!0,passive:g}):r.addEventListener(o,l,!0):g!==void 0?r.addEventListener(o,l,{passive:g}):r.addEventListener(o,l,!1)}function gf(r,o,l,d,g){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var C=d.stateNode.containerInfo;if(C===g)break;if(S===4)for(S=d.return;S!==null;){var M=S.tag;if((M===3||M===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;C!==null;){if(S=br(C),S===null)return;if(M=S.tag,M===5||M===6||M===26||M===27){d=v=S;continue e}C=C.parentNode}}d=d.return}xh(function(){var G=v,W=Iu(l),te=[];e:{var H=Kh.get(r);if(H!==void 0){var J=ba,ve=r;switch(r){case"keypress":if(Sa(l)===0)break e;case"keydown":case"keyup":J=JT;break;case"focusin":ve="focus",J=Vu;break;case"focusout":ve="blur",J=Vu;break;case"beforeblur":case"afterblur":J=Vu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=IT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=KT;break;case Hh:case Jh:case jh:J=OT;break;case Yh:J=QT;break;case"scroll":case"scrollend":J=DT;break;case"wheel":J=WT;break;case"copy":case"cut":case"paste":J=BT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Eh;break;case"toggle":case"beforetoggle":J=tx}var pe=(o&4)!==0,Ye=!pe&&(r==="scroll"||r==="scrollend"),V=pe?H!==null?H+"Capture":null:H;pe=[];for(var I=G,F;I!==null;){var ee=I;if(F=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||F===null||V===null||(ee=Ho(I,V),ee!=null&&pe.push(As(I,ee,F))),Ye)break;I=I.return}0<pe.length&&(H=new J(H,ve,null,l,W),te.push({event:H,listeners:pe}))}}if((o&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",H&&l!==Uu&&(ve=l.relatedTarget||l.fromElement)&&(br(ve)||ve[wr]))break e;if((J||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,J?(ve=l.relatedTarget||l.toElement,J=G,ve=ve?br(ve):null,ve!==null&&(Ye=a(ve),pe=ve.tag,ve!==Ye||pe!==5&&pe!==27&&pe!==6)&&(ve=null)):(J=null,ve=G),J!==ve)){if(pe=bh,ee="onMouseLeave",V="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(pe=Eh,ee="onPointerLeave",V="onPointerEnter",I="pointer"),Ye=J==null?H:Go(J),F=ve==null?H:Go(ve),H=new pe(ee,I+"leave",J,l,W),H.target=Ye,H.relatedTarget=F,ee=null,br(W)===G&&(pe=new pe(V,I+"enter",ve,l,W),pe.target=F,pe.relatedTarget=Ye,ee=pe),Ye=ee,J&&ve)t:{for(pe=J,V=ve,I=0,F=pe;F;F=ro(F))I++;for(F=0,ee=V;ee;ee=ro(ee))F++;for(;0<I-F;)pe=ro(pe),I--;for(;0<F-I;)V=ro(V),F--;for(;I--;){if(pe===V||V!==null&&pe===V.alternate)break t;pe=ro(pe),V=ro(V)}pe=null}else pe=null;J!==null&&pg(te,H,J,pe,!1),ve!==null&&Ye!==null&&pg(te,Ye,ve,pe,!0)}}e:{if(H=G?Go(G):window,J=H.nodeName&&H.nodeName.toLowerCase(),J==="select"||J==="input"&&H.type==="file")var ce=Ih;else if(Dh(H))if(Ph)ce=fx;else{ce=ux;var Me=lx}else J=H.nodeName,!J||J.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?G&&Du(G.elementType)&&(ce=Ih):ce=cx;if(ce&&(ce=ce(r,G))){Uh(te,ce,l,W);break e}Me&&Me(r,H,G),r==="focusout"&&G&&H.type==="number"&&G.memoizedProps.value!=null&&ku(H,"number",H.value)}switch(Me=G?Go(G):window,r){case"focusin":(Dh(Me)||Me.contentEditable==="true")&&(Ir=Me,Ju=G,Wo=null);break;case"focusout":Wo=Ju=Ir=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,zh(te,l,W);break;case"selectionchange":if(hx)break;case"keydown":case"keyup":zh(te,l,W)}var he;if(Fu)e:{switch(r){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Ur?Mh(r,l)&&(ge="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ge="onCompositionStart");ge&&(Ah&&l.locale!=="ko"&&(Ur||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Ur&&(he=Sh()):(di=W,Ou="value"in di?di.value:di.textContent,Ur=!0)),Me=fl(G,ge),0<Me.length&&(ge=new Ch(ge,r,null,l,W),te.push({event:ge,listeners:Me}),he?ge.data=he:(he=kh(l),he!==null&&(ge.data=he)))),(he=ix?rx(r,l):ox(r,l))&&(ge=fl(G,"onBeforeInput"),0<ge.length&&(Me=new Ch("onBeforeInput","beforeinput",null,l,W),te.push({event:Me,listeners:ge}),Me.data=he)),Kx(te,r,G,l,W)}hg(te,o)})}function As(r,o,l){return{instance:r,listener:o,currentTarget:l}}function fl(r,o){for(var l=o+"Capture",d=[];r!==null;){var g=r,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Ho(r,l),g!=null&&d.unshift(As(r,g,v)),g=Ho(r,o),g!=null&&d.push(As(r,g,v))),r.tag===3)return d;r=r.return}return[]}function ro(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function pg(r,o,l,d,g){for(var v=o._reactName,S=[];l!==null&&l!==d;){var C=l,M=C.alternate,G=C.stateNode;if(C=C.tag,M!==null&&M===d)break;C!==5&&C!==26&&C!==27||G===null||(M=G,g?(G=Ho(l,v),G!=null&&S.unshift(As(l,G,M))):g||(G=Ho(l,v),G!=null&&S.push(As(l,G,M)))),l=l.return}S.length!==0&&r.push({event:o,listeners:S})}var Wx=/\r\n?/g,eS=/\u0000|\uFFFD/g;function gg(r){return(typeof r=="string"?r:""+r).replace(Wx,`
`).replace(eS,"")}function yg(r,o){return o=gg(o),gg(r)===o}function dl(){}function je(r,o,l,d,g,v){switch(l){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Mr(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Mr(r,""+d);break;case"className":ya(r,"class",d);break;case"tabIndex":ya(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ya(r,l,d);break;case"style":_h(r,d,v);break;case"data":if(o!=="object"){ya(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Ta(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(o!=="input"&&je(r,o,"name",g.name,g,null),je(r,o,"formEncType",g.formEncType,g,null),je(r,o,"formMethod",g.formMethod,g,null),je(r,o,"formTarget",g.formTarget,g,null)):(je(r,o,"encType",g.encType,g,null),je(r,o,"method",g.method,g,null),je(r,o,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Ta(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=dl);break;case"onScroll":d!=null&&De("scroll",r);break;case"onScrollEnd":d!=null&&De("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=Ta(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":De("beforetoggle",r),De("toggle",r),ga(r,"popover",d);break;case"xlinkActuate":Bn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Bn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Bn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Bn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Bn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Bn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ga(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=MT.get(l)||l,ga(r,l,d))}}function yf(r,o,l,d,g,v){switch(l){case"style":_h(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof d=="string"?Mr(r,d):(typeof d=="number"||typeof d=="bigint")&&Mr(r,""+d);break;case"onScroll":d!=null&&De("scroll",r);break;case"onScrollEnd":d!=null&&De("scrollend",r);break;case"onClick":d!=null&&(r.onclick=dl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lh.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),o=l.slice(2,g?l.length-7:void 0),v=r[Bt]||null,v=v!=null?v[l]:null,typeof v=="function"&&r.removeEventListener(o,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(o,d,g);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):ga(r,l,d)}}}function Et(r,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",r),De("load",r);var d=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var S=l[v];if(S!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:je(r,o,v,S,l,null)}}g&&je(r,o,"srcSet",l.srcSet,l,null),d&&je(r,o,"src",l.src,l,null);return;case"input":De("invalid",r);var C=v=S=g=null,M=null,G=null;for(d in l)if(l.hasOwnProperty(d)){var W=l[d];if(W!=null)switch(d){case"name":g=W;break;case"type":S=W;break;case"checked":M=W;break;case"defaultChecked":G=W;break;case"value":v=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,o));break;default:je(r,o,d,W,l,null)}}ph(r,v,C,M,G,S,g,!1),va(r);return;case"select":De("invalid",r),d=S=v=null;for(g in l)if(l.hasOwnProperty(g)&&(C=l[g],C!=null))switch(g){case"value":v=C;break;case"defaultValue":S=C;break;case"multiple":d=C;default:je(r,o,g,C,l,null)}o=v,l=S,r.multiple=!!d,o!=null?Nr(r,!!d,o,!1):l!=null&&Nr(r,!!d,l,!0);return;case"textarea":De("invalid",r),v=g=d=null;for(S in l)if(l.hasOwnProperty(S)&&(C=l[S],C!=null))switch(S){case"value":d=C;break;case"defaultValue":g=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:je(r,o,S,C,l,null)}yh(r,d,g,v),va(r);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(d=l[M],d!=null))switch(M){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:je(r,o,M,d,l,null)}return;case"dialog":De("beforetoggle",r),De("toggle",r),De("cancel",r),De("close",r);break;case"iframe":case"object":De("load",r);break;case"video":case"audio":for(d=0;d<Es.length;d++)De(Es[d],r);break;case"image":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"embed":case"source":case"link":De("error",r),De("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(d=l[G],d!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:je(r,o,G,d,l,null)}return;default:if(Du(o)){for(W in l)l.hasOwnProperty(W)&&(d=l[W],d!==void 0&&yf(r,o,W,d,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(d=l[C],d!=null&&je(r,o,C,d,l,null))}function tS(r,o,l,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,S=null,C=null,M=null,G=null,W=null;for(J in l){var te=l[J];if(l.hasOwnProperty(J)&&te!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":M=te;default:d.hasOwnProperty(J)||je(r,o,J,null,d,te)}}for(var H in d){var J=d[H];if(te=l[H],d.hasOwnProperty(H)&&(J!=null||te!=null))switch(H){case"type":v=J;break;case"name":g=J;break;case"checked":G=J;break;case"defaultChecked":W=J;break;case"value":S=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,o));break;default:J!==te&&je(r,o,H,J,d,te)}}Mu(r,S,C,M,G,W,v,g);return;case"select":J=S=C=H=null;for(v in l)if(M=l[v],l.hasOwnProperty(v)&&M!=null)switch(v){case"value":break;case"multiple":J=M;default:d.hasOwnProperty(v)||je(r,o,v,null,d,M)}for(g in d)if(v=d[g],M=l[g],d.hasOwnProperty(g)&&(v!=null||M!=null))switch(g){case"value":H=v;break;case"defaultValue":C=v;break;case"multiple":S=v;default:v!==M&&je(r,o,g,v,d,M)}o=C,l=S,d=J,H!=null?Nr(r,!!l,H,!1):!!d!=!!l&&(o!=null?Nr(r,!!l,o,!0):Nr(r,!!l,l?[]:"",!1));return;case"textarea":J=H=null;for(C in l)if(g=l[C],l.hasOwnProperty(C)&&g!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:je(r,o,C,null,d,g)}for(S in d)if(g=d[S],v=l[S],d.hasOwnProperty(S)&&(g!=null||v!=null))switch(S){case"value":H=g;break;case"defaultValue":J=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&je(r,o,S,g,d,v)}gh(r,H,J);return;case"option":for(var ve in l)if(H=l[ve],l.hasOwnProperty(ve)&&H!=null&&!d.hasOwnProperty(ve))switch(ve){case"selected":r.selected=!1;break;default:je(r,o,ve,null,d,H)}for(M in d)if(H=d[M],J=l[M],d.hasOwnProperty(M)&&H!==J&&(H!=null||J!=null))switch(M){case"selected":r.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:je(r,o,M,H,d,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in l)H=l[pe],l.hasOwnProperty(pe)&&H!=null&&!d.hasOwnProperty(pe)&&je(r,o,pe,null,d,H);for(G in d)if(H=d[G],J=l[G],d.hasOwnProperty(G)&&H!==J&&(H!=null||J!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,o));break;default:je(r,o,G,H,d,J)}return;default:if(Du(o)){for(var Ye in l)H=l[Ye],l.hasOwnProperty(Ye)&&H!==void 0&&!d.hasOwnProperty(Ye)&&yf(r,o,Ye,void 0,d,H);for(W in d)H=d[W],J=l[W],!d.hasOwnProperty(W)||H===J||H===void 0&&J===void 0||yf(r,o,W,H,d,J);return}}for(var V in l)H=l[V],l.hasOwnProperty(V)&&H!=null&&!d.hasOwnProperty(V)&&je(r,o,V,null,d,H);for(te in d)H=d[te],J=l[te],!d.hasOwnProperty(te)||H===J||H==null&&J==null||je(r,o,te,H,d,J)}var vf=null,_f=null;function hl(r){return r.nodeType===9?r:r.ownerDocument}function vg(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _g(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Tf(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var xf=null;function nS(){var r=window.event;return r&&r.type==="popstate"?r===xf?!1:(xf=r,!0):(xf=null,!1)}var Tg=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(r){return xg.resolve(null).then(r).catch(oS)}:Tg;function oS(r){setTimeout(function(){throw r})}function Ri(r){return r==="head"}function Sg(r,o){var l=o,d=0,g=0;do{var v=l.nextSibling;if(r.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<d&&8>d){l=d;var S=r.ownerDocument;if(l&1&&Rs(S.documentElement),l&2&&Rs(S.body),l&4)for(l=S.head,Rs(l),S=l.firstChild;S;){var C=S.nextSibling,M=S.nodeName;S[zo]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=C}}if(g===0){r.removeChild(v),Ls(o);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:d=l.charCodeAt(0)-48;else d=0;l=v}while(l);Ls(o)}function Sf(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Sf(l),Eu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function sS(r,o,l,d){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[zo])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=vn(r.nextSibling),r===null)break}return null}function aS(r,o,l){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=vn(r.nextSibling),r===null))return null;return r}function wf(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function lS(r,o){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")o();else{var d=function(){o(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function vn(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var bf=null;function wg(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return r;o--}else l==="/$"&&o++}r=r.previousSibling}return null}function bg(r,o,l){switch(o=hl(l),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Rs(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Eu(r)}var dn=new Map,Cg=new Set;function ml(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Wn=oe.d;oe.d={f:uS,r:cS,D:fS,C:dS,L:hS,m:mS,X:gS,S:pS,M:yS};function uS(){var r=Wn.f(),o=ol();return r||o}function cS(r){var o=Cr(r);o!==null&&o.tag===5&&o.type==="form"?Hm(o):Wn.r(r)}var oo=typeof document>"u"?null:document;function Eg(r,o,l){var d=oo;if(d&&typeof o=="string"&&o){var g=on(o);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Cg.has(g)||(Cg.add(g),r={rel:r,crossOrigin:l,href:o},d.querySelector(g)===null&&(o=d.createElement("link"),Et(o,"link",r),yt(o),d.head.appendChild(o)))}}function fS(r){Wn.D(r),Eg("dns-prefetch",r,null)}function dS(r,o){Wn.C(r,o),Eg("preconnect",r,o)}function hS(r,o,l){Wn.L(r,o,l);var d=oo;if(d&&r&&o){var g='link[rel="preload"][as="'+on(o)+'"]';o==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+on(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+on(l.imageSizes)+'"]')):g+='[href="'+on(r)+'"]';var v=g;switch(o){case"style":v=so(r);break;case"script":v=ao(r)}dn.has(v)||(r=y({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:r,as:o},l),dn.set(v,r),d.querySelector(g)!==null||o==="style"&&d.querySelector(Ns(v))||o==="script"&&d.querySelector(Ms(v))||(o=d.createElement("link"),Et(o,"link",r),yt(o),d.head.appendChild(o)))}}function mS(r,o){Wn.m(r,o);var l=oo;if(l&&r){var d=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+on(d)+'"][href="'+on(r)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ao(r)}if(!dn.has(v)&&(r=y({rel:"modulepreload",href:r},o),dn.set(v,r),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ms(v)))return}d=l.createElement("link"),Et(d,"link",r),yt(d),l.head.appendChild(d)}}}function pS(r,o,l){Wn.S(r,o,l);var d=oo;if(d&&r){var g=Er(d).hoistableStyles,v=so(r);o=o||"default";var S=g.get(v);if(!S){var C={loading:0,preload:null};if(S=d.querySelector(Ns(v)))C.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":o},l),(l=dn.get(v))&&Cf(r,l);var M=S=d.createElement("link");yt(M),Et(M,"link",r),M._p=new Promise(function(G,W){M.onload=G,M.onerror=W}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,pl(S,o,d)}S={type:"stylesheet",instance:S,count:1,state:C},g.set(v,S)}}}function gS(r,o){Wn.X(r,o);var l=oo;if(l&&r){var d=Er(l).hoistableScripts,g=ao(r),v=d.get(g);v||(v=l.querySelector(Ms(g)),v||(r=y({src:r,async:!0},o),(o=dn.get(g))&&Ef(r,o),v=l.createElement("script"),yt(v),Et(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function yS(r,o){Wn.M(r,o);var l=oo;if(l&&r){var d=Er(l).hoistableScripts,g=ao(r),v=d.get(g);v||(v=l.querySelector(Ms(g)),v||(r=y({src:r,async:!0,type:"module"},o),(o=dn.get(g))&&Ef(r,o),v=l.createElement("script"),yt(v),Et(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function Ag(r,o,l,d){var g=(g=ae.current)?ml(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=so(l.href),l=Er(g).hoistableStyles,d=l.get(o),d||(d={type:"style",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=so(l.href);var v=Er(g).hoistableStyles,S=v.get(r);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,S),(v=g.querySelector(Ns(r)))&&!v._p&&(S.instance=v,S.state.loading=5),dn.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},dn.set(r,l),v||vS(g,r,l,S.state))),o&&d===null)throw Error(i(528,""));return S}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ao(l),l=Er(g).hoistableScripts,d=l.get(o),d||(d={type:"script",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function so(r){return'href="'+on(r)+'"'}function Ns(r){return'link[rel="stylesheet"]['+r+"]"}function Rg(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function vS(r,o,l,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Et(o,"link",l),yt(o),r.head.appendChild(o))}function ao(r){return'[src="'+on(r)+'"]'}function Ms(r){return"script[async]"+r}function Ng(r,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+on(l.href)+'"]');if(d)return o.instance=d,yt(d),d;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),yt(d),Et(d,"style",g),pl(d,l.precedence,r),o.instance=d;case"stylesheet":g=so(l.href);var v=r.querySelector(Ns(g));if(v)return o.state.loading|=4,o.instance=v,yt(v),v;d=Rg(l),(g=dn.get(g))&&Cf(d,g),v=(r.ownerDocument||r).createElement("link"),yt(v);var S=v;return S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),Et(v,"link",d),o.state.loading|=4,pl(v,l.precedence,r),o.instance=v;case"script":return v=ao(l.src),(g=r.querySelector(Ms(v)))?(o.instance=g,yt(g),g):(d=l,(g=dn.get(v))&&(d=y({},l),Ef(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),yt(g),Et(g,"link",d),r.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,pl(d,l.precedence,r));return o.instance}function pl(r,o,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,S=0;S<d.length;S++){var C=d[S];if(C.dataset.precedence===o)v=C;else if(v!==g)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(r,o.firstChild))}function Cf(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Ef(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var gl=null;function Mg(r,o,l){if(gl===null){var d=new Map,g=gl=new Map;g.set(l,d)}else g=gl,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var v=l[g];if(!(v[zo]||v[Mt]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(o)||"";S=r+S;var C=d.get(S);C?C.push(v):d.set(S,[v])}}return d}function kg(r,o,l){r=r.ownerDocument||r,r.head.insertBefore(l,o==="title"?r.querySelector("head > title"):null)}function _S(r,o,l){if(l===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Dg(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ks=null;function TS(){}function xS(r,o,l){if(ks===null)throw Error(i(475));var d=ks;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=so(l.href),v=r.querySelector(Ns(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=yl.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=v,yt(v);return}v=r.ownerDocument||r,l=Rg(l),(g=dn.get(g))&&Cf(l,g),v=v.createElement("link"),yt(v);var S=v;S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),Et(v,"link",l),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=yl.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function SS(){if(ks===null)throw Error(i(475));var r=ks;return r.stylesheets&&r.count===0&&Af(r,r.stylesheets),0<r.count?function(o){var l=setTimeout(function(){if(r.stylesheets&&Af(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(l)}}:null}function yl(){if(this.count--,this.count===0){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var vl=null;function Af(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,vl=new Map,o.forEach(wS,r),vl=null,yl.call(r))}function wS(r,o){if(!(o.state.loading&4)){var l=vl.get(r);if(l)var d=l.get(null);else{l=new Map,vl.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var S=g[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),d=S)}d&&l.set(null,d)}g=o.instance,S=g.getAttribute("data-precedence"),v=l.get(S)||d,v===d&&l.set(null,g),l.set(S,g),this.count++,d=yl.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),o.state.loading|=4}}var Ds={$$typeof:D,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function bS(r,o,l,d,g,v,S,C){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Su(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Su(0),this.hiddenUpdates=Su(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Ug(r,o,l,d,g,v,S,C,M,G,W,te){return r=new bS(r,o,l,S,C,M,G,te),o=1,v===!0&&(o|=24),v=Kt(3,null,null,o),r.current=v,v.stateNode=r,o=ac(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:l,cache:o},fc(v),r}function Ig(r){return r?(r=qr,r):qr}function Pg(r,o,l,d,g,v){g=Ig(g),d.context===null?d.context=g:d.pendingContext=g,d=pi(o),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=gi(r,d,o),l!==null&&(en(l,r,o),ls(l,r,o))}function Lg(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<o?l:o}}function Rf(r,o){Lg(r,o),(r=r.alternate)&&Lg(r,o)}function Og(r){if(r.tag===13){var o=Or(r,67108864);o!==null&&en(o,r,67108864),Rf(r,67108864)}}var _l=!0;function CS(r,o,l,d){var g=Y.T;Y.T=null;var v=oe.p;try{oe.p=2,Nf(r,o,l,d)}finally{oe.p=v,Y.T=g}}function ES(r,o,l,d){var g=Y.T;Y.T=null;var v=oe.p;try{oe.p=8,Nf(r,o,l,d)}finally{oe.p=v,Y.T=g}}function Nf(r,o,l,d){if(_l){var g=Mf(d);if(g===null)gf(r,o,d,Tl,l),Bg(r,d);else if(RS(g,r,o,l,d))d.stopPropagation();else if(Bg(r,d),o&4&&-1<AS.indexOf(r)){for(;g!==null;){var v=Cr(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Gi(v.pendingLanes);if(S!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var M=1<<31-Lt(S);C.entanglements[1]|=M,S&=~M}Mn(v),($e&6)===0&&(il=Rt()+500,Cs(0))}}break;case 13:C=Or(v,2),C!==null&&en(C,v,2),ol(),Rf(v,2)}if(v=Mf(d),v===null&&gf(r,o,d,Tl,l),v===g)break;g=v}g!==null&&d.stopPropagation()}else gf(r,o,d,null,l)}}function Mf(r){return r=Iu(r),kf(r)}var Tl=null;function kf(r){if(Tl=null,r=br(r),r!==null){var o=a(r);if(o===null)r=null;else{var l=o.tag;if(l===13){if(r=c(o),r!==null)return r;r=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Tl=r,null}function qg(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ui()){case zi:return 2;case ot:return 8;case Ie:case He:return 32;case mt:return 268435456;default:return 32}default:return 32}}var Df=!1,Ni=null,Mi=null,ki=null,Us=new Map,Is=new Map,Di=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bg(r,o){switch(r){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Us.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(o.pointerId)}}function Ps(r,o,l,d,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},o!==null&&(o=Cr(o),o!==null&&Og(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function RS(r,o,l,d,g){switch(o){case"focusin":return Ni=Ps(Ni,r,o,l,d,g),!0;case"dragenter":return Mi=Ps(Mi,r,o,l,d,g),!0;case"mouseover":return ki=Ps(ki,r,o,l,d,g),!0;case"pointerover":var v=g.pointerId;return Us.set(v,Ps(Us.get(v)||null,r,o,l,d,g)),!0;case"gotpointercapture":return v=g.pointerId,Is.set(v,Ps(Is.get(v)||null,r,o,l,d,g)),!0}return!1}function Vg(r){var o=br(r.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=c(l),o!==null){r.blockedOn=o,xT(r.priority,function(){if(l.tag===13){var d=Wt();d=wu(d);var g=Or(l,d);g!==null&&en(g,l,d),Rf(l,d)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xl(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var l=Mf(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Uu=d,l.target.dispatchEvent(d),Uu=null}else return o=Cr(l),o!==null&&Og(o),r.blockedOn=l,!1;o.shift()}return!0}function $g(r,o,l){xl(r)&&l.delete(o)}function NS(){Df=!1,Ni!==null&&xl(Ni)&&(Ni=null),Mi!==null&&xl(Mi)&&(Mi=null),ki!==null&&xl(ki)&&(ki=null),Us.forEach($g),Is.forEach($g)}function Sl(r,o){r.blockedOn===o&&(r.blockedOn=null,Df||(Df=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NS)))}var wl=null;function Fg(r){wl!==r&&(wl=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wl===r&&(wl=null);for(var o=0;o<r.length;o+=3){var l=r[o],d=r[o+1],g=r[o+2];if(typeof d!="function"){if(kf(d||l)===null)continue;break}var v=Cr(l);v!==null&&(r.splice(o,3),o-=3,Mc(v,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function Ls(r){function o(M){return Sl(M,r)}Ni!==null&&Sl(Ni,r),Mi!==null&&Sl(Mi,r),ki!==null&&Sl(ki,r),Us.forEach(o),Is.forEach(o);for(var l=0;l<Di.length;l++){var d=Di[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Di.length&&(l=Di[0],l.blockedOn===null);)Vg(l),l.blockedOn===null&&Di.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],v=l[d+1],S=g[Bt]||null;if(typeof v=="function")S||Fg(l);else if(S){var C=null;if(v&&v.hasAttribute("formAction")){if(g=v,S=v[Bt]||null)C=S.formAction;else if(kf(g)!==null)continue}else C=S.action;typeof C=="function"?l[d+1]=C:(l.splice(d,3),d-=3),Fg(l)}}}function Uf(r){this._internalRoot=r}bl.prototype.render=Uf.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,d=Wt();Pg(l,d,r,o,null,null)},bl.prototype.unmount=Uf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Pg(r.current,2,null,r,null,null),ol(),o[wr]=null}};function bl(r){this._internalRoot=r}bl.prototype.unstable_scheduleHydration=function(r){if(r){var o=oh();r={blockedOn:null,target:r,priority:o};for(var l=0;l<Di.length&&o!==0&&o<Di[l].priority;l++);Di.splice(l,0,r),l===0&&Vg(r)}};var zg=e.version;if(zg!=="19.1.0")throw Error(i(527,zg,"19.1.0"));oe.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var MS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{ci=Cl.inject(MS),Nt=Cl}catch{}}return qs.createRoot=function(r,o){if(!s(r))throw Error(i(299));var l=!1,d="",g=op,v=sp,S=ap,C=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks)),o=Ug(r,1,!1,null,null,l,d,g,v,S,C,null),r[wr]=o.current,pf(r),new Uf(o)},qs.hydrateRoot=function(r,o,l){if(!s(r))throw Error(i(299));var d=!1,g="",v=op,S=sp,C=ap,M=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),o=Ug(r,1,!0,o,l??null,d,g,v,S,C,M,G),o.context=Ig(null),l=o.current,d=Wt(),d=wu(d),g=pi(d),g.callback=null,gi(l,g,d),l=d,o.current.lanes=l,Fo(o,l),Mn(o),r[wr]=o.current,pf(r),new bl(o)},qs.version="19.1.0",qs}var Wg;function FS(){if(Wg)return Pf.exports;Wg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pf.exports=$S(),Pf.exports}var zS=FS(),N=Ud(),Bs={},ey;function GS(){if(ey)return Bs;ey=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.parse=c,Bs.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,b){const w=new a,R=x.length;if(R<2)return w;const A=(b==null?void 0:b.decode)||y;let k=0;do{const P=x.indexOf("=",k);if(P===-1)break;const D=x.indexOf(";",k),U=D===-1?R:D;if(P>U){k=x.lastIndexOf(";",P-1)+1;continue}const q=h(x,k,P),Q=p(x,P,q),Z=x.slice(q,Q);if(w[Z]===void 0){let ie=h(x,P+1,U),z=p(x,U,ie);const L=A(x.slice(ie,z));w[Z]=L}k=U+1}while(k<R);return w}function h(x,b,w){do{const R=x.charCodeAt(b);if(R!==32&&R!==9)return b}while(++b<w);return w}function p(x,b,w){for(;b>w;){const R=x.charCodeAt(--b);if(R!==32&&R!==9)return b+1}return w}function m(x,b,w){const R=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const A=R(b);if(!e.test(A))throw new TypeError(`argument val is invalid: ${b}`);let k=x+"="+A;if(!w)return k;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);k+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);k+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);k+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);k+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(k+="; HttpOnly"),w.secure&&(k+="; Secure"),w.partitioned&&(k+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return k}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function _(x){return s.call(x)==="[object Date]"}return Bs}GS();var ty="popstate";function HS(t={}){function e(i,s){let{pathname:a,search:c,hash:h}=i.location;return Wf("",{pathname:a,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Ws(s)}return jS(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ln(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JS(){return Math.random().toString(36).substring(2,10)}function ny(t,e){return{usr:t.state,key:t.key,idx:e}}function Wf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:n,key:e&&e.key||i||JS()}}function Ws({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function jS(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,c=s.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let A=y(),k=A==null?null:A-m;m=A,p&&p({action:h,location:R.location,delta:k})}function x(A,k){h="PUSH";let P=Wf(R.location,A,k);m=y()+1;let D=ny(P,m),U=R.createHref(P);try{c.pushState(D,"",U)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(U)}a&&p&&p({action:h,location:R.location,delta:1})}function b(A,k){h="REPLACE";let P=Wf(R.location,A,k);m=y();let D=ny(P,m),U=R.createHref(P);c.replaceState(D,"",U),a&&p&&p({action:h,location:R.location,delta:0})}function w(A){return YS(A)}let R={get action(){return h},get location(){return t(s,c)},listen(A){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(ty,_),p=A,()=>{s.removeEventListener(ty,_),p=null}},createHref(A){return e(s,A)},createURL:w,encodeLocation(A){let k=w(A);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:b,go(A){return c.go(A)}};return R}function YS(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ws(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function A0(t,e,n="/"){return KS(t,e,n,!1)}function KS(t,e,n,i){let s=typeof e=="string"?ko(e):e,a=ri(s.pathname||"/",n);if(a==null)return null;let c=R0(t);ZS(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=M0(a);h=ow(c[p],m,i)}return h}function R0(t,e=[],n=[],i=""){let s=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=ii([i,p.relativePath]),y=n.concat(p);a.children&&a.children.length>0&&(it(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),R0(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:iw(m,a.index),routesMeta:y})};return t.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,c);else for(let p of N0(a.path))s(a,c,p)}),e}function N0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let c=N0(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),s&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function ZS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rw(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var QS=/^:[\w-]+$/,XS=3,WS=2,ew=1,tw=10,nw=-2,iy=t=>t==="*";function iw(t,e){let n=t.split("/"),i=n.length;return n.some(iy)&&(i+=nw),e&&(i+=WS),n.filter(s=>!iy(s)).reduce((s,a)=>s+(QS.test(a)?XS:a===""?ew:tw),i)}function rw(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function ow(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],m=h===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=ea({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),x=p.route;if(!_&&m&&n&&!i[i.length-1].route.index&&(_=ea({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:ii([a,_.pathname]),pathnameBase:cw(ii([a,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(a=ii([a,_.pathnameBase]))}return c}function ea(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=sw(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},x)=>{if(y==="*"){let w=h[x]||"";c=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=h[x];return _&&!b?m[y]=void 0:m[y]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:t}}function sw(t,e=!1,n=!0){Ln(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function M0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ri(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function aw(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?ko(t):t;return{pathname:n?n.startsWith("/")?n:lw(n,e):e,search:fw(i),hash:dw(s)}}function lw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k0(t){let e=uw(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function D0(t,e,n,i=!1){let s;typeof t=="string"?s=ko(t):(s={...t},it(!s.pathname||!s.pathname.includes("?"),Vf("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),Vf("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),Vf("#","search","hash",s)));let a=t===""||s.pathname==="",c=a?"/":s.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),_-=1;s.pathname=x.join("/")}h=_>=0?e[_]:"/"}let p=aw(s,h),m=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var ii=t=>t.join("/").replace(/\/\/+/g,"/"),cw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var U0=["POST","PUT","PATCH","DELETE"];new Set(U0);var mw=["GET",...U0];new Set(mw);var Do=N.createContext(null);Do.displayName="DataRouter";var iu=N.createContext(null);iu.displayName="DataRouterState";var I0=N.createContext({isTransitioning:!1});I0.displayName="ViewTransition";var pw=N.createContext(new Map);pw.displayName="Fetchers";var gw=N.createContext(null);gw.displayName="Await";var qn=N.createContext(null);qn.displayName="Navigation";var oa=N.createContext(null);oa.displayName="Location";var si=N.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var Id=N.createContext(null);Id.displayName="RouteError";function yw(t,{relative:e}={}){it(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(qn),{hash:s,pathname:a,search:c}=sa(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:ii([n,a])),i.createHref({pathname:h,search:c,hash:s})}function Uo(){return N.useContext(oa)!=null}function $i(){return it(Uo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(oa).location}function P0(t){it(Uo(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=$i();return N.useMemo(()=>ea(t,M0(e)),[e,t])}var L0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O0(t){N.useContext(qn).static||N.useLayoutEffect(t)}function Tr(){let{isDataRoute:t}=N.useContext(si);return t?Mw():vw()}function vw(){it(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Do),{basename:e,navigator:n}=N.useContext(qn),{matches:i}=N.useContext(si),{pathname:s}=$i(),a=JSON.stringify(k0(i)),c=N.useRef(!1);return O0(()=>{c.current=!0}),N.useCallback((p,m={})=>{if(Ln(c.current,L0),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=D0(p,JSON.parse(a),s,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ii([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,a,s,t])}N.createContext(null);function sa(t,{relative:e}={}){let{matches:n}=N.useContext(si),{pathname:i}=$i(),s=JSON.stringify(k0(n));return N.useMemo(()=>D0(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function _w(t,e){return q0(t,e)}function q0(t,e,n,i){var k;it(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(qn),{matches:a}=N.useContext(si),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let P=y&&y.path||"";B0(p,!y||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let _=$i(),x;if(e){let P=typeof e=="string"?ko(e):e;it(m==="/"||((k=P.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),x=P}else x=_;let b=x.pathname||"/",w=b;if(m!=="/"){let P=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let R=A0(t,{pathname:w});Ln(y||R!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ln(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=bw(R&&R.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:ii([m,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:ii([m,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,n,i);return e&&A?N.createElement(oa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},A):A}function Tw(){let t=Nw(),e=hw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,c)}var xw=N.createElement(Tw,null),Sw=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(si.Provider,{value:this.props.routeContext},N.createElement(Id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ww({routeContext:t,match:e,children:n}){let i=N.useContext(Do);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(si.Provider,{value:t},n)}function bw(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let p=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,h=-1;if(n)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:_}=n,x=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||x){c=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((p,m,y)=>{let _,x=!1,b=null,w=null;n&&(_=a&&m.route.id?a[m.route.id]:void 0,b=m.route.errorElement||xw,c&&(h<0&&y===0?(B0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):h===y&&(x=!0,w=m.route.hydrateFallbackElement||null)));let R=e.concat(s.slice(0,y+1)),A=()=>{let k;return _?k=b:x?k=w:m.route.Component?k=N.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=p,N.createElement(ww,{match:m,routeContext:{outlet:p,matches:R,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?N.createElement(Sw,{location:n.location,revalidation:n.revalidation,component:b,error:_,children:A(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):A()},null)}function Pd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cw(t){let e=N.useContext(Do);return it(e,Pd(t)),e}function Ew(t){let e=N.useContext(iu);return it(e,Pd(t)),e}function Aw(t){let e=N.useContext(si);return it(e,Pd(t)),e}function Ld(t){let e=Aw(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Rw(){return Ld("useRouteId")}function Nw(){var i;let t=N.useContext(Id),e=Ew("useRouteError"),n=Ld("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function Mw(){let{router:t}=Cw("useNavigate"),e=Ld("useNavigate"),n=N.useRef(!1);return O0(()=>{n.current=!0}),N.useCallback(async(s,a={})=>{Ln(n.current,L0),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var ry={};function B0(t,e,n){!e&&!ry[t]&&(ry[t]=!0,Ln(!1,n))}N.memo(kw);function kw({routes:t,future:e,state:n}){return q0(t,void 0,n,e)}function At(t){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dw({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){it(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:c,navigator:s,static:a,future:{}}),[c,s,a]);typeof n=="string"&&(n=ko(n));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:x="default"}=n,b=N.useMemo(()=>{let w=ri(p,c);return w==null?null:{location:{pathname:w,search:m,hash:y,state:_,key:x},navigationType:i}},[c,p,m,y,_,x,i]);return Ln(b!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:N.createElement(qn.Provider,{value:h},N.createElement(oa.Provider,{children:e,value:b}))}function Uw({children:t,location:e}){return _w(ed(t),e)}function ed(t,e=[]){let n=[];return N.Children.forEach(t,(i,s)=>{if(!N.isValidElement(i))return;let a=[...e,s];if(i.type===N.Fragment){n.push.apply(n,ed(i.props.children,a));return}it(i.type===At,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ed(i.props.children,a)),n.push(c)}),n}var Ll="get",Ol="application/x-www-form-urlencoded";function ru(t){return t!=null&&typeof t.tagName=="string"}function Iw(t){return ru(t)&&t.tagName.toLowerCase()==="button"}function Pw(t){return ru(t)&&t.tagName.toLowerCase()==="form"}function Lw(t){return ru(t)&&t.tagName.toLowerCase()==="input"}function Ow(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qw(t,e){return t.button===0&&(!e||e==="_self")&&!Ow(t)}var El=null;function Bw(){if(El===null)try{new FormData(document.createElement("form"),0),El=!1}catch{El=!0}return El}var Vw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $f(t){return t!=null&&!Vw.has(t)?(Ln(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ol}"`),null):t}function $w(t,e){let n,i,s,a,c;if(Pw(t)){let h=t.getAttribute("action");i=h?ri(h,e):null,n=t.getAttribute("method")||Ll,s=$f(t.getAttribute("enctype"))||Ol,a=new FormData(t)}else if(Iw(t)||Lw(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(i=p?ri(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Ll,s=$f(t.getAttribute("formenctype"))||$f(h.getAttribute("enctype"))||Ol,a=new FormData(h,t),!Bw()){let{name:m,type:y,value:_}=t;if(y==="image"){let x=m?`${m}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else m&&a.append(m,_)}}else{if(ru(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ll,i=null,s=Ol,c=t}return a&&s==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:c}}function Od(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Fw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Gw(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let c=await Fw(a,n);return c.links?c.links():[]}return[]}));return Yw(i.flat(1).filter(zw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function oy(t,e,n,i,s,a){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):a==="data"?e.filter((p,m)=>{var _;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Hw(t,e,{includeHydrateFallback:n}={}){return Jw(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Jw(t){return[...new Set(t)]}function jw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Yw(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(jw(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kw=new Set([100,101,204,205]);function Zw(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ri(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function V0(){let t=N.useContext(Do);return Od(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Qw(){let t=N.useContext(iu);return Od(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qd=N.createContext(void 0);qd.displayName="FrameworkContext";function $0(){let t=N.useContext(qd);return Od(t,"You must render this element inside a <HydratedRouter> element"),t}function Xw(t,e){let n=N.useContext(qd),[i,s]=N.useState(!1),[a,c]=N.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=k=>{k.forEach(P=>{c(P.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return x.current&&A.observe(x.current),()=>{A.disconnect()}}},[t]),N.useEffect(()=>{if(i){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[i]);let b=()=>{s(!0)},w=()=>{s(!1),c(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Vs(h,b),onBlur:Vs(p,w),onMouseEnter:Vs(m,b),onMouseLeave:Vs(y,w),onTouchStart:Vs(_,b)}]:[!1,x,{}]}function Vs(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ww({page:t,...e}){let{router:n}=V0(),i=N.useMemo(()=>A0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(tb,{page:t,matches:i,...e}):null}function eb(t){let{manifest:e,routeModules:n}=$0(),[i,s]=N.useState([]);return N.useEffect(()=>{let a=!1;return Gw(t,e,n).then(c=>{a||s(c)}),()=>{a=!0}},[t,e,n]),i}function tb({page:t,matches:e,...n}){let i=$i(),{manifest:s,routeModules:a}=$0(),{basename:c}=V0(),{loaderData:h,matches:p}=Qw(),m=N.useMemo(()=>oy(t,e,p,s,i,"data"),[t,e,p,s,i]),y=N.useMemo(()=>oy(t,e,p,s,i,"assets"),[t,e,p,s,i]),_=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let w=new Set,R=!1;if(e.forEach(k=>{var D;let P=s.routes[k.route.id];!P||!P.hasLoader||(!m.some(U=>U.route.id===k.route.id)&&k.route.id in h&&((D=a[k.route.id])!=null&&D.shouldRevalidate)||P.hasClientLoader?R=!0:w.add(k.route.id))}),w.size===0)return[];let A=Zw(t,c);return R&&w.size>0&&A.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[A.pathname+A.search]},[c,h,i,s,m,e,t,a]),x=N.useMemo(()=>Hw(y,s),[y,s]),b=eb(y);return N.createElement(N.Fragment,null,_.map(w=>N.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>N.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:R})=>N.createElement("link",{key:w,...R})))}function nb(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var F0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F0&&(window.__reactRouterVersion="7.6.3")}catch{}function ib({basename:t,children:e,window:n}){let i=N.useRef();i.current==null&&(i.current=HS({window:n,v5Compat:!0}));let s=i.current,[a,c]=N.useState({action:s.action,location:s.location}),h=N.useCallback(p=>{N.startTransition(()=>c(p))},[c]);return N.useLayoutEffect(()=>s.listen(h),[s,h]),N.createElement(Dw,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:_,...x},b){let{basename:w}=N.useContext(qn),R=typeof m=="string"&&z0.test(m),A,k=!1;if(typeof m=="string"&&R&&(A=m,F0))try{let z=new URL(window.location.href),L=m.startsWith("//")?new URL(z.protocol+m):new URL(m),le=ri(L.pathname,w);L.origin===z.origin&&le!=null?m=le+L.search+L.hash:k=!0}catch{Ln(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=yw(m,{relative:s}),[D,U,q]=Xw(i,x),Q=ab(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:s,viewTransition:_});function Z(z){e&&e(z),z.defaultPrevented||Q(z)}let ie=N.createElement("a",{...x,...q,href:A||P,onClick:k||a?e:Z,ref:nb(b,U),target:p,"data-discover":!R&&n==="render"?"true":void 0});return D&&!R?N.createElement(N.Fragment,null,ie,N.createElement(Ww,{page:P})):ie});tt.displayName="Link";var rb=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:c,viewTransition:h,children:p,...m},y){let _=sa(c,{relative:m.relative}),x=$i(),b=N.useContext(iu),{navigator:w,basename:R}=N.useContext(qn),A=b!=null&&db(_)&&h===!0,k=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,P=x.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(P=P.toLowerCase(),D=D?D.toLowerCase():null,k=k.toLowerCase()),D&&R&&(D=ri(D,R)||D);const U=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let q=P===k||!s&&P.startsWith(k)&&P.charAt(U)==="/",Q=D!=null&&(D===k||!s&&D.startsWith(k)&&D.charAt(k.length)==="/"),Z={isActive:q,isPending:Q,isTransitioning:A},ie=q?e:void 0,z;typeof i=="function"?z=i(Z):z=[i,q?"active":null,Q?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(Z):a;return N.createElement(tt,{...m,"aria-current":ie,className:z,ref:y,style:L,to:c,viewTransition:h},typeof p=="function"?p(Z):p)});rb.displayName="NavLink";var ob=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:c=Ll,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...x},b)=>{let w=cb(),R=fb(h,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&z0.test(h),P=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let U=D.nativeEvent.submitter,q=(U==null?void 0:U.getAttribute("formmethod"))||c;w(U||D.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:s,state:a,relative:m,preventScrollReset:y,viewTransition:_})};return N.createElement("form",{ref:b,method:A,action:R,onSubmit:i?p:P,...x,"data-discover":!k&&t==="render"?"true":void 0})});ob.displayName="Form";function sb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G0(t){let e=N.useContext(Do);return it(e,sb(t)),e}function ab(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:c}={}){let h=Tr(),p=$i(),m=sa(t,{relative:a});return N.useCallback(y=>{if(qw(y,e)){y.preventDefault();let _=n!==void 0?n:Ws(p)===Ws(m);h(t,{replace:_,state:i,preventScrollReset:s,relative:a,viewTransition:c})}},[p,h,m,n,i,e,t,s,a,c])}var lb=0,ub=()=>`__${String(++lb)}__`;function cb(){let{router:t}=G0("useSubmit"),{basename:e}=N.useContext(qn),n=Rw();return N.useCallback(async(i,s={})=>{let{action:a,method:c,encType:h,formData:p,body:m}=$w(i,e);if(s.navigate===!1){let y=s.fetcherKey||ub();await t.fetch(y,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function fb(t,{relative:e}={}){let{basename:n}=N.useContext(qn),i=N.useContext(si);it(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...sa(t||".",{relative:e})},c=$i();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ii([n,a.pathname])),Ws(a)}function db(t,e={}){let n=N.useContext(I0);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=G0("useViewTransitionState"),s=sa(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ri(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=ri(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ea(s.pathname,c)!=null||ea(s.pathname,a)!=null}[...Kw];const hb=({user:t})=>T.jsxs("div",{className:"min-h-screen flex flex-col items-center px-6 py-24 text-center overflow-hidden",children:[T.jsxs("div",{className:"max-w-4xl animate-fade-in-up",children:[T.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white leading-tight mb-6 drop-shadow-md",children:"Welcome to Libertyville High School Science Olympiad"}),T.jsx("p",{className:"text-lg sm:text-xl bg-white/20 text-orange-50 font-medium rounded-xl shadow-lg p-5 max-w-4xl mx-auto mb-15 backdrop-blur-md",children:"Join the community, access events, practice tests, and excel in Science Olympiad!"}),T.jsx("div",{className:"mb-16 animate-fade-in-up animation-delay-200",children:t?T.jsx(tt,{to:"/events",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Events & Resources"}):T.jsx(tt,{to:"/signup",className:"bg-white text-orange-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-orange-100 shadow-md transition duration-200",children:"Get Started"})})]}),T.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 w-full max-w-4xl animate-fade-in-up animation-delay-400",children:[T.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[T.jsx("div",{className:"text-5xl mb-4",children:""}),T.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Track Your Progress"}),T.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Monitor your performance and improve with feedback."})]}),T.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition duration-300",children:[T.jsx("div",{className:"text-5xl mb-4",children:""}),T.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-2",children:"Practice Tests"}),T.jsx("p",{className:"text-orange-600 text-sm sm:text-base",children:"Access curated practice tests tailored for Science Olympiad events."})]})]})]}),mb=t=>{const[e,n]=N.useState(""),[i,s]=N.useState(""),a=async c=>{c.preventDefault(),await t.handleSignIn({email:e,password:i})&&(n(""),s(""))};return T.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign in to LHS Scioly"}),T.jsxs("form",{onSubmit:a,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),T.jsx("input",{value:e,onChange:({target:c})=>n(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),T.jsx("input",{type:"password",value:i,onChange:({target:c})=>s(c.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign In"}),T.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline mt-2",children:T.jsx(tt,{to:"/signup",children:"Don't have an account? Sign Up"})}),T.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:T.jsx(tt,{to:"/forgot",children:"Forgot password?"})})]})]})},pb=t=>{const[e,n]=N.useState(""),[i,s]=N.useState(""),[a,c]=N.useState(""),[h,p]=N.useState(""),[m,y]=N.useState(""),[_,x]=N.useState(""),[b,w]=N.useState(!1);Tr();const R=async A=>{if(A.preventDefault(),h!==m){t.setError("passwords do not match"),setTimeout(()=>{t.setError(null)},3e3);return}await t.handleSignUp({email:e,firstName:i,lastName:a,password:h,adminKey:_})&&(n(""),s(""),c(""),p(""),y(""),x(""))};return T.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Sign up for LHS Scioly"}),T.jsxs("form",{onSubmit:R,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Email Address"}),T.jsx("input",{value:e,onChange:({target:A})=>n(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"First Name"}),T.jsx("input",{value:i,onChange:({target:A})=>s(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Last Name"}),T.jsx("input",{value:a,onChange:({target:A})=>c(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Password"}),T.jsx("input",{type:"password",value:h,onChange:({target:A})=>p(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Confirm Password"}),T.jsx("input",{type:"password",value:m,onChange:({target:A})=>y(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),b?T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-800",children:"Admin Key"}),T.jsx("input",{type:"password",value:_,onChange:({target:A})=>x(A.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"}),T.jsx("button",{type:"button",onClick:()=>w(!1),className:"text-orange-600 hover:underline",children:"Cancel"})]}):T.jsx("div",{children:T.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-orange-600 hover:underline",children:"I am a Coach or Captain"})}),T.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Sign Up"}),T.jsxs("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:["Already have an account? ",T.jsx(tt,{to:"/signin",children:"Sign In"})]})]})]})},gb=t=>{const[e,n]=N.useState(!1),[i,s]=N.useState(t.event.name),[a,c]=N.useState(t.event.block),[h,p]=N.useState(t.event.group),[m,y]=N.useState(t.event.description),[_,x]=N.useState(""),[b,w]=N.useState(t.event.resources),R=async P=>{P.preventDefault(),await t.editEvent(t.event.id,{name:i,group:h,block:a,description:m,resources:b}),n(!1)},A=async()=>{await t.deleteEvent(t.event.id)},k=()=>{_.trim()&&(w(b.concat(_.trim())),x(""))};return e?T.jsx("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:T.jsxs("form",{onSubmit:R,children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("div",{className:"mb-1",children:T.jsx("input",{value:i,onChange:({target:P})=>s(P.value),className:"text-lg font-semibold text-orange-700 px-2 py-1 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",children:"Save"}),T.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:()=>{n(!1),s(t.event.name),c(t.event.block),p(t.event.group),y(t.event.description),x(""),w(t.event.resources)},children:"Cancel"})]})]}),T.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[T.jsx("label",{className:"font-medium block mb-1",children:"Category"}),T.jsxs("select",{name:"category",value:h,onChange:({target:P})=>p(P.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[T.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),T.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),T.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),T.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),T.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),T.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),T.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[T.jsx("label",{className:"font-medium block mb-1",children:"Block"}),T.jsxs("select",{name:"block",value:a,onChange:({target:P})=>c(P.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-white",children:[T.jsx("option",{value:"",children:"Self Schedule"}),T.jsx("option",{value:"1",children:"Block 1"}),T.jsx("option",{value:"2",children:"Block 2"}),T.jsx("option",{value:"3",children:"Block 3"}),T.jsx("option",{value:"4",children:"Block 4"}),T.jsx("option",{value:"5",children:"Block 5"})]})]}),T.jsxs("div",{className:"text-sm text-gray-800 mb-3",children:[T.jsx("label",{className:"font-medium block mb-1",children:"Description:"}),T.jsx("textarea",{value:m,onChange:({target:P})=>y(P.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",rows:4})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(P=>T.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[T.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:P}),T.jsx("button",{type:"button",onClick:()=>w(b.filter(D=>D!==P)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:""})]},P))})]}),T.jsxs("div",{className:"pt-3",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{value:_,onChange:({target:P})=>x(P.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),T.jsx("button",{onClick:k,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]})]})}):T.jsxs("li",{className:"p-4 bg-white rounded-md shadow-sm border border-orange-200",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-1",children:t.event.name}),t.user&&t.user.admin?T.jsxs("div",{className:"flex justify-between gap-2",children:[T.jsx("button",{className:"bg-orange-600 text-white px-4 py-1 rounded hover:bg-orange-700 transition",onClick:()=>n(!0),children:"Edit"}),T.jsx("button",{className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 transition",onClick:A,children:"Delete"})]}):null]}),T.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[T.jsx("span",{className:"font-medium",children:"Category:"})," ",t.event.group]}),T.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[T.jsx("span",{className:"font-medium",children:"Block:"})," ",t.event.block===""?"Self Schedule":t.event.block]}),T.jsxs("p",{className:"text-sm text-gray-800 mb-3",children:[T.jsx("span",{className:"font-medium",children:"Description:"})," ",t.event.description]}),t.user?T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Resources:"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:t.event.resources.map(P=>T.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:P},P))})]}):null]})};function H0(t,e){return function(){return t.apply(e,arguments)}}const{toString:yb}=Object.prototype,{getPrototypeOf:Bd}=Object,{iterator:ou,toStringTag:J0}=Symbol,su=(t=>e=>{const n=yb.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xn=t=>(t=t.toLowerCase(),e=>su(e)===t),au=t=>e=>typeof e===t,{isArray:Io}=Array,ta=au("undefined");function vb(t){return t!==null&&!ta(t)&&t.constructor!==null&&!ta(t.constructor)&&Jt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const j0=xn("ArrayBuffer");function _b(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&j0(t.buffer),e}const Tb=au("string"),Jt=au("function"),Y0=au("number"),lu=t=>t!==null&&typeof t=="object",xb=t=>t===!0||t===!1,ql=t=>{if(su(t)!=="object")return!1;const e=Bd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(J0 in t)&&!(ou in t)},Sb=xn("Date"),wb=xn("File"),bb=xn("Blob"),Cb=xn("FileList"),Eb=t=>lu(t)&&Jt(t.pipe),Ab=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Jt(t.append)&&((e=su(t))==="formdata"||e==="object"&&Jt(t.toString)&&t.toString()==="[object FormData]"))},Rb=xn("URLSearchParams"),[Nb,Mb,kb,Db]=["ReadableStream","Request","Response","Headers"].map(xn),Ub=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function aa(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),Io(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let h;for(i=0;i<c;i++)h=a[i],e.call(null,t[h],h,t)}}function K0(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const dr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Z0=t=>!ta(t)&&t!==dr;function td(){const{caseless:t}=Z0(this)&&this||{},e={},n=(i,s)=>{const a=t&&K0(e,s)||s;ql(e[a])&&ql(i)?e[a]=td(e[a],i):ql(i)?e[a]=td({},i):Io(i)?e[a]=i.slice():e[a]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&aa(arguments[i],n);return e}const Ib=(t,e,n,{allOwnKeys:i}={})=>(aa(e,(s,a)=>{n&&Jt(s)?t[a]=H0(s,n):t[a]=s},{allOwnKeys:i}),t),Pb=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Lb=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ob=(t,e,n,i)=>{let s,a,c;const h={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)c=s[a],(!i||i(c,t,e))&&!h[c]&&(e[c]=t[c],h[c]=!0);t=n!==!1&&Bd(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},qb=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},Bb=t=>{if(!t)return null;if(Io(t))return t;let e=t.length;if(!Y0(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Vb=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Bd(Uint8Array)),$b=(t,e)=>{const i=(t&&t[ou]).call(t);let s;for(;(s=i.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},Fb=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},zb=xn("HTMLFormElement"),Gb=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),sy=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Hb=xn("RegExp"),Q0=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};aa(n,(s,a)=>{let c;(c=e(s,a,t))!==!1&&(i[a]=c||s)}),Object.defineProperties(t,i)},Jb=t=>{Q0(t,(e,n)=>{if(Jt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Jt(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jb=(t,e)=>{const n={},i=s=>{s.forEach(a=>{n[a]=!0})};return Io(t)?i(t):i(String(t).split(e)),n},Yb=()=>{},Kb=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Zb(t){return!!(t&&Jt(t.append)&&t[J0]==="FormData"&&t[ou])}const Qb=t=>{const e=new Array(10),n=(i,s)=>{if(lu(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const a=Io(i)?[]:{};return aa(i,(c,h)=>{const p=n(c,s+1);!ta(p)&&(a[h]=p)}),e[s]=void 0,a}}return i};return n(t,0)},Xb=xn("AsyncFunction"),Wb=t=>t&&(lu(t)||Jt(t))&&Jt(t.then)&&Jt(t.catch),X0=((t,e)=>t?setImmediate:e?((n,i)=>(dr.addEventListener("message",({source:s,data:a})=>{s===dr&&a===n&&i.length&&i.shift()()},!1),s=>{i.push(s),dr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Jt(dr.postMessage)),eC=typeof queueMicrotask<"u"?queueMicrotask.bind(dr):typeof process<"u"&&process.nextTick||X0,tC=t=>t!=null&&Jt(t[ou]),K={isArray:Io,isArrayBuffer:j0,isBuffer:vb,isFormData:Ab,isArrayBufferView:_b,isString:Tb,isNumber:Y0,isBoolean:xb,isObject:lu,isPlainObject:ql,isReadableStream:Nb,isRequest:Mb,isResponse:kb,isHeaders:Db,isUndefined:ta,isDate:Sb,isFile:wb,isBlob:bb,isRegExp:Hb,isFunction:Jt,isStream:Eb,isURLSearchParams:Rb,isTypedArray:Vb,isFileList:Cb,forEach:aa,merge:td,extend:Ib,trim:Ub,stripBOM:Pb,inherits:Lb,toFlatObject:Ob,kindOf:su,kindOfTest:xn,endsWith:qb,toArray:Bb,forEachEntry:$b,matchAll:Fb,isHTMLForm:zb,hasOwnProperty:sy,hasOwnProp:sy,reduceDescriptors:Q0,freezeMethods:Jb,toObjectSet:jb,toCamelCase:Gb,noop:Yb,toFiniteNumber:Kb,findKey:K0,global:dr,isContextDefined:Z0,isSpecCompliantForm:Zb,toJSONObject:Qb,isAsyncFn:Xb,isThenable:Wb,setImmediate:X0,asap:eC,isIterable:tC};function Se(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}K.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const W0=Se.prototype,e_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{e_[t]={value:t}});Object.defineProperties(Se,e_);Object.defineProperty(W0,"isAxiosError",{value:!0});Se.from=(t,e,n,i,s,a)=>{const c=Object.create(W0);return K.toFlatObject(t,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),Se.call(c,t.message,e,n,i,s),c.cause=t,c.name=t.name,a&&Object.assign(c,a),c};const nC=null;function nd(t){return K.isPlainObject(t)||K.isArray(t)}function t_(t){return K.endsWith(t,"[]")?t.slice(0,-2):t}function ay(t,e,n){return t?t.concat(e).map(function(s,a){return s=t_(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function iC(t){return K.isArray(t)&&!t.some(nd)}const rC=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function uu(t,e,n){if(!K.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,A){return!K.isUndefined(A[R])});const i=n.metaTokens,s=n.visitor||y,a=n.dots,c=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(s))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(K.isDate(w))return w.toISOString();if(K.isBoolean(w))return w.toString();if(!p&&K.isBlob(w))throw new Se("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(w)||K.isTypedArray(w)?p&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function y(w,R,A){let k=w;if(w&&!A&&typeof w=="object"){if(K.endsWith(R,"{}"))R=i?R:R.slice(0,-2),w=JSON.stringify(w);else if(K.isArray(w)&&iC(w)||(K.isFileList(w)||K.endsWith(R,"[]"))&&(k=K.toArray(w)))return R=t_(R),k.forEach(function(D,U){!(K.isUndefined(D)||D===null)&&e.append(c===!0?ay([R],U,a):c===null?R:R+"[]",m(D))}),!1}return nd(w)?!0:(e.append(ay(A,R,a),m(w)),!1)}const _=[],x=Object.assign(rC,{defaultVisitor:y,convertValue:m,isVisitable:nd});function b(w,R){if(!K.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+R.join("."));_.push(w),K.forEach(w,function(k,P){(!(K.isUndefined(k)||k===null)&&s.call(e,k,K.isString(P)?P.trim():P,R,x))===!0&&b(k,R?R.concat(P):[P])}),_.pop()}}if(!K.isObject(t))throw new TypeError("data must be an object");return b(t),e}function ly(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Vd(t,e){this._pairs=[],t&&uu(t,this,e)}const n_=Vd.prototype;n_.append=function(e,n){this._pairs.push([e,n])};n_.toString=function(e){const n=e?function(i){return e.call(this,i,ly)}:ly;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function oC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function i_(t,e,n){if(!e)return t;const i=n&&n.encode||oC;K.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(e,n):a=K.isURLSearchParams(e)?e.toString():new Vd(e,n).toString(i),a){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class uy{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(i){i!==null&&e(i)})}}const r_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sC=typeof URLSearchParams<"u"?URLSearchParams:Vd,aC=typeof FormData<"u"?FormData:null,lC=typeof Blob<"u"?Blob:null,uC={isBrowser:!0,classes:{URLSearchParams:sC,FormData:aC,Blob:lC},protocols:["http","https","file","blob","url","data"]},$d=typeof window<"u"&&typeof document<"u",id=typeof navigator=="object"&&navigator||void 0,cC=$d&&(!id||["ReactNative","NativeScript","NS"].indexOf(id.product)<0),fC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dC=$d&&window.location.href||"http://localhost",hC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$d,hasStandardBrowserEnv:cC,hasStandardBrowserWebWorkerEnv:fC,navigator:id,origin:dC},Symbol.toStringTag,{value:"Module"})),It={...hC,...uC};function mC(t,e){return uu(t,new It.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,a){return It.isNode&&K.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function pC(t){return K.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gC(t){const e={},n=Object.keys(t);let i;const s=n.length;let a;for(i=0;i<s;i++)a=n[i],e[a]=t[a];return e}function o_(t){function e(n,i,s,a){let c=n[a++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=a>=n.length;return c=!c&&K.isArray(s)?s.length:c,p?(K.hasOwnProp(s,c)?s[c]=[s[c],i]:s[c]=i,!h):((!s[c]||!K.isObject(s[c]))&&(s[c]=[]),e(n,i,s[c],a)&&K.isArray(s[c])&&(s[c]=gC(s[c])),!h)}if(K.isFormData(t)&&K.isFunction(t.entries)){const n={};return K.forEachEntry(t,(i,s)=>{e(pC(i),s,n,0)}),n}return null}function yC(t,e,n){if(K.isString(t))try{return(e||JSON.parse)(t),K.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const la={transitional:r_,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,a=K.isObject(e);if(a&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return s?JSON.stringify(o_(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e)||K.isReadableStream(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return mC(e,this.formSerializer).toString();if((h=K.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return uu(h?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),yC(e)):e}],transformResponse:[function(e){const n=this.transitional||la.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(K.isResponse(e)||K.isReadableStream(e))return e;if(e&&K.isString(e)&&(i&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?Se.from(h,Se.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:It.classes.FormData,Blob:It.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],t=>{la.headers[t]={}});const vC=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_C=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),i=c.substring(s+1).trim(),!(!n||e[n]&&vC[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},cy=Symbol("internals");function $s(t){return t&&String(t).trim().toLowerCase()}function Bl(t){return t===!1||t==null?t:K.isArray(t)?t.map(Bl):String(t)}function TC(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const xC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ff(t,e,n,i,s){if(K.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!K.isString(e)){if(K.isString(i))return e.indexOf(i)!==-1;if(K.isRegExp(i))return i.test(e)}}function SC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function wC(t,e){const n=K.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,a,c){return this[i].call(this,e,s,a,c)},configurable:!0})})}let jt=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function a(h,p,m){const y=$s(p);if(!y)throw new Error("header name must be a non-empty string");const _=K.findKey(s,y);(!_||s[_]===void 0||m===!0||m===void 0&&s[_]!==!1)&&(s[_||p]=Bl(h))}const c=(h,p)=>K.forEach(h,(m,y)=>a(m,y,p));if(K.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(K.isString(e)&&(e=e.trim())&&!xC(e))c(_C(e),n);else if(K.isObject(e)&&K.isIterable(e)){let h={},p,m;for(const y of e){if(!K.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[m=y[0]]=(p=h[m])?K.isArray(p)?[...p,y[1]]:[p,y[1]]:y[1]}c(h,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=$s(e),e){const i=K.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return TC(s);if(K.isFunction(n))return n.call(this,s,i);if(K.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=$s(e),e){const i=K.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Ff(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function a(c){if(c=$s(c),c){const h=K.findKey(i,c);h&&(!n||Ff(i,i[h],h,n))&&(delete i[h],s=!0)}}return K.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const a=n[i];(!e||Ff(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,i={};return K.forEach(this,(s,a)=>{const c=K.findKey(i,a);if(c){n[c]=Bl(s),delete n[a];return}const h=e?SC(a):String(a).trim();h!==a&&delete n[a],n[h]=Bl(s),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return K.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&K.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[cy]=this[cy]={accessors:{}}).accessors,s=this.prototype;function a(c){const h=$s(c);i[h]||(wC(s,c),i[h]=!0)}return K.isArray(e)?e.forEach(a):a(e),this}};jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(jt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});K.freezeMethods(jt);function zf(t,e){const n=this||la,i=e||n,s=jt.from(i.headers);let a=i.data;return K.forEach(t,function(h){a=h.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function s_(t){return!!(t&&t.__CANCEL__)}function Po(t,e,n){Se.call(this,t??"canceled",Se.ERR_CANCELED,e,n),this.name="CanceledError"}K.inherits(Po,Se,{__CANCEL__:!0});function a_(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Se("Request failed with status code "+n.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function bC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function CC(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,a=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),y=i[a];c||(c=m),n[s]=p,i[s]=m;let _=a,x=0;for(;_!==s;)x+=n[_++],_=_%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),m-c<e)return;const b=y&&m-y;return b?Math.round(x*1e3/b):void 0}}function EC(t,e){let n=0,i=1e3/e,s,a;const c=(m,y=Date.now())=>{n=y,s=null,a&&(clearTimeout(a),a=null),t.apply(null,m)};return[(...m)=>{const y=Date.now(),_=y-n;_>=i?c(m,y):(s=m,a||(a=setTimeout(()=>{a=null,c(s)},i-_)))},()=>s&&c(s)]}const Hl=(t,e,n=3)=>{let i=0;const s=CC(50,250);return EC(a=>{const c=a.loaded,h=a.lengthComputable?a.total:void 0,p=c-i,m=s(p),y=c<=h;i=c;const _={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&y?(h-c)/m:void 0,event:a,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(_)},n)},fy=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},dy=t=>(...e)=>K.asap(()=>t(...e)),AC=It.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,It.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(It.origin),It.navigator&&/(msie|trident)/i.test(It.navigator.userAgent)):()=>!0,RC=It.hasStandardBrowserEnv?{write(t,e,n,i,s,a){const c=[t+"="+encodeURIComponent(e)];K.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),K.isString(i)&&c.push("path="+i),K.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function NC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function MC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function l_(t,e,n){let i=!NC(e);return t&&(i||n==!1)?MC(t,e):e}const hy=t=>t instanceof jt?{...t}:t;function pr(t,e){e=e||{};const n={};function i(m,y,_,x){return K.isPlainObject(m)&&K.isPlainObject(y)?K.merge.call({caseless:x},m,y):K.isPlainObject(y)?K.merge({},y):K.isArray(y)?y.slice():y}function s(m,y,_,x){if(K.isUndefined(y)){if(!K.isUndefined(m))return i(void 0,m,_,x)}else return i(m,y,_,x)}function a(m,y){if(!K.isUndefined(y))return i(void 0,y)}function c(m,y){if(K.isUndefined(y)){if(!K.isUndefined(m))return i(void 0,m)}else return i(void 0,y)}function h(m,y,_){if(_ in e)return i(m,y);if(_ in t)return i(void 0,m)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(m,y,_)=>s(hy(m),hy(y),_,!0)};return K.forEach(Object.keys(Object.assign({},t,e)),function(y){const _=p[y]||s,x=_(t[y],e[y],y);K.isUndefined(x)&&_!==h||(n[y]=x)}),n}const u_=t=>{const e=pr({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:c,auth:h}=e;e.headers=c=jt.from(c),e.url=i_(l_(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(K.isFormData(n)){if(It.hasStandardBrowserEnv||It.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...y]=p?p.split(";").map(_=>_.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...y].join("; "))}}if(It.hasStandardBrowserEnv&&(i&&K.isFunction(i)&&(i=i(e)),i||i!==!1&&AC(e.url))){const m=s&&a&&RC.read(a);m&&c.set(s,m)}return e},kC=typeof XMLHttpRequest<"u",DC=kC&&function(t){return new Promise(function(n,i){const s=u_(t);let a=s.data;const c=jt.from(s.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=s,y,_,x,b,w;function R(){b&&b(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(y),s.signal&&s.signal.removeEventListener("abort",y)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function k(){if(!A)return;const D=jt.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),q={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:D,config:t,request:A};a_(function(Z){n(Z),R()},function(Z){i(Z),R()},q),A=null}"onloadend"in A?A.onloadend=k:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(k)},A.onabort=function(){A&&(i(new Se("Request aborted",Se.ECONNABORTED,t,A)),A=null)},A.onerror=function(){i(new Se("Network Error",Se.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let U=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const q=s.transitional||r_;s.timeoutErrorMessage&&(U=s.timeoutErrorMessage),i(new Se(U,q.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,t,A)),A=null},a===void 0&&c.setContentType(null),"setRequestHeader"in A&&K.forEach(c.toJSON(),function(U,q){A.setRequestHeader(q,U)}),K.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),h&&h!=="json"&&(A.responseType=s.responseType),m&&([x,w]=Hl(m,!0),A.addEventListener("progress",x)),p&&A.upload&&([_,b]=Hl(p),A.upload.addEventListener("progress",_),A.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(y=D=>{A&&(i(!D||D.type?new Po(null,t,A):D),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(y),s.signal&&(s.signal.aborted?y():s.signal.addEventListener("abort",y)));const P=bC(s.url);if(P&&It.protocols.indexOf(P)===-1){i(new Se("Unsupported protocol "+P+":",Se.ERR_BAD_REQUEST,t));return}A.send(a||null)})},UC=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const a=function(m){if(!s){s=!0,h();const y=m instanceof Error?m:this.reason;i.abort(y instanceof Se?y:new Po(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,a(new Se(`timeout ${e} of ms exceeded`,Se.ETIMEDOUT))},e);const h=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:p}=i;return p.unsubscribe=()=>K.asap(h),p}},IC=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},PC=async function*(t,e){for await(const n of LC(t))yield*IC(n,e)},LC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},my=(t,e,n,i)=>{const s=PC(t,e);let a=0,c,h=p=>{c||(c=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:y}=await s.next();if(m){h(),p.close();return}let _=y.byteLength;if(n){let x=a+=_;n(x)}p.enqueue(new Uint8Array(y))}catch(m){throw h(m),m}},cancel(p){return h(p),s.return()}},{highWaterMark:2})},cu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",c_=cu&&typeof ReadableStream=="function",OC=cu&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),f_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},qC=c_&&f_(()=>{let t=!1;const e=new Request(It.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),py=64*1024,rd=c_&&f_(()=>K.isReadableStream(new Response("").body)),Jl={stream:rd&&(t=>t.body)};cu&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jl[e]&&(Jl[e]=K.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Se(`Response type '${e}' is not supported`,Se.ERR_NOT_SUPPORT,i)})})})(new Response);const BC=async t=>{if(t==null)return 0;if(K.isBlob(t))return t.size;if(K.isSpecCompliantForm(t))return(await new Request(It.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(K.isArrayBufferView(t)||K.isArrayBuffer(t))return t.byteLength;if(K.isURLSearchParams(t)&&(t=t+""),K.isString(t))return(await OC(t)).byteLength},VC=async(t,e)=>{const n=K.toFiniteNumber(t.getContentLength());return n??BC(e)},$C=cu&&(async t=>{let{url:e,method:n,data:i,signal:s,cancelToken:a,timeout:c,onDownloadProgress:h,onUploadProgress:p,responseType:m,headers:y,withCredentials:_="same-origin",fetchOptions:x}=u_(t);m=m?(m+"").toLowerCase():"text";let b=UC([s,a&&a.toAbortSignal()],c),w;const R=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let A;try{if(p&&qC&&n!=="get"&&n!=="head"&&(A=await VC(y,i))!==0){let q=new Request(e,{method:"POST",body:i,duplex:"half"}),Q;if(K.isFormData(i)&&(Q=q.headers.get("content-type"))&&y.setContentType(Q),q.body){const[Z,ie]=fy(A,Hl(dy(p)));i=my(q.body,py,Z,ie)}}K.isString(_)||(_=_?"include":"omit");const k="credentials"in Request.prototype;w=new Request(e,{...x,signal:b,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:k?_:void 0});let P=await fetch(w,x);const D=rd&&(m==="stream"||m==="response");if(rd&&(h||D&&R)){const q={};["status","statusText","headers"].forEach(z=>{q[z]=P[z]});const Q=K.toFiniteNumber(P.headers.get("content-length")),[Z,ie]=h&&fy(Q,Hl(dy(h),!0))||[];P=new Response(my(P.body,py,Z,()=>{ie&&ie(),R&&R()}),q)}m=m||"text";let U=await Jl[K.findKey(Jl,m)||"text"](P,t);return!D&&R&&R(),await new Promise((q,Q)=>{a_(q,Q,{data:U,headers:jt.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:w})})}catch(k){throw R&&R(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,t,w),{cause:k.cause||k}):Se.from(k,k&&k.code,t,w)}}),od={http:nC,xhr:DC,fetch:$C};K.forEach(od,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gy=t=>`- ${t}`,FC=t=>K.isFunction(t)||t===null||t===!1,d_={getAdapter:t=>{t=K.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let a=0;a<e;a++){n=t[a];let c;if(i=n,!FC(n)&&(i=od[(c=String(n)).toLowerCase()],i===void 0))throw new Se(`Unknown adapter '${c}'`);if(i)break;s[c||"#"+a]=i}if(!i){const a=Object.entries(s).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(gy).join(`
`):" "+gy(a[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:od};function Gf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Po(null,t)}function yy(t){return Gf(t),t.headers=jt.from(t.headers),t.data=zf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),d_.getAdapter(t.adapter||la.adapter)(t).then(function(i){return Gf(t),i.data=zf.call(t,t.transformResponse,i),i.headers=jt.from(i.headers),i},function(i){return s_(i)||(Gf(t),i&&i.response&&(i.response.data=zf.call(t,t.transformResponse,i.response),i.response.headers=jt.from(i.response.headers))),Promise.reject(i)})}const h_="1.10.0",fu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{fu[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const vy={};fu.transitional=function(e,n,i){function s(a,c){return"[Axios v"+h_+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,h)=>{if(e===!1)throw new Se(s(c," has been removed"+(n?" in "+n:"")),Se.ERR_DEPRECATED);return n&&!vy[c]&&(vy[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,c,h):!0}};fu.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function zC(t,e,n){if(typeof t!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const a=i[s],c=e[a];if(c){const h=t[a],p=h===void 0||c(h,a,t);if(p!==!0)throw new Se("option "+a+" must be "+p,Se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Se("Unknown option "+a,Se.ERR_BAD_OPTION)}}const Vl={assertOptions:zC,validators:fu},kn=Vl.validators;let hr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new uy,response:new uy}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=pr(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:a}=n;i!==void 0&&Vl.assertOptions(i,{silentJSONParsing:kn.transitional(kn.boolean),forcedJSONParsing:kn.transitional(kn.boolean),clarifyTimeoutError:kn.transitional(kn.boolean)},!1),s!=null&&(K.isFunction(s)?n.paramsSerializer={serialize:s}:Vl.assertOptions(s,{encode:kn.function,serialize:kn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Vl.assertOptions(n,{baseUrl:kn.spelling("baseURL"),withXsrfToken:kn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&K.merge(a.common,a[n.method]);a&&K.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=jt.concat(c,a);const h=[];let p=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(p=p&&R.synchronous,h.unshift(R.fulfilled,R.rejected))});const m=[];this.interceptors.response.forEach(function(R){m.push(R.fulfilled,R.rejected)});let y,_=0,x;if(!p){const w=[yy.bind(this),void 0];for(w.unshift.apply(w,h),w.push.apply(w,m),x=w.length,y=Promise.resolve(n);_<x;)y=y.then(w[_++],w[_++]);return y}x=h.length;let b=n;for(_=0;_<x;){const w=h[_++],R=h[_++];try{b=w(b)}catch(A){R.call(this,A);break}}try{y=yy.call(this,b)}catch(w){return Promise.reject(w)}for(_=0,x=m.length;_<x;)y=y.then(m[_++],m[_++]);return y}getUri(e){e=pr(this.defaults,e);const n=l_(e.baseURL,e.url,e.allowAbsoluteUrls);return i_(n,e.params,e.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(e){hr.prototype[e]=function(n,i){return this.request(pr(i||{},{method:e,url:n,data:(i||{}).data}))}});K.forEach(["post","put","patch"],function(e){function n(i){return function(a,c,h){return this.request(pr(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}hr.prototype[e]=n(),hr.prototype[e+"Form"]=n(!0)});let GC=class m_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(s=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](s);i._listeners=null}),this.promise.then=s=>{let a;const c=new Promise(h=>{i.subscribe(h),a=h}).then(s);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,h){i.reason||(i.reason=new Po(a,c,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new m_(function(s){e=s}),cancel:e}}};function HC(t){return function(n){return t.apply(null,n)}}function JC(t){return K.isObject(t)&&t.isAxiosError===!0}const sd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sd).forEach(([t,e])=>{sd[e]=t});function p_(t){const e=new hr(t),n=H0(hr.prototype.request,e);return K.extend(n,hr.prototype,e,{allOwnKeys:!0}),K.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return p_(pr(t,s))},n}const Ae=p_(la);Ae.Axios=hr;Ae.CanceledError=Po;Ae.CancelToken=GC;Ae.isCancel=s_;Ae.VERSION=h_;Ae.toFormData=uu;Ae.AxiosError=Se;Ae.Cancel=Ae.CanceledError;Ae.all=function(e){return Promise.all(e)};Ae.spread=HC;Ae.isAxiosError=JC;Ae.mergeConfig=pr;Ae.AxiosHeaders=jt;Ae.formToJSON=t=>o_(K.isHTMLForm(t)?new FormData(t):t);Ae.getAdapter=d_.getAdapter;Ae.HttpStatusCode=sd;Ae.default=Ae;const{Axios:zL,AxiosError:GL,CanceledError:HL,isCancel:JL,CancelToken:jL,VERSION:YL,all:KL,Cancel:ZL,isAxiosError:QL,spread:XL,toFormData:WL,AxiosHeaders:eO,HttpStatusCode:tO,formToJSON:nO,getAdapter:iO,mergeConfig:rO}=Ae,du="/api/events";let hu=null;const jC=t=>{hu=`Bearer ${t}`},YC=async()=>(await Ae.get(du)).data,KC=async t=>(await Ae.post(du,t,{headers:{Authorization:hu}})).data,ZC=async(t,e)=>{const n=`${du}/${t}`;return(await Ae.put(n,e,{headers:{Authorization:hu}})).data},QC=async t=>{const e=`${du}/${t}`;return(await Ae.delete(e,{headers:{Authorization:hu}})).data},Oi={setToken:jC,getAll:YC,createEvent:KC,changeEvent:ZC,deleteEvent:QC},g_=({isOpen:t,onClose:e,title:n,children:i})=>(N.useEffect(()=>{const s=a=>{a.key==="Escape"&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e]),t?T.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-center z-50",onClick:e,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg",onClick:s=>s.stopPropagation(),children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:n}),T.jsx("button",{onClick:e,className:"text-gray-600 hover:text-red-600 text-xl font-bold",children:""})]}),T.jsx("div",{children:i})]})}):null),XC=t=>{var z;const[e,n]=N.useState(null),[i,s]=N.useState(""),[a,c]=N.useState([]),[h,p]=N.useState(""),[m,y]=N.useState(""),[_,x]=N.useState(""),[b,w]=N.useState(""),[R,A]=N.useState(""),[k,P]=N.useState([]),[D,U]=N.useState(!1);N.useEffect(()=>{i.length===0?c(t.events):c(t.events.filter(L=>L.name.toLowerCase().includes(i.toLowerCase())))},[i,t.events]);const q=()=>{R.trim()&&(P(k.concat(R.trim())),A(""))},Q=async L=>{var le,ye;L.preventDefault();try{const Oe=await Oi.createEvent({name:h,block:_,group:m,description:b,resources:k});t.setEvents(t.events.concat(Oe)),p(""),x(""),y(""),w(""),A(""),P([]),U(!1),s("")}catch(Oe){(ye=(le=Oe.response)==null?void 0:le.data)!=null&&ye.error&&Oe.response.data.error==="expected `event name` to be unique"?(n("Event already added"),setTimeout(()=>{n(null)},5e3)):console.error("Failed to add event:",Oe)}},Z=async(L,le)=>{try{const ye=await Oi.changeEvent(L,le);t.setEvents(t.events.map(Oe=>Oe.id===ye.id?ye:Oe))}catch(ye){console.error("Failed to edit event:",ye)}},ie=async L=>{try{await Oi.deleteEvent(L),t.setEvents(t.events.filter(le=>le.id!==L))}catch(le){console.error("Failed to delete event:",le)}};return T.jsxs("div",{className:"max-w-3xl mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[T.jsx("h2",{className:"text-2xl font-semibold text-orange-800 text-center sm:text-left flex-1",children:"Science Olympiad Events"}),T.jsx("input",{type:"text",placeholder:"Filter events...",value:i,onChange:({target:L})=>s(L.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 w-full sm:w-1/3"})]}),((z=t.user)==null?void 0:z.admin)&&T.jsx("div",{className:"py-4",children:T.jsx("div",{className:"flex items-center justify-center",children:T.jsx("button",{onClick:()=>U(!0),className:"text-orange-600 text-4xl pt-2 pb-4 py-2 rounded hover:text-orange-700 transition pb-2 w-full border border-orange-300 border-dashed rounded-md hover:bg-orange-100",title:"Add Event",children:"+"})})}),T.jsxs(g_,{isOpen:D,onClose:()=>{p(""),y(""),w(""),A(""),P([]),U(!1)},title:"Add New Event",children:[e&&T.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[T.jsx("strong",{className:"font-bold",children:"Error: "}),T.jsx("span",{className:"block sm:inline",children:e})]}),T.jsxs("form",{onSubmit:Q,className:"space-y-4 bg-orange-50 p-4 rounded-md",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Name"}),T.jsx("input",{value:h,onChange:({target:L})=>p(L.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Category"}),T.jsxs("select",{name:"category",value:m,onChange:({target:L})=>y(L.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[T.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Category"}),T.jsx("option",{value:"Life, Personal & Social Science",children:"Life, Personal & Social Science"}),T.jsx("option",{value:"Earth And Space Science",children:"Earth And Space Science"}),T.jsx("option",{value:"Physical Science & Chemistry",children:"Physical Science & Chemistry"}),T.jsx("option",{value:"Technology & Engineering",children:"Technology & Engineering"}),T.jsx("option",{value:"Inquiry & Nature of Science",children:"Inquiry & Nature of Science"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Block"}),T.jsxs("select",{name:"block",value:_,onChange:({target:L})=>x(L.value),className:"w-full px-1 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 bg-orange-50",children:[T.jsx("option",{value:"",children:"Self Schedule"}),T.jsx("option",{value:"1",children:"Block 1"}),T.jsx("option",{value:"2",children:"Block 2"}),T.jsx("option",{value:"3",children:"Block 3"}),T.jsx("option",{value:"4",children:"Block 4"}),T.jsx("option",{value:"4",children:"Block 5"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Description"}),T.jsx("textarea",{value:b,onChange:({target:L})=>w(L.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400 resize-y min-h-[100px]"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Resource"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{value:R,onChange:({target:L})=>A(L.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400"}),T.jsx("button",{onClick:q,type:"button",className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]})]}),T.jsx("div",{className:"mt-4 space-y-2",children:k.length>0&&T.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(L=>T.jsxs("div",{className:"flex items-center bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded-full shadow hover:bg-orange-200 transition",children:[T.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"truncate max-w-[140px] hover:underline",children:L}),T.jsx("button",{onClick:()=>P(k.filter(le=>le!==L)),className:"ml-2 text-gray-500 text-lg hover:text-red-600 font-bold",title:"Remove",children:""})]},L))})}),T.jsx("button",{type:"submit",className:"w-full bg-orange-600 text-white py-2 rounded-md hover:bg-orange-700 transition",children:"Add Event"})]})]}),T.jsx("ul",{className:"space-y-4",children:a.map(L=>T.jsx(gb,{user:t.user,event:L,editEvent:Z,deleteEvent:ie},L.id))})]})},WC=t=>{const[e,n]=N.useState(""),i=Tr(),s=async a=>{a.preventDefault(),await t.handleForgot(e)&&(n(""),i("/signin"))};return T.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-orange-800",children:"Forgot Password"}),T.jsxs("form",{onSubmit:s,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"Email Address"}),T.jsx("input",{value:e,onChange:({target:a})=>n(a.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset Password"}),T.jsx("button",{type:"button",className:"w-full text-left text-orange-600 hover:underline",children:T.jsx(tt,{to:"/signin",children:"Cancel"})})]})]})},Fd="/api/tests";let mu=null;const eE=t=>{mu=`Bearer ${t}`},tE=async()=>(await Ae.get(Fd,{headers:{Authorization:mu}})).data,nE=async t=>(await Ae.post(Fd,t,{headers:{Authorization:mu}})).data,iE=async(t,e)=>(await Ae.put(`${Fd}/${t}`,{assignees:e.assignees},{headers:{Authorization:mu}})).data,ni={setToken:eE,getAll:tE,createTest:nE,updateTest:iE},y_="/api/questions";let zd=null;const rE=t=>{zd=`Bearer ${t}`},oE=async()=>(await Ae.get(y_,{headers:{Authorization:zd}})).data,sE=async t=>(await Ae.post(y_,t,{headers:{Authorization:zd}})).data,_o={setToken:rE,getAll:oE,createQuestion:sE},aE="modulepreload",lE=function(t){return"/"+t},_y={},ua=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=c(n.map(m=>{if(m=lE(m),m in _y)return;_y[m]=!0;const y=m.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":aE,y||(x.as="script"),x.crossOrigin="",x.href=m,p&&x.setAttribute("nonce",p),document.head.appendChild(x),y)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},uE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ua(async()=>{const{default:i}=await Promise.resolve().then(()=>Lo);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class Gd extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class cE extends Gd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fE extends Gd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dE extends Gd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ad;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ad||(ad={}));var hE=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class mE{constructor(e,{headers:n={},customFetch:i,region:s=ad.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=uE(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return hE(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:c}=n;let h={},{region:p}=n;p||(p=this.region),p&&p!=="any"&&(h["x-region"]=p);let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)));const y=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:m}).catch(w=>{throw new cE(w)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new fE(y);if(!y.ok)throw new dE(y);let x=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield y.json():x==="application/octet-stream"?b=yield y.blob():x==="text/event-stream"?b=y:x==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null}}catch(s){return{data:null,error:s}}})}}var xt={},lo={},uo={},co={},fo={},ho={},pE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Co=pE();const gE=Co.fetch,v_=Co.fetch.bind(Co),__=Co.Headers,yE=Co.Request,vE=Co.Response,Lo=Object.freeze(Object.defineProperty({__proto__:null,Headers:__,Request:yE,Response:vE,default:v_,fetch:gE},Symbol.toStringTag,{value:"Module"})),_E=US(Lo);var Al={},Ty;function T_(){if(Ty)return Al;Ty=1,Object.defineProperty(Al,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Al.default=t,Al}var xy;function x_(){if(xy)return ho;xy=1;var t=ho&&ho.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ho,"__esModule",{value:!0});const e=t(_E),n=t(T_());class i{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,c){return this.headers=Object.assign({},this.headers),this.headers[a]=c,this}then(a,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,_,x;let b=null,w=null,R=null,A=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const q=await m.text();q===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=q:w=JSON.parse(q))}const D=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),U=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");D&&U&&U.length>1&&(R=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,R=null,A=406,k="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const D=await m.text();try{b=JSON.parse(D),Array.isArray(b)&&m.status===404&&(w=[],b=null,A=200,k="OK")}catch{m.status===404&&D===""?(A=204,k="No Content"):b={message:D}}if(b&&this.isMaybeSingle&&(!((x=b==null?void 0:b.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,A=200,k="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:w,count:R,status:A,statusText:k}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,_,x;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(_=m==null?void 0:m.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(x=m==null?void 0:m.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),p.then(a,c)}returns(){return this}overrideTypes(){return this}}return ho.default=i,ho}var Sy;function S_(){if(Sy)return fo;Sy=1;var t=fo&&fo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fo,"__esModule",{value:!0});const e=t(x_());class n extends e.default{select(s){let a=!1;const c=(s??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:a=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${s}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:c=a}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${s}`),this}range(s,a,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${s}`),this.url.searchParams.set(m,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:a=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var y;const _=[s?"analyze":null,a?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${x}"; options=${_};`,m==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return fo.default=n,fo}var wy;function Hd(){if(wy)return co;wy=1;var t=co&&co.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(co,"__esModule",{value:!0});const e=t(S_());class n extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const c=Array.from(new Set(a)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${p}fts${m}.${a}`),this}match(s){return Object.entries(s).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(s,a,c){return this.url.searchParams.append(s,`not.${a}.${c}`),this}or(s,{foreignTable:a,referencedTable:c=a}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${s})`),this}filter(s,a,c){return this.url.searchParams.append(s,`${a}.${c}`),this}}return co.default=n,co}var by;function w_(){if(by)return uo;by=1;var t=uo&&uo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(uo,"__esModule",{value:!0});const e=t(Hd());class n{constructor(s,{headers:a={},schema:c,fetch:h}){this.url=s,this.headers=a,this.schema=c,this.fetch=h}select(s,{head:a=!1,count:c}={}){const h=a?"HEAD":"GET";let p=!1;const m=(s??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:a,defaultToNull:c=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),a&&p.push(`count=${a}`),c||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(s)){const m=s.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(m.length>0){const y=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:a,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){const m="POST",y=[`resolution=${c?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),p||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(s)){const _=s.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(_.length>0){const x=[...new Set(_)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:a}={}){const c="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),this.headers.Prefer=h.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const a="DELETE",c=[];return s&&c.push(`count=${s}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return uo.default=n,uo}var Fs={},zs={},Cy;function TE(){return Cy||(Cy=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.version=void 0,zs.version="0.0.0-automated"),zs}var Ey;function xE(){if(Ey)return Fs;Ey=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.DEFAULT_HEADERS=void 0;const t=TE();return Fs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Fs}var Ay;function SE(){if(Ay)return lo;Ay=1;var t=lo&&lo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(lo,"__esModule",{value:!0});const e=t(w_()),n=t(Hd()),i=xE();class s{constructor(c,{headers:h={},schema:p,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new s(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:m=!1,count:y}={}){let _;const x=new URL(`${this.url}/rpc/${c}`);let b;p||m?(_=p?"HEAD":"GET",Object.entries(h).filter(([R,A])=>A!==void 0).map(([R,A])=>[R,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([R,A])=>{x.searchParams.append(R,A)})):(_="POST",b=h);const w=Object.assign({},this.headers);return y&&(w.Prefer=`count=${y}`),new n.default({method:_,url:x,headers:w,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return lo.default=s,lo}var Ry;function wE(){if(Ry)return xt;Ry=1;var t=xt&&xt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(xt,"__esModule",{value:!0}),xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const e=t(SE());xt.PostgrestClient=e.default;const n=t(w_());xt.PostgrestQueryBuilder=n.default;const i=t(Hd());xt.PostgrestFilterBuilder=i.default;const s=t(S_());xt.PostgrestTransformBuilder=s.default;const a=t(x_());xt.PostgrestBuilder=a.default;const c=t(T_());return xt.PostgrestError=c.default,xt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:c.default},xt}var bE=wE();const CE=DS(bE),{PostgrestClient:EE,PostgrestQueryBuilder:oO,PostgrestFilterBuilder:sO,PostgrestTransformBuilder:aO,PostgrestBuilder:lO,PostgrestError:uO}=CE;function AE(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const RE=AE(),NE="2.11.15",ME=`realtime-js/${NE}`,kE="1.0.0",b_=1e4,DE=1e3;var Ys;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ys||(Ys={}));var Ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ut||(Ut={}));var Tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Tn||(Tn={}));var ld;(function(t){t.websocket="websocket"})(ld||(ld={}));var fr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fr||(fr={}));class UE{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const s=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(e.slice(c,c+s));c=c+s;const p=i.decode(e.slice(c,c+a));c=c+a;const m=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class C_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const Ny=(t,e,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((a,c)=>(a[c]=IE(c,t,e,s),a),{})},IE=(t,e,n,i)=>{const s=e.find(h=>h.name===t),a=s==null?void 0:s.type,c=n[t];return a&&!i.includes(a)?E_(a,c):ud(c)},E_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return qE(e,n)}switch(t){case We.bool:return PE(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return LE(e);case We.json:case We.jsonb:return OE(e);case We.timestamp:return BE(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return ud(e);default:return ud(e)}},ud=t=>t,PE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},LE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},OE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qE=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let a;const c=t.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(h=>E_(e,h))}return t},BE=t=>typeof t=="string"?t.replace(" ","T"):t,A_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Hf{constructor(e,n,i={},s=b_){this.channel=e,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var My;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(My||(My={}));class Ks{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ks.syncState(this.state,s,a,c),this.pendingDiffs.forEach(p=>{this.state=Ks.syncDiff(this.state,p,a,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},s=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ks.syncDiff(this.state,s,a,c),h())}),this.onJoin((s,a,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:c})}),this.onLeave((s,a,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,s){const a=this.cloneDeep(e),c=this.transformState(n),h={},p={};return this.map(a,(m,y)=>{c[m]||(p[m]=y)}),this.map(c,(m,y)=>{const _=a[m];if(_){const x=y.map(A=>A.presence_ref),b=_.map(A=>A.presence_ref),w=y.filter(A=>b.indexOf(A.presence_ref)<0),R=_.filter(A=>x.indexOf(A.presence_ref)<0);w.length>0&&(h[m]=w),R.length>0&&(p[m]=R)}else h[m]=y}),this.syncDiff(a,{joins:h,leaves:p},i,s)}static syncDiff(e,n,i,s){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(a,(h,p)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),y.length>0){const _=e[h].map(b=>b.presence_ref),x=y.filter(b=>_.indexOf(b.presence_ref)<0);e[h].unshift(...x)}i(h,y,p)}),this.map(c,(h,p)=>{let m=e[h];if(!m)return;const y=p.map(_=>_.presence_ref);m=m.filter(_=>y.indexOf(_.presence_ref)<0),e[h]=m,s(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const s=e[i];return"metas"in s?n[i]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ky;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ky||(ky={}));var Dy;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Dy||(Dy={}));var ti;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ti||(ti={}));class Jd{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hf(this,Tn.join,this.params,this.timeout),this.rejoinTimer=new C_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ks(this),this.broadcastEndpointURL=A_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ut.closed){const{config:{broadcast:a,presence:c,private:h}}=this.params;this._onError(y=>e==null?void 0:e(ti.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(ti.CLOSED));const p={},m={broadcast:a,presence:c,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&s!==void 0?s:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket.setAuth(),y===void 0){e==null||e(ti.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(_=x==null?void 0:x.length)!==null&&_!==void 0?_:0,w=[];for(let R=0;R<b;R++){const A=x[R],{filter:{event:k,schema:P,table:D,filter:U}}=A,q=y&&y[R];if(q&&q.event===k&&q.schema===P&&q.table===D&&q.filter===U)w.push(Object.assign(Object.assign({},A),{id:q.id}));else{this.unsubscribe(),this.state=Ut.errored,e==null||e(ti.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(ti.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ut.errored,e==null||e(ti.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ti.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Hf(this,Tn.leave,{},e),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const s=new AbortController,a=setTimeout(()=>s.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hf(this,e,n,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var s,a;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:y}=Tn;if(i&&[h,p,m,y].indexOf(c)>=0&&i!==this._joinRef())return;let x=this._onMessage(c,n,i);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var w,R,A;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((A=(R=b.filter)===null||R===void 0?void 0:R.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(b=>b.callback(x,i)):(a=this.bindings[c])===null||a===void 0||a.filter(b=>{var w,R,A,k,P,D;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const U=b.id,q=(w=b.filter)===null||w===void 0?void 0:w.event;return U&&((R=n.ids)===null||R===void 0?void 0:R.includes(U))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const U=(P=(k=b==null?void 0:b.filter)===null||k===void 0?void 0:k.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return U==="*"||U===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof x=="object"&&"ids"in x){const w=x.data,{schema:R,table:A,commit_timestamp:k,type:P,errors:D}=w;x=Object.assign(Object.assign({},{schema:R,table:A,commit_timestamp:k,eventType:P,new:{},old:{},errors:D}),this._getPayloadRecords(w))}b.callback(x,i)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const s=e.toLocaleLowerCase(),a={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Jd.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Tn.close,{},e)}_onError(e){this._on(Tn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ny(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ny(e.columns,e.old_record)),n}}const Uy=()=>{},VE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $E{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=b_,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uy,this.ref=0,this.logger=Uy,this.conn=null,this.sendBuffer=[],this.serializer=new UE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...h)=>ua(async()=>{const{default:p}=await Promise.resolve().then(()=>Lo);return{default:p}},void 0).then(({default:p})=>p(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${e}/${ld.websocket}`,this.httpEndpoint=A_(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,c)=>c(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new C_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=RE),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kE}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ys.connecting:return fr.Connecting;case Ys.open:return fr.Open;case Ys.closing:return fr.Closing;default:return fr.Closed}}isConnected(){return this.connectionState()===fr.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===i);if(s)return s;{const a=new Jd(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:i,payload:s,ref:a}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${a})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:ME};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Tn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(DE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:s,payload:a,ref:c}=n;i==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${i} ${s} ${c&&"("+c+")"||""}`,a),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(s,a,c)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Tn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${i}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([VE],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class jd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function St(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class FE extends jd{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cd extends jd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var zE=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const R_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ua(async()=>{const{default:i}=await Promise.resolve().then(()=>Lo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},GE=()=>zE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ua(()=>Promise.resolve().then(()=>Lo),void 0)).Response:Response}),fd=t=>{if(Array.isArray(t))return t.map(n=>fd(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=fd(i)}),e};var xr=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const Jf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HE=(t,e,n)=>xr(void 0,void 0,void 0,function*(){const i=yield GE();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new FE(Jf(s),t.status||500))}).catch(s=>{e(new cd(Jf(s),s))}):e(new cd(Jf(t),t))}),JE=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),n))};function ca(t,e,n,i,s,a){return xr(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(n,JE(e,i,s,a)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>HE(p,h,i))})})}function jl(t,e,n,i){return xr(this,void 0,void 0,function*(){return ca(t,"GET",e,n,i)})}function Pi(t,e,n,i,s){return xr(this,void 0,void 0,function*(){return ca(t,"POST",e,i,s,n)})}function jE(t,e,n,i,s){return xr(this,void 0,void 0,function*(){return ca(t,"PUT",e,i,s,n)})}function YE(t,e,n,i){return xr(this,void 0,void 0,function*(){return ca(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function N_(t,e,n,i,s){return xr(this,void 0,void 0,function*(){return ca(t,"DELETE",e,i,s,n)})}var Gt=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const KE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZE{constructor(e,n={},i,s){this.url=e,this.headers=n,this.bucketId=i,this.fetch=R_(s)}uploadOrUpdate(e,n,i,s){return Gt(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},Iy),s);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),p&&a.append("metadata",this.encodeMetadata(p)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",c.cacheControl),p&&a.append("metadata",this.encodeMetadata(p))):(a=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const m=this._removeEmptyFolders(n),y=this._getFinalPath(m),_=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:e,body:a,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),x=yield _.json();return _.ok?{data:{path:m,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(a){if(St(a))return{data:null,error:a};throw a}})}upload(e,n,i){return Gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,s){return Gt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),c=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:Iy.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const _=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:y}),x=yield _.json();return _.ok?{data:{path:a,fullPath:x.Key},error:null}:{data:null,error:x}}catch(p){if(St(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return Gt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield Pi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),c=new URL(this.url+a.url),h=c.searchParams.get("token");if(!h)throw new jd("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(i){if(St(i))return{data:null,error:i};throw i}})}update(e,n,i){return Gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Gt(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}copy(e,n,i){return Gt(this,void 0,void 0,function*(){try{return{data:{path:(yield Pi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,i){return Gt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield Pi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,i){return Gt(this,void 0,void 0,function*(){try{const s=yield Pi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}download(e,n){return Gt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield jl(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(St(h))return{data:null,error:h};throw h}})}info(e){return Gt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield jl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:fd(i),error:null}}catch(i){if(St(i))return{data:null,error:i};throw i}})}exists(e){return Gt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield YE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(St(i)&&i instanceof cd){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&s.push(p);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}list(e,n,i){return Gt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},KE),n),{prefix:e||""});return{data:yield Pi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const QE="2.7.1",XE={"X-Client-Info":`storage-js/${QE}`};var mo=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class WE{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},XE),n),this.fetch=R_(i)}listBuckets(){return mo(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(St(e))return{data:null,error:e};throw e}})}getBucket(e){return mo(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return mo(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(St(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return mo(this,void 0,void 0,function*(){try{return{data:yield jE(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(St(i))return{data:null,error:i};throw i}})}emptyBucket(e){return mo(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}deleteBucket(e){return mo(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}}class eA extends WE{constructor(e,n={},i){super(e,n,i)}from(e){return new ZE(this.url,this.headers,e,this.fetch)}}const tA="2.50.2";let Hs="";typeof Deno<"u"?Hs="deno":typeof document<"u"?Hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hs="react-native":Hs="node";const nA={"X-Client-Info":`supabase-js-${Hs}/${tA}`},iA={headers:nA},rA={schema:"public"},oA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sA={};var aA=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const lA=t=>{let e;return t?e=t:typeof fetch>"u"?e=v_:e=fetch,(...n)=>e(...n)},uA=()=>typeof Headers>"u"?__:Headers,cA=(t,e,n)=>{const i=lA(n),s=uA();return(a,c)=>aA(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:t;let m=new s(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(a,Object.assign(Object.assign({},c),{headers:m}))})};var fA=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};function dA(t){return t.endsWith("/")?t:t+"/"}function hA(t,e){var n,i;const{db:s,auth:a,realtime:c,global:h}=t,{db:p,auth:m,realtime:y,global:_}=e,x={db:Object.assign(Object.assign({},p),s),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},y),c),global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>fA(this,void 0,void 0,function*(){return""})};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}const M_="2.70.0",To=30*1e3,dd=3,jf=dd*To,mA="http://localhost:9999",pA="supabase.auth.token",gA={"X-Client-Info":`gotrue-js/${M_}`},hd="X-Supabase-Api-Version",k_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vA=6e5;class Yd extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _A extends Yd{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function TA(t){return xe(t)&&t.name==="AuthApiError"}class D_ extends Yd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Fi extends Yd{constructor(e,n,i,s){super(e,i,s),this.name=n,this.status=i}}class Ii extends Fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xA(t){return xe(t)&&t.name==="AuthSessionMissingError"}class Rl extends Fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nl extends Fi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ml extends Fi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SA(t){return xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Py extends Fi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class md extends Fi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Yf(t){return xe(t)&&t.name==="AuthRetryableFetchError"}class Ly extends Fi{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Zs extends Fi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oy=` 	
\r=`.split(""),wA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Oy.length;e+=1)t[Oy[e].charCodeAt(0)]=-2;for(let e=0;e<Yl.length;e+=1)t[Yl[e].charCodeAt(0)]=e;return t})();function qy(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Yl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Yl[i]),e.queuedBits-=6}}function U_(t,e,n){const i=wA[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function By(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=c=>{EA(c,i,n)};for(let c=0;c<t.length;c+=1)U_(t.charCodeAt(c),s,a);return e.join("")}function bA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function CA(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}bA(i,e)}}function EA(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function AA(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)U_(t.charCodeAt(s),n,i);return new Uint8Array(e)}function RA(t){const e=[];return CA(t,n=>e.push(n)),new Uint8Array(e)}function NA(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};return t.forEach(s=>qy(s,n,i)),qy(null,n,i),e.join("")}function MA(t){return Math.round(Date.now()/1e3)+t}function kA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const _n=()=>typeof window<"u"&&typeof document<"u",lr={tested:!1,writable:!1},Qs=()=>{if(!_n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lr.tested)return lr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),lr.tested=!0,lr.writable=!0}catch{lr.tested=!0,lr.writable=!1}return lr.writable};function DA(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return n.searchParams.forEach((i,s)=>{e[s]=i}),e}const I_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ua(async()=>{const{default:i}=await Promise.resolve().then(()=>Lo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},UA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",P_=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},kl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Dl=async(t,e)=>{await t.removeItem(e)};class pu{constructor(){this.promise=new pu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}pu.promiseConstructor=Promise;function Kf(t){const e=t.split(".");if(e.length!==3)throw new Zs("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!yA.test(e[i]))throw new Zs("JWT not in base64url format");return{header:JSON.parse(By(e[0])),payload:JSON.parse(By(e[1])),signature:AA(e[2]),raw:{header:e[0],payload:e[1]}}}async function IA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function PA(t,e){return new Promise((i,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await t(a);if(!e(a,null,c)){i(c);return}}catch(c){if(!e(a,c)){s(c);return}}})()})}function LA(t){return("0"+t.toString(16)).substr(-2)}function OA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,LA).join("")}async function qA(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function BA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await qA(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function po(t,e,n=!1){const i=OA();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await P_(t,`${e}-code-verifier`,s);const a=await BA(i);return[a,i===a?"plain":"s256"]}const VA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $A(t){const e=t.headers.get(hd);if(!e||!e.match(VA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function FA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function go(t){if(!GA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var HA=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const cr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JA=[502,503,504];async function Vy(t){var e;if(!UA(t))throw new md(cr(t),0);if(JA.includes(t.status))throw new md(cr(t),t.status);let n;try{n=await t.json()}catch(a){throw new D_(cr(a),a)}let i;const s=$A(t);if(s&&s.getTime()>=k_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Ly(cr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ii}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Ly(cr(n),t.status,n.weak_password.reasons);throw new _A(cr(n),t.status||500,i)}const jA=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function Ue(t,e,n,i){var s;const a=Object.assign({},i==null?void 0:i.headers);a[hd]||(a[hd]=k_["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const c=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await YA(t,e,n+h,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function YA(t,e,n,i,s,a){const c=jA(e,i,s,a);let h;try{h=await t(n,Object.assign({},c))}catch(p){throw console.error(p),new md(cr(p),0)}if(h.ok||await Vy(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await Vy(p)}}function ei(t){var e;let n=null;XA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=MA(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function $y(t){const e=ei(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function qi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function KA(t){return{data:t,error:null}}function ZA(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a}=t,c=HA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function QA(t){return t}function XA(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zf=["global","local","others"];var WA=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};class eR{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=I_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Zf[0]){if(Zf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zf.join(", ")}`);try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(xe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qi})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=WA(e,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ZA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qi})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,s,a,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:QA});if(y.error)throw y.error;const _=await y.json(),x=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(w=>{const R=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(w.split(";")[1].split("=")[1]);m[`${A}Page`]=R}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(xe(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){go(e);try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qi})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){go(e);try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:qi})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){go(e);try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:qi})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){go(e.userId);try{const{data:n,error:i}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){go(e.userId),go(e.id);try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}const tR={getItem:t=>Qs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Qs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Qs()&&globalThis.localStorage.removeItem(t)}};function Fy(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function nR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yo={debug:!!(globalThis&&Qs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class L_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class iR extends L_{}async function rR(t,e,n){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new iR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}nR();const oR={url:mA,storageKey:pA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zy(t,e,n){return await n()}class na{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=na.nextInstanceID,na.nextInstanceID+=1,this.instanceID>0&&_n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},oR),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new eR({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=I_(s.fetch),this.lock=s.lock||zy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:_n()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rR:this.lock=zy,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Qs()?this.storage=tR:(this.memoryStorage={},this.storage=Fy(this.memoryStorage)):(this.memoryStorage={},this.storage=Fy(this.memoryStorage)),_n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${M_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=DA(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),_n()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),SA(a)){const p=(e=a.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?{error:n}:{error:new D_("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,s;try{const a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ei}),{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,i,s;try{let a;if("email"in e){const{email:y,password:_,options:x}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await po(this.storage,this.storageKey)),a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:y,password:_,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:b,code_challenge_method:w},xform:ei})}else if("phone"in e){const{phone:y,password:_,options:x}=e;a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(i=x==null?void 0:x.data)!==null&&i!==void 0?i:{},channel:(s=x==null?void 0:x.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:ei})}else throw new Nl("You must provide either an email or phone number and a password");const{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:c,options:h}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$y})}else if("phone"in e){const{phone:a,password:c,options:h}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$y})}else throw new Nl("You must provide either an email or phone number and a password");const{data:i,error:s}=n;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Rl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,s,a,c,h,p,m,y,_,x,b;let w,R;if("message"in e)w=e.message,R=e.signature;else{const{chain:A,wallet:k,statement:P,options:D}=e;let U;if(_n())if(typeof k=="object")U=k;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))U=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=k}const q=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const Q=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),P?{statement:P}:null));let Z;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")Z=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)Z=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)w=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),R=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${q.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(s=(i=D==null?void 0:D.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=D==null?void 0:D.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((_=(y=D==null?void 0:D.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...D.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const Q=await U.signMessage(new TextEncoder().encode(w),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=Q}}try{const{data:A,error:k}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:NA(R)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ei});if(k)throw k;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Rl}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:k})}catch(A){if(xe(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const n=await kl(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{const{data:a,error:c}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ei});if(await Dl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Rl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:c})}catch(a){if(xe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:i,token:s,access_token:a,nonce:c}=e,h=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ei}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Rl}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,s,a,c;try{if("email"in e){const{email:h,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await po(this.storage,this.storageKey));const{error:_}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:y}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new Nl("You must provide either an email or phone number.")}catch(h){if(xe(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,i;try{let s,a;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:ei});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,i,s;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await po(this.storage,this.storageKey)),await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:KA})}catch(a){if(xe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Ii;const{error:s}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(xe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:a}=e,{error:c}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:s,options:a}=e,{data:c,error:h}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Nl("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await kl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<jf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,y)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,y))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qi}):await this._useSession(async n=>{var i,s,a;const{data:c,error:h}=n;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ii}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:qi})})}catch(n){if(xe(n))return xA(n)&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new Ii;const c=s.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await po(this.storage,this.storageKey));const{data:m,error:y}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:qi});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ii;const n=Date.now()/1e3;let i=n,s=!0,a=null;const{payload:c}=Kf(e.access_token);if(c.exp&&(i=c.exp,s=i<=n),s){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(xe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Ii;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!_n())throw new Ml("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ml(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Py("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ml("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Py("No code detected.");const{data:P,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=e;if(!a||!h||!c||!m)throw new Ml("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(h);let x=y+_;p&&(x=parseInt(p));const b=x-y;b*1e3<=To&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${_}s`);const w=x-_;y-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,x,y):y-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,x,y);const{data:R,error:A}=await this._getUser(a);if(A)throw A;const k={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:_,expires_at:x,refresh_token:c,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(i){if(xe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await kl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return{error:a};const c=(i=s.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(TA(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=kA(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,s;try{const{data:{session:a},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await po(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(xe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:s}=await this._useSession(async a=>{var c,h,p,m,y;const{data:_,error:x}=a;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return _n()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(xe(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,s;const{data:a,error:c}=n;if(c)throw c;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await PA(async s=>(s>0&&await IA(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ei})),(s,a)=>{const c=200*Math.pow(2,s);return a&&Yf(a)&&Date.now()+c-i<To})}catch(i){if(this._debug(n,"error",i),xe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),_n()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await kl(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<jf;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${jf}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Yf(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new pu;const{data:a,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!a.session)throw new Ii;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(s,"error",a),xe(a)){const c={session:null,error:a};return Yf(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){a.push(p)}});if(await Promise.all(c),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await P_(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Dl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_n()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),To);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/To);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${To}ms, refresh threshold is ${dd} ticks`),s<=dd&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof L_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_n()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,c]=await po(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(h.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;return a?{data:null,error:a}:await Ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,s;const{data:a,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:m}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((s=p==null?void 0:p.totp)===null||s===void 0)&&s.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:c,error:h}=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;return a?{data:null,error:a}:await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],s=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Kf(s.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i||(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+vA>Date.now()))return i;const{data:s,error:a}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Zs("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(c=>c.kid===e),!i)throw new Zs("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};i=b.session.access_token}const{header:s,payload:a,signature:c,raw:{header:h,payload:p}}=Kf(i);if(FA(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:a,header:s,signature:c},error:null}}const m=zA(s.alg),y=await this.fetchJwk(s.kid,n),_=await crypto.subtle.importKey("jwk",y,m,!0,["verify"]);if(!await crypto.subtle.verify(m,_,c,RA(`${h}.${p}`)))throw new Zs("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(xe(i))return{data:null,error:i};throw i}}}na.nextInstanceID=0;const sR=na;class aR extends sR{constructor(e){super(e)}}var lR=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function p(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?a(y.value):s(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class uR{constructor(e,n,i){var s,a,c;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=dA(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:rA,realtime:sA,auth:Object.assign(Object.assign({},oA),{storageKey:m}),global:iA},_=hA(i??{},y);this.storageKey=(s=_.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=_.global.headers)!==null&&a!==void 0?a:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=_.auth)!==null&&c!==void 0?c:{},this.headers,_.global.fetch),this.fetch=cA(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new EE(new URL("rest/v1",p).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),_.accessToken||this._listenForAuthEvents()}get functions(){return new mE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eA(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return lR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:s,storageKey:a,flowType:c,lock:h,debug:p},m,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aR({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),m),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:s,flowType:c,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new $E(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cR=(t,e,n)=>new uR(t,e,n),Gy=cR("https://zazwsuhcsscuxbvyiuwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphendzdWhjc3NjdXhidnlpdXdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA4MjExMjMsImV4cCI6MjA2NjM5NzEyM30.lt7ZjnkOKJdLW_oiJ-3Nu4YoeLWFGlmcuwMkMmrTqY0"),fR=async t=>{if(!t)return null;const e=t.name.split(".").pop(),i=`images/${`${Math.random().toString(36).slice(2)}.${e}`}`,{data:s,error:a}=await Gy.storage.from("images").upload(i,t);if(a)return console.error(a),null;const{data:c,error:h}=Gy.storage.from("images").getPublicUrl(i);if(h)return console.error("Public URL error:",h),null;if(c)return c.publicUrl},dR={getImageUrl:fR};var Be;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const a={};for(const c of s)a[c]=c;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(h=>typeof s[s[h]]!="number"),c={};for(const h of a)c[h]=s[h];return t.objectValues(c)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&a.push(c);return a},t.find=(s,a)=>{for(const c of s)if(a(c))return c},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function i(s,a=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}t.joinValues=i,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Be||(Be={}));var Hy;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Hy||(Hy={}));const fe=Be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Li=t=>{switch(typeof t){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return Number.isNaN(t)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(t)?fe.array:t===null?fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?fe.promise:typeof Map<"u"&&t instanceof Map?fe.map:typeof Set<"u"&&t instanceof Set?fe.set:typeof Date<"u"&&t instanceof Date?fe.date:fe.object;default:return fe.unknown}},re=Be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class oi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},i={_errors:[]},s=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)i._errors.push(n(c));else{let h=i,p=0;for(;p<c.path.length;){const m=c.path[p];p===c.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(n(c))):h[m]=h[m]||{_errors:[]},h=h[m],p++}}};return s(this),i}static assert(e){if(!(e instanceof oi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):i.push(e(s));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}oi.create=t=>new oi(t);const pd=(t,e)=>{let n;switch(t.code){case re.invalid_type:t.received===fe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Be.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:n=`Unrecognized key(s) in object: ${Be.joinValues(t.keys,", ")}`;break;case re.invalid_union:n="Invalid input";break;case re.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Be.joinValues(t.options)}`;break;case re.invalid_enum_value:n=`Invalid enum value. Expected ${Be.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:n="Invalid function arguments";break;case re.invalid_return_type:n="Invalid function return type";break;case re.invalid_date:n="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Be.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case re.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case re.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case re.custom:n="Invalid input";break;case re.invalid_intersection_types:n="Intersection results could not be merged";break;case re.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:n="Number must be finite";break;default:n=e.defaultError,Be.assertNever(t)}return{message:n}};let hR=pd;function mR(){return hR}const pR=t=>{const{data:e,path:n,errorMaps:i,issueData:s}=t,a=[...n,...s.path||[]],c={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let h="";const p=i.filter(m=>!!m).slice().reverse();for(const m of p)h=m(c,{data:e,defaultError:h}).message;return{...s,path:a,message:h}};function ue(t,e){const n=mR(),i=pR({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===pd?void 0:pd].filter(s=>!!s)});t.common.issues.push(i)}class qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const s of n){if(s.status==="aborted")return Te;s.status==="dirty"&&e.dirty(),i.push(s.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const s of n){const a=await s.key,c=await s.value;i.push({key:a,value:c})}return qt.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const s of n){const{key:a,value:c}=s;if(a.status==="aborted"||c.status==="aborted")return Te;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(i[a.value]=c.value)}return{status:e.value,value:i}}}const Te=Object.freeze({status:"aborted"}),Js=t=>({status:"dirty",value:t}),mn=t=>({status:"valid",value:t}),Jy=t=>t.status==="aborted",jy=t=>t.status==="dirty",Eo=t=>t.status==="valid",Kl=t=>typeof Promise<"u"&&t instanceof Promise;var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));class On{constructor(e,n,i,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yy=(t,e)=>{if(Eo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new oi(t.common.issues);return this._error=n,this._error}}};function Ee(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:s}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,h)=>{const{message:p}=t;return c.code==="invalid_enum_value"?{message:p??h.defaultError}:typeof h.data>"u"?{message:p??i??h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:p??n??h.defaultError}},description:s}}class Pe{get description(){return this._def.description}_getType(e){return Li(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Li(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qt,ctx:{common:e.parent.common,data:e.data,parsedType:Li(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Kl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Li(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Yy(i,s)}"~validate"(e){var i,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Li(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Eo(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(s=(i=a==null?void 0:a.message)==null?void 0:i.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Eo(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Li(e)},s=this._parse({data:e,path:i.path,parent:i}),a=await(Kl(s)?s:Promise.resolve(s));return Yy(i,a)}refine(e,n){const i=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const c=e(s),h=()=>a.addIssue({code:re.custom,...i(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(p=>p?!0:(h(),!1)):c?!0:(h(),!1)})}refinement(e,n){return this._refinement((i,s)=>e(i)?!0:(s.addIssue(typeof n=="function"?n(i,s):n),!1))}_refinement(e){return new No({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Bi.create(this,this._def)}nullable(){return Mo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pn.create(this)}promise(){return eu.create(this,this._def)}or(e){return Ql.create([this,e],this._def)}and(e){return Xl.create(this,e,this._def)}transform(e){return new No({...Ee(this._def),schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new _d({...Ee(this._def),innerType:this,defaultValue:n,typeName:_e.ZodDefault})}brand(){return new qR({typeName:_e.ZodBranded,type:this,...Ee(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Td({...Ee(this._def),innerType:this,catchValue:n,typeName:_e.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Kd.create(this,e)}readonly(){return xd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gR=/^c[^\s-]{8,}$/i,yR=/^[0-9a-z]+$/,vR=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_R=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TR=/^[a-z0-9_-]{21}$/i,xR=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,SR=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wR=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qf;const CR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ER=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,AR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,RR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,NR=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,MR=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,O_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kR=new RegExp(`^${O_}$`);function q_(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function DR(t){return new RegExp(`^${q_(t)}$`)}function UR(t){let e=`${O_}T${q_(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function IR(t,e){return!!((e==="v4"||!e)&&CR.test(t)||(e==="v6"||!e)&&AR.test(t))}function PR(t,e){if(!xR.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(i));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function LR(t,e){return!!((e==="v4"||!e)&&ER.test(t)||(e==="v6"||!e)&&RR.test(t))}class Un extends Pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==fe.string){const a=this._getOrReturnCtx(e);return ue(a,{code:re.invalid_type,expected:fe.string,received:a.parsedType}),Te}const i=new qt;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,h=e.data.length<a.value;(c||h)&&(s=this._getOrReturnCtx(e,s),c?ue(s,{code:re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):h&&ue(s,{code:re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")wR.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"email",code:re.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")Qf||(Qf=new RegExp(bR,"u")),Qf.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"emoji",code:re.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")_R.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"uuid",code:re.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")TR.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"nanoid",code:re.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")gR.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid",code:re.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")yR.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid2",code:re.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")vR.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ulid",code:re.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ue(s,{validation:"url",code:re.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"regex",code:re.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?UR(a).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?kR.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?DR(a).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?SR.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"duration",code:re.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?IR(e.data,a.version)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ip",code:re.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?PR(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"jwt",code:re.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?LR(e.data,a.version)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cidr",code:re.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?NR.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"base64",code:re.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?MR.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"base64url",code:re.invalid_string,message:a.message}),i.dirty()):Be.assertNever(a);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(s=>e.test(s),{validation:n,code:re.invalid_string,...de.errToObj(i)})}_addCheck(e){return new Un({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...de.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...de.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...de.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...de.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...de.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...de.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...de.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...de.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...de.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...de.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...de.errToObj(n)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new Un({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Un({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Un({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Un.create=t=>new Un({checks:[],typeName:_e.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ee(t)});function OR(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,s=n>i?n:i,a=Number.parseInt(t.toFixed(s).replace(".","")),c=Number.parseInt(e.toFixed(s).replace(".",""));return a%c/10**s}class gr extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==fe.number){const a=this._getOrReturnCtx(e);return ue(a,{code:re.invalid_type,expected:fe.number,received:a.parsedType}),Te}let i;const s=new qt;for(const a of this._def.checks)a.kind==="int"?Be.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{code:re.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),ue(i,{code:re.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),ue(i,{code:re.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?OR(e.data,a.value)!==0&&(i=this._getOrReturnCtx(e,i),ue(i,{code:re.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{code:re.not_finite,message:a.message}),s.dirty()):Be.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,i,s){return new gr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:de.toString(s)}]})}_addCheck(e){return new gr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Be.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}gr.create=t=>new gr({checks:[],typeName:_e.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class yr extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==fe.bigint)return this._getInvalidInput(e);let i;const s=new qt;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),ue(i,{code:re.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),ue(i,{code:re.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),ue(i,{code:re.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Be.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ue(n,{code:re.invalid_type,expected:fe.bigint,received:n.parsedType}),Te}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,i,s){return new yr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:de.toString(s)}]})}_addCheck(e){return new yr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yr.create=t=>new yr({checks:[],typeName:_e.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ee(t)});class Zl extends Pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==fe.boolean){const i=this._getOrReturnCtx(e);return ue(i,{code:re.invalid_type,expected:fe.boolean,received:i.parsedType}),Te}return mn(e.data)}}Zl.create=t=>new Zl({typeName:_e.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class Ao extends Pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==fe.date){const a=this._getOrReturnCtx(e);return ue(a,{code:re.invalid_type,expected:fe.date,received:a.parsedType}),Te}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ue(a,{code:re.invalid_date}),Te}const i=new qt;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:re.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:re.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):Be.assertNever(a);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ao({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ao.create=t=>new Ao({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:_e.ZodDate,...Ee(t)});class Ky extends Pe{_parse(e){if(this._getType(e)!==fe.symbol){const i=this._getOrReturnCtx(e);return ue(i,{code:re.invalid_type,expected:fe.symbol,received:i.parsedType}),Te}return mn(e.data)}}Ky.create=t=>new Ky({typeName:_e.ZodSymbol,...Ee(t)});class Zy extends Pe{_parse(e){if(this._getType(e)!==fe.undefined){const i=this._getOrReturnCtx(e);return ue(i,{code:re.invalid_type,expected:fe.undefined,received:i.parsedType}),Te}return mn(e.data)}}Zy.create=t=>new Zy({typeName:_e.ZodUndefined,...Ee(t)});class Qy extends Pe{_parse(e){if(this._getType(e)!==fe.null){const i=this._getOrReturnCtx(e);return ue(i,{code:re.invalid_type,expected:fe.null,received:i.parsedType}),Te}return mn(e.data)}}Qy.create=t=>new Qy({typeName:_e.ZodNull,...Ee(t)});class Xy extends Pe{constructor(){super(...arguments),this._any=!0}_parse(e){return mn(e.data)}}Xy.create=t=>new Xy({typeName:_e.ZodAny,...Ee(t)});class gd extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mn(e.data)}}gd.create=t=>new gd({typeName:_e.ZodUnknown,...Ee(t)});class Vi extends Pe{_parse(e){const n=this._getOrReturnCtx(e);return ue(n,{code:re.invalid_type,expected:fe.never,received:n.parsedType}),Te}}Vi.create=t=>new Vi({typeName:_e.ZodNever,...Ee(t)});class Wy extends Pe{_parse(e){if(this._getType(e)!==fe.undefined){const i=this._getOrReturnCtx(e);return ue(i,{code:re.invalid_type,expected:fe.void,received:i.parsedType}),Te}return mn(e.data)}}Wy.create=t=>new Wy({typeName:_e.ZodVoid,...Ee(t)});class Pn extends Pe{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),s=this._def;if(n.parsedType!==fe.array)return ue(n,{code:re.invalid_type,expected:fe.array,received:n.parsedType}),Te;if(s.exactLength!==null){const c=n.data.length>s.exactLength.value,h=n.data.length<s.exactLength.value;(c||h)&&(ue(n,{code:c?re.too_big:re.too_small,minimum:h?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ue(n,{code:re.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ue(n,{code:re.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((c,h)=>s.type._parseAsync(new On(n,c,n.path,h)))).then(c=>qt.mergeArray(i,c));const a=[...n.data].map((c,h)=>s.type._parseSync(new On(n,c,n.path,h)));return qt.mergeArray(i,a)}get element(){return this._def.type}min(e,n){return new Pn({...this._def,minLength:{value:e,message:de.toString(n)}})}max(e,n){return new Pn({...this._def,maxLength:{value:e,message:de.toString(n)}})}length(e,n){return new Pn({...this._def,exactLength:{value:e,message:de.toString(n)}})}nonempty(e){return this.min(1,e)}}Pn.create=(t,e)=>new Pn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray,...Ee(e)});function xo(t){if(t instanceof dt){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=Bi.create(xo(i))}return new dt({...t._def,shape:()=>e})}else return t instanceof Pn?new Pn({...t._def,type:xo(t.element)}):t instanceof Bi?Bi.create(xo(t.unwrap())):t instanceof Mo?Mo.create(xo(t.unwrap())):t instanceof vr?vr.create(t.items.map(e=>xo(e))):t}class dt extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Be.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==fe.object){const m=this._getOrReturnCtx(e);return ue(m,{code:re.invalid_type,expected:fe.object,received:m.parsedType}),Te}const{status:i,ctx:s}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof Vi&&this._def.unknownKeys==="strip"))for(const m in s.data)c.includes(m)||h.push(m);const p=[];for(const m of c){const y=a[m],_=s.data[m];p.push({key:{status:"valid",value:m},value:y._parse(new On(s,_,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof Vi){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of h)p.push({key:{status:"valid",value:y},value:{status:"valid",value:s.data[y]}});else if(m==="strict")h.length>0&&(ue(s,{code:re.unrecognized_keys,keys:h}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of h){const _=s.data[y];p.push({key:{status:"valid",value:y},value:m._parse(new On(s,_,s.path,y)),alwaysSet:y in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of p){const _=await y.key,x=await y.value;m.push({key:_,value:x,alwaysSet:y.alwaysSet})}return m}).then(m=>qt.mergeObjectSync(i,m)):qt.mergeObjectSync(i,p)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var a,c;const s=((c=(a=this._def).errorMap)==null?void 0:c.call(a,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:de.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new dt({...this._def,unknownKeys:"strip"})}passthrough(){return new dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_e.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dt({...this._def,catchall:e})}pick(e){const n={};for(const i of Be.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new dt({...this._def,shape:()=>n})}omit(e){const n={};for(const i of Be.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new dt({...this._def,shape:()=>n})}deepPartial(){return xo(this)}partial(e){const n={};for(const i of Be.objectKeys(this.shape)){const s=this.shape[i];e&&!e[i]?n[i]=s:n[i]=s.optional()}return new dt({...this._def,shape:()=>n})}required(e){const n={};for(const i of Be.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof Bi;)a=a._def.innerType;n[i]=a}return new dt({...this._def,shape:()=>n})}keyof(){return B_(Be.objectKeys(this.shape))}}dt.create=(t,e)=>new dt({shape:()=>t,unknownKeys:"strip",catchall:Vi.create(),typeName:_e.ZodObject,...Ee(e)});dt.strictCreate=(t,e)=>new dt({shape:()=>t,unknownKeys:"strict",catchall:Vi.create(),typeName:_e.ZodObject,...Ee(e)});dt.lazycreate=(t,e)=>new dt({shape:t,unknownKeys:"strip",catchall:Vi.create(),typeName:_e.ZodObject,...Ee(e)});class Ql extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function s(a){for(const h of a)if(h.result.status==="valid")return h.result;for(const h of a)if(h.result.status==="dirty")return n.common.issues.push(...h.ctx.common.issues),h.result;const c=a.map(h=>new oi(h.ctx.common.issues));return ue(n,{code:re.invalid_union,unionErrors:c}),Te}if(n.common.async)return Promise.all(i.map(async a=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(s);{let a;const c=[];for(const p of i){const m={...n,common:{...n.common,issues:[]},parent:null},y=p._parseSync({data:n.data,path:n.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!a&&(a={result:y,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const h=c.map(p=>new oi(p));return ue(n,{code:re.invalid_union,unionErrors:h}),Te}}get options(){return this._def.options}}Ql.create=(t,e)=>new Ql({options:t,typeName:_e.ZodUnion,...Ee(e)});function yd(t,e){const n=Li(t),i=Li(e);if(t===e)return{valid:!0,data:t};if(n===fe.object&&i===fe.object){const s=Be.objectKeys(e),a=Be.objectKeys(t).filter(h=>s.indexOf(h)!==-1),c={...t,...e};for(const h of a){const p=yd(t[h],e[h]);if(!p.valid)return{valid:!1};c[h]=p.data}return{valid:!0,data:c}}else if(n===fe.array&&i===fe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const c=t[a],h=e[a],p=yd(c,h);if(!p.valid)return{valid:!1};s.push(p.data)}return{valid:!0,data:s}}else return n===fe.date&&i===fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xl extends Pe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),s=(a,c)=>{if(Jy(a)||Jy(c))return Te;const h=yd(a.value,c.value);return h.valid?((jy(a)||jy(c))&&n.dirty(),{status:n.value,value:h.data}):(ue(i,{code:re.invalid_intersection_types}),Te)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,c])=>s(a,c)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Xl.create=(t,e,n)=>new Xl({left:t,right:e,typeName:_e.ZodIntersection,...Ee(n)});class vr extends Pe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==fe.array)return ue(i,{code:re.invalid_type,expected:fe.array,received:i.parsedType}),Te;if(i.data.length<this._def.items.length)return ue(i,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&i.data.length>this._def.items.length&&(ue(i,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((c,h)=>{const p=this._def.items[h]||this._def.rest;return p?p._parse(new On(i,c,i.path,h)):null}).filter(c=>!!c);return i.common.async?Promise.all(a).then(c=>qt.mergeArray(n,c)):qt.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new vr({...this._def,rest:e})}}vr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vr({items:t,typeName:_e.ZodTuple,rest:null,...Ee(e)})};class Wl extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==fe.object)return ue(i,{code:re.invalid_type,expected:fe.object,received:i.parsedType}),Te;const s=[],a=this._def.keyType,c=this._def.valueType;for(const h in i.data)s.push({key:a._parse(new On(i,h,i.path,h)),value:c._parse(new On(i,i.data[h],i.path,h)),alwaysSet:h in i.data});return i.common.async?qt.mergeObjectAsync(n,s):qt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof Pe?new Wl({keyType:e,valueType:n,typeName:_e.ZodRecord,...Ee(i)}):new Wl({keyType:Un.create(),valueType:e,typeName:_e.ZodRecord,...Ee(n)})}}class ev extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==fe.map)return ue(i,{code:re.invalid_type,expected:fe.map,received:i.parsedType}),Te;const s=this._def.keyType,a=this._def.valueType,c=[...i.data.entries()].map(([h,p],m)=>({key:s._parse(new On(i,h,i.path,[m,"key"])),value:a._parse(new On(i,p,i.path,[m,"value"]))}));if(i.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const p of c){const m=await p.key,y=await p.value;if(m.status==="aborted"||y.status==="aborted")return Te;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}})}else{const h=new Map;for(const p of c){const m=p.key,y=p.value;if(m.status==="aborted"||y.status==="aborted")return Te;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(m.value,y.value)}return{status:n.value,value:h}}}}ev.create=(t,e,n)=>new ev({valueType:e,keyType:t,typeName:_e.ZodMap,...Ee(n)});class ia extends Pe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==fe.set)return ue(i,{code:re.invalid_type,expected:fe.set,received:i.parsedType}),Te;const s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(ue(i,{code:re.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(ue(i,{code:re.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function c(p){const m=new Set;for(const y of p){if(y.status==="aborted")return Te;y.status==="dirty"&&n.dirty(),m.add(y.value)}return{status:n.value,value:m}}const h=[...i.data.values()].map((p,m)=>a._parse(new On(i,p,i.path,m)));return i.common.async?Promise.all(h).then(p=>c(p)):c(h)}min(e,n){return new ia({...this._def,minSize:{value:e,message:de.toString(n)}})}max(e,n){return new ia({...this._def,maxSize:{value:e,message:de.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ia.create=(t,e)=>new ia({valueType:t,minSize:null,maxSize:null,typeName:_e.ZodSet,...Ee(e)});class vd extends Pe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}vd.create=(t,e)=>new vd({getter:t,typeName:_e.ZodLazy,...Ee(e)});class tv extends Pe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ue(n,{received:n.data,code:re.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:e.data}}get value(){return this._def.value}}tv.create=(t,e)=>new tv({value:t,typeName:_e.ZodLiteral,...Ee(e)});function B_(t,e){return new Ro({values:t,typeName:_e.ZodEnum,...Ee(e)})}class Ro extends Pe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return ue(n,{expected:Be.joinValues(i),received:n.parsedType,code:re.invalid_type}),Te}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return ue(n,{received:n.data,code:re.invalid_enum_value,options:i}),Te}return mn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ro.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ro.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}Ro.create=B_;class nv extends Pe{_parse(e){const n=Be.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==fe.string&&i.parsedType!==fe.number){const s=Be.objectValues(n);return ue(i,{expected:Be.joinValues(s),received:i.parsedType,code:re.invalid_type}),Te}if(this._cache||(this._cache=new Set(Be.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Be.objectValues(n);return ue(i,{received:i.data,code:re.invalid_enum_value,options:s}),Te}return mn(e.data)}get enum(){return this._def.values}}nv.create=(t,e)=>new nv({values:t,typeName:_e.ZodNativeEnum,...Ee(e)});class eu extends Pe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.promise&&n.common.async===!1)return ue(n,{code:re.invalid_type,expected:fe.promise,received:n.parsedType}),Te;const i=n.parsedType===fe.promise?n.data:Promise.resolve(n.data);return mn(i.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}eu.create=(t,e)=>new eu({type:t,typeName:_e.ZodPromise,...Ee(e)});class No extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:c=>{ue(i,c),c.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const c=s.transform(i.data,a);if(i.common.async)return Promise.resolve(c).then(async h=>{if(n.value==="aborted")return Te;const p=await this._def.schema._parseAsync({data:h,path:i.path,parent:i});return p.status==="aborted"?Te:p.status==="dirty"||n.value==="dirty"?Js(p.value):p});{if(n.value==="aborted")return Te;const h=this._def.schema._parseSync({data:c,path:i.path,parent:i});return h.status==="aborted"?Te:h.status==="dirty"||n.value==="dirty"?Js(h.value):h}}if(s.type==="refinement"){const c=h=>{const p=s.refinement(h,a);if(i.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(i.common.async===!1){const h=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return h.status==="aborted"?Te:(h.status==="dirty"&&n.dirty(),c(h.value),{status:n.value,value:h.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(h=>h.status==="aborted"?Te:(h.status==="dirty"&&n.dirty(),c(h.value).then(()=>({status:n.value,value:h.value}))))}if(s.type==="transform")if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Eo(c))return Te;const h=s.transform(c.value,a);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:h}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>Eo(c)?Promise.resolve(s.transform(c.value,a)).then(h=>({status:n.value,value:h})):Te);Be.assertNever(s)}}No.create=(t,e,n)=>new No({schema:t,typeName:_e.ZodEffects,effect:e,...Ee(n)});No.createWithPreprocess=(t,e,n)=>new No({schema:e,effect:{type:"preprocess",transform:t},typeName:_e.ZodEffects,...Ee(n)});class Bi extends Pe{_parse(e){return this._getType(e)===fe.undefined?mn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bi.create=(t,e)=>new Bi({innerType:t,typeName:_e.ZodOptional,...Ee(e)});class Mo extends Pe{_parse(e){return this._getType(e)===fe.null?mn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mo.create=(t,e)=>new Mo({innerType:t,typeName:_e.ZodNullable,...Ee(e)});class _d extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===fe.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}_d.create=(t,e)=>new _d({innerType:t,typeName:_e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ee(e)});class Td extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Kl(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new oi(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new oi(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Td.create=(t,e)=>new Td({innerType:t,typeName:_e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ee(e)});class iv extends Pe{_parse(e){if(this._getType(e)!==fe.nan){const i=this._getOrReturnCtx(e);return ue(i,{code:re.invalid_type,expected:fe.nan,received:i.parsedType}),Te}return{status:"valid",value:e.data}}}iv.create=t=>new iv({typeName:_e.ZodNaN,...Ee(t)});class qR extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Kd extends Pe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Te:a.status==="dirty"?(n.dirty(),Js(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?Te:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(e,n){return new Kd({in:e,out:n,typeName:_e.ZodPipeline})}}class xd extends Pe{_parse(e){const n=this._def.innerType._parse(e),i=s=>(Eo(s)&&(s.value=Object.freeze(s.value)),s);return Kl(n)?n.then(s=>i(s)):i(n)}unwrap(){return this._def.innerType}}xd.create=(t,e)=>new xd({innerType:t,typeName:_e.ZodReadonly,...Ee(e)});var _e;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_e||(_e={}));const ur=Un.create,rv=gr.create;yr.create;const BR=Zl.create;Ao.create;const ov=gd.create;Vi.create;const js=Pn.create,VR=dt.create,$R=Ql.create;Xl.create;vr.create;const FR=Wl.create,zR=vd.create,GR=Ro.create;eu.create;Bi.create;Mo.create;const vo={string:t=>Un.create({...t,coerce:!0}),number:t=>gr.create({...t,coerce:!0}),boolean:t=>Zl.create({...t,coerce:!0}),bigint:t=>yr.create({...t,coerce:!0}),date:t=>Ao.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let HR,JR;function jR(){return{geminiUrl:HR,vertexUrl:JR}}function YR(t,e,n){var i,s,a;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const c=jR();return t.vertexai?(s=c.vertexUrl)!==null&&s!==void 0?s:e:(a=c.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sr{}function me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function f(t,e,n){for(let a=0;a<e.length-1;a++){const c=e[a];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(n))for(let m=0;m<p.length;m++){const y=p[m];f(y,e.slice(a+1),n[m])}else for(const m of p)f(m,e.slice(a+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];f(p[0],e.slice(a+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const a=t[s];return Array.isArray(a)?a.map(c=>u(c,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sv||(sv={}));var av;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(av||(av={}));var In;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(In||(In={}));var lv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(lv||(lv={}));var uv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(uv||(uv={}));var cv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(cv||(cv={}));var fv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fv||(fv={}));var dv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(dv||(dv={}));var hv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(hv||(hv={}));var mv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(mv||(mv={}));var pv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(pv||(pv={}));var gv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(gv||(gv={}));var yv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(yv||(yv={}));var tu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(tu||(tu={}));var vv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(vv||(vv={}));var Sd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Sd||(Sd={}));var _v;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(_v||(_v={}));var Tv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Tv||(Tv={}));var xv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(xv||(xv={}));var Sv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Sv||(Sv={}));var wv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(wv||(wv={}));var bv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(bv||(bv={}));var Cv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Cv||(Cv={}));var Ev;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ev||(Ev={}));var Av;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Av||(Av={}));var Rv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Rv||(Rv={}));var Nv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Nv||(Nv={}));var Mv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Mv||(Mv={}));var kv;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(kv||(kv={}));var Dv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Dv||(Dv={}));var Uv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Uv||(Uv={}));var Iv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Iv||(Iv={}));var Pv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Pv||(Pv={}));var Lv;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Lv||(Lv={}));var Ov;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ov||(Ov={}));var qv;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(qv||(qv={}));var Bv;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Bv||(Bv={}));var Vv;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Vv||(Vv={}));var $v;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($v||($v={}));var So;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(So||(So={}));function Fv(t,e){return{fileData:{fileUri:t,mimeType:e}}}class wd{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Gs{get text(){var e,n,i,s,a,c,h,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const _=[];for(const x of(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[b,w]of Object.entries(x))b!=="text"&&b!=="thought"&&(w!==null||w!==void 0)&&_.push(b);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;y=!0,m+=x.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,n,i,s,a,c,h,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const _ of(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[x,b]of Object.entries(_))x!=="inlineData"&&(b!==null||b!==void 0)&&y.push(x);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,s,a,c,h,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,s,a,c,h,p,m;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,s,a,c,h,p,m;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class zv{}class Gv{}class KR{}class ZR{}class Hv{}class Jv{}class jv{}class QR{}class Yv{}class Kv{}class Zv{}class XR{}class WR{}class eN{}class Qv{}class tN{get text(){var e,n,i;let s="",a=!1;const c=[];for(const h of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&c.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;a=!0,s+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,n,i;let s="";const a=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(c))h!=="inlineData"&&p!==null&&a.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(s+=atob(c.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class nN{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function V_(t,e){const n=ze(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function $_(t){return Array.isArray(t)?t.map(e=>nu(e)):[nu(t)]}function nu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function iN(t){const e=nu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function rN(t){const e=nu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Xv(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function F_(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Xv(e)):[Xv(t)]}function bd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Wv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function e0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Pt(t){if(t==null)throw new Error("ContentUnion is required");return bd(t)?t:{role:"user",parts:F_(t)}}function z_(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Pt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Pt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Pt(n)):[Pt(e)]}function hn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Wv(t)||e0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pt(t)]}const e=[],n=[],i=bd(t[0]);for(const s of t){const a=bd(s);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if(Wv(s)||e0(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||e.push({role:"user",parts:F_(n)}),e}const oN=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),t0=GR(["string","number","integer","object","array","boolean","null"]),sN=$R([t0,js(t0)]);function aN(t=!0){const e=zR(()=>{const n=VR({type:sN.optional(),format:ur().optional(),title:ur().optional(),description:ur().optional(),default:ov().optional(),items:e.optional(),minItems:vo.string().optional(),maxItems:vo.string().optional(),enum:js(ov()).optional(),properties:FR(ur(),e).optional(),required:js(ur()).optional(),minProperties:vo.string().optional(),maxProperties:vo.string().optional(),propertyOrdering:js(ur()).optional(),minimum:rv().optional(),maximum:rv().optional(),minLength:vo.string().optional(),maxLength:vo.string().optional(),pattern:ur().optional(),anyOf:js(e).optional(),additionalProperties:BR().optional()});return t?n.strict():n});return e}function lN(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(In).includes(n[0].toUpperCase())?n[0].toUpperCase():In.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(In).includes(i.toUpperCase())?i.toUpperCase():In.TYPE_UNSPECIFIED})}}function wo(t){const e={},n=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&lN(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(In).includes(h.toUpperCase())?h.toUpperCase():In.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=wo(h);else if(i.includes(c)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(wo(m))}e[c]=p}else if(s.includes(c)){const p={};for(const[m,y]of Object.entries(h))p[m]=wo(y);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=h}return e}function ra(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=aN().parse(t);return wo(e)}else return wo(t)}function Zd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Qd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Oo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=ra(e.parameters)),e.response&&(e.response=ra(e.response));return t}function qo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function uN(t,e,n,i=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function ai(t,e){if(typeof e!="string")throw new Error("name must be a string");return uN(t,e,"cachedContents")}function G_(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function li(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function cN(t){return t!=null&&typeof t=="object"&&"name"in t}function fN(t){return t!=null&&typeof t=="object"&&"video"in t}function dN(t){return t!=null&&typeof t=="object"&&"uri"in t}function H_(t){var e;let n;if(cN(t)&&(n=t.name),!(dN(t)&&(n=t.uri,n===void 0))&&!(fN(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function J_(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function j_(t){for(const e of["models","tunedModels","publisherModels"])if(hN(t,e))return t[e];return[]}function hN(t,e){return t!==null&&typeof t=="object"&&e in t}function mN(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:wo(gu(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function pN(t,e={}){const n=[],i=new Set;for(const s of t){const a=s.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const c=mN(s,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function gN(t){const e=[];for(const n of t)e.push(gu(n));return e}function yN(t){const e={};for(const[n,i]of Object.entries(t)){const s=i;e[n]=gu(s)}return e}function gu(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),s={};for(const[a,c]of Object.entries(t))if(e.has(a))s[a]=gu(c);else if(n.has(a))s[a]=gN(c);else if(i.has(a))s[a]=yN(c);else if(a==="type"){const h=c.toUpperCase();s[a]=Object.values(In).includes(h)?h:In.TYPE_UNSPECIFIED}else oN.has(a)&&(s[a]=c);return s}function Y_(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function vN(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function yu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function K_(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _N(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function TN(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function xN(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function SN(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],_N(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],TN(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],xN(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function Z_(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>SN(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function wN(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const s=u(t,["description"]);s!=null&&f(e,["description"],s);const a=u(t,["enum"]);a!=null&&f(e,["enum"],a);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const _=u(t,["maxProperties"]);_!=null&&f(e,["maxProperties"],_);const x=u(t,["maximum"]);x!=null&&f(e,["maximum"],x);const b=u(t,["minItems"]);b!=null&&f(e,["minItems"],b);const w=u(t,["minLength"]);w!=null&&f(e,["minLength"],w);const R=u(t,["minProperties"]);R!=null&&f(e,["minProperties"],R);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const k=u(t,["nullable"]);k!=null&&f(e,["nullable"],k);const P=u(t,["pattern"]);P!=null&&f(e,["pattern"],P);const D=u(t,["properties"]);D!=null&&f(e,["properties"],D);const U=u(t,["propertyOrdering"]);U!=null&&f(e,["propertyOrdering"],U);const q=u(t,["required"]);q!=null&&f(e,["required"],q);const Q=u(t,["title"]);Q!=null&&f(e,["title"],Q);const Z=u(t,["type"]);return Z!=null&&f(e,["type"],Z),e}function bN(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&f(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function CN(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const s=u(t,["name"]);s!=null&&f(e,["name"],s);const a=u(t,["parameters"]);a!=null&&f(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function EN(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function AN(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],EN(n)),e}function RN(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function NN(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],RN(n)),e}function MN(){return{}}function kN(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>CN(p))),f(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],AN(i));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&f(e,["googleSearchRetrieval"],NN(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],MN());const c=u(t,["codeExecution"]);return c!=null&&f(e,["codeExecution"],c),e}function DN(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function UN(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function IN(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],UN(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function PN(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],DN(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],IN(i)),e}function LN(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function Q_(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],LN(n)),e}function ON(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],Q_(i)),e}function qN(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ON(s))),f(e,["speakerVoiceConfigs"],i)}return e}function BN(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],Q_(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],qN(i));const s=u(t,["languageCode"]);return s!=null&&f(e,["languageCode"],s),e}function VN(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function $N(t,e,n){const i={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],Z_(Pt(s)));const a=u(e,["temperature"]);a!=null&&f(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const _=u(e,["responseLogprobs"]);_!=null&&f(i,["responseLogprobs"],_);const x=u(e,["logprobs"]);x!=null&&f(i,["logprobs"],x);const b=u(e,["presencePenalty"]);b!=null&&f(i,["presencePenalty"],b);const w=u(e,["frequencyPenalty"]);w!=null&&f(i,["frequencyPenalty"],w);const R=u(e,["seed"]);R!=null&&f(i,["seed"],R);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const k=u(e,["responseSchema"]);k!=null&&f(i,["responseSchema"],wN(ra(k)));const P=u(e,["responseJsonSchema"]);if(P!=null&&f(i,["responseJsonSchema"],P),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(e,["safetySettings"]);if(n!==void 0&&D!=null){let le=D;Array.isArray(le)&&(le=le.map(ye=>bN(ye))),f(n,["safetySettings"],le)}const U=u(e,["tools"]);if(n!==void 0&&U!=null){let le=qo(U);Array.isArray(le)&&(le=le.map(ye=>kN(Oo(ye)))),f(n,["tools"],le)}const q=u(e,["toolConfig"]);if(n!==void 0&&q!=null&&f(n,["toolConfig"],PN(q)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=u(e,["cachedContent"]);n!==void 0&&Q!=null&&f(n,["cachedContent"],ai(t,Q));const Z=u(e,["responseModalities"]);Z!=null&&f(i,["responseModalities"],Z);const ie=u(e,["mediaResolution"]);ie!=null&&f(i,["mediaResolution"],ie);const z=u(e,["speechConfig"]);if(z!=null&&f(i,["speechConfig"],BN(Zd(z))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=u(e,["thinkingConfig"]);return L!=null&&f(i,["thinkingConfig"],VN(L)),i}function FN(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["request","model"],ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=hn(s);Array.isArray(c)&&(c=c.map(h=>Z_(h))),f(n,["request","contents"],c)}const a=u(e,["config"]);return a!=null&&f(n,["request","generationConfig"],$N(t,a,n)),n}function zN(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&f(n,["fileName"],i);const s=u(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>FN(t,c))),f(n,["requests","requests"],a)}return n}function GN(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&f(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function HN(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["src"]);s!=null&&f(n,["batch","inputConfig"],zN(t,Y_(t,s)));const a=u(e,["config"]);return a!=null&&f(n,["config"],GN(a,n)),n}function JN(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],yu(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function jN(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],yu(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function YN(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);if(e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function KN(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],YN(n,e)),e}function ZN(t){const e={},n=u(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&f(e,["gcsSource","uris"],i);const s=u(t,["bigqueryUri"]);if(s!=null&&f(e,["bigquerySource","inputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function QN(t){const e={},n=u(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&f(e,["gcsDestination","outputUriPrefix"],i);const s=u(t,["bigqueryUri"]);if(s!=null&&f(e,["bigqueryDestination","outputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function XN(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=u(t,["dest"]);return e!==void 0&&s!=null&&f(e,["outputConfig"],QN(vN(s))),n}function WN(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],ze(t,i));const s=u(e,["src"]);s!=null&&f(n,["inputConfig"],ZN(Y_(t,s)));const a=u(e,["config"]);return a!=null&&f(n,["config"],XN(a,n)),n}function eM(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],yu(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function tM(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],yu(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function nM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);const a=u(t,["filter"]);return e!==void 0&&a!=null&&f(e,["_query","filter"],a),n}function iM(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],nM(n,e)),e}function rM(){return{}}function oM(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function sM(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function aM(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function lM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],oM(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],sM(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],aM(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function uM(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>lM(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function cM(t){const e={},n=u(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function fM(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function dM(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>fM(s))),f(e,["urlMetadata"],i)}return e}function hM(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],uM(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],cM(i));const s=u(t,["tokenCount"]);s!=null&&f(e,["tokenCount"],s);const a=u(t,["finishReason"]);a!=null&&f(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],dM(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const _=u(t,["safetyRatings"]);return _!=null&&f(e,["safetyRatings"],_),e}function mM(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>hM(h))),f(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);const s=u(t,["promptFeedback"]);s!=null&&f(e,["promptFeedback"],s);const a=u(t,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function pM(t){const e={},n=u(t,["response"]);return n!=null&&f(e,["response"],mM(n)),u(t,["error"])!=null&&f(e,["error"],rM()),e}function gM(t){const e={},n=u(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>pM(a))),f(e,["inlinedResponses"],s)}return e}function Cd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["metadata","state"]);s!=null&&f(e,["state"],K_(s));const a=u(t,["metadata","createTime"]);a!=null&&f(e,["createTime"],a);const c=u(t,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["metadata","model"]);p!=null&&f(e,["model"],p);const m=u(t,["metadata","output"]);return m!=null&&f(e,["dest"],gM(m)),e}function yM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Cd(a))),f(e,["batchJobs"],s)}return e}function vM(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["code"]);i!=null&&f(e,["code"],i);const s=u(t,["message"]);return s!=null&&f(e,["message"],s),e}function _M(t){const e={},n=u(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&f(e,["gcsUri"],i);const s=u(t,["bigquerySource","inputUri"]);return s!=null&&f(e,["bigqueryUri"],s),e}function TM(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&f(e,["gcsUri"],i);const s=u(t,["bigqueryDestination","outputUri"]);return s!=null&&f(e,["bigqueryUri"],s),e}function Ed(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["state"]);s!=null&&f(e,["state"],K_(s));const a=u(t,["error"]);a!=null&&f(e,["error"],vM(a));const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["startTime"]);h!=null&&f(e,["startTime"],h);const p=u(t,["endTime"]);p!=null&&f(e,["endTime"],p);const m=u(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const y=u(t,["model"]);y!=null&&f(e,["model"],y);const _=u(t,["inputConfig"]);_!=null&&f(e,["src"],_M(_));const x=u(t,["outputConfig"]);return x!=null&&f(e,["dest"],TM(x)),e}function xM(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Ed(a))),f(e,["batchJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _r;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(_r||(_r={}));class fa{constructor(e,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,s)}init(e,n,i){var s,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};i?typeof i=="object"?c=Object.assign({},i):c=i:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(a=(s=c.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SM extends Sr{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new fa(_r.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=WN(this.apiClient,e);return h=me("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Ed(y))}else{const m=HN(this.apiClient,e);return h=me("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Cd(y))}}async get(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=eM(this.apiClient,e);return h=me("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Ed(y))}else{const m=JN(this.apiClient,e);return h=me("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Cd(y))}}async cancel(e){var n,i,s,a;let c="",h={};if(this.apiClient.isVertexAI()){const p=tM(this.apiClient,e);c=me("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=jN(this.apiClient,e);c=me("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=iM(e);return h=me("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=xM(y),x=new Qv;return Object.assign(x,_),x})}else{const m=KN(e);return h=me("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=yM(y),x=new Qv;return Object.assign(x,_),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wM(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function bM(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function CM(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function EM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],wM(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],bM(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],CM(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function n0(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>EM(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function AM(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const s=u(t,["name"]);s!=null&&f(e,["name"],s);const a=u(t,["parameters"]);a!=null&&f(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function RM(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function NM(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],RM(n)),e}function MM(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function kM(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],MM(n)),e}function DM(){return{}}function UM(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>AM(p))),f(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],NM(i));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&f(e,["googleSearchRetrieval"],kM(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],DM());const c=u(t,["codeExecution"]);return c!=null&&f(e,["codeExecution"],c),e}function IM(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function PM(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function LM(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],PM(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function OM(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],IM(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],LM(i)),e}function qM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&f(e,["expireTime"],s);const a=u(t,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let y=hn(c);Array.isArray(y)&&(y=y.map(_=>n0(_))),f(e,["contents"],y)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],n0(Pt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>UM(_))),f(e,["tools"],y)}const m=u(t,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],OM(m)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function BM(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],V_(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],qM(s,n)),n}function VM(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],ai(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function $M(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],ai(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function FM(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&f(e,["expireTime"],s),n}function zM(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],ai(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],FM(s,n)),n}function GM(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function HM(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],GM(n,e)),e}function JM(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function jM(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function YM(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function KM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],JM(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],jM(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],YM(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function i0(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>KM(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function ZM(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const s=u(t,["parameters"]);s!=null&&f(e,["parameters"],s);const a=u(t,["parametersJsonSchema"]);a!=null&&f(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function QM(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function XM(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],QM(n)),e}function WM(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function ek(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],WM(n)),e}function tk(){return{}}function nk(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function ik(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],nk(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const s=u(t,["googleServiceAccountConfig"]);s!=null&&f(e,["googleServiceAccountConfig"],s);const a=u(t,["httpBasicAuthConfig"]);a!=null&&f(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function rk(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],ik(n)),e}function ok(){return{}}function sk(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>ZM(_))),f(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=u(t,["googleSearch"]);s!=null&&f(e,["googleSearch"],XM(s));const a=u(t,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],ek(a)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],tk());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],rk(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],ok());const m=u(t,["codeExecution"]);return m!=null&&f(e,["codeExecution"],m),e}function ak(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function lk(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function uk(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],lk(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function ck(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],ak(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],uk(i)),e}function fk(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&f(e,["expireTime"],s);const a=u(t,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let _=hn(c);Array.isArray(_)&&(_=_.map(x=>i0(x))),f(e,["contents"],_)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],i0(Pt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let _=p;Array.isArray(_)&&(_=_.map(x=>sk(x))),f(e,["tools"],_)}const m=u(t,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],ck(m));const y=u(t,["kmsKeyName"]);return e!==void 0&&y!=null&&f(e,["encryption_spec","kmsKeyName"],y),n}function dk(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],V_(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],fk(s,n)),n}function hk(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],ai(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function mk(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],ai(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function pk(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&f(e,["expireTime"],s),n}function gk(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],ai(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],pk(s,n)),n}function yk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function vk(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],yk(n,e)),e}function $l(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["model"]);s!=null&&f(e,["model"],s);const a=u(t,["createTime"]);a!=null&&f(e,["createTime"],a);const c=u(t,["updateTime"]);c!=null&&f(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function _k(){return{}}function Tk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>$l(a))),f(e,["cachedContents"],s)}return e}function Fl(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["model"]);s!=null&&f(e,["model"],s);const a=u(t,["createTime"]);a!=null&&f(e,["createTime"],a);const c=u(t,["updateTime"]);c!=null&&f(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function xk(){return{}}function Sk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Fl(a))),f(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wk extends Sr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fa(_r.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=dk(this.apiClient,e);return h=me("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Fl(y))}else{const m=BM(this.apiClient,e);return h=me("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>$l(y))}}async get(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=hk(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Fl(y))}else{const m=VM(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>$l(y))}}async delete(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=mk(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=xk(),_=new Kv;return Object.assign(_,y),_})}else{const m=$M(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=_k(),_=new Kv;return Object.assign(_,y),_})}}async update(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=gk(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Fl(y))}else{const m=zM(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>$l(y))}}async listInternal(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=vk(e);return h=me("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=Sk(y),x=new Zv;return Object.assign(x,_),x})}else{const m=HM(e);return h=me("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=Tk(y),x=new Zv;return Object.assign(x,_),x})}}}function r0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function et(t){return this instanceof et?(this.v=t,this):new et(t)}function bo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(b){return function(w){return Promise.resolve(w).then(b,_)}}function h(b,w){i[b]&&(s[b]=function(R){return new Promise(function(A,k){a.push([b,R,A,k])>1||p(b,R)})},w&&(s[b]=w(s[b])))}function p(b,w){try{m(i[b](w))}catch(R){x(a[0][3],R)}}function m(b){b.value instanceof et?Promise.resolve(b.value.v).then(y,_):x(a[0][2],b)}function y(b){p("next",b)}function _(b){p("throw",b)}function x(b,w){b(w),a.shift(),a.length&&p(a[0][0],a[0][1])}}function Xs(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof r0=="function"?r0(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(c){return new Promise(function(h,p){c=t[a](c),s(h,p,c.done,c.value)})}}function s(a,c,h,p){Promise.resolve(p).then(function(m){a({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bk(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:X_(n)}function X_(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Ck(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function o0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let a=!0;for(;i<n&&t[i].role==="model";)s.push(t[i]),a&&!X_(t[i])&&(a=!1),i++;a?e.push(...s):e.pop()}return e}class Ek{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Ak(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ak{constructor(e,n,i,s={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),Ck(a)}async sendMessage(e){var n;await this.sendPromise;const i=Pt(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,c,h;const p=await s,m=(c=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content,y=p.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let x=[];y!=null&&(x=(h=y.slice(_))!==null&&h!==void 0?h:[]);const b=m?[m]:[];this.recordHistory(i,b,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const i=Pt(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?o0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,s;return bo(this,arguments,function*(){var c,h,p,m;const y=[];try{for(var _=!0,x=Xs(e),b;b=yield et(x.next()),c=b.done,!c;_=!0){m=b.value,_=!1;const w=m;if(bk(w)){const R=(s=(i=w.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content;R!==void 0&&y.push(R)}yield yield et(w)}}catch(w){h={error:w}}finally{try{!_&&!c&&(p=x.return)&&(yield et(p.call(x)))}finally{if(h)throw h.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let s=[];n.length>0&&n.every(a=>a.role!==void 0)?s=n:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...o0(i)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function Nk(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],Rk(n,e)),e}function Mk(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["message"]);i!=null&&f(e,["message"],i);const s=u(t,["code"]);return s!=null&&f(e,["code"],s),e}function kk(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["mimeType"]);s!=null&&f(e,["mimeType"],s);const a=u(t,["sizeBytes"]);a!=null&&f(e,["sizeBytes"],a);const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&f(e,["uri"],y);const _=u(t,["downloadUri"]);_!=null&&f(e,["downloadUri"],_);const x=u(t,["state"]);x!=null&&f(e,["state"],x);const b=u(t,["source"]);b!=null&&f(e,["source"],b);const w=u(t,["videoMetadata"]);w!=null&&f(e,["videoMetadata"],w);const R=u(t,["error"]);return R!=null&&f(e,["error"],Mk(R)),e}function Dk(t){const e={},n=u(t,["file"]);n!=null&&f(e,["file"],kk(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function Uk(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","file"],H_(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function Ik(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","file"],H_(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function Pk(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["message"]);i!=null&&f(e,["message"],i);const s=u(t,["code"]);return s!=null&&f(e,["code"],s),e}function Ad(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["mimeType"]);s!=null&&f(e,["mimeType"],s);const a=u(t,["sizeBytes"]);a!=null&&f(e,["sizeBytes"],a);const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&f(e,["uri"],y);const _=u(t,["downloadUri"]);_!=null&&f(e,["downloadUri"],_);const x=u(t,["state"]);x!=null&&f(e,["state"],x);const b=u(t,["source"]);b!=null&&f(e,["source"],b);const w=u(t,["videoMetadata"]);w!=null&&f(e,["videoMetadata"],w);const R=u(t,["error"]);return R!=null&&f(e,["error"],Pk(R)),e}function Lk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Ad(a))),f(e,["files"],s)}return e}function Ok(){return{}}function qk(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bk extends Sr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fa(_r.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ad(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Nk(e);return a=me("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const m=Lk(p),y=new XR;return Object.assign(y,m),y})}}async createInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Dk(e);return a=me("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(()=>{const p=Ok(),m=new WR;return Object.assign(m,p),m})}}async get(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Uk(e);return a=me("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>Ad(p))}}async delete(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Ik(e);return a=me("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(()=>{const p=qk(),m=new eN;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vk(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function $k(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function W_(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],Vk(n)),e}function Fk(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],$k(n)),e}function zk(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],W_(i)),e}function Gk(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>zk(s))),f(e,["speakerVoiceConfigs"],i)}return e}function Hk(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],W_(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],Gk(i));const s=u(t,["languageCode"]);return s!=null&&f(e,["languageCode"],s),e}function Jk(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],Fk(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function jk(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function Yk(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function Kk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Zk(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Qk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Xk(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Wk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],jk(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],Kk(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],Qk(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function e1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],Yk(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],Zk(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],Xk(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function t1(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Wk(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function n1(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>e1(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function i1(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const s=u(t,["name"]);s!=null&&f(e,["name"],s);const a=u(t,["parameters"]);a!=null&&f(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function r1(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const s=u(t,["parameters"]);s!=null&&f(e,["parameters"],s);const a=u(t,["parametersJsonSchema"]);a!=null&&f(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function o1(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function s1(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function a1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],o1(n)),e}function l1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],s1(n)),e}function u1(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function c1(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function f1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],u1(n)),e}function d1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],c1(n)),e}function h1(){return{}}function m1(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function p1(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],m1(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const s=u(t,["googleServiceAccountConfig"]);s!=null&&f(e,["googleServiceAccountConfig"],s);const a=u(t,["httpBasicAuthConfig"]);a!=null&&f(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function g1(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],p1(n)),e}function y1(){return{}}function v1(){return{}}function _1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>i1(p))),f(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],a1(i));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&f(e,["googleSearchRetrieval"],f1(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],y1());const c=u(t,["codeExecution"]);return c!=null&&f(e,["codeExecution"],c),e}function T1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>r1(_))),f(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=u(t,["googleSearch"]);s!=null&&f(e,["googleSearch"],l1(s));const a=u(t,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],d1(a)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],h1());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],g1(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],v1());const m=u(t,["codeExecution"]);return m!=null&&f(e,["codeExecution"],m),e}function x1(t){const e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function S1(t){const e={},n=u(t,["handle"]);n!=null&&f(e,["handle"],n);const i=u(t,["transparent"]);return i!=null&&f(e,["transparent"],i),e}function s0(){return{}}function a0(){return{}}function w1(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const s=u(t,["endOfSpeechSensitivity"]);s!=null&&f(e,["endOfSpeechSensitivity"],s);const a=u(t,["prefixPaddingMs"]);a!=null&&f(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function b1(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const s=u(t,["endOfSpeechSensitivity"]);s!=null&&f(e,["endOfSpeechSensitivity"],s);const a=u(t,["prefixPaddingMs"]);a!=null&&f(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function C1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],w1(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const s=u(t,["turnCoverage"]);return s!=null&&f(e,["turnCoverage"],s),e}function E1(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],b1(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const s=u(t,["turnCoverage"]);return s!=null&&f(e,["turnCoverage"],s),e}function A1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function R1(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function N1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],A1(i)),e}function M1(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],R1(i)),e}function k1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function D1(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function U1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const a=u(t,["temperature"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Hk(Qd(_)));const x=u(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(t,["systemInstruction"]);e!==void 0&&b!=null&&f(e,["setup","systemInstruction"],t1(Pt(b)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let q=qo(w);Array.isArray(q)&&(q=q.map(Q=>_1(Oo(Q)))),f(e,["setup","tools"],q)}const R=u(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],x1(R));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],s0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","outputAudioTranscription"],s0());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&f(e,["setup","realtimeInputConfig"],C1(P));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&f(e,["setup","contextWindowCompression"],N1(D));const U=u(t,["proactivity"]);return e!==void 0&&U!=null&&f(e,["setup","proactivity"],k1(U)),n}function I1(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const a=u(t,["temperature"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Jk(Qd(_)));const x=u(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(t,["systemInstruction"]);e!==void 0&&b!=null&&f(e,["setup","systemInstruction"],n1(Pt(b)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let q=qo(w);Array.isArray(q)&&(q=q.map(Q=>T1(Oo(Q)))),f(e,["setup","tools"],q)}const R=u(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],S1(R));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],a0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","outputAudioTranscription"],a0());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&f(e,["setup","realtimeInputConfig"],E1(P));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&f(e,["setup","contextWindowCompression"],M1(D));const U=u(t,["proactivity"]);return e!==void 0&&U!=null&&f(e,["setup","proactivity"],D1(U)),n}function P1(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],U1(s,n)),n}function L1(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],I1(s,n)),n}function O1(){return{}}function q1(){return{}}function B1(){return{}}function V1(){return{}}function $1(t){const e={},n=u(t,["media"]);n!=null&&f(e,["mediaChunks"],$_(n));const i=u(t,["audio"]);i!=null&&f(e,["audio"],rN(i));const s=u(t,["audioStreamEnd"]);s!=null&&f(e,["audioStreamEnd"],s);const a=u(t,["video"]);a!=null&&f(e,["video"],iN(a));const c=u(t,["text"]);return c!=null&&f(e,["text"],c),u(t,["activityStart"])!=null&&f(e,["activityStart"],O1()),u(t,["activityEnd"])!=null&&f(e,["activityEnd"],B1()),e}function F1(t){const e={},n=u(t,["media"]);if(n!=null&&f(e,["mediaChunks"],$_(n)),u(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=u(t,["audioStreamEnd"]);if(i!=null&&f(e,["audioStreamEnd"],i),u(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(t,["activityStart"])!=null&&f(e,["activityStart"],q1()),u(t,["activityEnd"])!=null&&f(e,["activityEnd"],V1()),e}function eT(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function z1(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>eT(s))),f(e,["weightedPrompts"],i)}return e}function tT(t){const e={},n=u(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&f(e,["topK"],i);const s=u(t,["seed"]);s!=null&&f(e,["seed"],s);const a=u(t,["guidance"]);a!=null&&f(e,["guidance"],a);const c=u(t,["bpm"]);c!=null&&f(e,["bpm"],c);const h=u(t,["density"]);h!=null&&f(e,["density"],h);const p=u(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&f(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&f(e,["muteBass"],y);const _=u(t,["muteDrums"]);_!=null&&f(e,["muteDrums"],_);const x=u(t,["onlyBassAndDrums"]);return x!=null&&f(e,["onlyBassAndDrums"],x),e}function G1(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],tT(n)),e}function nT(t){const e={},n=u(t,["model"]);return n!=null&&f(e,["model"],n),e}function iT(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>eT(s))),f(e,["weightedPrompts"],i)}return e}function Rd(t){const e={},n=u(t,["setup"]);n!=null&&f(e,["setup"],nT(n));const i=u(t,["clientContent"]);i!=null&&f(e,["clientContent"],iT(i));const s=u(t,["musicGenerationConfig"]);s!=null&&f(e,["musicGenerationConfig"],tT(s));const a=u(t,["playbackControl"]);return a!=null&&f(e,["playbackControl"],a),e}function H1(){return{}}function J1(){return{}}function j1(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function Y1(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function K1(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Z1(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Q1(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function X1(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function W1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],j1(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],K1(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],Q1(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function eD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],Y1(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],Z1(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],X1(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function tD(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>W1(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function nD(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>eD(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function l0(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function u0(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function iD(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function rD(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>iD(s))),f(e,["urlMetadata"],i)}return e}function oD(t){const e={},n=u(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],tD(n));const i=u(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const s=u(t,["interrupted"]);s!=null&&f(e,["interrupted"],s);const a=u(t,["groundingMetadata"]);a!=null&&f(e,["groundingMetadata"],a);const c=u(t,["generationComplete"]);c!=null&&f(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],l0(h));const p=u(t,["outputTranscription"]);p!=null&&f(e,["outputTranscription"],l0(p));const m=u(t,["urlContextMetadata"]);return m!=null&&f(e,["urlContextMetadata"],rD(m)),e}function sD(t){const e={},n=u(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],nD(n));const i=u(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const s=u(t,["interrupted"]);s!=null&&f(e,["interrupted"],s);const a=u(t,["groundingMetadata"]);a!=null&&f(e,["groundingMetadata"],a);const c=u(t,["generationComplete"]);c!=null&&f(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],u0(h));const p=u(t,["outputTranscription"]);return p!=null&&f(e,["outputTranscription"],u0(p)),e}function aD(t){const e={},n=u(t,["id"]);n!=null&&f(e,["id"],n);const i=u(t,["args"]);i!=null&&f(e,["args"],i);const s=u(t,["name"]);return s!=null&&f(e,["name"],s),e}function lD(t){const e={},n=u(t,["args"]);n!=null&&f(e,["args"],n);const i=u(t,["name"]);return i!=null&&f(e,["name"],i),e}function uD(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>aD(s))),f(e,["functionCalls"],i)}return e}function cD(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>lD(s))),f(e,["functionCalls"],i)}return e}function fD(t){const e={},n=u(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function dD(t){const e={},n=u(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function Ul(t){const e={},n=u(t,["modality"]);n!=null&&f(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function Il(t){const e={},n=u(t,["modality"]);n!=null&&f(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function hD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const s=u(t,["responseTokenCount"]);s!=null&&f(e,["responseTokenCount"],s);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&f(e,["toolUsePromptTokenCount"],a);const c=u(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(b=>Ul(b))),f(e,["promptTokensDetails"],x)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(b=>Ul(b))),f(e,["cacheTokensDetails"],x)}const y=u(t,["responseTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(b=>Ul(b))),f(e,["responseTokensDetails"],x)}const _=u(t,["toolUsePromptTokensDetails"]);if(_!=null){let x=_;Array.isArray(x)&&(x=x.map(b=>Ul(b))),f(e,["toolUsePromptTokensDetails"],x)}return e}function mD(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const s=u(t,["candidatesTokenCount"]);s!=null&&f(e,["responseTokenCount"],s);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&f(e,["toolUsePromptTokenCount"],a);const c=u(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(w=>Il(w))),f(e,["promptTokensDetails"],b)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(w=>Il(w))),f(e,["cacheTokensDetails"],b)}const y=u(t,["candidatesTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(w=>Il(w))),f(e,["responseTokensDetails"],b)}const _=u(t,["toolUsePromptTokensDetails"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(w=>Il(w))),f(e,["toolUsePromptTokensDetails"],b)}const x=u(t,["trafficType"]);return x!=null&&f(e,["trafficType"],x),e}function pD(t){const e={},n=u(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function gD(t){const e={},n=u(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function yD(t){const e={},n=u(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&f(e,["resumable"],i);const s=u(t,["lastConsumedClientMessageIndex"]);return s!=null&&f(e,["lastConsumedClientMessageIndex"],s),e}function vD(t){const e={},n=u(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&f(e,["resumable"],i);const s=u(t,["lastConsumedClientMessageIndex"]);return s!=null&&f(e,["lastConsumedClientMessageIndex"],s),e}function _D(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],H1());const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],oD(i));const s=u(t,["toolCall"]);s!=null&&f(e,["toolCall"],uD(s));const a=u(t,["toolCallCancellation"]);a!=null&&f(e,["toolCallCancellation"],fD(a));const c=u(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],hD(c));const h=u(t,["goAway"]);h!=null&&f(e,["goAway"],pD(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],yD(p)),e}function TD(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],J1());const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],sD(i));const s=u(t,["toolCall"]);s!=null&&f(e,["toolCall"],cD(s));const a=u(t,["toolCallCancellation"]);a!=null&&f(e,["toolCallCancellation"],dD(a));const c=u(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],mD(c));const h=u(t,["goAway"]);h!=null&&f(e,["goAway"],gD(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],vD(p)),e}function xD(){return{}}function SD(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function wD(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>SD(s))),f(e,["weightedPrompts"],i)}return e}function bD(t){const e={},n=u(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&f(e,["topK"],i);const s=u(t,["seed"]);s!=null&&f(e,["seed"],s);const a=u(t,["guidance"]);a!=null&&f(e,["guidance"],a);const c=u(t,["bpm"]);c!=null&&f(e,["bpm"],c);const h=u(t,["density"]);h!=null&&f(e,["density"],h);const p=u(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&f(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&f(e,["muteBass"],y);const _=u(t,["muteDrums"]);_!=null&&f(e,["muteDrums"],_);const x=u(t,["onlyBassAndDrums"]);return x!=null&&f(e,["onlyBassAndDrums"],x),e}function CD(t){const e={},n=u(t,["clientContent"]);n!=null&&f(e,["clientContent"],wD(n));const i=u(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],bD(i)),e}function ED(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);i!=null&&f(e,["mimeType"],i);const s=u(t,["sourceMetadata"]);return s!=null&&f(e,["sourceMetadata"],CD(s)),e}function AD(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ED(s))),f(e,["audioChunks"],i)}return e}function RD(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["filteredReason"]);return i!=null&&f(e,["filteredReason"],i),e}function ND(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],xD());const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],AD(i));const s=u(t,["filteredPrompt"]);return s!=null&&f(e,["filteredPrompt"],RD(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MD(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function kD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function DD(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function UD(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],MD(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],kD(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],DD(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function _u(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>UD(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function ID(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const s=u(t,["description"]);s!=null&&f(e,["description"],s);const a=u(t,["enum"]);a!=null&&f(e,["enum"],a);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const _=u(t,["maxProperties"]);_!=null&&f(e,["maxProperties"],_);const x=u(t,["maximum"]);x!=null&&f(e,["maximum"],x);const b=u(t,["minItems"]);b!=null&&f(e,["minItems"],b);const w=u(t,["minLength"]);w!=null&&f(e,["minLength"],w);const R=u(t,["minProperties"]);R!=null&&f(e,["minProperties"],R);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const k=u(t,["nullable"]);k!=null&&f(e,["nullable"],k);const P=u(t,["pattern"]);P!=null&&f(e,["pattern"],P);const D=u(t,["properties"]);D!=null&&f(e,["properties"],D);const U=u(t,["propertyOrdering"]);U!=null&&f(e,["propertyOrdering"],U);const q=u(t,["required"]);q!=null&&f(e,["required"],q);const Q=u(t,["title"]);Q!=null&&f(e,["title"],Q);const Z=u(t,["type"]);return Z!=null&&f(e,["type"],Z),e}function PD(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&f(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function LD(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const s=u(t,["name"]);s!=null&&f(e,["name"],s);const a=u(t,["parameters"]);a!=null&&f(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function OD(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function qD(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],OD(n)),e}function BD(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function VD(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],BD(n)),e}function $D(){return{}}function FD(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>LD(p))),f(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],qD(i));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&f(e,["googleSearchRetrieval"],VD(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],$D());const c=u(t,["codeExecution"]);return c!=null&&f(e,["codeExecution"],c),e}function zD(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function GD(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function HD(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],GD(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function JD(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],zD(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],HD(i)),e}function jD(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function rT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],jD(n)),e}function YD(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],rT(i)),e}function KD(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>YD(s))),f(e,["speakerVoiceConfigs"],i)}return e}function ZD(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],rT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],KD(i));const s=u(t,["languageCode"]);return s!=null&&f(e,["languageCode"],s),e}function QD(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function XD(t,e,n){const i={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],_u(Pt(s)));const a=u(e,["temperature"]);a!=null&&f(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const _=u(e,["responseLogprobs"]);_!=null&&f(i,["responseLogprobs"],_);const x=u(e,["logprobs"]);x!=null&&f(i,["logprobs"],x);const b=u(e,["presencePenalty"]);b!=null&&f(i,["presencePenalty"],b);const w=u(e,["frequencyPenalty"]);w!=null&&f(i,["frequencyPenalty"],w);const R=u(e,["seed"]);R!=null&&f(i,["seed"],R);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const k=u(e,["responseSchema"]);k!=null&&f(i,["responseSchema"],ID(ra(k)));const P=u(e,["responseJsonSchema"]);if(P!=null&&f(i,["responseJsonSchema"],P),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(e,["safetySettings"]);if(n!==void 0&&D!=null){let le=D;Array.isArray(le)&&(le=le.map(ye=>PD(ye))),f(n,["safetySettings"],le)}const U=u(e,["tools"]);if(n!==void 0&&U!=null){let le=qo(U);Array.isArray(le)&&(le=le.map(ye=>FD(Oo(ye)))),f(n,["tools"],le)}const q=u(e,["toolConfig"]);if(n!==void 0&&q!=null&&f(n,["toolConfig"],JD(q)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=u(e,["cachedContent"]);n!==void 0&&Q!=null&&f(n,["cachedContent"],ai(t,Q));const Z=u(e,["responseModalities"]);Z!=null&&f(i,["responseModalities"],Z);const ie=u(e,["mediaResolution"]);ie!=null&&f(i,["mediaResolution"],ie);const z=u(e,["speechConfig"]);if(z!=null&&f(i,["speechConfig"],ZD(Zd(z))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=u(e,["thinkingConfig"]);return L!=null&&f(i,["thinkingConfig"],QD(L)),i}function c0(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=hn(s);Array.isArray(c)&&(c=c.map(h=>_u(h))),f(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&f(n,["generationConfig"],XD(t,a,n)),n}function WD(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const s=u(t,["title"]);e!==void 0&&s!=null&&f(e,["requests[]","title"],s);const a=u(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&f(e,["requests[]","outputDimensionality"],a),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function eU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["contents"]);s!=null&&f(n,["requests[]","content"],z_(t,s));const a=u(e,["config"]);a!=null&&f(n,["config"],WD(a,n));const c=u(e,["model"]);return c!==void 0&&f(n,["requests[]","model"],ze(t,c)),n}function tU(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const s=u(t,["aspectRatio"]);e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s);const a=u(t,["guidanceScale"]);if(e!==void 0&&a!=null&&f(e,["parameters","guidanceScale"],a),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const p=u(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);const m=u(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const y=u(t,["language"]);e!==void 0&&y!=null&&f(e,["parameters","language"],y);const _=u(t,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const x=u(t,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&f(e,["parameters","outputOptions","compressionQuality"],x),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function nU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const a=u(e,["config"]);return a!=null&&f(n,["config"],tU(a,n)),n}function iU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function rU(t,e,n){const i={},s=u(e,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&f(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],J_(t,h)),i}function oU(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],rU(t,i,n)),n}function sU(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=u(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&f(e,["defaultCheckpointId"],a),n}function aU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],sU(s,n)),n}function lU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function uU(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function cU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=hn(s);Array.isArray(c)&&(c=c.map(h=>_u(h))),f(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&f(n,["config"],uU(a)),n}function fU(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],li(n));const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function dU(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=u(t,["durationSeconds"]);if(e!==void 0&&s!=null&&f(e,["parameters","durationSeconds"],s),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=u(t,["aspectRatio"]);if(e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=u(t,["personGeneration"]);if(e!==void 0&&c!=null&&f(e,["parameters","personGeneration"],c),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(t,["negativePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","negativePrompt"],h);const p=u(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&f(e,["parameters","enhancePrompt"],p),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function hU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const a=u(e,["image"]);if(a!=null&&f(n,["instances[0]","image"],fU(a)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const c=u(e,["config"]);return c!=null&&f(n,["config"],dU(c,n)),n}function mU(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function pU(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function gU(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function yU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],mU(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],pU(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],gU(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function Bo(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>yU(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function vU(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const s=u(t,["description"]);s!=null&&f(e,["description"],s);const a=u(t,["enum"]);a!=null&&f(e,["enum"],a);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const _=u(t,["maxProperties"]);_!=null&&f(e,["maxProperties"],_);const x=u(t,["maximum"]);x!=null&&f(e,["maximum"],x);const b=u(t,["minItems"]);b!=null&&f(e,["minItems"],b);const w=u(t,["minLength"]);w!=null&&f(e,["minLength"],w);const R=u(t,["minProperties"]);R!=null&&f(e,["minProperties"],R);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const k=u(t,["nullable"]);k!=null&&f(e,["nullable"],k);const P=u(t,["pattern"]);P!=null&&f(e,["pattern"],P);const D=u(t,["properties"]);D!=null&&f(e,["properties"],D);const U=u(t,["propertyOrdering"]);U!=null&&f(e,["propertyOrdering"],U);const q=u(t,["required"]);q!=null&&f(e,["required"],q);const Q=u(t,["title"]);Q!=null&&f(e,["title"],Q);const Z=u(t,["type"]);return Z!=null&&f(e,["type"],Z),e}function _U(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&f(e,["featureSelectionPreference"],n),e}function TU(t){const e={},n=u(t,["method"]);n!=null&&f(e,["method"],n);const i=u(t,["category"]);i!=null&&f(e,["category"],i);const s=u(t,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function xU(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const s=u(t,["parameters"]);s!=null&&f(e,["parameters"],s);const a=u(t,["parametersJsonSchema"]);a!=null&&f(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function SU(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function wU(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],SU(n)),e}function bU(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function CU(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],bU(n)),e}function EU(){return{}}function AU(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function RU(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],AU(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const s=u(t,["googleServiceAccountConfig"]);s!=null&&f(e,["googleServiceAccountConfig"],s);const a=u(t,["httpBasicAuthConfig"]);a!=null&&f(e,["httpBasicAuthConfig"],a);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function NU(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],RU(n)),e}function MU(){return{}}function oT(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>xU(_))),f(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=u(t,["googleSearch"]);s!=null&&f(e,["googleSearch"],wU(s));const a=u(t,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],CU(a)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],EU());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],NU(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],MU());const m=u(t,["codeExecution"]);return m!=null&&f(e,["codeExecution"],m),e}function kU(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function DU(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function UU(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],DU(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function IU(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],kU(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],UU(i)),e}function PU(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function LU(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],PU(n)),e}function OU(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],LU(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function qU(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function BU(t,e,n){const i={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],Bo(Pt(s)));const a=u(e,["temperature"]);a!=null&&f(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const _=u(e,["responseLogprobs"]);_!=null&&f(i,["responseLogprobs"],_);const x=u(e,["logprobs"]);x!=null&&f(i,["logprobs"],x);const b=u(e,["presencePenalty"]);b!=null&&f(i,["presencePenalty"],b);const w=u(e,["frequencyPenalty"]);w!=null&&f(i,["frequencyPenalty"],w);const R=u(e,["seed"]);R!=null&&f(i,["seed"],R);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const k=u(e,["responseSchema"]);k!=null&&f(i,["responseSchema"],vU(ra(k)));const P=u(e,["responseJsonSchema"]);P!=null&&f(i,["responseJsonSchema"],P);const D=u(e,["routingConfig"]);D!=null&&f(i,["routingConfig"],D);const U=u(e,["modelSelectionConfig"]);U!=null&&f(i,["modelConfig"],_U(U));const q=u(e,["safetySettings"]);if(n!==void 0&&q!=null){let Ne=q;Array.isArray(Ne)&&(Ne=Ne.map(Y=>TU(Y))),f(n,["safetySettings"],Ne)}const Q=u(e,["tools"]);if(n!==void 0&&Q!=null){let Ne=qo(Q);Array.isArray(Ne)&&(Ne=Ne.map(Y=>oT(Oo(Y)))),f(n,["tools"],Ne)}const Z=u(e,["toolConfig"]);n!==void 0&&Z!=null&&f(n,["toolConfig"],IU(Z));const ie=u(e,["labels"]);n!==void 0&&ie!=null&&f(n,["labels"],ie);const z=u(e,["cachedContent"]);n!==void 0&&z!=null&&f(n,["cachedContent"],ai(t,z));const L=u(e,["responseModalities"]);L!=null&&f(i,["responseModalities"],L);const le=u(e,["mediaResolution"]);le!=null&&f(i,["mediaResolution"],le);const ye=u(e,["speechConfig"]);ye!=null&&f(i,["speechConfig"],OU(Zd(ye)));const Oe=u(e,["audioTimestamp"]);Oe!=null&&f(i,["audioTimestamp"],Oe);const Ze=u(e,["thinkingConfig"]);return Ze!=null&&f(i,["thinkingConfig"],qU(Ze)),i}function f0(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=hn(s);Array.isArray(c)&&(c=c.map(h=>Bo(h))),f(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&f(n,["generationConfig"],BU(t,a,n)),n}function VU(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&f(e,["instances[]","task_type"],i);const s=u(t,["title"]);e!==void 0&&s!=null&&f(e,["instances[]","title"],s);const a=u(t,["outputDimensionality"]);e!==void 0&&a!=null&&f(e,["parameters","outputDimensionality"],a);const c=u(t,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const h=u(t,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),n}function $U(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["contents"]);s!=null&&f(n,["instances[]","content"],z_(t,s));const a=u(e,["config"]);return a!=null&&f(n,["config"],VU(a,n)),n}function FU(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&f(e,["parameters","negativePrompt"],s);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const _=u(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const x=u(t,["includeRaiReason"]);e!==void 0&&x!=null&&f(e,["parameters","includeRaiReason"],x);const b=u(t,["language"]);e!==void 0&&b!=null&&f(e,["parameters","language"],b);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&f(e,["parameters","outputOptions","mimeType"],w);const R=u(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const A=u(t,["addWatermark"]);e!==void 0&&A!=null&&f(e,["parameters","addWatermark"],A);const k=u(t,["enhancePrompt"]);return e!==void 0&&k!=null&&f(e,["parameters","enhancePrompt"],k),n}function zU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const a=u(e,["config"]);return a!=null&&f(n,["config"],FU(a,n)),n}function Tu(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],li(i));const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function GU(t){const e={},n=u(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&f(e,["maskClasses"],i);const s=u(t,["maskDilation"]);return s!=null&&f(e,["dilation"],s),e}function HU(t){const e={},n=u(t,["controlType"]);n!=null&&f(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&f(e,["computeControl"],i),e}function JU(t){const e={},n=u(t,["styleDescription"]);return n!=null&&f(e,["styleDescription"],n),e}function jU(t){const e={},n=u(t,["subjectType"]);n!=null&&f(e,["subjectType"],n);const i=u(t,["subjectDescription"]);return i!=null&&f(e,["subjectDescription"],i),e}function YU(t){const e={},n=u(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],Tu(n));const i=u(t,["referenceId"]);i!=null&&f(e,["referenceId"],i);const s=u(t,["referenceType"]);s!=null&&f(e,["referenceType"],s);const a=u(t,["maskImageConfig"]);a!=null&&f(e,["maskImageConfig"],GU(a));const c=u(t,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],HU(c));const h=u(t,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],JU(h));const p=u(t,["subjectImageConfig"]);return p!=null&&f(e,["subjectImageConfig"],jU(p)),e}function KU(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&f(e,["parameters","negativePrompt"],s);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const _=u(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const x=u(t,["includeRaiReason"]);e!==void 0&&x!=null&&f(e,["parameters","includeRaiReason"],x);const b=u(t,["language"]);e!==void 0&&b!=null&&f(e,["parameters","language"],b);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&f(e,["parameters","outputOptions","mimeType"],w);const R=u(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const A=u(t,["editMode"]);e!==void 0&&A!=null&&f(e,["parameters","editMode"],A);const k=u(t,["baseSteps"]);return e!==void 0&&k!=null&&f(e,["parameters","editConfig","baseSteps"],k),n}function ZU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const a=u(e,["referenceImages"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>YU(p))),f(n,["instances[0]","referenceImages"],h)}const c=u(e,["config"]);return c!=null&&f(n,["config"],KU(c,n)),n}function QU(t,e){const n={},i=u(t,["includeRaiReason"]);e!==void 0&&i!=null&&f(e,["parameters","includeRaiReason"],i);const s=u(t,["outputMimeType"]);e!==void 0&&s!=null&&f(e,["parameters","outputOptions","mimeType"],s);const a=u(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&f(e,["parameters","outputOptions","compressionQuality"],a);const c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],c);const h=u(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=u(t,["numberOfImages"]);e!==void 0&&p!=null&&f(e,["parameters","sampleCount"],p);const m=u(t,["mode"]);return e!==void 0&&m!=null&&f(e,["parameters","mode"],m),n}function XU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["image"]);s!=null&&f(n,["instances[0]","image"],Tu(s));const a=u(e,["upscaleFactor"]);a!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],a);const c=u(e,["config"]);return c!=null&&f(n,["config"],QU(c,n)),n}function WU(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function e2(t,e,n){const i={},s=u(e,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&f(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],J_(t,h)),i}function t2(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],e2(t,i,n)),n}function n2(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=u(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&f(e,["defaultCheckpointId"],a),n}function i2(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],n2(s,n)),n}function r2(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function o2(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&f(e,["systemInstruction"],Bo(Pt(i)));const s=u(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>oT(h))),f(e,["tools"],c)}const a=u(t,["generationConfig"]);return e!==void 0&&a!=null&&f(e,["generationConfig"],a),n}function s2(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=hn(s);Array.isArray(c)&&(c=c.map(h=>Bo(h))),f(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&f(n,["config"],o2(a,n)),n}function a2(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["contents"]);if(s!=null){let c=hn(s);Array.isArray(c)&&(c=c.map(h=>Bo(h))),f(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&f(n,["config"],a),n}function l2(t){const e={},n=u(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&f(e,["bytesBase64Encoded"],li(i));const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function u2(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const s=u(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const a=u(t,["fps"]);e!==void 0&&a!=null&&f(e,["parameters","fps"],a);const c=u(t,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const p=u(t,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const m=u(t,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const _=u(t,["pubsubTopic"]);e!==void 0&&_!=null&&f(e,["parameters","pubsubTopic"],_);const x=u(t,["negativePrompt"]);e!==void 0&&x!=null&&f(e,["parameters","negativePrompt"],x);const b=u(t,["enhancePrompt"]);e!==void 0&&b!=null&&f(e,["parameters","enhancePrompt"],b);const w=u(t,["generateAudio"]);e!==void 0&&w!=null&&f(e,["parameters","generateAudio"],w);const R=u(t,["lastFrame"]);e!==void 0&&R!=null&&f(e,["instances[0]","lastFrame"],Tu(R));const A=u(t,["compressionQuality"]);return e!==void 0&&A!=null&&f(e,["parameters","compressionQuality"],A),n}function c2(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],ze(t,i));const s=u(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const a=u(e,["image"]);a!=null&&f(n,["instances[0]","image"],Tu(a));const c=u(e,["video"]);c!=null&&f(n,["instances[0]","video"],l2(c));const h=u(e,["config"]);return h!=null&&f(n,["config"],u2(h,n)),n}function f2(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function d2(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function h2(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function m2(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],f2(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],d2(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],h2(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function p2(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>m2(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function g2(t){const e={},n=u(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function y2(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function v2(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>y2(s))),f(e,["urlMetadata"],i)}return e}function _2(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],p2(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],g2(i));const s=u(t,["tokenCount"]);s!=null&&f(e,["tokenCount"],s);const a=u(t,["finishReason"]);a!=null&&f(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],v2(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const _=u(t,["safetyRatings"]);return _!=null&&f(e,["safetyRatings"],_),e}function d0(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>_2(h))),f(e,["candidates"],c)}const i=u(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);const s=u(t,["promptFeedback"]);s!=null&&f(e,["promptFeedback"],s);const a=u(t,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function T2(t){const e={},n=u(t,["values"]);return n!=null&&f(e,["values"],n),e}function x2(){return{}}function S2(t){const e={},n=u(t,["embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>T2(a))),f(e,["embeddings"],s)}return u(t,["metadata"])!=null&&f(e,["metadata"],x2()),e}function w2(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],li(n));const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function sT(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const s=u(t,["contentType"]);return s!=null&&f(e,["contentType"],s),e}function b2(t){const e={},n=u(t,["_self"]);n!=null&&f(e,["image"],w2(n));const i=u(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const s=u(t,["_self"]);return s!=null&&f(e,["safetyAttributes"],sT(s)),e}function C2(t){const e={},n=u(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>b2(a))),f(e,["generatedImages"],s)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],sT(i)),e}function E2(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&f(e,["createTime"],i);const s=u(t,["updateTime"]);return s!=null&&f(e,["updateTime"],s),e}function Nd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["description"]);s!=null&&f(e,["description"],s);const a=u(t,["version"]);a!=null&&f(e,["version"],a);const c=u(t,["_self"]);c!=null&&f(e,["tunedModelInfo"],E2(c));const h=u(t,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const p=u(t,["outputTokenLimit"]);p!=null&&f(e,["outputTokenLimit"],p);const m=u(t,["supportedGenerationMethods"]);return m!=null&&f(e,["supportedActions"],m),e}function A2(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const s=u(e,["_self"]);if(s!=null){let a=j_(s);Array.isArray(a)&&(a=a.map(c=>Nd(c))),f(n,["models"],a)}return n}function R2(){return{}}function N2(t){const e={},n=u(t,["totalTokens"]);n!=null&&f(e,["totalTokens"],n);const i=u(t,["cachedContentTokenCount"]);return i!=null&&f(e,["cachedContentTokenCount"],i),e}function M2(t){const e={},n=u(t,["video","uri"]);n!=null&&f(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&f(e,["videoBytes"],li(i));const s=u(t,["encoding"]);return s!=null&&f(e,["mimeType"],s),e}function k2(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],M2(n)),e}function D2(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>k2(c))),f(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function U2(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=u(t,["done"]);s!=null&&f(e,["done"],s);const a=u(t,["error"]);a!=null&&f(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],D2(c)),e}function I2(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function P2(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function L2(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function O2(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],I2(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],P2(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],L2(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function q2(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>O2(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function B2(t){const e={},n=u(t,["citations"]);return n!=null&&f(e,["citations"],n),e}function V2(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function $2(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>V2(s))),f(e,["urlMetadata"],i)}return e}function F2(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],q2(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],B2(i));const s=u(t,["finishMessage"]);s!=null&&f(e,["finishMessage"],s);const a=u(t,["finishReason"]);a!=null&&f(e,["finishReason"],a);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],$2(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const _=u(t,["safetyRatings"]);return _!=null&&f(e,["safetyRatings"],_),e}function h0(t){const e={},n=u(t,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>F2(m))),f(e,["candidates"],p)}const i=u(t,["createTime"]);i!=null&&f(e,["createTime"],i);const s=u(t,["responseId"]);s!=null&&f(e,["responseId"],s);const a=u(t,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const c=u(t,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const h=u(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function z2(t){const e={},n=u(t,["truncated"]);n!=null&&f(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&f(e,["tokenCount"],i),e}function G2(t){const e={},n=u(t,["values"]);n!=null&&f(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&f(e,["statistics"],z2(i)),e}function H2(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&f(e,["billableCharacterCount"],n),e}function J2(t){const e={},n=u(t,["predictions[]","embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>G2(a))),f(e,["embeddings"],s)}const i=u(t,["metadata"]);return i!=null&&f(e,["metadata"],H2(i)),e}function j2(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],li(i));const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function aT(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const s=u(t,["contentType"]);return s!=null&&f(e,["contentType"],s),e}function Xd(t){const e={},n=u(t,["_self"]);n!=null&&f(e,["image"],j2(n));const i=u(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const s=u(t,["_self"]);s!=null&&f(e,["safetyAttributes"],aT(s));const a=u(t,["prompt"]);return a!=null&&f(e,["enhancedPrompt"],a),e}function Y2(t){const e={},n=u(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Xd(a))),f(e,["generatedImages"],s)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],aT(i)),e}function K2(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Xd(s))),f(e,["generatedImages"],i)}return e}function Z2(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Xd(s))),f(e,["generatedImages"],i)}return e}function Q2(t){const e={},n=u(t,["endpoint"]);n!=null&&f(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&f(e,["deployedModelId"],i),e}function X2(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&f(e,["createTime"],i);const s=u(t,["updateTime"]);return s!=null&&f(e,["updateTime"],s),e}function W2(t){const e={},n=u(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&f(e,["epoch"],i);const s=u(t,["step"]);return s!=null&&f(e,["step"],s),e}function Md(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=u(t,["description"]);s!=null&&f(e,["description"],s);const a=u(t,["versionId"]);a!=null&&f(e,["version"],a);const c=u(t,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(x=>Q2(x))),f(e,["endpoints"],_)}const h=u(t,["labels"]);h!=null&&f(e,["labels"],h);const p=u(t,["_self"]);p!=null&&f(e,["tunedModelInfo"],X2(p));const m=u(t,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const y=u(t,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(x=>W2(x))),f(e,["checkpoints"],_)}return e}function eI(t,e){const n={},i=u(e,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const s=u(e,["_self"]);if(s!=null){let a=j_(s);Array.isArray(a)&&(a=a.map(c=>Md(c))),f(n,["models"],a)}return n}function tI(){return{}}function nI(t){const e={},n=u(t,["totalTokens"]);return n!=null&&f(e,["totalTokens"],n),e}function iI(t){const e={},n=u(t,["tokensInfo"]);return n!=null&&f(e,["tokensInfo"],n),e}function rI(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],li(i));const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function oI(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],rI(n)),e}function sI(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>oI(c))),f(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function aI(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=u(t,["done"]);s!=null&&f(e,["done"],s);const a=u(t,["error"]);a!=null&&f(e,["error"],a);const c=u(t,["response"]);return c!=null&&f(e,["response"],sI(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lI="Content-Type",uI="X-Server-Timeout",cI="User-Agent",kd="x-goog-api-client",fI="1.7.0",dI=`google-genai-sdk/${fI}`,hI="v1beta1",mI="v1beta",m0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class pI{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hI,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:mI,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))s.searchParams.append(c,String(h));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(n))typeof a=="object"?i[s]=Object.assign(Object.assign({},i[s]),a):a!==void 0&&(i[s]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const s=new AbortController,a=s.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>s.abort(),n.timeout),i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return n&&n.extraBody!==null&&gI(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await p0(s),new wd(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await p0(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return bo(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:p}=yield et(s.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(p);try{const _=JSON.parse(m);if("error"in _){const x=JSON.parse(JSON.stringify(_.error)),b=x.status,w=x.code,R=`got status: ${b}. ${JSON.stringify(_)}`;if(w>=400&&w<600)throw new vu({message:R,status:w})}}catch(_){if(_.name==="ApiError")throw _}c+=m;let y=c.match(m0);for(;y;){const _=y[1];try{const x=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield et(new wd(x)),c=c.slice(y[0].length),y=c.match(m0)}catch(x){throw new Error(`exception parsing stream chunk ${_}. ${x}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=dI+" "+this.clientOptions.userAgentExtra;return e[cI]=n,e[kd]=n,e[lI]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))n.append(i,s);e.timeout&&e.timeout>0&&n.append(uI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,c=await a.stat(e);s.sizeBytes=String(c.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=h;const p=await this.fetchUploadUrl(s,n);return a.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},c=await this.request({path:me("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:s});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function p0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw n>=400&&n<600?new vu({message:s,status:n}):new Error(s)}}function gI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,c){const h=Object.assign({},a);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const m=c[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const s=i(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yI="mcp_used/unknown";function lT(t){for(const e of t)if(Wd(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function uT(t){var e;const n=(e=t[kd])!==null&&e!==void 0?e:"";t[kd]=(n+` ${yI}`).trimStart()}function vI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>Wd(s)))!==null&&i!==void 0?i:!1}function _I(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>!Wd(s)))!==null&&i!==void 0?i:!1}function Wd(t){return t!==null&&typeof t=="object"&&t instanceof eh}function TI(t,e=100){return bo(this,arguments,function*(){let i,s=0;for(;s<e;){const a=yield et(t.listTools({cursor:i}));for(const c of a.tools)yield yield et(c),s++;if(!a.nextCursor)break;i=a.nextCursor}})}class eh{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new eh(e,n)}async initialize(){var e,n,i,s;if(this.mcpTools.length>0)return;const a={},c=[];for(const y of this.mcpClients)try{for(var h=!0,p=(n=void 0,Xs(TI(y))),m;m=await p.next(),e=m.done,!e;h=!0){s=m.value,h=!1;const _=s;c.push(_);const x=_.name;if(a[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);a[x]=y}}catch(_){n={error:_}}finally{try{!h&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),pN(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const c=await s.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xI(t,e,n){const i=new nN;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data);const a=ND(s);Object.assign(i,a),e(i)}class SI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),c=CI(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(D=>{m=D}),_=e.callbacks,x=function(){m({})},b=this.apiClient,w={onopen:x,onmessage:D=>{xI(b,_.onmessage,D)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(D){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(D){}},R=this.webSocketFactory.create(p,bI(c),w);R.connect(),await y;const A=ze(this.apiClient,e.model),k=nT({model:A}),P=Rd({setup:k});return R.send(JSON.stringify(P)),new wI(R,this.apiClient)}}class wI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=z1(e),i=iT(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=G1(e),i=Rd(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Rd({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(So.PLAY)}pause(){this.sendPlaybackControl(So.PAUSE)}stop(){this.sendPlaybackControl(So.STOP)}resetContext(){this.sendPlaybackControl(So.RESET_CONTEXT)}close(){this.conn.close()}}function bI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function CI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function AI(t,e,n){const i=new tN;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const a=JSON.parse(s);if(t.isVertexAI()){const c=TD(a);Object.assign(i,c)}else{const c=_D(a);Object.assign(i,c)}e(i)}class RI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new SI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,s,a,c,h;const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const _=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&lT(e.config.tools)&&uT(_);const x=DI(_);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x);else{const z=this.apiClient.getApiKey();let L="BidiGenerateContent",le="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),L="BidiGenerateContentConstrained",le="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${L}?${le}=${z}`}let b=()=>{};const w=new Promise(z=>{b=z}),R=e.callbacks,A=function(){var z;(z=R==null?void 0:R.onopen)===null||z===void 0||z.call(R),b({})},k=this.apiClient,P={onopen:A,onmessage:z=>{AI(k,R.onmessage,z)},onerror:(n=R==null?void 0:R.onerror)!==null&&n!==void 0?n:function(z){},onclose:(i=R==null?void 0:R.onclose)!==null&&i!==void 0?i:function(z){}},D=this.webSocketFactory.create(y,kI(x),P);D.connect(),await w;let U=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&U.startsWith("publishers/")){const z=this.apiClient.getProject(),L=this.apiClient.getLocation();U=`projects/${z}/locations/${L}/`+U}let q={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[tu.AUDIO]}:e.config.responseModalities=[tu.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],Z=[];for(const z of Q)if(this.isCallableTool(z)){const L=z;Z.push(await L.tool())}else Z.push(z);Z.length>0&&(e.config.tools=Z);const ie={model:U,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=L1(this.apiClient,ie):q=P1(this.apiClient,ie),delete q.config,D.send(JSON.stringify(q)),new MI(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const NI={turnComplete:!0};class MI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=hn(n.turns),e.isVertexAI()?i=i.map(s=>Bo(s)):i=i.map(s=>_u(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(EI)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},NI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:F1(e)}:n={realtimeInput:$1(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function kI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function DI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g0=10;function y0(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(zl(c)){s=!0;break}if(!s)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function zl(t){return"callTool"in t&&typeof t.callTool=="function"}function v0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UI extends Sr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,s,a,c,h;const p=await this.processParamsForMcpUsage(n);if(!vI(n)||y0(n.config))return await this.generateContentInternal(p);if(_I(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const _=hn(p.contents),x=(a=(s=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:g0;let b=0;for(;b<x&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const w=m.candidates[0].content,R=[];for(const A of(h=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(zl(A)){const P=await A.callTool(m.functionCalls);R.push(...P)}b++,y={role:"user",parts:R},p.contents=hn(p.contents),p.contents.push(w),p.contents.push(y),v0(p.config)&&(_.push(w),_.push(y))}return v0(p.config)&&(m.automaticFunctionCallingHistory=_),m},this.generateContentStream=async n=>{if(y0(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let a;const c=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((s=p==null?void 0:p.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=p==null?void 0:p.safetyAttributes:c.push(p);let h;return a?h={generatedImages:c,positivePromptSafetyAttributes:a}:h={generatedImages:c},h}),this.list=async n=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new fa(_r.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(s)}}async processParamsForMcpUsage(e){var n,i,s;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const c=await Promise.all(a.map(async p=>zl(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&lT(e.config.tools)){const p=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),uT(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var n,i,s;const a=new Map;for(const c of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(zl(c)){const h=c,p=await h.tool();for(const m of(s=p.functionDeclarations)!==null&&s!==void 0?s:[]){if(!m.name)throw new Error("Function declaration name is required.");if(a.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);a.set(m.name,h)}}return a}async processAfcStream(e){var n,i,s;const a=(s=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:g0;let c=!1,h=0;const p=await this.initAfcToolsMap(e);return function(m,y,_){var x,b;return bo(this,arguments,function*(){for(var w,R,A,k;h<a;){c&&(h++,c=!1);const q=yield et(m.processParamsForMcpUsage(_)),Q=yield et(m.generateContentStreamInternal(q)),Z=[],ie=[];try{for(var P=!0,D=(R=void 0,Xs(Q)),U;U=yield et(D.next()),w=U.done,!w;P=!0){k=U.value,P=!1;const z=k;if(yield yield et(z),z.candidates&&(!((x=z.candidates[0])===null||x===void 0)&&x.content)){ie.push(z.candidates[0].content);for(const L of(b=z.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(h<a&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(L.functionCall.name)){const le=yield et(y.get(L.functionCall.name).callTool([L.functionCall]));Z.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(z){R={error:z}}finally{try{!P&&!w&&(A=D.return)&&(yield et(A.call(D)))}finally{if(R)throw R.error}}if(Z.length>0){c=!0;const z=new Gs;z.candidates=[{content:{role:"user",parts:Z}}],yield yield et(z);const L=[];L.push(...ie),L.push({role:"user",parts:Z});const le=hn(_.contents).concat(L);_.contents=le}else break}})}(this,p,e)}async generateContentInternal(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=f0(this.apiClient,e);return h=me("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=h0(y),x=new Gs;return Object.assign(x,_),x})}else{const m=c0(this.apiClient,e);return h=me("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=d0(y),x=new Gs;return Object.assign(x,_),x})}}async generateContentStreamInternal(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=f0(this.apiClient,e);return h=me("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(_){return bo(this,arguments,function*(){var x,b,w,R;try{for(var A=!0,k=Xs(_),P;P=yield et(k.next()),x=P.done,!x;A=!0){R=P.value,A=!1;const U=h0(yield et(R.json())),q=new Gs;Object.assign(q,U),yield yield et(q)}}catch(D){b={error:D}}finally{try{!A&&!x&&(w=k.return)&&(yield et(w.call(k)))}finally{if(b)throw b.error}}})})}else{const m=c0(this.apiClient,e);return h=me("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(_){return bo(this,arguments,function*(){var x,b,w,R;try{for(var A=!0,k=Xs(_),P;P=yield et(k.next()),x=P.done,!x;A=!0){R=P.value,A=!1;const U=d0(yield et(R.json())),q=new Gs;Object.assign(q,U),yield yield et(q)}}catch(D){b={error:D}}finally{try{!A&&!x&&(w=k.return)&&(yield et(w.call(k)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=$U(this.apiClient,e);return h=me("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=J2(y),x=new zv;return Object.assign(x,_),x})}else{const m=eU(this.apiClient,e);return h=me("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=S2(y),x=new zv;return Object.assign(x,_),x})}}async generateImagesInternal(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=zU(this.apiClient,e);return h=me("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=Y2(y),x=new Gv;return Object.assign(x,_),x})}else{const m=nU(this.apiClient,e);return h=me("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=C2(y),x=new Gv;return Object.assign(x,_),x})}}async editImageInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const h=ZU(this.apiClient,e);return a=me("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const m=K2(p),y=new KR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const h=XU(this.apiClient,e);return a=me("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const m=Z2(p),y=new ZR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=WU(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Md(y))}else{const m=iU(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Nd(y))}}async listInternal(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=t2(this.apiClient,e);return h=me("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=eI(this.apiClient,y),x=new Hv;return Object.assign(x,_),x})}else{const m=oU(this.apiClient,e);return h=me("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=A2(this.apiClient,y),x=new Hv;return Object.assign(x,_),x})}}async update(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=i2(this.apiClient,e);return h=me("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Md(y))}else{const m=aU(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Nd(y))}}async delete(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=r2(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=tI(),_=new Jv;return Object.assign(_,y),_})}else{const m=lU(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=R2(),_=new Jv;return Object.assign(_,y),_})}}async countTokens(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=s2(this.apiClient,e);return h=me("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=nI(y),x=new jv;return Object.assign(x,_),x})}else{const m=cU(this.apiClient,e);return h=me("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=N2(y),x=new jv;return Object.assign(x,_),x})}}async computeTokens(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const h=a2(this.apiClient,e);return a=me("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const m=iI(p),y=new QR;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=c2(this.apiClient,e);return h=me("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>aI(y))}else{const m=hU(this.apiClient,e);return h=me("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>U2(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function II(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function PI(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function LI(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["operationName"],n);const i=u(t,["resourceName"]);i!=null&&f(e,["_url","resourceName"],i);const s=u(t,["config"]);return s!=null&&f(e,["config"],s),e}function OI(t){const e={},n=u(t,["video","uri"]);n!=null&&f(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&f(e,["videoBytes"],li(i));const s=u(t,["encoding"]);return s!=null&&f(e,["mimeType"],s),e}function qI(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],OI(n)),e}function BI(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>qI(c))),f(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function VI(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=u(t,["done"]);s!=null&&f(e,["done"],s);const a=u(t,["error"]);a!=null&&f(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],BI(c)),e}function $I(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],li(i));const s=u(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function FI(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],$I(n)),e}function zI(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>FI(c))),f(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function _0(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=u(t,["done"]);s!=null&&f(e,["done"],s);const a=u(t,["error"]);a!=null&&f(e,["error"],a);const c=u(t,["response"]);return c!=null&&f(e,["response"],zI(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GI extends Sr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;return i&&"httpOptions"in i&&(a=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=PI(e);return h=me("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>_0(y))}else{const m=II(e);return h=me("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>VI(y))}}async fetchPredictVideosOperationInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const h=LI(e);return a=me("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>_0(p))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HI(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function cT(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],HI(n)),e}function JI(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],cT(i)),e}function jI(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>JI(s))),f(e,["speakerVoiceConfigs"],i)}return e}function YI(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],cT(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],jI(i));const s=u(t,["languageCode"]);return s!=null&&f(e,["languageCode"],s),e}function KI(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const s=u(t,["startOffset"]);return s!=null&&f(e,["startOffset"],s),e}function ZI(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function QI(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function XI(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],KI(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const s=u(t,["inlineData"]);s!=null&&f(e,["inlineData"],ZI(s));const a=u(t,["fileData"]);a!=null&&f(e,["fileData"],QI(a));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const _=u(t,["text"]);return _!=null&&f(e,["text"],_),e}function WI(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>XI(a))),f(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function eP(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const s=u(t,["name"]);s!=null&&f(e,["name"],s);const a=u(t,["parameters"]);a!=null&&f(e,["parameters"],a);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function tP(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function nP(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],tP(n)),e}function iP(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function rP(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],iP(n)),e}function oP(){return{}}function sP(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>eP(p))),f(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],nP(i));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&f(e,["googleSearchRetrieval"],rP(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],oP());const c=u(t,["codeExecution"]);return c!=null&&f(e,["codeExecution"],c),e}function aP(t){const e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function T0(){return{}}function lP(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const s=u(t,["endOfSpeechSensitivity"]);s!=null&&f(e,["endOfSpeechSensitivity"],s);const a=u(t,["prefixPaddingMs"]);a!=null&&f(e,["prefixPaddingMs"],a);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function uP(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],lP(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const s=u(t,["turnCoverage"]);return s!=null&&f(e,["turnCoverage"],s),e}function cP(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function fP(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],cP(i)),e}function dP(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function hP(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const a=u(t,["temperature"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],YI(Qd(_)));const x=u(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(t,["systemInstruction"]);e!==void 0&&b!=null&&f(e,["setup","systemInstruction"],WI(Pt(b)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let q=qo(w);Array.isArray(q)&&(q=q.map(Q=>sP(Oo(Q)))),f(e,["setup","tools"],q)}const R=u(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],aP(R));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],T0());const k=u(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","outputAudioTranscription"],T0());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&f(e,["setup","realtimeInputConfig"],uP(P));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&f(e,["setup","contextWindowCompression"],fP(D));const U=u(t,["proactivity"]);return e!==void 0&&U!=null&&f(e,["setup","proactivity"],dP(U)),n}function mP(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],ze(t,i));const s=u(e,["config"]);return s!=null&&f(n,["config"],hP(s,n)),n}function pP(t,e,n){const i={},s=u(e,["expireTime"]);n!==void 0&&s!=null&&f(n,["expireTime"],s);const a=u(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&f(n,["newSessionExpireTime"],a);const c=u(e,["uses"]);n!==void 0&&c!=null&&f(n,["uses"],c);const h=u(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&f(n,["bidiGenerateContentSetup"],mP(t,h));const p=u(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&f(n,["fieldMask"],p),i}function gP(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],pP(t,i,n)),n}function yP(t){const e={},n=u(t,["name"]);return n!=null&&f(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vP(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(a=>`${n}.${a}`);e.push(...s)}else e.push(n)}return e.join(",")}function _P(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const a=vP(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];s.length>0&&(h=s.map(m=>c.includes(m)?`generationConfig.${m}`:m));const p=[];a&&p.push(a),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class TP extends Sr{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=gP(this.apiClient,e);a=me("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const p=_P(h,e.config);return s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>yP(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xP(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function SP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);const a=u(t,["filter"]);return e!==void 0&&a!=null&&f(e,["_query","filter"],a),n}function wP(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],SP(n,e)),e}function bP(t){const e={},n=u(t,["textInput"]);n!=null&&f(e,["textInput"],n);const i=u(t,["output"]);return i!=null&&f(e,["output"],i),e}function CP(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>bP(s))),f(e,["examples","examples"],i)}return e}function EP(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&f(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=u(t,["epochCount"]);e!==void 0&&s!=null&&f(e,["tuningTask","hyperparameters","epochCount"],s);const a=u(t,["learningRateMultiplier"]);if(a!=null&&f(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=u(t,["batchSize"]);e!==void 0&&c!=null&&f(e,["tuningTask","hyperparameters","batchSize"],c);const h=u(t,["learningRate"]);return e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","learningRate"],h),n}function AP(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&f(e,["tuningTask","trainingData"],CP(i));const s=u(t,["config"]);return s!=null&&f(e,["config"],EP(s,e)),e}function RP(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function NP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);const a=u(t,["filter"]);return e!==void 0&&a!=null&&f(e,["_query","filter"],a),n}function MP(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],NP(n,e)),e}function kP(t,e){const n={},i=u(t,["gcsUri"]);if(e!==void 0&&i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],i),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function DP(t){const e={},n=u(t,["gcsUri"]);return n!=null&&f(e,["validationDatasetUri"],n),e}function UP(t,e){const n={},i=u(t,["validationDataset"]);e!==void 0&&i!=null&&f(e,["supervisedTuningSpec"],DP(i));const s=u(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&f(e,["tunedModelDisplayName"],s);const a=u(t,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const c=u(t,["epochCount"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const h=u(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=u(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=u(t,["adapterSize"]);if(e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function IP(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],kP(i,e));const s=u(t,["config"]);return s!=null&&f(e,["config"],UP(s,e)),e}function PP(t){const e={},n=u(t,["name"]);n!=null&&f(e,["model"],n);const i=u(t,["name"]);return i!=null&&f(e,["endpoint"],i),e}function fT(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["state"]);i!=null&&f(e,["state"],G_(i));const s=u(t,["createTime"]);s!=null&&f(e,["createTime"],s);const a=u(t,["tuningTask","startTime"]);a!=null&&f(e,["startTime"],a);const c=u(t,["tuningTask","completeTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["description"]);p!=null&&f(e,["description"],p);const m=u(t,["baseModel"]);m!=null&&f(e,["baseModel"],m);const y=u(t,["_self"]);y!=null&&f(e,["tunedModel"],PP(y));const _=u(t,["distillationSpec"]);_!=null&&f(e,["distillationSpec"],_);const x=u(t,["experiment"]);x!=null&&f(e,["experiment"],x);const b=u(t,["labels"]);b!=null&&f(e,["labels"],b);const w=u(t,["pipelineJob"]);w!=null&&f(e,["pipelineJob"],w);const R=u(t,["serviceAccount"]);R!=null&&f(e,["serviceAccount"],R);const A=u(t,["tunedModelDisplayName"]);return A!=null&&f(e,["tunedModelDisplayName"],A),e}function LP(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>fT(a))),f(e,["tuningJobs"],s)}return e}function OP(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=u(t,["done"]);s!=null&&f(e,["done"],s);const a=u(t,["error"]);return a!=null&&f(e,["error"],a),e}function qP(t){const e={},n=u(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&f(e,["epoch"],i);const s=u(t,["step"]);s!=null&&f(e,["step"],s);const a=u(t,["endpoint"]);return a!=null&&f(e,["endpoint"],a),e}function BP(t){const e={},n=u(t,["model"]);n!=null&&f(e,["model"],n);const i=u(t,["endpoint"]);i!=null&&f(e,["endpoint"],i);const s=u(t,["checkpoints"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>qP(c))),f(e,["checkpoints"],a)}return e}function Dd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["state"]);i!=null&&f(e,["state"],G_(i));const s=u(t,["createTime"]);s!=null&&f(e,["createTime"],s);const a=u(t,["startTime"]);a!=null&&f(e,["startTime"],a);const c=u(t,["endTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["error"]);p!=null&&f(e,["error"],p);const m=u(t,["description"]);m!=null&&f(e,["description"],m);const y=u(t,["baseModel"]);y!=null&&f(e,["baseModel"],y);const _=u(t,["tunedModel"]);_!=null&&f(e,["tunedModel"],BP(_));const x=u(t,["supervisedTuningSpec"]);x!=null&&f(e,["supervisedTuningSpec"],x);const b=u(t,["tuningDataStats"]);b!=null&&f(e,["tuningDataStats"],b);const w=u(t,["encryptionSpec"]);w!=null&&f(e,["encryptionSpec"],w);const R=u(t,["partnerModelTuningSpec"]);R!=null&&f(e,["partnerModelTuningSpec"],R);const A=u(t,["distillationSpec"]);A!=null&&f(e,["distillationSpec"],A);const k=u(t,["experiment"]);k!=null&&f(e,["experiment"],k);const P=u(t,["labels"]);P!=null&&f(e,["labels"],P);const D=u(t,["pipelineJob"]);D!=null&&f(e,["pipelineJob"],D);const U=u(t,["serviceAccount"]);U!=null&&f(e,["serviceAccount"],U);const q=u(t,["tunedModelDisplayName"]);return q!=null&&f(e,["tunedModelDisplayName"],q),e}function VP(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=u(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Dd(a))),f(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $P extends Sr{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new fa(_r.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:Sd.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=RP(e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Dd(y))}else{const m=xP(e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>fT(y))}}async listInternal(e){var n,i,s,a;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=MP(e);return h=me("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=VP(y),x=new Yv;return Object.assign(x,_),x})}else{const m=wP(e);return h=me("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const _=LP(y),x=new Yv;return Object.assign(x,_),x})}}async tuneInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const h=IP(e);return a=me("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>Dd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AP(e);return a=me("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>OP(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FP{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zP=1024*1024*8,GP=3,HP=1e3,JP=2,Xf="x-goog-upload-status";async function jP(t,e,n){var i,s,a;let c=0,h=0,p=new wd(new Response),m="upload";for(c=t.size;h<c;){const _=Math.min(zP,c-h),x=t.slice(h,h+_);h+_>=c&&(m+=", finalize");let b=0,w=HP;for(;b<GP&&(p=await n.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(_)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[Xf]));)b++,await KP(w),w=w*JP;if(h+=_,((s=p==null?void 0:p.headers)===null||s===void 0?void 0:s[Xf])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[Xf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function YP(t){return{size:t.size,type:t.type}}function KP(t){return new Promise(e=>setTimeout(e,t))}class ZP{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jP(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YP(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QP{create(e,n,i){return new XP(e,n,i)}}class XP{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x0="x-goog-api-key";class WP{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(x0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(x0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eL="gl-node/";class tL{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=YR(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const s=new WP(this.apiKey);this.apiClient=new pI({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:eL+"web",uploader:new ZP,downloader:new FP}),this.models=new UI(this.apiClient),this.live=new RI(this.apiClient,s,new QP),this.batches=new SM(this.apiClient),this.chats=new Ek(this.models,this.apiClient),this.caches=new wk(this.apiClient),this.files=new Bk(this.apiClient),this.operations=new GI(this.apiClient),this.authTokens=new TP(this.apiClient),this.tunings=new $P(this.apiClient)}}const Gl=new tL({apiKey:"AIzaSyA-6iYToU_byydoAlucPvc0qnZXciaSI2A"}),nL=`
    # The following files given to you are a science olympiad invitational test and the answer/solutions.
    # Take all the questions and return them in an array of question JSON objects.
    # Each question object should have the following details: 
    {
      type,
      question,
      points,
      choices,
      answer,
      group,
    }

    # Go through the pdf, and identify the type of each question.
    # The type can be either mcq, saq, or leq, NOTHING ELSE!! 
    # mcq: multiple choice, saq: short answer (so one word, objective answers), leq: (longer answers where you have to explain or show your work)
    # If it's a matching question, the questions should be mcqs and just make as many questions as there are things to match
    # And the things to match are the choices
    # If it's a question where you have a few items/facts with letters, and each following question requires you to pull from that answer bank, then make the question an mcq, with the answer bank as choices, and each question as its own question.
    # Choices can be null if the question is not multiple choice
    # The question attribute is the question itself, so for example "What is blah"
    # The points are the points assigned to the question. Some tests will have this and others won't.
    # For tests that don't assign points, assign 1 point to each mcq and saq, and 5 for each leq.
    # For choices, don't label A, B, C (I'll do that myself). Choices is an array of strings, where the strings are the choices themselves without any other attachments.
    # For answers look at the answers pdf. For mcqs, the answer is the choice letter, so A, B, C, D, etc. If the test has the choices labeled differently still use A, B, C, and consecutive letters as the answer
    # If for mcqs the test answer refers to the actual answer, change it so the test answer is the correct letter instead. So for example if the test choices were labeled 1 through 10, and the answer was 1, your answer will be A.
    # Just to reiterate, the answer to mcqs will always be the correct LETTER choice and nothing else!
    # For questions that ask to order something, make that an mcq as well. For the choices, include the correct answer, and make up other orders of that order.
    # Make true-false questions mcqs with true and false as the two choices. 
    # The answer to an mcq should always be an option letter so even though the options for true and false are true or false, the answer will either be A or B
    # If a question is in a set, and there is context given pertaining to all questions in the beginning, then put that context in the question string of each question
    # If a question is in a set where they all refer to the same image, then you should also give a group attribute in the question object with a unique identifer for all questions in that group
    # The group attribute is optional, and ONLY for questions who have the same image used. So ONLY give and it and DEFINITELY give it when you have that situation where a bunch of questions use the same image, chart, drawing, etc 
    # Do not describe images for the test taker! 
    # For saqs, simply write down the one word or short phrase answer
    # If there are multiple answers for mcqs and saqs separate them with a comma and a space.
    # For leqs, put whatever the answer key for that test has in the answer, as a string, including directions to grade the problem if there are those.
    # Do not care about any images in the test. I will handle those later.
    # Only send the valid JSON array and no other words, because your response has to be JSON parsable
    # To reiterate, send an array of objects that have the property, type, which is either mcq, saq, or leq, question, which is a string, points, which is a number, choices, which is an array of strings (only if the q is multiple choice), and answer, which is either a singuler string or a string with comma separated values
    # In the case you are not given an answers pdf, or the answer might be unclear, you may generate the answer to the best of your knowledge. Ensure that none of the answers are anything such as "this will be determined later." For those type of "lab-based" questions, provide a range if you can from the best of your knowledge. 
    # ONLY GENERATE AN ANSWER WHEN IT IS CLEARLY NOT CLEAR OR NOT PRESENT. OTHERWISE DO NOT INTERFERE!
    # Do NOT generate your own questions!!
    # Make sure to return a **complete and valid JSON array**.
    # Your response should start with a left bracket [ and end with a right bracket ].
    # Once you end your triple quotes STOP!
    # Every question should stand on its own without other questions. So if any question refers to a previous question, ensure that the relevant context is in this question without needing the previous question.
    # Do not have wording such as "previous question" or "next question" because the order might change, so make the question so it can stand without having done other questions.
    # If you have an leq, then you can put all the parts that depend on each other as one question
    # If you have mcqs or saqs that refer to other questions, put that relevant information in the current question so it stands alone.
    # DO NOT PUT CHOICES IN THE QUESTION!! If you have choices, no matter how the test pdf has it, make the question an mcq and put choices as strings in an array
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), then all questions should be an leq! Make sure to use spaces and newlines properly as it is in the test. So put spaces between characters, words, and lines where appropriate so there's space for users to write in their answers or for me to put in boxes.
    # IF AND ONLY IF the test is Codebusters, then make sure that if a question is a special bonus question you add special bonus to it, and if the question has points listed, put those points in the points attribute.
    # IF AND ONLY IF the test is Codebusters, ensure that the question that might say (decode this) is separated from the cipher (the actual words) through new lines and such. Clearly separate the question from the cipher. 
    # IF AND ONLY IF the test is Codebusters (it says on top of the pdf), the answer should be the solution to the cipher, with proper spaces. Do not add newlines or anything like that to the answer key. That should just be the simple answer.
    # FINAL INSTRUCTION: Your response must be *only* a valid JSON array, starting with '[' and ending with ']'. No explanations, no formatting, no extra text.
`;async function S0(t){const e=await Gl.files.upload({file:t,config:{displayName:t.name}});let n=await Gl.files.get({name:e.name});for(;n.state==="PROCESSING";)n=await Gl.files.get({name:e.name}),console.log(`current file status: ${n.state}`),console.log("File is still processing, retrying in 5 seconds"),await new Promise(i=>{setTimeout(i,5e3)});if(e.state==="FAILED")throw new Error("File processing failed.");return e}async function iL(t,e){const n=[nL];let i=await S0(t);if(i.uri&&i.mimeType){const c=Fv(i.uri,i.mimeType);n.push(c)}let s=await S0(e);if(s.uri&&s.mimeType){const c=Fv(s.uri,s.mimeType);n.push(c)}const a=await Gl.models.generateContent({model:"gemini-2.5-flash",contents:n});return console.log(a.text),a.text}const rL={createQuestions:iL},oL=({q:t,index:e,onEdit:n,onDelete:i})=>{const[s,a]=N.useState(!1),[c,h]=N.useState({...t}),p=()=>{a(!1),n(e,c)};return T.jsx("div",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:s?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Question"}),T.jsx("input",{value:c.question,onChange:m=>h({...c,question:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),T.jsxs("select",{value:c.type,onChange:m=>h({...c,type:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[T.jsx("option",{value:"mcq",children:"Multiple Choice"}),T.jsx("option",{value:"saq",children:"Short Answer"}),T.jsx("option",{value:"leq",children:"Long Answer"})]})]}),c.type==="mcq"&&T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Choices"}),T.jsx("div",{className:"space-y-2",children:c.choices.map((m,y)=>T.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[T.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+y),"."]}),T.jsx("input",{value:m,onChange:_=>{const x=[...c.choices];x[y]=_.target.value,h({...c,choices:x})},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}),T.jsx("button",{type:"button",className:"text-orange-600 font-medium",onClick:()=>{const _=c.choices.filter((x,b)=>b!==y);h({...c,choices:_})},children:"Remove"})]},y))}),T.jsx("button",{type:"button",className:"mt-2 text-orange-600 hover:underline",onClick:()=>h({...c,choices:[...c.choices,""]}),children:"+ Add Choice"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),c.type==="leq"?T.jsx("textarea",{value:c.answer,onChange:m=>h({...c,answer:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"}):T.jsx("input",{value:c.answer,onChange:m=>h({...c,answer:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),T.jsx("input",{type:"number",value:c.points,onChange:m=>h({...c,points:+m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),c.selectedFile?T.jsxs("div",{className:"mt-4 w-full",children:[T.jsxs("div",{className:"flex justify-between items-center pb-2",children:[T.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),T.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>h({...c,selectedFile:null}),children:""})]}),T.jsx("img",{src:URL.createObjectURL(c.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):T.jsxs("label",{htmlFor:`file-upload-${e}`,className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[T.jsx("input",{id:`file-upload-${e}`,type:"file",className:"hidden",onChange:m=>{m.target.files&&m.target.files.length>0&&h({...c,selectedFile:m.target.files[0]})}}),T.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]}),T.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[T.jsx("button",{onClick:()=>a(!1),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Cancel"}),T.jsx("button",{onClick:p,className:"bg-orange-600 text-black px-4 py-1 rounded-md hover:bg-orange-700",children:"Save"})]})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"flex justify-between items-center mb-3",children:T.jsxs("div",{className:"mb-2 font-medium text-orange-900",children:["Q",e+1,": ",t.question]})}),t.type==="mcq"&&t.choices.map((m,y)=>T.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[T.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+y),"."]}),T.jsx("span",{className:"text-gray-800",children:m})]},`${m}-${y}`)),T.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",T.jsx("span",{className:"font-semibold",children:t.points})]}),T.jsxs("div",{className:"text-sm text-gray-700",children:["Answer (s): ",T.jsx("span",{className:"font-semibold",children:t.answer})]}),t.selectedFile&&T.jsx("div",{className:"mt-4 w-full",children:T.jsx("img",{src:URL.createObjectURL(t.selectedFile),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})}),T.jsx("div",{className:"flex justify-end py-2",children:T.jsxs("div",{className:"flex justify-between gap-3",children:[T.jsx("button",{onClick:()=>a(!0),className:"bg-orange-500 hover:bg-orange-600 px-4 py-1 rounded-md",children:"Edit"}),T.jsx("button",{onClick:()=>i(e),className:"bg-red-500 hover:bg-red-600 px-4 py-1 rounded-md",children:"Delete"})]})})]})})},sL=t=>{const[e,n]=N.useState(!0),[i,s]=N.useState([]),[a,c]=N.useState(""),[h,p]=N.useState(""),[m,y]=N.useState(""),[_,x]=N.useState(1),[b,w]=N.useState([]),[R,A]=N.useState(""),[k,P]=N.useState(""),[D,U]=N.useState(""),[q,Q]=N.useState(""),[Z,ie]=N.useState(null),[z,L]=N.useState(""),[le,ye]=N.useState(""),[Oe,Ze]=N.useState(!1),Ne=B=>B.split(",").map(E=>E.trim()).every(E=>/^[A-Za-z]$/.test(E)),Y=()=>{if(m.length===0){t.setError("Type of question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(a.length===0)t.setError("Question required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);else if(h.length===0){t.setError("Answer required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(m==="mcq"){if(!b||b.length<2){t.setError("Choices required for multiple choice question!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else if(!Ne(h)){t.setError("Invalid formatting of answers. Separate multiple answers with commas."),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}s(i.concat({type:m,question:a,choices:b,points:_,answer:h,selectedFile:Z})),c(""),p(""),y(""),x(1),w([]),ie(null)},oe=async B=>{if(B.preventDefault(),q)if(k)if(D){if(i.length===0){t.setError("Questions are required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}}else{t.setError("Test year required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Tournament name required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}else{t.setError("Event required!"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}if(t.tests.find($=>$.school===k&&$.year===D)){t.setError("Test already uploaded to bank"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.setError(null)},5e3);return}const E=[];t.setNotif("Processing Test...");for(const $ of i){let X;$.selectedFile&&(X=await dR.getImageUrl($.selectedFile)),console.log(X);const ne=await _o.createQuestion({event:q,school:k,year:D,type:$.type,question:$.question,points:$.points,choices:$.choices,answer:$.answer,imageUrl:X});ne&&E.push(ne.id)}const O=await ni.createTest({event:q,random:!1,school:k,year:D,questions:E});console.log("Added Test"),t.setNotif("Added Test",O),t.setTests(t.tests.concat(O)),s([]),c(""),p(""),y(""),x(1),w([]),ie(null),Q(""),P(""),U(""),setTimeout(()=>{t.setNotif(null)},5e3)},j=async B=>{B.preventDefault(),Ze(!1),n(!1),window.scrollTo({top:0,behavior:"smooth"}),t.setNotif("Processing PDFs...");let O=(await rL.createQuestions(z,le)).trim();O.startsWith("```json")?O=O.replace(/^```json/,"").replace(/```$/,"").trim():O.startsWith("```")&&(O=O.replace(/^```/,"").replace(/```$/,"").trim());try{const $=JSON.parse(O);s($),L(!1),ye(!1),t.setNotif("Questions loaded!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch($){t.setNotif(null),t.setError("Error loading questions"),setTimeout(()=>{t.setError(null)},5e3),console.log("Error",$)}};return t.user?T.jsxs("div",{className:"max-w-3xl mx-auto mt-10 p-6 bg-white rounded-md shadow-md",children:[T.jsxs("form",{className:"space-y-6",onSubmit:oe,children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Test"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Save Test"}),T.jsx(tt,{to:"/tests",className:"bg-amber-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition text-md font-medium",children:"Test Bank"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Tournament Name"}),T.jsx("input",{value:k,onChange:({target:B})=>P(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: Libertyville High School"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Year"}),T.jsx("input",{value:D,onChange:({target:B})=>U(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: 2025"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Event"}),T.jsxs("select",{value:q,onChange:({target:B})=>Q(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[T.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select Event"}),t.events.map(B=>T.jsx("option",{value:B.name,children:B.name},B.name))]})]}),e?T.jsx("div",{children:T.jsxs("div",{className:"bg-orange-50 p-6 rounded-md border border-orange-200",children:[T.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-4",children:"Add Question"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Question"}),T.jsx("input",{value:a,onChange:({target:B})=>c(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"What is ..."})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Type"}),T.jsxs("select",{value:m,onChange:({target:B})=>y(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",children:[T.jsx("option",{value:"",disabled:!0,children:"Select question type"}),T.jsx("option",{value:"mcq",children:"Multiple Choice"}),T.jsx("option",{value:"saq",children:"Short Answer"}),T.jsx("option",{value:"leq",children:"Paragraph/Long Answer"})]})]}),m==="mcq"&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Add Choices"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{value:R,onChange:({target:B})=>A(B.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: H20"}),T.jsx("button",{type:"button",onClick:()=>{R.trim()!==""&&(w([...b,R.trim()]),A(""))},className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:"Add"})]}),b.length>0&&T.jsx("div",{className:"space-y-2 mt-3",children:b.map((B,E)=>T.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+E),"."]}),T.jsx("span",{className:"text-gray-800",children:B})]}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{className:"text-orange-600 font-medium",onClick:()=>w(b.filter(O=>O!==B)),children:"Remove"})})]},B))})]}),m==="leq"?T.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer"}),T.jsx("textarea",{value:h,onChange:({target:B})=>p(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),T.jsx("input",{type:"number",value:_,onChange:({target:B})=>x(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}):T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Answer (s)"}),T.jsx("input",{value:h,onChange:({target:B})=>p(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2",placeholder:"Ex: A, B"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Points"}),T.jsx("input",{type:"number",value:_,onChange:({target:B})=>x(B.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-400 focus:ring-2"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Image"}),Z?T.jsxs("div",{className:"mt-4 w-full",children:[T.jsxs("div",{className:"flex justify-between items-center pb-2",children:[T.jsx("p",{className:"text-sm text-orange-700 mb-1 font-medium",children:"Preview:"}),T.jsx("button",{className:"text-orange-600 font-medium text-3xl hover:text-orange-700",type:"button",onClick:()=>ie(null),children:""})]}),T.jsx("img",{src:URL.createObjectURL(Z),alt:"Preview",className:"w-full border border-orange-300 rounded-md shadow"})]}):T.jsxs("label",{htmlFor:"file-upload-add",className:"flex items-center justify-center px-4 py-3 bg-orange-100 border-2 border-dashed border-orange-300 rounded-md cursor-pointer hover:bg-orange-200 transition select-none",children:[T.jsx("input",{id:"file-upload-add",type:"file",className:"hidden",onChange:B=>{B.target.files&&B.target.files.length>0&&ie(B.target.files[0])}}),T.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Click to upload image"})]})]})]}),T.jsxs("div",{className:"flex justify-between mt-6",children:[T.jsx("button",{type:"button",onClick:Y,className:"bg-orange-600 text-white px-6 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Save Question"}),T.jsx("button",{type:"button",onClick:()=>n(!1),className:"bg-orange-50 mb-2 text-orange-700 font-semibold hover:underline",children:"Close Question Editor"})]})]})}):T.jsx("button",{type:"button",onClick:()=>n(!0),className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Open Question Editor"})]}),T.jsxs("div",{className:"mt-5",children:[T.jsx("button",{onClick:()=>{Ze(!0),L(null),ye(null)},className:"block mx-auto bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition font-semibold",children:"Add Questions From PDF"}),T.jsx(g_,{isOpen:Oe,onClose:()=>{Ze(!1)},title:"Add Questions From PDF",children:T.jsxs("form",{onSubmit:j,className:"max-w-md mx-auto space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question PDF"}),T.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:B})=>L(B.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer PDF"}),T.jsx("input",{type:"file",accept:"application/pdf",onChange:({target:B})=>ye(B.files[0]),className:`block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-orange-100 file:text-orange-800 hover:file:bg-orange-200
                 cursor-pointer`})]}),T.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg shadow-md transition duration-200",children:"Upload"})]})})]}),T.jsx("ul",{className:"mb-8 mt-10 space-y-4",children:i.length>0?i.map((B,E)=>T.jsx(oL,{q:B,index:E,onEdit:(O,$)=>{s(i.map((X,ne)=>ne===O?$:X))},onDelete:O=>{s(i.filter(($,X)=>X!==O))}},E)):T.jsx("div",{className:"border-2 border-dashed border-orange-300 rounded-md p-6 text-center text-orange-700 italic bg-orange-50",children:"No questions added yet. Use the forms above to add questions."})})]}):null},aL=t=>{const[e,n]=N.useState([]),[i,s]=N.useState(""),[a,c]=N.useState(""),[h,p]=N.useState("");N.useEffect(()=>{const y=t.tests.filter(_=>!_.random&&_.event.includes(i)&&_.school.includes(a)&&_.year.toString().includes(h));n(y)},[i,a,h,t.tests]);const m=()=>{s(""),c(""),p("")};return t.user?T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:T.jsxs("div",{className:"bg-white border border-orange-200 rounded-md p-6 shadow-md",children:[T.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-6",children:"Test Bank"}),T.jsxs("div",{className:"mb-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Event"}),T.jsxs("select",{value:i,onChange:({target:y})=>s(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[T.jsx("option",{value:"",children:"All"},"all"),t.events.map(y=>T.jsx("option",{value:y.name,children:y.name},y.name))]})]}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"School"}),T.jsxs("select",{value:a,onChange:({target:y})=>c(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[T.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.school))].map(y=>T.jsx("option",{value:y,children:y},y))]})]}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("label",{className:"mb-1 text-sm font-medium text-orange-800",children:"Year"}),T.jsxs("select",{value:h,onChange:({target:y})=>p(y.value),className:"p-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[T.jsx("option",{value:"",children:"All"},"all"),[...new Set(e.map(y=>y.year))].map(y=>T.jsx("option",{value:y,children:y},y))]})]}),T.jsx("div",{className:"flex items-end",children:T.jsx("button",{onClick:m,className:"bg-orange-200 hover:bg-orange-300 text-orange-900 font-medium px-4 py-2 rounded-md transition w-full",children:"Reset Filters"})})]}),e.length>0?T.jsx("div",{className:"flex flex-col space-y-3",children:e.map(y=>T.jsx(tt,{to:`/tests/${y.id}`,children:T.jsx("div",{className:"flex justify-between items-center border border-orange-200 border-2 rounded-lg p-4 hover:bg-orange-100 transition",children:T.jsxs("div",{children:[T.jsxs("p",{className:"text-base font-semibold text-orange-800",children:[y.school," ",y.year]}),T.jsx("p",{className:"text-sm text-orange-700",children:y.event})]})})},y.id))}):T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-orange-700 mb-3 italic",children:"No tests found."}),T.jsx(tt,{to:"/tests/create",className:"inline-block bg-orange-200 text-orange-800 font-medium px-4 py-2 rounded-md hover:bg-orange-300 transition",children:"Add a Test"})]})]})}):null},lL=({tests:t,user:e,teams:n,setError:i,setNotif:s,setTests:a})=>{const[c,h]=N.useState(null),p=P0("/tests/:id"),m=Tr();if(N.useEffect(()=>{if(p&&t){const _=t.find(x=>String(x.id)===p.params.id);h(_||null)}},[p,t]),!e)return;if(!t||!p)return T.jsx("div",{className:"flex justify-center items-center h-48",children:T.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(!c)return t.map(_=>_.id).includes(p.params.id.toString())?T.jsx("div",{className:"flex justify-center items-center h-48",children:T.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):T.jsx("div",{className:"text-center max-w-4xl mx-auto bg-white rounded-lg px-2 py-5 mt-10 font-medium text-orange-600",children:"Test not found."});const y=async()=>{if(!e||!c)return;if(!n||n.length===0){i("No teams available to assign this test."),setTimeout(()=>{i(null)},5e3);return}let _;try{_=await ni.updateTest(c.id,{assignees:n.filter(x=>x.event===c.event).map(x=>x.id)})}catch(x){console.error("Error assigning test:",x);return}_&&a(t.map(x=>x.id===c.id?_:x)),s("Test assigned successfully!"),setTimeout(()=>{s(null)},5e3),m("/tests")};return T.jsxs("div",{className:"max-w-4xl mx-auto mt-10 p-6 bg-white rounded-md shadow",children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx(tt,{to:"/tests",className:"text-sm sm:text-base text-orange-600 font-semibold hover:text-orange-700 hover:underline transition",children:" Return to Test Bank"}),T.jsx("button",{onClick:y,className:"bg-orange-500 hover:bg-orange-600 text-white font-medium px-4 py-2 rounded shadow transition",children:"Assign"})]}),T.jsxs("div",{className:"text-center",children:[T.jsxs("h2",{className:"text-2xl font-semibold text-orange-700",children:[c.school," Science Olympiad ",c.year]}),T.jsx("h3",{className:"text-lg font-medium text-gray-700 mt-1",children:c.event})]})]}),T.jsx("ul",{className:"space-y-6 mt-8",children:c.questions&&c.questions.length>0?c.questions.map((_,x)=>{var b;return T.jsxs("li",{className:"border border-orange-300 rounded-md p-4 bg-orange-50 shadow-sm",children:[T.jsxs("div",{className:"mb-3 font-medium text-orange-900",children:["Q",x+1,": ",_.question]}),_.type==="mcq"&&((b=_.choices)==null?void 0:b.map((w,R)=>T.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-2 bg-orange-100 rounded-md shadow-sm border border-orange-200",children:[T.jsxs("span",{className:"text-orange-600 font-semibold",children:[String.fromCharCode(65+R),"."]}),T.jsx("span",{className:"text-gray-800",children:w})]},R))),T.jsxs("div",{className:"text-sm text-gray-700 my-3",children:["Points: ",T.jsx("span",{className:"font-semibold",children:_.points})]}),T.jsxs("div",{className:"text-sm text-gray-700",children:["Answer: ",T.jsx("span",{className:"font-semibold",children:_.answer})]}),_.imageUrl&&T.jsx("div",{className:"mt-4 w-full flex justify-center",children:T.jsx("img",{src:_.imageUrl,alt:"Attached",className:"max-w-lg border border-orange-300 rounded-md shadow"})})]},x)}):T.jsx("div",{className:"text-center italic text-orange-500",children:"No questions available for this test."})})]})},uL=t=>{const[e,n]=N.useState(""),[i,s]=N.useState([]),[a,c]=N.useState("20"),[h,p]=N.useState("20"),[m,y]=N.useState("10");if(!t.user)return null;if(!t.questions||t.questions.length===0)return T.jsx("div",{className:"flex justify-center items-center h-48",children:T.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});const _=async()=>{if(!e){t.setError("Please select an event."),setTimeout(()=>t.setError(null),5e3);return}if(a.length===0||h.length===0||m.length===0){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}if(isNaN(Number(a))||isNaN(Number(h))||isNaN(Number(m))){t.setError("Please enter valid numbers for question counts."),setTimeout(()=>t.setError(null),5e3);return}try{const b=t.questions.filter(k=>k.event===e&&k.type==="mcq"),w=t.questions.filter(k=>k.event===e&&k.type==="saq"),R=t.questions.filter(k=>k.event===e&&k.type==="leq"),A=[...b.sort(()=>.5-Math.random()).slice(0,Number(a)),...w.sort(()=>.5-Math.random()).slice(0,Number(h)),...R.sort(()=>.5-Math.random()).slice(0,Number(m))];s(A)}catch(b){console.error("Error creating test:",b)}},x=async()=>{if(i.length===0){t.setError("No questions generated to assign."),setTimeout(()=>{t.setError(null)},5e3);return}const b={event:e,random:!0,questions:i.map(w=>w.id)};try{if(!t.teams||t.teams.length===0){t.setError("No teams available to assign this test."),setTimeout(()=>{t.setError(null)},5e3);return}const w=await ni.createTest(b);if(w){const R=await ni.updateTest(w.id,{assignees:t.teams.filter(A=>A.event===e).map(A=>A.id)});t.setNotif("Test assigned successfully!"),setTimeout(()=>{t.setNotif(null)},5e3),t.setTests(t.tests.concat(R))}s([])}catch(w){console.error("Error assigning test:",w)}};return T.jsxs("div",{className:"max-w-3xl mx-auto mt-12 p-6 bg-white rounded-lg shadow-md space-y-6",children:[T.jsx("h2",{className:"text-2xl font-semibold text-orange-800",children:"Create Random Practice Test"}),T.jsxs("div",{className:"grid-cols-2 gap-4",children:[T.jsx("label",{className:"text-sm font-medium text-orange-700",children:"Event"}),T.jsxs("select",{value:e,onChange:({target:b})=>n(b.value),className:"w-full px-4 py-2 mt-2 mb-4 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[T.jsx("option",{value:"",children:"Select Event"}),t.events.map(b=>T.jsx("option",{value:b.name,children:b.name},b.name))]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of MCQs"}),T.jsx("input",{type:"number",min:"0",value:a,onChange:b=>c(b.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of SAQs"}),T.jsx("input",{type:"number",min:"0",value:h,onChange:b=>p(b.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("label",{className:"text-sm font-medium text-orange-700",children:"# of LEQs"}),T.jsx("input",{type:"number",min:"0",value:m,onChange:b=>y(b.target.value),className:"px-3 py-2 border border-orange-300 rounded-md"})]})]})]}),T.jsx("div",{className:"text-center",children:T.jsx("button",{onClick:_,className:"bg-orange-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-orange-700 transition",children:"Generate"})}),i.length>0&&T.jsxs("div",{className:"mt-8",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-xl font-semibold text-orange-700",children:"Generated Questions"}),T.jsx("button",{onClick:x,className:"bg-amber-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-amber-700 transition",children:"Assign Test"})]}),T.jsx("ul",{className:"space-y-3 mb-6",children:i.map((b,w)=>T.jsxs("li",{className:"bg-orange-50 border border-orange-200 rounded-md p-4 text-gray-800 shadow-sm",children:["Q",w+1,": ",b.question]},w))})]})]})},cL=({event:t,users:e,teams:n,onSave:i,user:s})=>{const[a,c]=N.useState({orange:[],black:[],white:[]}),[h,p]=N.useState({orange:[],black:[],white:[]}),[m,y]=N.useState({orange:"",black:"",white:""}),[_,x]=N.useState(!1),[b,w]=N.useState(!1),[R,A]=N.useState(!1);N.useEffect(()=>{var Q,Z,ie;const U={orange:[],black:[],white:[]};U.orange=((Q=n.find(z=>z.name==="Varsity"))==null?void 0:Q.students)||[],U.black=((Z=n.find(z=>z.name==="JV"))==null?void 0:Z.students)||[],U.white=((ie=n.find(z=>z.name==="JV2"))==null?void 0:ie.students)||[],c({...U}),p({...U});const q=U.white.length>0;x(q),w(q)},[n]);const k=U=>{const q=m[U].trim().toLowerCase(),Q=e.find(Z=>Z.firstName.toLowerCase().includes(q)||`${Z.firstName} ${Z.lastName}`.toLowerCase().includes(q));Q&&!a[U].some(Z=>Z.id===Q.id)&&(c(Z=>({...Z,[U]:[...Z[U],Q]})),y(Z=>({...Z,[U]:""})))},P=(U,q)=>{c(Q=>({...Q,[U]:Q[U].filter(Z=>Z.id!==q)}))},D=(U,q,Q,Z)=>T.jsxs("div",{className:"w-full",children:[T.jsx("div",{className:`text-[10px] font-bold py-1 px-1 rounded-t text-center ${Q} ${Z}`,children:q}),T.jsxs("div",{className:"bg-white border border-gray-200 rounded-b px-1 py-1 space-y-1 min-h-[40px]",onClick:()=>{var ie;return R&&((ie=document.getElementById(`${t.id}-${U}-input`))==null?void 0:ie.focus())},children:[a[U].map(ie=>T.jsxs("div",{className:"flex justify-between items-center text-[10px] bg-orange-50 px-1 py-[2px] rounded",children:[T.jsxs("span",{className:"truncate",children:[ie.firstName," ",ie.lastName]}),R&&T.jsx("button",{className:"text-gray-400 hover:text-red-500 ml-1 text-xs",onClick:z=>{z.stopPropagation(),P(U,ie.id)},children:""})]},ie.id)),R&&T.jsx("input",{id:`${t.id}-${U}-input`,value:m[U],onChange:ie=>y(z=>({...z,[U]:ie.target.value})),onKeyDown:ie=>ie.key==="Enter"&&k(U),placeholder:"Enter name and press enter",className:"w-full mt-1 px-1 py-[2px] text-[10px] border border-orange-300 rounded focus:outline-none focus:ring-1 focus:ring-orange-500"})]})]});return T.jsxs("div",{className:"border border-orange-200 rounded p-2 bg-orange-50 shadow-sm text-xs",children:[T.jsx("h4",{className:"font-semibold text-orange-700 text-center mb-2 truncate",children:t.name}),T.jsxs("div",{className:"flex gap-2 justify-center",children:[D("orange","Varsity","bg-orange-600","text-white"),D("black","JV","bg-black","text-white"),_&&D("white","JV2","bg-white","text-black")]}),(s==null?void 0:s.admin)&&R&&T.jsx("div",{className:"text-center mt-2",children:_?T.jsx("button",{className:"text-[10px] text-red-500 hover:underline",onClick:()=>{c(U=>({...U,white:[]})),x(!1)},children:"Remove JV2"}):T.jsx("button",{className:"text-orange-600 text-[10px] hover:underline",onClick:()=>x(!0),children:"+ Add JV2"})}),T.jsxs("div",{className:"text-center mt-3 space-x-2",children:[(s==null?void 0:s.admin)&&!R&&T.jsx("button",{onClick:()=>A(!0),className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Edit"}),(s==null?void 0:s.admin)&&R&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>{console.log("Saving assignment for",t.name,a),p(a),w(_),A(!1),i(t.name,a)},className:"bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700 transition",children:"Save"}),T.jsx("button",{onClick:()=>{c(h),x(b),y({orange:"",black:"",white:""}),A(!1)},className:"bg-gray-200 text-gray-700 px-3 py-1 rounded text-xs hover:bg-gray-300 transition",children:"Cancel"})]})]})]})},xu="/api/teams";let da=null;const fL=t=>{da=`Bearer ${t}`},dL=async()=>(await Ae.get(xu,{headers:{Authorization:da}})).data,hL=async t=>(await Ae.post(xu,t,{headers:{Authorization:da}})).data,mL=async(t,e)=>{const n=`${xu}/${t}`;return(await Ae.put(n,e,{headers:{Authorization:da}})).data},pL=async t=>{const e=`${xu}/${t}`;if((await Ae.delete(e,{headers:{Authorization:da}})).status===204)return{id:t}},Ht={setToken:fL,getAll:dL,createTeam:hL,changeTeam:mL,deleteTeam:pL},gL=({user:t,users:e,events:n,teams:i,setTeams:s})=>{const[a,c]=N.useState([]),[h,p]=N.useState([]),[m,y]=N.useState([]),[_,x]=N.useState([]),[b,w]=N.useState([]),[R,A]=N.useState([]),k=(U,q)=>{if(U.length!==q.length)return!1;const Q=[...U].sort(),Z=[...q].sort();return Q.every((ie,z)=>ie===Z[z])},P=async(U,q)=>{const Q=i.find(z=>z.event===U&&z.name==="Varsity"),Z=i.find(z=>z.event===U&&z.name==="JV"),ie=i.find(z=>z.event===U&&z.name==="JV2");try{if(q.orange.length>0)if(Q){if(k(Q.students,q.orange.map(L=>L.id)))return;const z=await Ht.changeTeam(Q.id,{students:q.orange.map(L=>L.id)});s(i.map(L=>L.id===Q.id?z:L))}else{const z=await Ht.createTeam({event:U,name:"Varsity",students:q.orange.map(L=>L.id)});s(i.concat(z))}else if(Q){const z=await Ht.deleteTeam(Q.id);z&&s(i.filter(L=>L.id!==z.id))}if(q.black.length>0)if(Z){if(k(Z.students,q.black.map(L=>L.id)))return;const z=await Ht.changeTeam(Z.id,{students:q.black.map(L=>L.id)});s(i.map(L=>L.id===Z.id?z:L))}else{const z=await Ht.createTeam({event:U,name:"JV",students:q.black.map(L=>L.id)});s(i.concat(z))}else if(Z){const z=await Ht.deleteTeam(Z.id);z&&s(i.filter(L=>L.id!==z.id))}if(q.white.length>0)if(ie){if(k(ie.students,q.white.map(L=>L.id)))return;const z=await Ht.changeTeam(ie.id,{students:q.white.map(L=>L.id)});s(i.map(L=>L.id===ie.id?z:L))}else{const z=await Ht.createTeam({event:U,name:"JV2",students:q.white.map(L=>L.id)});s(i.concat(z))}else if(ie){const z=await Ht.deleteTeam(ie.id);z&&s(i.filter(L=>L.id!==z.id))}}catch(z){z.response&&z.response.data?console.error(`Error: ${z.response.data.error}`):console.error("An unexpected error occurred while saving team assignments:",z)}};N.useEffect(()=>{n&&(c(n.filter(U=>U.block==="1")),p(n.filter(U=>U.block==="2")),y(n.filter(U=>U.block==="3")),x(n.filter(U=>U.block==="4")),w(n.filter(U=>U.block==="5")),A(n.filter(U=>U.block==="")))},[n]);const D=(U,q)=>T.jsxs("div",{className:"bg-white shadow rounded-lg p-4 flex flex-col",children:[T.jsx("h3",{className:"text-lg font-semibold text-orange-700 mb-3 text-center border-b border-orange-200 pb-1",children:U}),T.jsx("div",{className:"space-y-3 min-h-[360px]",children:q.map(Q=>T.jsx(cL,{event:Q,users:e,teams:i.filter(Z=>Z.event===Q.name),user:t,onSave:P},Q.id))})]},U);if(t)return!e||!i||!n?T.jsx("div",{className:"flex justify-center items-center h-48",children:T.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})}):T.jsxs("div",{className:"px-4 py-8 space-y-10",children:[T.jsx("h2",{className:"w-full text-center font-semibold text-2xl text-orange-800 mb-6 bg-white rounded-lg shadow-lg p-4",children:"Team Lineup"}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[D("Block 1",a),D("Block 2",h),D("Block 3",m)]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[D("Block 4",_),D("Block 5",b),D("Self Schedule",R)]}),T.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mt-6",children:[T.jsx("h3",{className:"text-lg font-semibold text-orange-700 border-b border-orange-200 pb-2 mb-4 text-center",children:"Events Per Student"}),T.jsx("div",{className:"flex flex-wrap gap-3",children:e.filter(U=>U.teams&&U.teams.length>0).map(U=>T.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-md px-3 py-2 text-sm text-orange-800 shadow-sm",children:[T.jsxs("span",{className:"font-medium",children:[U.firstName," ",U.lastName]}),": ",U.teams.length]},U.id))})]})]})},yL=({tests:t,user:e,users:n})=>{const[i,s]=N.useState([]);return N.useEffect(()=>{var a;if(t&&e&&n){const c=n.find(m=>m.id===e.id),h=((a=c==null?void 0:c.teams)==null?void 0:a.map(m=>m.id))||[];console.log(h),console.log(t);const p=t.filter(m=>{var y;return(y=m.assignees)==null?void 0:y.some(_=>h.includes(_))});s(p)}},[t,e,n]),e?T.jsxs("div",{className:"max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[T.jsx("h2",{className:"text-2xl font-medium text-orange-800 mb-4 text-left",children:"Assigned Tests"}),i.length===0?T.jsx("p",{className:"text-center text-gray-500 italic",children:"You dont have any assigned tests yet."}):T.jsx("ul",{className:"space-y-3",children:i.map(a=>T.jsx("li",{className:"bg-orange-50 border border-orange-200 rounded-md px-4 py-3 shadow-sm",children:T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[T.jsx("div",{children:T.jsx("p",{className:"text-sm text-orange-700 font-semibold",children:a.random?`Random Test - ${a.event}`:`${a.school} ${a.year} - ${a.event}`})}),T.jsx(tt,{to:`/assigned/${a.id}`,className:"text-sm text-orange-600 hover:underline",children:"Take Test "})]})},a.id))})]}):null},vL=({questions:t,currentIdx:e,setCurrentIdx:n,bookmarked:i,answers:s})=>T.jsx("div",{className:"p-3 space-y-2",children:t.map((a,c)=>T.jsxs("button",{onClick:()=>n(c),className:`w-full px-3 py-2 rounded text-left border text-sm ${c===e?"bg-orange-300 border-orange-600":"bg-white border-orange-200"} ${s[a.id]?"font-bold":""}`,children:["Q",c+1,i.includes(a.id)&&T.jsx("span",{className:"ml-2 text-yellow-700",children:""})]},a.id||c))}),_L=({idx:t,question:e,answer:n,onChange:i,onBookmark:s,isBookmarked:a})=>{const c=e.type==="mcq"&&e.answer.includes(", "),h=e.type==="saq",p=m=>{const y=Array.isArray(n)?n:[],_=y.includes(m)?y.filter(x=>x!==m):[...y,m];i(e.id,_)};return T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-center mb-3",children:[T.jsxs("h4",{className:"text-lg font-semibold text-orange-700",children:["Question ",t+1]}),T.jsx("button",{onClick:()=>s(e.id),className:"text-yellow-600 hover:text-yellow-700",children:a?" Bookmarked":" Bookmark"})]}),T.jsx("p",{className:"mb-4 text-orange-900",children:e.question}),e.imageUrl&&T.jsx("img",{src:e.imageUrl,alt:"Question Visual",className:"mb-4 border rounded max-w-md"}),e.type==="mcq"&&e.choices?e.choices.map((m,y)=>T.jsxs("label",{className:"block bg-orange-100 border border-orange-200 rounded px-4 py-2 mb-2 cursor-pointer",children:[T.jsx("input",{type:c?"checkbox":"radio",name:`q-${e.id}`,value:m,checked:c?(n||[]).includes(m):n===m,onChange:()=>c?p(m):i(e.id,m),className:"mr-2"}),String.fromCharCode(65+y),". ",m]},y)):h?T.jsx("input",{type:"text",className:"w-full border border-orange-300 rounded p-2",placeholder:"Short answer...",value:n||"",onChange:m=>i(e.id,m.target.value)}):T.jsx("textarea",{rows:4,className:"w-full border border-orange-300 rounded p-2",placeholder:"Type your answer...",value:n||"",onChange:m=>i(e.id,m.target.value)})]})};function w0(t,e,n,i,s,a,c){try{var h=t[a](c),p=h.value}catch(m){n(m);return}h.done?e(p):Promise.resolve(p).then(i,s)}function TL(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var a=t.apply(e,n);function c(p){w0(a,i,s,c,h,"next",p)}function h(p){w0(a,i,s,c,h,"throw",p)}c(void 0)})}}function mr(){return mr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mr.apply(this,arguments)}var dT={exports:{}};(function(t){var e=function(n){var i=Object.prototype,s=i.hasOwnProperty,a,c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",m=c.toStringTag||"@@toStringTag";function y(j,B,E){return Object.defineProperty(j,B,{value:E,enumerable:!0,configurable:!0,writable:!0}),j[B]}try{y({},"")}catch{y=function(B,E,O){return B[E]=O}}function _(j,B,E,O){var $=B&&B.prototype instanceof P?B:P,X=Object.create($.prototype),ne=new Ne(O||[]);return X._invoke=le(j,E,ne),X}n.wrap=_;function x(j,B,E){try{return{type:"normal",arg:j.call(B,E)}}catch(O){return{type:"throw",arg:O}}}var b="suspendedStart",w="suspendedYield",R="executing",A="completed",k={};function P(){}function D(){}function U(){}var q={};y(q,h,function(){return this});var Q=Object.getPrototypeOf,Z=Q&&Q(Q(Y([])));Z&&Z!==i&&s.call(Z,h)&&(q=Z);var ie=U.prototype=P.prototype=Object.create(q);D.prototype=U,y(ie,"constructor",U),y(U,"constructor",D),D.displayName=y(U,m,"GeneratorFunction");function z(j){["next","throw","return"].forEach(function(B){y(j,B,function(E){return this._invoke(B,E)})})}n.isGeneratorFunction=function(j){var B=typeof j=="function"&&j.constructor;return B?B===D||(B.displayName||B.name)==="GeneratorFunction":!1},n.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,U):(j.__proto__=U,y(j,m,"GeneratorFunction")),j.prototype=Object.create(ie),j},n.awrap=function(j){return{__await:j}};function L(j,B){function E(X,ne,se,ae){var be=x(j[X],j,ne);if(be.type==="throw")ae(be.arg);else{var Ce=be.arg,Ge=Ce.value;return Ge&&typeof Ge=="object"&&s.call(Ge,"__await")?B.resolve(Ge.__await).then(function(ht){E("next",ht,se,ae)},function(ht){E("throw",ht,se,ae)}):B.resolve(Ge).then(function(ht){Ce.value=ht,se(Ce)},function(ht){return E("throw",ht,se,ae)})}}var O;function $(X,ne){function se(){return new B(function(ae,be){E(X,ne,ae,be)})}return O=O?O.then(se,se):se()}this._invoke=$}z(L.prototype),y(L.prototype,p,function(){return this}),n.AsyncIterator=L,n.async=function(j,B,E,O,$){$===void 0&&($=Promise);var X=new L(_(j,B,E,O),$);return n.isGeneratorFunction(B)?X:X.next().then(function(ne){return ne.done?ne.value:X.next()})};function le(j,B,E){var O=b;return function(X,ne){if(O===R)throw new Error("Generator is already running");if(O===A){if(X==="throw")throw ne;return oe()}for(E.method=X,E.arg=ne;;){var se=E.delegate;if(se){var ae=ye(se,E);if(ae){if(ae===k)continue;return ae}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(O===b)throw O=A,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);O=R;var be=x(j,B,E);if(be.type==="normal"){if(O=E.done?A:w,be.arg===k)continue;return{value:be.arg,done:E.done}}else be.type==="throw"&&(O=A,E.method="throw",E.arg=be.arg)}}}function ye(j,B){var E=j.iterator[B.method];if(E===a){if(B.delegate=null,B.method==="throw"){if(j.iterator.return&&(B.method="return",B.arg=a,ye(j,B),B.method==="throw"))return k;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var O=x(E,j.iterator,B.arg);if(O.type==="throw")return B.method="throw",B.arg=O.arg,B.delegate=null,k;var $=O.arg;if(!$)return B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,k;if($.done)B[j.resultName]=$.value,B.next=j.nextLoc,B.method!=="return"&&(B.method="next",B.arg=a);else return $;return B.delegate=null,k}z(ie),y(ie,m,"Generator"),y(ie,h,function(){return this}),y(ie,"toString",function(){return"[object Generator]"});function Oe(j){var B={tryLoc:j[0]};1 in j&&(B.catchLoc=j[1]),2 in j&&(B.finallyLoc=j[2],B.afterLoc=j[3]),this.tryEntries.push(B)}function Ze(j){var B=j.completion||{};B.type="normal",delete B.arg,j.completion=B}function Ne(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(Oe,this),this.reset(!0)}n.keys=function(j){var B=[];for(var E in j)B.push(E);return B.reverse(),function O(){for(;B.length;){var $=B.pop();if($ in j)return O.value=$,O.done=!1,O}return O.done=!0,O}};function Y(j){if(j){var B=j[h];if(B)return B.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var E=-1,O=function $(){for(;++E<j.length;)if(s.call(j,E))return $.value=j[E],$.done=!1,$;return $.value=a,$.done=!0,$};return O.next=O}}return{next:oe}}n.values=Y;function oe(){return{value:a,done:!0}}return Ne.prototype={constructor:Ne,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Ze),!j)for(var B in this)B.charAt(0)==="t"&&s.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=a)},stop:function(){this.done=!0;var j=this.tryEntries[0],B=j.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var B=this;function E(ae,be){return X.type="throw",X.arg=j,B.next=ae,be&&(B.method="next",B.arg=a),!!be}for(var O=this.tryEntries.length-1;O>=0;--O){var $=this.tryEntries[O],X=$.completion;if($.tryLoc==="root")return E("end");if($.tryLoc<=this.prev){var ne=s.call($,"catchLoc"),se=s.call($,"finallyLoc");if(ne&&se){if(this.prev<$.catchLoc)return E($.catchLoc,!0);if(this.prev<$.finallyLoc)return E($.finallyLoc)}else if(ne){if(this.prev<$.catchLoc)return E($.catchLoc,!0)}else if(se){if(this.prev<$.finallyLoc)return E($.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,B){for(var E=this.tryEntries.length-1;E>=0;--E){var O=this.tryEntries[E];if(O.tryLoc<=this.prev&&s.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var $=O;break}}$&&(j==="break"||j==="continue")&&$.tryLoc<=B&&B<=$.finallyLoc&&($=null);var X=$?$.completion:{};return X.type=j,X.arg=B,$?(this.method="next",this.next=$.finallyLoc,k):this.complete(X)},complete:function(j,B){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&B&&(this.next=B),k},finish:function(j){for(var B=this.tryEntries.length-1;B>=0;--B){var E=this.tryEntries[B];if(E.finallyLoc===j)return this.complete(E.completion,E.afterLoc),Ze(E),k}},catch:function(j){for(var B=this.tryEntries.length-1;B>=0;--B){var E=this.tryEntries[B];if(E.tryLoc===j){var O=E.completion;if(O.type==="throw"){var $=O.arg;Ze(E)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(j,B,E){return this.delegate={iterator:Y(j),resultName:B,nextLoc:E},this.method==="next"&&(this.arg=a),k}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(dT);var b0=dT.exports,hT=function(e){var n=e.paths,i=e.id,s=e.strokeWidth,a=e.strokeColor,c=e.command,h=c===void 0?mT:c;if(n.length===1){var p=n[0],m=p.x,y=p.y,_=s/2;return N.createElement("circle",{key:i,id:i,cx:m,cy:y,r:_,stroke:a,fill:a})}var x=n.reduce(function(b,w,R,A){return R===0?"M "+w.x+","+w.y:b+" "+h(w,R,A)},"");return N.createElement("path",{key:i,id:i,d:x,fill:"none",strokeLinecap:"round",stroke:a,strokeWidth:s})},xL=function(e,n){var i=n.x-e.x,s=n.y-e.y;return{length:Math.sqrt(Math.pow(i,2)+Math.pow(s,2)),angle:Math.atan2(s,i)}},Pl=function(e){var n=e.current,i=e.next,s=e.previous,a=e.reverse,c=s||n,h=i||n,p=.2,m=xL(c,h),y=m.angle+(a?Math.PI:0),_=m.length*p,x=n.x+Math.cos(y)*_,b=n.y+Math.sin(y)*_;return[x,b]},mT=function(e,n,i){var s=null,a=null;switch(n){case 0:var c=Pl({current:e});s=c[0],a=c[1];break;case 1:var h=Pl({current:i[n-1],next:e});s=h[0],a=h[1];break;default:var p=Pl({current:i[n-1],previous:i[n-2],next:e});s=p[0],a=p[1];break}var m=Pl({current:e,previous:i[n-1],next:i[n+1],reverse:!0}),y=m[0],_=m[1];return"C "+s+","+a+" "+y+","+_+" "+e.x+", "+e.y},SL=function(e){var n=e.id,i=e.paths;return N.createElement(N.Fragment,null,i.map(function(s,a){return N.createElement(hT,{key:n+"__"+a,paths:s.paths,id:n+"__"+a,strokeWidth:s.strokeWidth,strokeColor:s.strokeColor,command:mT})}))},C0=function(e){return new Promise(function(n,i){var s=new Image;s.addEventListener("load",function(){s.width>0&&n(s),i("Image not found")}),s.addEventListener("error",function(a){return i(a)}),s.src=e,s.setAttribute("crossorigin","anonymous")})};function E0(t){var e,n=(e=t.firstChild)==null?void 0:e.cloneNode(!0),i=t.offsetWidth,s=t.offsetHeight;return n.setAttribute("viewBox","0 0 "+i+" "+s),n.setAttribute("width",i.toString()),n.setAttribute("height",s.toString()),{svgCanvas:n,width:i,height:s}}var wL=N.forwardRef(function(t,e){var n=t.paths,i=t.isDrawing,s=t.onPointerDown,a=t.onPointerMove,c=t.onPointerUp,h=t.id,p=h===void 0?"react-sketch-canvas":h,m=t.width,y=m===void 0?"100%":m,_=t.height,x=_===void 0?"100%":_,b=t.className,w=b===void 0?"react-sketch-canvas":b,R=t.canvasColor,A=R===void 0?"red":R,k=t.backgroundImage,P=k===void 0?"":k,D=t.exportWithBackgroundImage,U=D===void 0?!1:D,q=t.preserveBackgroundImageAspectRatio,Q=q===void 0?"none":q,Z=t.allowOnlyPointerType,ie=Z===void 0?"all":Z,z=t.style,L=z===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:z,le=t.svgStyle,ye=le===void 0?{}:le,Oe=N.useRef(null),Ze=function($){var X,ne,se,ae=(X=Oe.current)==null?void 0:X.getBoundingClientRect(),be=(ne=window.scrollX)!=null?ne:0,Ce=(se=window.scrollY)!=null?se:0;if(!ae)return{x:0,y:0};var Ge={x:$.pageX-ae.left-be,y:$.pageY-ae.top-Ce};return Ge},Ne=function($){if(!(ie!=="all"&&$.pointerType!==ie)&&!($.pointerType==="mouse"&&$.button!==0)){var X=Ze($);s(X)}},Y=function($){if(i&&!(ie!=="all"&&$.pointerType!==ie)){var X=Ze($);a(X)}},oe=function($){$.pointerType==="mouse"&&$.button!==0||ie!=="all"&&$.pointerType!==ie||c()};N.useImperativeHandle(e,function(){return{exportImage:function($){return new Promise(function(){var X=TL(b0.mark(function ne(se,ae){var be,Ce,Ge,ht,Sn,pn,wn,wt;return b0.wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(Qe.prev=0,be=Oe.current,be){Qe.next=4;break}throw Error("Canvas not rendered yet");case 4:return Ce=E0(be),Ge=Ce.svgCanvas,ht=Ce.width,Sn=Ce.height,pn="data:image/svg+xml;base64,"+btoa(Ge.outerHTML),Qe.next=8,C0(pn);case 8:if(Qe.t0=Qe.sent,wn=[Qe.t0],!U){Qe.next=21;break}return Qe.prev=11,Qe.next=14,C0(P);case 14:wt=Qe.sent,wn.push(wt),Qe.next=21;break;case 18:Qe.prev=18,Qe.t1=Qe.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(wn).then(function(Rt){var ui=document.createElement("canvas");ui.setAttribute("width",ht.toString()),ui.setAttribute("height",Sn.toString());var zi=ui.getContext("2d");if(!zi)throw Error("Canvas not rendered yet");Rt.reverse().forEach(function(ot){zi.drawImage(ot,0,0)}),se(ui.toDataURL("image/"+$))}).catch(function(Rt){throw Rt}),Qe.next=27;break;case 24:Qe.prev=24,Qe.t2=Qe.catch(0),ae(Qe.t2);case 27:case"end":return Qe.stop()}},ne,null,[[0,24],[11,18]])}));return function(ne,se){return X.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function($,X){try{var ne,se=(ne=Oe.current)!=null?ne:null;if(se!==null){var ae,be,Ce=E0(se),Ge=Ce.svgCanvas;if(U){$(Ge.outerHTML);return}(ae=Ge.querySelector("#"+p+"__background"))==null||ae.remove(),(be=Ge.querySelector("#"+p+"__canvas-background"))==null||be.setAttribute("fill",A),$(Ge.outerHTML)}X(new Error("Canvas not loaded"))}catch(ht){X(ht)}})}}}),N.useEffect(function(){return document.addEventListener("pointerup",oe),function(){document.removeEventListener("pointerup",oe)}},[oe]);var j=n.filter(function(O){return!O.drawMode}),B=0,E=n.reduce(function(O,$){return $.drawMode?(O[B]===void 0&&(O[B]=[]),O[B].push($),O):(B+=1,O)},[[]]);return N.createElement("div",{role:"presentation",ref:Oe,className:w,style:mr({touchAction:"none",width:y,height:x},L),"touch-action":"none",onPointerDown:Ne,onPointerMove:Y,onPointerUp:oe},N.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:mr({width:"100%",height:"100%"},ye),id:p},N.createElement("g",{id:p+"__eraser-stroke-group",display:"none"},N.createElement("rect",{id:p+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),j.map(function(O,$){return N.createElement(hT,{key:p+"__eraser-"+$,id:p+"__eraser-"+$,paths:O.paths,strokeColor:"#000000",strokeWidth:O.strokeWidth})})),N.createElement("defs",null,P&&N.createElement("pattern",{id:p+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},N.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:P,preserveAspectRatio:Q})),j.map(function(O,$){return N.createElement("mask",{id:p+"__eraser-mask-"+$,key:p+"__eraser-mask-"+$,maskUnits:"userSpaceOnUse"},N.createElement("use",{href:"#"+p+"__mask-background"}),Array.from({length:j.length-$},function(X,ne){return ne+$}).map(function(X){return N.createElement("use",{key:X.toString(),href:"#"+p+"__eraser-"+X.toString()})}))})),N.createElement("g",{id:p+"__canvas-background-group"},N.createElement("rect",{id:p+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:P?"url(#"+p+"__background)":A})),E.map(function(O,$){return N.createElement("g",{id:p+"__stroke-group-"+$,key:p+"__stroke-group-"+$,mask:"url(#"+p+"__eraser-mask-"+$+")"},N.createElement(SL,{id:p,paths:O}))})))}),bL=N.forwardRef(function(t,e){var n=t.id,i=n===void 0?"react-sketch-canvas":n,s=t.width,a=s===void 0?"100%":s,c=t.height,h=c===void 0?"100%":c,p=t.className,m=p===void 0?"":p,y=t.canvasColor,_=y===void 0?"white":y,x=t.strokeColor,b=x===void 0?"red":x,w=t.backgroundImage,R=w===void 0?"":w,A=t.exportWithBackgroundImage,k=A===void 0?!1:A,P=t.preserveBackgroundImageAspectRatio,D=P===void 0?"none":P,U=t.strokeWidth,q=U===void 0?4:U,Q=t.eraserWidth,Z=Q===void 0?8:Q,ie=t.allowOnlyPointerType,z=ie===void 0?"all":ie,L=t.style,le=L===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:L,ye=t.svgStyle,Oe=ye===void 0?{}:ye,Ze=t.onChange,Ne=Ze===void 0?function(ot){}:Ze,Y=t.onStroke,oe=Y===void 0?function(ot,Ie){}:Y,j=t.withTimestamp,B=j===void 0?!1:j,E=N.createRef(),O=N.useState(!0),$=O[0],X=O[1],ne=N.useState(!1),se=ne[0],ae=ne[1],be=N.useState([]),Ce=be[0],Ge=be[1],ht=N.useState([]),Sn=ht[0],pn=ht[1],wn=N.useState([]),wt=wn[0],tn=wn[1],Qe=N.useCallback(function(){var ot,Ie,He=(ot=(Ie=wt.slice(-1))==null?void 0:Ie[0])!=null?ot:null;if(He===null){console.warn("No stroke found!");return}oe(He,!He.drawMode)},[se]);N.useEffect(function(){Qe()},[se]),N.useEffect(function(){Ne(wt)},[wt]),N.useImperativeHandle(e,function(){return{eraseMode:function(Ie){X(!Ie)},clearCanvas:function(){Ge([].concat(wt)),tn([])},undo:function(){if(Ce.length!==0){tn([].concat(Ce)),Ge([]);return}pn(function(Ie){return[].concat(Ie,wt.slice(-1))}),tn(function(Ie){return Ie.slice(0,-1)})},redo:function(){Sn.length!==0&&(tn(function(Ie){return[].concat(Ie,Sn.slice(-1))}),pn(function(Ie){return Ie.slice(0,-1)}))},exportImage:function(Ie){var He,mt=(He=E.current)==null?void 0:He.exportImage;if(mt)return mt(Ie);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(Ie,He){var mt,nn=(mt=E.current)==null?void 0:mt.exportSvg;nn?nn().then(function(bn){Ie(bn)}).catch(function(bn){He(bn)}):He(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(Ie,He){try{Ie(wt)}catch(mt){He(mt)}})},loadPaths:function(Ie){tn(function(He){return[].concat(He,Ie)})},getSketchingTime:function(){return new Promise(function(Ie,He){B||He(new Error("Set 'withTimestamp' prop to get sketching time"));try{var mt=wt.reduce(function(nn,bn){var ci,Nt,Cn=(ci=bn.startTimestamp)!=null?ci:0,Lt=(Nt=bn.endTimestamp)!=null?Nt:0;return nn+(Lt-Cn)},0);Ie(mt)}catch(nn){He(nn)}})},resetCanvas:function(){Ge([]),pn([]),tn([])}}});var Rt=function(Ie){ae(!0),pn([]);var He={drawMode:$,strokeColor:$?b:"#000000",strokeWidth:$?q:Z,paths:[Ie]};B&&(He=mr({},He,{startTimestamp:Date.now(),endTimestamp:0})),tn(function(mt){return[].concat(mt,[He])})},ui=function(Ie){if(se){var He=wt.slice(-1)[0],mt=mr({},He,{paths:[].concat(He.paths,[Ie])});tn(function(nn){return[].concat(nn.slice(0,-1),[mt])})}},zi=function(){var Ie,He;if(se&&(ae(!1),!!B)){var mt=(Ie=(He=wt.slice(-1))==null?void 0:He[0])!=null?Ie:null;if(mt!==null){var nn=mr({},mt,{endTimestamp:Date.now()});tn(function(bn){return[].concat(bn.slice(0,-1),[nn])})}}};return N.createElement(wL,{ref:E,id:i,width:a,height:h,className:m,canvasColor:_,backgroundImage:R,exportWithBackgroundImage:k,preserveBackgroundImageAspectRatio:D,allowOnlyPointerType:z,style:le,svgStyle:Oe,paths:wt,isDrawing:se,onPointerDown:Rt,onPointerMove:ui,onPointerUp:zi})});const CL=({tests:t,user:e,teams:n})=>{var X;const i=P0("/assigned/:id"),s=(X=i==null?void 0:i.params)==null?void 0:X.id,[a,c]=N.useState(null),[h,p]=N.useState(!1),[m,y]=N.useState(50*60),[_,x]=N.useState({}),[b,w]=N.useState([]),[R,A]=N.useState(0),[k,P]=N.useState(!1),[D,U]=N.useState(!1),[q,Q]=N.useState([]),Z=N.useRef(null),ie=N.useRef(null),z=N.useRef(null),L=N.useRef(null),[le,ye]=N.useState({width:0,height:0});N.useEffect(()=>{if(t&&s){const ne=t.find(se=>String(se.id)===s);c(ne||null)}},[t,s]),N.useEffect(()=>(h&&m>0?Z.current=setTimeout(()=>y(ne=>ne-1),1e3):h&&m===0&&Y(),()=>clearTimeout(Z.current)),[h,m]),N.useLayoutEffect(()=>{function ne(){if(ie.current){const se=ie.current.getBoundingClientRect();ye({width:Math.floor(se.width),height:Math.floor(se.height)})}}return ne(),window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[k,R]),N.useEffect(()=>{k&&z.current&&q.length>0&&z.current.loadPaths(q)},[k,q]),N.useEffect(()=>{L.current&&L.current.scrollIntoView({behavior:"smooth",block:"start"})},[h,R]);const Oe=ne=>{const se=String(Math.floor(ne/60)).padStart(2,"0"),ae=String(ne%60).padStart(2,"0");return`${se}:${ae}`},Ze=(ne,se)=>{x(ae=>({...ae,[ne]:se}))},Ne=ne=>{w(se=>se.includes(ne)?se.filter(ae=>ae!==ne):[...se,ne])},Y=()=>{p(!1),clearTimeout(Z.current),console.log("Submitting answers...",_)},oe=()=>{p(!0),y(50*60),P(!1),U(!1),scrollTo()},j=()=>{k?z.current?z.current.exportPaths().then(ne=>{Q(ne),P(!1)}):P(!1):P(!0)},B=()=>{z.current&&z.current.clearCanvas(),Q([])},E=()=>{z.current&&(z.current.eraseMode(!D),U(ne=>!ne))};if(!e||!a)return T.jsx("div",{className:"flex justify-center items-center h-screen",children:T.jsx("div",{className:"w-12 h-12 border-4 border-orange-400 border-t-transparent rounded-full animate-spin"})});if(!h)return T.jsxs("div",{className:"flex flex-col justify-center items-center bg-white rounded-lg space-y-6 p-15",children:[T.jsxs("h1",{className:"text-3xl font-bold text-orange-800",children:[a.school," ",a.year,"  ",a.event," Practice Test"]}),T.jsx("button",{onClick:oe,className:"bg-orange-500 text-white px-6 py-2 rounded-lg shadow-lg text-lg hover:bg-orange-600 transition",type:"button",children:"Start Test"})]});const O=a.questions[R],$=O.id;return T.jsx("div",{ref:L,className:"w-full min-h-screen bg-transparent py-5 px-4",children:T.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow-md py-6 px-8 space-y-6",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("h2",{className:"text-2xl font-bold text-orange-800",children:[a.school," ",a.year,"  ",a.event]}),T.jsxs("div",{className:"text-orange-600 font-semibold text-lg",children:["Time Left: ",Oe(m)]})]}),T.jsxs("div",{className:"flex space-x-4",children:[T.jsxs("div",{className:"w-64 h-[500px] overflow-y-auto pr-2 scrollbar-hide bg-gray-100 rounded-lg",children:[T.jsx("div",{className:"sticky top-0 bg-gray-100 z-10 pb-2 pt-3",children:T.jsx("h3",{className:"text-lg font-semibold text-orange-700 text-center",children:"Questions"})}),T.jsx(vL,{questions:a.questions,currentIdx:R,setCurrentIdx:A,bookmarked:b,answers:_})]}),T.jsxs("div",{ref:ie,className:"flex-1 relative max-h-[500px] overflow-auto pr-2 scrollbar-hide",style:{boxSizing:"border-box",padding:0,margin:0},children:[T.jsx(_L,{idx:R,question:O,answer:_[$],onChange:Ze,onBookmark:Ne,isBookmarked:b.includes($)}),k&&T.jsxs("div",{style:{position:"absolute",top:0,left:0,width:le.width,height:le.height,pointerEvents:"auto",backgroundColor:"transparent",zIndex:50,margin:0,padding:0,border:"none"},children:[T.jsx(bL,{ref:z,width:le.width,height:le.height,strokeWidth:"2",eraserWidth:"30",strokeColor:"#000",canvasColor:"transparent",style:{margin:0,padding:0,border:"none",boxSizing:"border-box",cursor:"crosshair",touchAction:"none"}}),T.jsxs("div",{style:{position:"absolute",bottom:10,right:10,background:"rgba(255,255,255,0.9)",borderRadius:8,padding:8,display:"flex",gap:8,zIndex:100,boxShadow:"0 0 5px rgba(0,0,0,0.2)"},children:[T.jsx("button",{onClick:E,className:`px-3 py-1 rounded ${D?"bg-gray-300":"bg-orange-600 text-white"}`,type:"button",children:"Pencil"}),T.jsx("button",{onClick:E,className:`px-3 py-1 rounded ${D?"bg-orange-600 text-white":"bg-gray-300"}`,type:"button",children:"Eraser"}),T.jsx("button",{onClick:B,className:"px-3 py-1 rounded bg-red-500 text-white",type:"button",children:"Clear"}),T.jsx("button",{onClick:j,className:"px-3 py-1 rounded bg-gray-500 text-white",type:"button",children:"Close"})]})]})]})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("div",{children:T.jsx("button",{onClick:j,className:"bg-amber-600 hover:bg-amber-700 text-white text-md px-4 py-2 rounded shadow",type:"button",children:k?"Hide Drawing":"Show Drawing"})}),T.jsx("button",{onClick:Y,className:"bg-orange-600 text-white px-6 py-2 rounded shadow hover:bg-orange-700 transition",type:"button",children:"Submit Test"})]})]})})},EL=t=>{const[e,n]=N.useState("");if(!t.user)return;const i=async s=>{s.preventDefault(),await t.handleReset(e),n("")};return T.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[T.jsx("div",{children:T.jsxs("p",{className:"text-xl font-semibold text-orange-800 mb-2",children:[t.user.firstName," ",t.user.lastName,"'s Settings"]})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-lg font-medium text-orange-700 mb-2",children:"Password Reset"}),T.jsxs("form",{onSubmit:i,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),T.jsx("input",{type:"password",value:e,onChange:({target:s})=>n(s.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})]}),T.jsx("button",{type:"button",onClick:t.handleLogout,className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700 transition",children:"Logout"})]})},AL=t=>{const[e,n]=N.useState(""),i=Tr(),a=new URLSearchParams(window.location.search).get("token");if(!a)return;const c=h=>{h.preventDefault(),t.handleEmailReset(a,e)&&(n(""),i("/signin"))};return T.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-md shadow-md space-y-6",children:[T.jsx("div",{children:T.jsx("p",{className:"text-xl font-semibold text-orange-800 text-center",children:"Reset Your Password"})}),T.jsx("div",{children:T.jsxs("form",{onSubmit:c,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"New Password"}),T.jsx("input",{type:"password",value:e,onChange:({target:h})=>n(h.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),T.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded hover:bg-orange-600 transition",children:"Reset"})]})})]})},Vo="/api/users";let pT=null;const RL=t=>{pT=`Bearer ${t}`},NL=async()=>(await Ae.get(Vo)).data,ML=async t=>(await Ae.post(Vo,t)).data,kL=async t=>{const e=`${Vo}/reset/${t.id}`;return(await Ae.put(e,{password:t.password},{headers:{Authorization:pT}})).data},DL=async t=>{const e=`${Vo}/forgot`;return(await Ae.post(e,{email:t})).data},UL=async(t,e)=>{const n=`${Vo}/reset`;return(await Ae.post(n,{token:t,password:e})).data},IL=async t=>{const e=`${Vo}/verify?token=${t}`;return(await Ae.get(e)).data},Dn={setToken:RL,getAll:NL,createUser:ML,resetPass:kL,forgot:DL,resetEmailPass:UL,verify:IL},PL=t=>{const e=Tr();N.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("token");i?(async()=>{try{await Dn.verify(i),t.setNotif("Email verified successfully!"),setTimeout(()=>{t.setNotif(null)},5e3)}catch(a){a.response.data.error&&a.response.data.error==="Invalid or expired token"&&(t.setError("Invalid or expired verification token"),setTimeout(()=>{t.setError(null)},5e3))}})():(t.setError("No token provided"),setTimeout(()=>{t.setError(null)},5e3)),e("/")},[])},LL=()=>T.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-[60vh] bg-white max-w-md mx-auto p-8 shadow-lg rounded-lg",children:[T.jsx("h1",{className:"text-6xl font-bold text-orange-600 mb-4",children:"404"}),T.jsx("h2",{className:"text-2xl font-semibold mb-2 text-orange-800",children:"Page Not Found"}),T.jsx("p",{className:"text-orange-700 mb-6",children:"Sorry, the page you are looking for does not exist."}),T.jsx(tt,{to:"/",className:"px-6 py-2 bg-orange-200 text-orange-800 rounded hover:bg-orange-300 transition",children:"Go Home"})]}),OL="/api/login",qL=async t=>(await Ae.post(OL,t)).data,BL={login:qL};function VL(){var Z,ie;const[t,e]=N.useState(null),[n,i]=N.useState(null),[s,a]=N.useState(null),[c,h]=N.useState([]),[p,m]=N.useState([]),[y,_]=N.useState([]),[x,b]=N.useState([]),[w,R]=N.useState([]),A=Tr();N.useEffect(()=>{const z=localStorage.getItem("loggedAppUser");if(z){const L=JSON.parse(z);e(L),Dn.setToken(L.token),Oi.setToken(L.token),ni.setToken(L.token),_o.setToken(L.token),Ht.setToken(L.token)}},[]),N.useEffect(()=>{(async()=>{try{const L=await Oi.getAll();L&&h(L)}catch(L){console.error("Failed to fetch events:",L)}})()},[]),N.useEffect(()=>{const z=async()=>{try{const L=await ni.getAll();L&&m(L)}catch(L){console.error("Failed to fetch tests:",L)}};t&&p.length===0&&z()},[t]),N.useEffect(()=>{t&&(async()=>{try{const L=await Dn.getAll();L&&_(L)}catch(L){console.error("Failed to fetch users:",L)}})()},[t,w]),N.useEffect(()=>{const z=async()=>{try{const L=await _o.getAll();L&&b(L)}catch(L){console.error("Failed to fetch questions:",L)}};t&&x.length===0&&z()},[t]),N.useEffect(()=>{const z=async()=>{try{const L=await Ht.getAll();L&&R(L)}catch(L){console.error("Failed to fetch teams:",L)}};t&&w.length===0&&z()},[t]);const k=async z=>{try{const L=await Dn.createUser(z);return window.localStorage.setItem("loggedAppUser",JSON.stringify(L)),e(L),Dn.setToken(L.token),Oi.setToken(L.token),ni.setToken(L.token),_o.setToken(L.token),Ht.setToken(L.token),A("/"),console.log("Sign Up"),a("signed up successfully, please check your email to verify your email"),setTimeout(()=>{a(null)},5e3),!0}catch(L){L.response.data.error?L.response.data.error==="Invalid admin key"?i("Invalid admin key!"):L.response.data.error==="Path `password` is required"?i("Password is required!"):L.response.data.error.includes("Path `email` is required")?i("Email is required!"):L.response.data.error.includes("Path `firstName` is required")?i("First name is required!"):L.response.data.error.includes("Path `lastName` is required")?i("Last name is required!"):L.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):L.response.data.error==="expected `email` to be unique"?i("Email already taken"):console.log(L.response.data.error):console.log(L.message),setTimeout(()=>{i(null)},5e3)}},P=()=>{window.localStorage.removeItem("loggedAppUser"),e(null),Dn.setToken(""),Oi.setToken(""),ni.setToken(""),_o.setToken(""),Ht.setToken(""),A("/signin"),a("Logged out successfully"),setTimeout(()=>{a(null)},5e3)},D=async z=>{try{const L=await BL.login(z);return window.localStorage.setItem("loggedAppUser",JSON.stringify(L)),e(L),Dn.setToken(L.token),Oi.setToken(L.token),ni.setToken(L.token),_o.setToken(L.token),Ht.setToken(L.token),console.log("Sign In"),A("/"),a("Logged in successfully"),setTimeout(()=>{a(null)},5e3),!0}catch(L){L.status===401?(i("Invalid username or password"),setTimeout(()=>{i(null)},5e3)):L.status===403&&(i("Cannot sign in. Please verify your account first!"),setTimeout(()=>{i(null)},5e3))}},U=async z=>{try{await Dn.resetPass({id:t.id,password:z}),a("Reset password successfully"),setTimeout(()=>{a(null)},5e3)}catch(L){L.response.data.error?L.response.data.error==="Path `password` is required"?i("Password is required!"):L.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):L.status===403?i("Unauthorized!"):console.log(L.response.data.error):console.log(L),setTimeout(()=>{i(null)},5e3)}},q=async z=>{try{return await Dn.forgot(z),a("Check your email for the reset link!"),setTimeout(()=>{a(null)},5e3),!0}catch(L){L.status===404?(i("Email not found"),setTimeout(()=>{i(null)},5e3)):console.log(L)}},Q=async(z,L)=>{try{await Dn.resetEmailPass(z,L),a("Password reset successfully"),setTimeout(()=>{a(null)},5e3)}catch(le){le.response.data.error?le.response.data.error==="Path `password` is required"?i("Password is required!"):le.response.data.error==="Path `password` is shorter than the minimum allowed length (8)"?i("Password must be at least 8 characters!"):le.response.data.error==="Invalid or expired token"?i("Invalid or expired token!"):console.log(le.response.data.error):console.log(le.message),setTimeout(()=>{i(null)},5e3)}};return T.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-repeat-y bg-[url('/radiant-combined.svg')] bg-[length:100%]",children:[T.jsx("nav",{className:"bg-white shadow-md",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between h-16 items-center",children:[T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx(tt,{to:"/",className:"flex items-center space-x-2",children:T.jsx("img",{src:"/lville.png",alt:"Logo",className:"h-8 transition-transform duration-200 hover:scale-110"})}),T.jsx(tt,{to:"/",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Home"}),T.jsx(tt,{to:"/events",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Events"}),t&&T.jsxs("div",{className:"relative inline-block text-left group z-2",children:[T.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Meetings"}),T.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:T.jsxs("ul",{className:"py-1",children:[T.jsx("li",{children:T.jsx(tt,{to:"/lineup",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Lineup"})}),((ie=(Z=y.find(z=>z.id===t.id))==null?void 0:Z.teams)==null?void 0:ie.length)>0&&T.jsx("li",{children:T.jsx(tt,{to:"/assigned",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Assigned Tests"})})]})})]}),t&&t.admin&&T.jsxs("div",{className:"relative inline-block text-left group",children:[T.jsx("button",{className:"text-sm font-medium text-orange-700 px-3 py-2 rounded-md hover:bg-orange-200 transition",children:"Tests"}),T.jsx("div",{className:`absolute left-0 top-full w-40 bg-orange-50 rounded-md shadow-lg 
                    invisible group-hover:visible transition duration-100 pointer-events-none group-hover:pointer-events-auto`,children:T.jsxs("ul",{className:"py-1",children:[T.jsx("li",{children:T.jsx(tt,{to:"/tests",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Test Bank"})}),T.jsx("li",{children:T.jsx(tt,{to:"/tests/create",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Test"})}),T.jsx("li",{children:T.jsx(tt,{to:"/tests/random",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-orange-200",children:"Create Random Test"})})]})})]})]}),T.jsx("div",{className:"flex space-x-4",children:t?T.jsxs(T.Fragment,{children:[T.jsx(tt,{to:"/settings",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Settings"}),T.jsx("button",{onClick:P,className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-red-600 hover:text-white transition",children:"Logout"})]}):T.jsxs(T.Fragment,{children:[T.jsx(tt,{to:"/signin",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign In"}),T.jsx(tt,{to:"/signup",className:"px-3 py-2 rounded-md text-sm font-medium text-orange-700 hover:bg-orange-200 transition",children:"Sign Up"})]})})]})})}),T.jsx("div",{className:"flex-grow pt-6 pb-24",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n&&T.jsxs("div",{className:"mb-4 rounded-md bg-red-100 border border-red-500 text-red-800 px-4 py-3 shadow-md",role:"alert",children:[T.jsx("strong",{className:"font-bold",children:"Error: "}),T.jsx("span",{className:"block sm:inline",children:n})]}),s&&T.jsxs("div",{className:"mb-4 rounded-md bg-green-100 border border-green-500 text-green-800 px-4 py-3 shadow-md",role:"alert",children:[T.jsx("strong",{className:"font-bold",children:"Notice: "}),T.jsx("span",{className:"block sm:inline",children:s})]}),T.jsxs(Uw,{children:[T.jsx(At,{path:"/",element:T.jsx(hb,{user:t})}),T.jsx(At,{path:"/signin",element:T.jsx(mb,{handleSignIn:D,setError:i})}),T.jsx(At,{path:"/signup",element:T.jsx(pb,{handleSignUp:k,setError:i})}),T.jsx(At,{path:"/events",element:T.jsx(XC,{user:t,events:c,setEvents:h})}),T.jsx(At,{path:"/settings",element:T.jsx(EL,{handleReset:U,user:t,handleLogout:P})}),T.jsx(At,{path:"/forgot",element:T.jsx(WC,{handleForgot:q})}),T.jsx(At,{path:"/reset",element:T.jsx(AL,{handleEmailReset:Q})}),T.jsx(At,{path:"/verify",element:T.jsx(PL,{setError:i,setNotif:a})}),T.jsx(At,{path:"/tests",element:T.jsx(aL,{tests:p,events:c,user:t,teams:w,setTests:m})}),T.jsx(At,{path:"/tests/create",element:T.jsx(sL,{setNotif:a,events:c,tests:p,setTests:m,setError:i,user:t})}),T.jsx(At,{path:"/tests/random",element:T.jsx(uL,{tests:p,questions:x,user:t,events:c,setError:i,setNotif:a,teams:w,setTests:m})}),T.jsx(At,{path:"/tests/:id",element:T.jsx(lL,{tests:p,user:t,teams:w,setError:i,setNotif:a,setTests:m})}),T.jsx(At,{path:"/lineup",element:T.jsx(gL,{setTeams:R,events:c,users:y,teams:w,user:t})}),T.jsx(At,{path:"/assigned",element:T.jsx(yL,{tests:p,user:t,users:y,teams:w})}),T.jsx(At,{path:"/assigned/:id",element:T.jsx(CL,{tests:p,user:t,users:y,teams:w})}),T.jsx(At,{path:"*",element:T.jsx(LL,{})})]})]})}),T.jsxs("footer",{className:"bg-orange-100 text-orange-700 py-6 text-center text-sm",children:[" ",new Date().getFullYear()," Libertyville High School Science Olympiad"]})]})}zS.createRoot(document.getElementById("root")).render(T.jsx(ib,{children:T.jsx(VL,{})}));
